/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => FilterPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
function isCanvasGroupData(node) {
  return (node == null ? void 0 : node.type) === "group";
}
function nodeBondingBoxContains(outerNode, innerNode) {
  return outerNode.x <= innerNode.x && outerNode.x + outerNode.width >= innerNode.x + innerNode.width && outerNode.y <= innerNode.y && outerNode.y + outerNode.height >= innerNode.y + innerNode.height;
}
function showOnlyNodes(canvas, opacity, idsToShow) {
  const nodes = canvas.nodes.values();
  for (const node of nodes) {
    if (idsToShow === void 0 || idsToShow.has(node.id)) {
      node.nodeEl.style.opacity = "";
    } else {
      node.nodeEl.style.opacity = opacity;
    }
  }
}
function showOnlyEdges(canvas, opacity, idsToShow) {
  const edges = canvas.edges.values();
  for (const edge of edges) {
    if (idsToShow === void 0 || idsToShow.has(edge.id)) {
      edge.lineGroupEl.style.opacity = "";
      edge.lineEndGroupEl.style.opacity = "";
    } else {
      edge.lineGroupEl.style.opacity = opacity;
      edge.lineEndGroupEl.style.opacity = opacity;
    }
  }
}
function getGroupsFor(allNodes, nonGroupNodes) {
  return allNodes.filter((x) => isCanvasGroupData(x) && nonGroupNodes.some((fn) => nodeBondingBoxContains(x, fn)));
}
function getEdgesWhereBothNodesInSet(allEdges, nodeIds) {
  return allEdges.filter((edge) => nodeIds.has(edge.fromNode) && nodeIds.has(edge.toNode));
}
function addUndefinedGroup(groupsDictionary, newArray) {
  const newGroupsDictionary = { ...groupsDictionary };
  if (newGroupsDictionary.hasOwnProperty("Other tags")) {
    delete newGroupsDictionary["Other tags"];
  }
  const undefinedGroup = newArray.filter((tag) => {
    for (const group in newGroupsDictionary) {
      if (newGroupsDictionary[group].includes(tag)) {
        return false;
      }
    }
    return true;
  });
  newGroupsDictionary["Other tags"] = undefinedGroup;
  return newGroupsDictionary;
}
function filterNodes(canvasData, tagsToShow, mode) {
  return canvasData.nodes.filter((node) => {
    var _a, _b;
    if (mode === "Any Tag Inclusion") {
      if (node.type === "file") {
        const metadata = this.app.metadataCache.getCache(node.file);
        return (_a = metadata == null ? void 0 : metadata.tags) == null ? void 0 : _a.some((x) => tagsToShow.includes(x.tag));
      } else if (node.type === "text") {
        return tagsToShow.some((t) => node.text.includes(t));
      } else {
        return false;
      }
    } else if (mode === "All Tags Inclusion") {
      if (node.type === "file") {
        const metadata = this.app.metadataCache.getCache(node.file);
        const nodeTags = (_b = metadata == null ? void 0 : metadata.tags) == null ? void 0 : _b.map((tag) => tag.tag);
        if (!nodeTags)
          return false;
        return tagsToShow.every((t) => nodeTags.includes(t));
      } else if (node.type === "text") {
        return tagsToShow.every((t) => node.text.includes(t));
      } else {
        return false;
      }
    } else {
      console.error("Invalid mode: " + mode);
      return false;
    }
  });
}
var DEFAULT_SETTINGS = {
  mySetting: "default",
  checkboxGroups: { "Group 1": ["#tag1", "#tag2", "#tag3"], "Group 2": ["#tag4", "#tag5", "#tag6"] },
  checkboxStates: {},
  jsonInput: '{"exampe group": ["#example_tag"]}',
  addOtherTagsGroup: false,
  HidenOpacity: "0.5",
  FilterMode: "All Tags Inclusion"
};
var FilterPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.onActiveLeafChange = async () => {
      const canvasView = this.app.workspace.getActiveViewOfType(import_obsidian.ItemView);
      if (!canvasView)
        return;
      if (canvasView.getViewType() === "canvas") {
        let activeCheckboxes = this.getActiveCheckboxes();
        this.showNodesByTags(activeCheckboxes);
      }
    };
    this.ifActiveViewIsCanvas = (commandFn) => (checking) => {
      const canvasView = this.app.workspace.getActiveViewOfType(import_obsidian.ItemView);
      if ((canvasView == null ? void 0 : canvasView.getViewType()) !== "canvas") {
        if (checking) {
          return false;
        }
        return;
      }
      if (checking) {
        return true;
      }
      const canvas = canvasView.canvas;
      if (!canvas) {
        return;
      }
      ;
      const canvasData = canvas.getData();
      if (!canvasData) {
        return;
      }
      ;
      return commandFn(canvas, canvasData);
    };
  }
  async onload() {
    await this.loadSettings();
    this.registerEvent(this.app.workspace.on("active-leaf-change", this.onActiveLeafChange));
    const ribbonIconEl = this.addRibbonIcon("filter", "Advanced Canvas Filter", (evt) => {
      new PlugInterface(this.app, this.settings, this.saveSettings.bind(this), this.getActiveCheckboxes.bind(this), this).open();
    });
    this.addSettingTab(new FilterSettingTab(this.app, this));
  }
  async showNodesByTags(tagsToShow) {
    await this.ifActiveViewIsCanvas(async (canvas, canvasData) => {
      showOnlyNodes(canvas, this.settings.HidenOpacity);
      showOnlyEdges(canvas, this.settings.HidenOpacity);
      const nodesToShow = filterNodes(canvasData, tagsToShow, this.settings.FilterMode);
      const groupsToShow = getGroupsFor(canvasData.nodes, nodesToShow);
      const nodeIdsToShow = new Set(nodesToShow.map((x) => x.id));
      const edgesToShow = getEdgesWhereBothNodesInSet(canvasData.edges, nodeIdsToShow);
      for (const group of groupsToShow) {
        nodeIdsToShow.add(group.id);
      }
      showOnlyNodes(canvas, this.settings.HidenOpacity, nodeIdsToShow);
      showOnlyEdges(canvas, this.settings.HidenOpacity, new Set(edgesToShow.map((x) => x.id)));
      if (tagsToShow.length === 0) {
        showOnlyNodes(canvas, this.settings.HidenOpacity);
        showOnlyEdges(canvas, this.settings.HidenOpacity);
      }
    })(false);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  getActiveCheckboxes() {
    const activeCheckboxes = [];
    for (const name in this.settings.checkboxStates) {
      if (this.settings.checkboxStates.hasOwnProperty(name) && this.settings.checkboxStates[name]) {
        activeCheckboxes.push(name);
      }
    }
    return activeCheckboxes;
  }
};
var PlugInterface = class extends import_obsidian.Modal {
  constructor(app, settings, saveSettingsFunc, getActiveCheckboxesFunc, outerApp) {
    super(app);
    this.settings = settings;
    this.saveSettingsFunc = saveSettingsFunc;
    this.getActiveCheckboxesFunc = getActiveCheckboxesFunc;
    this.outerApp = outerApp;
  }
  async onOpen() {
    const { contentEl } = this;
    this.checkboxGroupsContainer = contentEl.createEl("div");
    this.checkboxGroupsContainer.addClass("checkbox-groups-container");
    const jsonInputContainer = contentEl.createEl("div");
    jsonInputContainer.createEl("h3", { text: "Json structure" });
    jsonInputContainer.addClass("json-input-container");
    const jsonInput = jsonInputContainer.createEl("textarea", { attr: { rows: "1" } });
    jsonInput.value = this.settings.jsonInput;
    jsonInput.placeholder = "Enter JSON for checkbox groups";
    const saveButton = contentEl.createEl("button");
    saveButton.addClass("mod-cta-json");
    saveButton.setText("Refresh groups");
    saveButton.onclick = () => {
      try {
        this.checkboxGroupsContainer.empty();
        const jsonData = JSON.parse(jsonInput.value);
        this.settings.checkboxGroups = jsonData;
        this.settings.jsonInput = jsonInput.value;
        this.saveSettingsFunc();
        new import_obsidian.Notice("JSON saved successfully");
        this.refreshCheckboxGroups();
      } catch (error) {
        new import_obsidian.Notice("Error parsing JSON");
        console.error(error);
      }
    };
    contentEl.appendChild(saveButton);
    const resetButton = contentEl.createEl("button");
    resetButton.addClass("mod-cta-reset");
    resetButton.setText("Reset");
    resetButton.onclick = () => {
      this.settings.checkboxStates = {};
      this.saveSettingsFunc();
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      checkboxes.forEach((checkbox) => {
        if (checkbox instanceof HTMLInputElement) {
          checkbox.checked = false;
        }
      });
    };
    contentEl.appendChild(resetButton);
    this.refreshCheckboxGroups();
  }
  refreshCheckboxGroups() {
    if (!this.checkboxGroupsContainer)
      return;
    if (this.settings.addOtherTagsGroup) {
      this.settings.checkboxGroups = addUndefinedGroup(this.settings.checkboxGroups, this.getUniqueTags());
    } else {
      if (this.settings.checkboxGroups.hasOwnProperty("Other tags")) {
        delete this.settings.checkboxGroups["Other tags"];
      }
    }
    Object.keys(this.settings.checkboxGroups).forEach((groupName) => {
      const groupContainer = this.checkboxGroupsContainer.createEl("div");
      groupContainer.createEl("h3", { text: groupName });
      this.settings.checkboxGroups[groupName].forEach((tag) => this.createCheckbox(groupContainer, tag));
    });
  }
  createCheckbox(container, name) {
    var _a;
    const checkbox = container.createEl("label");
    checkbox.setText(name);
    const checkboxInput = checkbox.createEl("input");
    checkboxInput.setAttribute("type", "checkbox");
    checkboxInput.checked = (_a = this.settings.checkboxStates[name]) != null ? _a : false;
    checkboxInput.onchange = () => {
      this.settings.checkboxStates[name] = checkboxInput.checked;
      this.saveSettingsFunc();
    };
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
    let s = this.getActiveCheckboxesFunc();
    this.outerApp.showNodesByTags(s);
  }
  getUniqueTags() {
    const canvasView = this.app.workspace.getActiveViewOfType(import_obsidian.ItemView);
    if ((canvasView == null ? void 0 : canvasView.getViewType()) !== "canvas") {
      return [];
    }
    const canvasData = canvasView.canvas.getData();
    if (!canvasData) {
      return [];
    }
    const tags = /* @__PURE__ */ new Set();
    canvasData.nodes.forEach((node) => {
      if (node.type === "text") {
        const textTags = node.text.match(/#[^\s]+/g);
        if (textTags) {
          textTags.forEach((tag) => tags.add(tag));
        }
      } else if (node.type === "file") {
        const metadata = this.app.metadataCache.getCache(node.file);
        if (metadata && metadata.tags) {
          metadata.tags.forEach((tag) => tags.add(tag.tag));
        }
      }
    });
    return Array.from(tags);
  }
};
var FilterSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName('Add "Other tags" group').setDesc('Select this check box to add the "Other Tags" group. This group will contain tags that are not included in other groups.').addToggle((toggle) => toggle.setValue(this.plugin.settings.addOtherTagsGroup).onChange(async (value) => {
      this.plugin.settings.addOtherTagsGroup = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Hidden opacity").setDesc("Adjust the opacity level for hidden elements. Value must been between 0 and 1").addText((text) => text.setValue(this.plugin.settings.HidenOpacity).onChange(async (value) => {
      const parsedValue = parseFloat(value);
      const newValue = Math.max(0, Math.min(parsedValue, 1));
      this.plugin.settings.HidenOpacity = newValue.toString();
      await this.plugin.saveSettings();
    }).setPlaceholder("between 0 and 1"));
    new import_obsidian.Setting(containerEl).setName("Filter mode").setDesc('"Any Tag Inclusion" means that nodes will be shown if they contain at least one of the selected tags. "All Tags Inclusion" means that nodes will only be shown if they contain all of the selected tags.').addDropdown((dropdown) => dropdown.addOption("All Tags Inclusion", "All Tags Inclusion").addOption("Any Tag Inclusion", "Any Tag Inclusion").setValue(this.plugin.settings.FilterMode).onChange(async (value) => {
      this.plugin.settings.FilterMode = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQ2FudmFzRGF0YSwgQ2FudmFzRWRnZURhdGEsIENhbnZhc05vZGVEYXRhIH0gZnJvbSAnb2JzaWRpYW4vY2FudmFzJztcclxuaW1wb3J0IHsgQXBwLCBJdGVtVmlldywgTm90aWNlLCBQbHVnaW4sIE1vZGFsLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDYW52YXNHcm91cERhdGEgZXh0ZW5kcyBDYW52YXNOb2RlRGF0YSB7XHJcblx0dHlwZTogJ2dyb3VwJyxcclxuXHRsYWJlbDogc3RyaW5nXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQ2FudmFzR3JvdXBEYXRhKG5vZGU6IENhbnZhc05vZGVEYXRhKTogbm9kZSBpcyBDYW52YXNHcm91cERhdGEge1xyXG5cdHJldHVybiAobm9kZSBhcyBhbnkpPy50eXBlID09PSAnZ3JvdXAnO1xyXG59XHJcblxyXG5mdW5jdGlvbiBub2RlQm9uZGluZ0JveENvbnRhaW5zKG91dGVyTm9kZTogQ2FudmFzTm9kZURhdGEsIGlubmVyTm9kZTogQ2FudmFzTm9kZURhdGEpIHtcclxuXHRyZXR1cm4gb3V0ZXJOb2RlLnggPD0gaW5uZXJOb2RlLnhcclxuXHRcdCYmIChvdXRlck5vZGUueCArIG91dGVyTm9kZS53aWR0aCkgPj0gKGlubmVyTm9kZS54ICsgaW5uZXJOb2RlLndpZHRoKVxyXG5cdFx0JiYgb3V0ZXJOb2RlLnkgPD0gaW5uZXJOb2RlLnlcclxuXHRcdCYmIChvdXRlck5vZGUueSArIG91dGVyTm9kZS5oZWlnaHQpID49IChpbm5lck5vZGUueSArIGlubmVyTm9kZS5oZWlnaHQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93T25seU5vZGVzKGNhbnZhczogYW55LCBvcGFjaXR5OiBzdHJpbmcsIGlkc1RvU2hvdz86IFNldDxzdHJpbmc+KSB7XHJcbiAgICBjb25zdCBub2RlcyA9IGNhbnZhcy5ub2Rlcy52YWx1ZXMoKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHtcclxuICAgICAgICBpZiAoaWRzVG9TaG93ID09PSB1bmRlZmluZWQgfHwgaWRzVG9TaG93Lmhhcyhub2RlLmlkKSkge1xyXG4gICAgICAgICAgICBub2RlLm5vZGVFbC5zdHlsZS5vcGFjaXR5ID0gXCJcIjsgLy9za2lwIGJlY2F1c2UgdGhlIHBsdWdpbiBkeW5hbWljYWxseSBjaGFuZ2VzIHRoZSB0cmFuc3BhcmVuY3kgb2Ygb2JqZWN0c1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5vZGUubm9kZUVsLnN0eWxlLm9wYWNpdHkgPSBvcGFjaXR5OyAvL3NraXAgYmVjYXVzZSB0aGUgcGx1Z2luIGR5bmFtaWNhbGx5IGNoYW5nZXMgdGhlIHRyYW5zcGFyZW5jeSBvZiBvYmplY3RzXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93T25seUVkZ2VzKGNhbnZhczogYW55LCBvcGFjaXR5OiBzdHJpbmcsIGlkc1RvU2hvdz86IFNldDxzdHJpbmc+KSB7XHJcbiAgICBjb25zdCBlZGdlcyA9IGNhbnZhcy5lZGdlcy52YWx1ZXMoKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGVkZ2Ugb2YgZWRnZXMpIHtcclxuICAgICAgICBpZiAoaWRzVG9TaG93ID09PSB1bmRlZmluZWQgfHwgaWRzVG9TaG93LmhhcyhlZGdlLmlkKSkge1xyXG4gICAgICAgICAgICBlZGdlLmxpbmVHcm91cEVsLnN0eWxlLm9wYWNpdHkgPSBcIlwiOyAvL3NraXAgYmVjYXVzZSB0aGUgcGx1Z2luIGR5bmFtaWNhbGx5IGNoYW5nZXMgdGhlIHRyYW5zcGFyZW5jeSBvZiBvYmplY3RzXHJcbiAgICAgICAgICAgIGVkZ2UubGluZUVuZEdyb3VwRWwuc3R5bGUub3BhY2l0eSA9IFwiXCI7IC8vc2tpcCBiZWNhdXNlIHRoZSBwbHVnaW4gZHluYW1pY2FsbHkgY2hhbmdlcyB0aGUgdHJhbnNwYXJlbmN5IG9mIG9iamVjdHNcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlZGdlLmxpbmVHcm91cEVsLnN0eWxlLm9wYWNpdHkgPSBvcGFjaXR5OyAvL3NraXAgYmVjYXVzZSB0aGUgcGx1Z2luIGR5bmFtaWNhbGx5IGNoYW5nZXMgdGhlIHRyYW5zcGFyZW5jeSBvZiBvYmplY3RzXHJcbiAgICAgICAgICAgIGVkZ2UubGluZUVuZEdyb3VwRWwuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHk7IC8vc2tpcCBiZWNhdXNlIHRoZSBwbHVnaW4gZHluYW1pY2FsbHkgY2hhbmdlcyB0aGUgdHJhbnNwYXJlbmN5IG9mIG9iamVjdHNcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEdyb3Vwc0ZvcihhbGxOb2RlczogQ2FudmFzTm9kZURhdGFbXSwgbm9uR3JvdXBOb2RlczogQ2FudmFzTm9kZURhdGFbXSkge1xyXG5cdHJldHVybiBhbGxOb2Rlcy5maWx0ZXIoeCA9PiBpc0NhbnZhc0dyb3VwRGF0YSh4KVxyXG5cdFx0JiYgbm9uR3JvdXBOb2Rlcy5zb21lKGZuID0+IG5vZGVCb25kaW5nQm94Q29udGFpbnMoeCwgZm4pKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEVkZ2VzV2hlcmVCb3RoTm9kZXNJblNldChhbGxFZGdlczogQ2FudmFzRWRnZURhdGFbXSwgbm9kZUlkczogU2V0PHN0cmluZz4pIHtcclxuXHRyZXR1cm4gYWxsRWRnZXNcclxuXHRcdC5maWx0ZXIoZWRnZSA9PiBub2RlSWRzLmhhcyhlZGdlLmZyb21Ob2RlKVxyXG5cdFx0XHQmJiBub2RlSWRzLmhhcyhlZGdlLnRvTm9kZSkpO1xyXG59XHJcblxyXG4vL1x1MDQzNFx1MDQzRVx1MDQzMVx1MDQzMFx1MDQzMlx1MDQzQlx1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNSBcdTA0MzIgXHUwNDQxXHUwNDNCXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDQwXHUwNDRDIFx1MDQzM1x1MDQ0MFx1MDQ0M1x1MDQzRlx1MDQzRlx1MDQ0QiBcdTA0NDJcdTA0MzVcdTA0MzNcdTA0M0VcdTA0MzIsIFx1MDQzQVx1MDQzRVx1MDQ0Mlx1MDQzRVx1MDQ0MFx1MDQ0Qlx1MDQzNSBcdTA0M0RcdTA0MzUgXHUwNDMyXHUwNDNFXHUwNDQ4XHUwNDNCXHUwNDM4IFx1MDQzMiBcdTA0MzRcdTA0NDBcdTA0NDNcdTA0MzNcdTA0MzhcdTA0MzUgXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDNGXHUwNDNGXHUwNDRCXHJcbmZ1bmN0aW9uIGFkZFVuZGVmaW5lZEdyb3VwKGdyb3Vwc0RpY3Rpb25hcnk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nW10gfSwgbmV3QXJyYXk6IHN0cmluZ1tdKTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmdbXSB9IHtcclxuICAgIC8vIFx1MDQyMVx1MDQzRVx1MDQzN1x1MDQzNFx1MDQzMFx1MDQzNVx1MDQzQyBcdTA0M0FcdTA0M0VcdTA0M0ZcdTA0MzhcdTA0NEUgXHUwNDQxXHUwNDNCXHUwNDNFXHUwNDMyXHUwNDMwXHUwNDQwXHUwNDRGLCBcdTA0NDdcdTA0NDJcdTA0M0VcdTA0MzFcdTA0NEIgXHUwNDNEXHUwNDM1IFx1MDQzOFx1MDQzN1x1MDQzQ1x1MDQzNVx1MDQzRFx1MDQ0Rlx1MDQ0Mlx1MDQ0QyBcdTA0MzhcdTA0NDFcdTA0NDVcdTA0M0VcdTA0MzRcdTA0M0RcdTA0NEJcdTA0MzlcclxuICAgIGNvbnN0IG5ld0dyb3Vwc0RpY3Rpb25hcnkgPSB7IC4uLmdyb3Vwc0RpY3Rpb25hcnkgfTtcclxuXHJcbiAgICAvLyBcdTA0MUZcdTA0NDBcdTA0M0VcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NEZcdTA0MzVcdTA0M0MsIFx1MDQ0MVx1MDQ0M1x1MDQ0OVx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzMlx1MDQ0M1x1MDQzNVx1MDQ0MiBcdTA0M0JcdTA0MzggXHUwNDQzXHUwNDM2XHUwNDM1IFx1MDQzM1x1MDQ0MFx1MDQ0M1x1MDQzRlx1MDQzRlx1MDQzMCBcInVuZGVmaW5lZFwiXHJcbiAgICBpZiAobmV3R3JvdXBzRGljdGlvbmFyeS5oYXNPd25Qcm9wZXJ0eShcIk90aGVyIHRhZ3NcIikpIHtcclxuICAgICAgICAvLyBcdTA0MjNcdTA0MzRcdTA0MzBcdTA0M0JcdTA0NEZcdTA0MzVcdTA0M0MgXCJ1bmRlZmluZWRcIiBcdTA0MzhcdTA0MzcgXHUwNDQxXHUwNDNGXHUwNDM4XHUwNDQxXHUwNDNBXHUwNDMwIFx1MDQzM1x1MDQ0MFx1MDQ0M1x1MDQzRlx1MDQzRiBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDM4XHUwNDQyXHUwNDM1XHUwNDQwXHUwNDMwXHUwNDQ2XHUwNDM4XHUwNDM4XHJcbiAgICAgICAgZGVsZXRlIG5ld0dyb3Vwc0RpY3Rpb25hcnlbXCJPdGhlciB0YWdzXCJdO1xyXG4gICAgXHJcbiAgICB9XHJcblxyXG4gICAgLy8gXHUwNDIxXHUwNDNFXHUwNDM3XHUwNDM0XHUwNDMwXHUwNDM1XHUwNDNDIFx1MDQzRFx1MDQzRVx1MDQzMlx1MDQ0M1x1MDQ0RSBcdTA0MzNcdTA0NDBcdTA0NDNcdTA0M0ZcdTA0M0ZcdTA0NDNcclxuICAgIGNvbnN0IHVuZGVmaW5lZEdyb3VwOiBzdHJpbmdbXSA9IG5ld0FycmF5LmZpbHRlcih0YWcgPT4ge1xyXG4gICAgICAgIC8vIFx1MDQyNFx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQ0Mlx1MDQ0MFx1MDQ0M1x1MDQzNVx1MDQzQyBcdTA0NDJcdTA0M0VcdTA0M0JcdTA0NENcdTA0M0FcdTA0M0UgXHUwNDQyXHUwNDM1XHUwNDMzXHUwNDM4LCBcdTA0M0FcdTA0M0VcdTA0NDJcdTA0M0VcdTA0NDBcdTA0NEJcdTA0NDUgXHUwNDNEXHUwNDM1XHUwNDQyIFx1MDQzMiBcdTA0NDFcdTA0NDNcdTA0NDlcdTA0MzVcdTA0NDFcdTA0NDJcdTA0MzJcdTA0NDNcdTA0NEVcdTA0NDlcdTA0MzhcdTA0NDUgXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDNGXHUwNDNGXHUwNDMwXHUwNDQ1XHJcbiAgICAgICAgZm9yIChjb25zdCBncm91cCBpbiBuZXdHcm91cHNEaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgICAgIGlmIChuZXdHcm91cHNEaWN0aW9uYXJ5W2dyb3VwXS5pbmNsdWRlcyh0YWcpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFx1MDQyMlx1MDQzNVx1MDQzMyBcdTA0NDNcdTA0MzZcdTA0MzUgXHUwNDM1XHUwNDQxXHUwNDQyXHUwNDRDIFx1MDQzMiBcdTA0M0FcdTA0MzBcdTA0M0FcdTA0M0VcdTA0MzktXHUwNDQyXHUwNDNFIFx1MDQzOFx1MDQzNyBcdTA0MzNcdTA0NDBcdTA0NDNcdTA0M0ZcdTA0M0ZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gXHUwNDIyXHUwNDM1XHUwNDMzXHUwNDMwIFx1MDQzRFx1MDQzNVx1MDQ0MiBcdTA0M0RcdTA0MzggXHUwNDMyIFx1MDQzRVx1MDQzNFx1MDQzRFx1MDQzRVx1MDQzOSBcdTA0MzhcdTA0MzcgXHUwNDQxXHUwNDQzXHUwNDQ5XHUwNDM1XHUwNDQxXHUwNDQyXHUwNDMyXHUwNDQzXHUwNDRFXHUwNDQ5XHUwNDM4XHUwNDQ1IFx1MDQzM1x1MDQ0MFx1MDQ0M1x1MDQzRlx1MDQzRlxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gXHUwNDE0XHUwNDNFXHUwNDMxXHUwNDMwXHUwNDMyXHUwNDNCXHUwNDRGXHUwNDM1XHUwNDNDIFx1MDQzRFx1MDQzRVx1MDQzMlx1MDQ0M1x1MDQ0RSBcdTA0MzNcdTA0NDBcdTA0NDNcdTA0M0ZcdTA0M0ZcdTA0NDMgXHUwNDMyIFx1MDQ0MVx1MDQzQlx1MDQzRVx1MDQzMlx1MDQzMFx1MDQ0MFx1MDQ0Q1xyXG4gICAgbmV3R3JvdXBzRGljdGlvbmFyeVtcIk90aGVyIHRhZ3NcIl0gPSB1bmRlZmluZWRHcm91cDtcclxuXHJcbiAgICByZXR1cm4gbmV3R3JvdXBzRGljdGlvbmFyeTtcclxufVxyXG4vL1x1MDQ0NFx1MDQ0M1x1MDQzRFx1MDQ0Nlx1MDQzOFx1MDQ0RiBcdTA0MzJcdTA0NEJcdTA0MzFcdTA0MzhcdTA0NDBcdTA0MzBcdTA0NEVcdTA0NDlcdTA0MzBcdTA0NEYgXHUwNDNEXHUwNDNFXHUwNDM0XHUwNDRCIFx1MDQzNFx1MDQzQlx1MDQ0RiBcdTA0M0ZcdTA0M0VcdTA0M0FcdTA0MzBcdTA0MzdcdTA0MzBcclxuZnVuY3Rpb24gZmlsdGVyTm9kZXMoY2FudmFzRGF0YTogYW55LCB0YWdzVG9TaG93OiBzdHJpbmdbXSwgbW9kZTogc3RyaW5nKTogYW55W10ge1xyXG4gICAgXHJcbiAgICByZXR1cm4gY2FudmFzRGF0YS5ub2Rlcy5maWx0ZXIoKG5vZGU6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChtb2RlID09PSBcIkFueSBUYWcgSW5jbHVzaW9uXCIpIHtcclxuICAgICAgICAgICAgLy8gXHUwNDIwXHUwNDM1XHUwNDM2XHUwNDM4XHUwNDNDIDE6IFx1MDQxRlx1MDQ0MFx1MDQzRVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0Rlx1MDQzNVx1MDQzQywgXHUwNDQxXHUwNDNFXHUwNDM0XHUwNDM1XHUwNDQwXHUwNDM2XHUwNDM4XHUwNDQyIFx1MDQzQlx1MDQzOCBcdTA0NDJcdTA0MzVcdTA0M0FcdTA0NDNcdTA0NDlcdTA0MzhcdTA0MzkgXHUwNDREXHUwNDNCXHUwNDM1XHUwNDNDXHUwNDM1XHUwNDNEXHUwNDQyIFx1MDQ0NVx1MDQzRVx1MDQ0Mlx1MDQ0RiBcdTA0MzFcdTA0NEIgXHUwNDNFXHUwNDM0XHUwNDM4XHUwNDNEIFx1MDQzOFx1MDQzNyBcdTA0MzJcdTA0NEJcdTA0MzFcdTA0NDBcdTA0MzBcdTA0M0RcdTA0M0RcdTA0NEJcdTA0NDUgXHUwNDQyXHUwNDM1XHUwNDMzXHUwNDNFXHUwNDMyXHJcbiAgICAgICAgICAgIGlmIChub2RlLnR5cGUgPT09IFwiZmlsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Q2FjaGUobm9kZS5maWxlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtZXRhZGF0YT8udGFncz8uc29tZSgoeDogYW55KSA9PiB0YWdzVG9TaG93LmluY2x1ZGVzKHgudGFnKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09PSBcInRleHRcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhZ3NUb1Nob3cuc29tZSgodDogc3RyaW5nKSA9PiAobm9kZSBhcyBhbnkpLnRleHQuaW5jbHVkZXModCkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBcdTA0MTVcdTA0NDFcdTA0M0JcdTA0MzggXHUwNDQzXHUwNDM3XHUwNDM1XHUwNDNCIFx1MDQzRFx1MDQzNSBcdTA0NEZcdTA0MzJcdTA0M0JcdTA0NEZcdTA0MzVcdTA0NDJcdTA0NDFcdTA0NEYgXHUwNDQ0XHUwNDMwXHUwNDM5XHUwNDNCXHUwNDNFXHUwNDNDIFx1MDQzOFx1MDQzQlx1MDQzOCBcdTA0NDJcdTA0MzVcdTA0M0FcdTA0NDFcdTA0NDJcdTA0M0VcdTA0M0MsIFx1MDQzRFx1MDQzNSBcdTA0NDNcdTA0MzRcdTA0M0VcdTA0MzJcdTA0M0JcdTA0MzVcdTA0NDJcdTA0MzJcdTA0M0VcdTA0NDBcdTA0NEZcdTA0MzVcdTA0NDIgXHUwNDQzXHUwNDQxXHUwNDNCXHUwNDNFXHUwNDMyXHUwNDM4XHUwNDRFXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiQWxsIFRhZ3MgSW5jbHVzaW9uXCIpIHtcclxuICAgICAgICAgICAgLy8gXHUwNDIwXHUwNDM1XHUwNDM2XHUwNDM4XHUwNDNDIDI6IFx1MDQxRlx1MDQ0MFx1MDQzRVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0Rlx1MDQzNVx1MDQzQywgXHUwNDQxXHUwNDNFXHUwNDM0XHUwNDM1XHUwNDQwXHUwNDM2XHUwNDM4XHUwNDQyIFx1MDQzQlx1MDQzOCBcdTA0NDJcdTA0MzVcdTA0M0FcdTA0NDFcdTA0NDIgXHUwNDQzXHUwNDM3XHUwNDNCXHUwNDMwIFx1MDQxMlx1MDQyMVx1MDQxNSBcdTA0NDJcdTA0MzVcdTA0MzNcdTA0MzggXHUwNDM4XHUwNDM3IFx1MDQ0MVx1MDQzRlx1MDQzOFx1MDQ0MVx1MDQzQVx1MDQzMFxyXG4gICAgICAgICAgICBpZiAobm9kZS50eXBlID09PSBcImZpbGVcIikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldENhY2hlKG5vZGUuZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlVGFncyA9IG1ldGFkYXRhPy50YWdzPy5tYXAoKHRhZzogeyB0YWc6IHN0cmluZyB9KSA9PiB0YWcudGFnKTtcclxuICAgICAgICAgICAgICAgIGlmICghbm9kZVRhZ3MpIHJldHVybiBmYWxzZTsgLy8gXHUwNDE1XHUwNDQxXHUwNDNCXHUwNDM4IFx1MDQzRFx1MDQzNVx1MDQ0MiBcdTA0NDJcdTA0MzVcdTA0MzNcdTA0M0VcdTA0MzIgXHUwNDQzIFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQzMCwgXHUwNDQxXHUwNDQwXHUwNDMwXHUwNDM3XHUwNDQzIFx1MDQzMlx1MDQzRVx1MDQzN1x1MDQzMlx1MDQ0MFx1MDQzMFx1MDQ0OVx1MDQzMFx1MDQzNVx1MDQzQyBmYWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhZ3NUb1Nob3cuZXZlcnkoKHQ6IHN0cmluZykgPT4gbm9kZVRhZ3MuaW5jbHVkZXModCkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YWdzVG9TaG93LmV2ZXJ5KCh0OiBzdHJpbmcpID0+IChub2RlIGFzIGFueSkudGV4dC5pbmNsdWRlcyh0KSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFx1MDQxNVx1MDQ0MVx1MDQzQlx1MDQzOCBcdTA0NDNcdTA0MzdcdTA0MzVcdTA0M0IgXHUwNDNEXHUwNDM1IFx1MDQ0Rlx1MDQzMlx1MDQzQlx1MDQ0Rlx1MDQzNVx1MDQ0Mlx1MDQ0MVx1MDQ0RiBcdTA0NDRcdTA0MzBcdTA0MzlcdTA0M0JcdTA0M0VcdTA0M0MgXHUwNDM4XHUwNDNCXHUwNDM4IFx1MDQ0Mlx1MDQzNVx1MDQzQVx1MDQ0MVx1MDQ0Mlx1MDQzRVx1MDQzQywgXHUwNDNEXHUwNDM1IFx1MDQ0M1x1MDQzNFx1MDQzRVx1MDQzMlx1MDQzQlx1MDQzNVx1MDQ0Mlx1MDQzMlx1MDQzRVx1MDQ0MFx1MDQ0Rlx1MDQzNVx1MDQ0MiBcdTA0NDNcdTA0NDFcdTA0M0JcdTA0M0VcdTA0MzJcdTA0MzhcdTA0NEVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFx1MDQxRFx1MDQzNVx1MDQzQVx1MDQzRVx1MDQ0MFx1MDQ0MFx1MDQzNVx1MDQzQVx1MDQ0Mlx1MDQzRFx1MDQ0Qlx1MDQzOSBcdTA0NDBcdTA0MzVcdTA0MzZcdTA0MzhcdTA0M0NcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgbW9kZTogXCIgKyBtb2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuaW50ZXJmYWNlIEZpbHRlclBsdWdpblNldHRpbmdzIHtcclxuICAgIG15U2V0dGluZzogc3RyaW5nO1xyXG4gICAgY2hlY2tib3hHcm91cHM6IHsgW2tleTogc3RyaW5nXSA6IHN0cmluZ1tdfTtcclxuICAgIGNoZWNrYm94U3RhdGVzOiB7IFtuYW1lOiBzdHJpbmddOiBib29sZWFuIH07XHJcbiAgICBqc29uSW5wdXQ6IHN0cmluZztcclxuICAgIC8vXHUwNDM0XHUwNDNFXHUwNDMxXHUwNDMwXHUwNDMyXHUwNDNCXHUwNDRGXHUwNDQyXHUwNDRDIFx1MDQzQlx1MDQzOCBcdTA0M0RcdTA0M0VcdTA0MzJcdTA0NDNcdTA0NEUgXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDNGXHUwNDNGXHUwNDQzIFx1MDQzRFx1MDQzNVx1MDQzRFx1MDQzMFx1MDQzOVx1MDQzNFx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0Qlx1MDQ0NSBcdTA0NDJcdTA0MzVcdTA0MzNcdTA0M0VcdTA0MzJcclxuICAgIGFkZE90aGVyVGFnc0dyb3VwIDogYm9vbGVhbjtcclxuICAgIC8vXHUwNDNGXHUwNDQwXHUwNDNFXHUwNDM3XHUwNDQwXHUwNDMwXHUwNDQ3XHUwNDNEXHUwNDNFXHUwNDQxXHUwNDQyXHUwNDRDIFx1MDQ0MVx1MDQzQVx1MDQ0MFx1MDQ0Qlx1MDQ0Mlx1MDQ0Qlx1MDQ0NSBcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDJcdTA0M0VcdTA0MzJcclxuICAgIEhpZGVuT3BhY2l0eTogc3RyaW5nO1xyXG4gICAgLy9cdTA0MzJcdTA0NEJcdTA0MzFcdTA0M0VcdTA0NDAgXHUwNDQwXHUwNDM1XHUwNDM2XHUwNDM4XHUwNDNDXHUwNDMwIFx1MDQ0NFx1MDQzOFx1MDQzQlx1MDQ0Q1x1MDQ0Mlx1MDQ0MFx1MDQzMFx1MDQ0Nlx1MDQzOFx1MDQzOFxyXG4gICAgRmlsdGVyTW9kZTogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBGaWx0ZXJQbHVnaW5TZXR0aW5ncyA9IHtcclxuICAgIG15U2V0dGluZzogJ2RlZmF1bHQnLFxyXG4gICAgY2hlY2tib3hHcm91cHM6IHtcIkdyb3VwIDFcIjogW1wiI3RhZzFcIiwgXCIjdGFnMlwiLCBcIiN0YWczXCJdLCBcIkdyb3VwIDJcIjogW1wiI3RhZzRcIiwgXCIjdGFnNVwiLCBcIiN0YWc2XCJdIH0sXHJcbiAgICBjaGVja2JveFN0YXRlczoge30sXHJcbiAgICBqc29uSW5wdXQ6ICd7XCJleGFtcGUgZ3JvdXBcIjogW1wiI2V4YW1wbGVfdGFnXCJdfScsXHJcblxyXG4gICAgYWRkT3RoZXJUYWdzR3JvdXAgOiBmYWxzZSxcclxuICAgIEhpZGVuT3BhY2l0eTogXCIwLjVcIixcclxuICAgIEZpbHRlck1vZGU6IFwiQWxsIFRhZ3MgSW5jbHVzaW9uXCJcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbHRlclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICBzZXR0aW5nczogRmlsdGVyUGx1Z2luU2V0dGluZ3M7XHJcblxyXG4gICAgYXN5bmMgb25sb2FkKCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLndvcmtzcGFjZS5vbignYWN0aXZlLWxlYWYtY2hhbmdlJywgdGhpcy5vbkFjdGl2ZUxlYWZDaGFuZ2UpKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgLy8gVGhpcyBjcmVhdGVzIGFuIGljb24gaW4gdGhlIGxlZnQgcmliYm9uLlxyXG4gICAgICAgIGNvbnN0IHJpYmJvbkljb25FbCA9IHRoaXMuYWRkUmliYm9uSWNvbignZmlsdGVyJywgJ0FkdmFuY2VkIENhbnZhcyBGaWx0ZXInLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIENhbGxlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyB0aGUgaWNvbi5cclxuICAgICAgICAgICAgbmV3IFBsdWdJbnRlcmZhY2UodGhpcy5hcHAsIHRoaXMuc2V0dGluZ3MsIHRoaXMuc2F2ZVNldHRpbmdzLmJpbmQodGhpcyksIHRoaXMuZ2V0QWN0aXZlQ2hlY2tib3hlcy5iaW5kKHRoaXMpLCB0aGlzKS5vcGVuKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxyXG4gICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRmlsdGVyU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gXHUwNDFFXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDMxXHUwNDNFXHUwNDQyXHUwNDQ3XHUwNDM4XHUwNDNBIFx1MDQ0MVx1MDQzRVx1MDQzMVx1MDQ0Qlx1MDQ0Mlx1MDQzOFx1MDQ0RiBcdTA0MzhcdTA0MzdcdTA0M0NcdTA0MzVcdTA0M0RcdTA0MzVcdTA0M0RcdTA0MzhcdTA0NEYgXHUwNDMwXHUwNDNBXHUwNDQyXHUwNDM4XHUwNDMyXHUwNDNEXHUwNDNFXHUwNDMzXHUwNDNFIFx1MDQzRlx1MDQ0MFx1MDQzNVx1MDQzNFx1MDQ0MVx1MDQ0Mlx1MDQzMFx1MDQzMlx1MDQzQlx1MDQzNVx1MDQzRFx1MDQzOFx1MDQ0RlxyXG4gICAgb25BY3RpdmVMZWFmQ2hhbmdlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhbnZhc1ZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShJdGVtVmlldyk7XHJcbiAgICAgICAgaWYgKCFjYW52YXNWaWV3KSByZXR1cm47IC8vIFx1MDQxNVx1MDQ0MVx1MDQzQlx1MDQzOCBcdTA0M0RcdTA0MzVcdTA0NDIgXHUwNDMwXHUwNDNBXHUwNDQyXHUwNDM4XHUwNDMyXHUwNDNEXHUwNDNFXHUwNDMzXHUwNDNFIFx1MDQzRlx1MDQ0MFx1MDQzNVx1MDQzNFx1MDQ0MVx1MDQ0Mlx1MDQzMFx1MDQzMlx1MDQzQlx1MDQzNVx1MDQzRFx1MDQzOFx1MDQ0RiwgXHUwNDMyXHUwNDRCXHUwNDQ1XHUwNDNFXHUwNDM0XHUwNDM4XHUwNDNDXHJcblxyXG4gICAgICAgIC8vIFx1MDQxRlx1MDQ0MFx1MDQzRVx1MDQzMlx1MDQzNVx1MDQ0MFx1MDQ0Rlx1MDQzNVx1MDQzQywgXHUwNDRGXHUwNDMyXHUwNDNCXHUwNDRGXHUwNDM1XHUwNDQyXHUwNDQxXHUwNDRGIFx1MDQzQlx1MDQzOCBcdTA0MzBcdTA0M0FcdTA0NDJcdTA0MzhcdTA0MzJcdTA0M0RcdTA0M0VcdTA0MzUgXHUwNDNGXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDQxXHUwNDQyXHUwNDMwXHUwNDMyXHUwNDNCXHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQzMlx1MDQzOFx1MDQzNFx1MDQzRVx1MDQzQyBcImNhbnZhc1wiXHJcbiAgICAgICAgaWYgKGNhbnZhc1ZpZXcuZ2V0Vmlld1R5cGUoKSA9PT0gJ2NhbnZhcycpIHtcclxuICAgICAgICAgICAgLy9cdTA0M0ZcdTA0NDBcdTA0MzggXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDQ1XHUwNDNFXHUwNDM0XHUwNDM1IFx1MDQzRlx1MDQzRVx1MDQzQlx1MDQ0Q1x1MDQzN1x1MDQzRVx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzNVx1MDQzQlx1MDQ0RiBcdTA0M0RcdTA0MzAgY2FudmFzIFx1MDQzRlx1MDQ0MFx1MDQzRVx1MDQzOFx1MDQ0MVx1MDQ0NVx1MDQzRVx1MDQzNFx1MDQzOFx1MDQ0MiBcdTA0NDRcdTA0MzhcdTA0M0JcdTA0NENcdTA0NDJcdTA0NDBcdTA0MzBcdTA0NDZcdTA0MzhcdTA0NEYgXHUwNDNGXHUwNDNFIFx1MDQ0Mlx1MDQzNVx1MDQzM1x1MDQzMFx1MDQzQ1xyXG4gICAgICAgICAgICBsZXQgYWN0aXZlQ2hlY2tib3hlczogc3RyaW5nW10gPSB0aGlzLmdldEFjdGl2ZUNoZWNrYm94ZXMoKTsgLy8gXHUwNDEyXHUwNDRCXHUwNDM3XHUwNDRCXHUwNDMyXHUwNDMwXHUwNDM1XHUwNDNDIFx1MDQ0NFx1MDQ0M1x1MDQzRFx1MDQzQVx1MDQ0Nlx1MDQzOFx1MDQ0RSBnZXRBY3RpdmVDaGVja2JveGVzXHJcbiAgICAgICAgICAgIHRoaXMuc2hvd05vZGVzQnlUYWdzKGFjdGl2ZUNoZWNrYm94ZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vXHUwNDNGXHUwNDQwXHUwNDNFXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNBXHUwNDMwIFx1MDQzMFx1MDQzQVx1MDQ0Mlx1MDQzOFx1MDQzMlx1MDQzNVx1MDQzRCBcdTA0M0JcdTA0MzggY2FudmFzXHJcbiAgICBwcml2YXRlIGlmQWN0aXZlVmlld0lzQ2FudmFzID0gKGNvbW1hbmRGbjogKGNhbnZhczogYW55LCBjYW52YXNEYXRhOiBDYW52YXNEYXRhKSA9PiB2b2lkKSA9PiAoY2hlY2tpbmc6IGJvb2xlYW4pID0+IHtcclxuXHRcdGNvbnN0IGNhbnZhc1ZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShJdGVtVmlldyk7XHJcblxyXG5cdFx0aWYgKGNhbnZhc1ZpZXc/LmdldFZpZXdUeXBlKCkgIT09ICdjYW52YXMnKSB7XHJcblx0XHRcdGlmIChjaGVja2luZykge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNoZWNraW5nKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGNhbnZhcyA9IChjYW52YXNWaWV3IGFzIGFueSkuY2FudmFzO1xyXG5cdFx0aWYgKCFjYW52YXMpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBjYW52YXNEYXRhID0gY2FudmFzLmdldERhdGEoKSBhcyBDYW52YXNEYXRhO1xyXG5cclxuXHRcdGlmICghY2FudmFzRGF0YSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiBjb21tYW5kRm4oY2FudmFzLCBjYW52YXNEYXRhKTtcclxuXHR9XHJcblxyXG5cclxuICAgIGFzeW5jIHNob3dOb2Rlc0J5VGFncyh0YWdzVG9TaG93OiBzdHJpbmdbXSkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuaWZBY3RpdmVWaWV3SXNDYW52YXMoYXN5bmMgKGNhbnZhcywgY2FudmFzRGF0YSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy9cdTA0M0VcdTA0NDJcdTA0M0VcdTA0MzFcdTA0NDBcdTA0MzBcdTA0MzZcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzUgXHUwNDMyXHUwNDQxXHUwNDM1XHUwNDQ1XHJcbiAgICAgICAgICAgIHNob3dPbmx5Tm9kZXMoY2FudmFzLCB0aGlzLnNldHRpbmdzLkhpZGVuT3BhY2l0eSk7XHJcbiAgICAgICAgICAgIHNob3dPbmx5RWRnZXMoY2FudmFzLCB0aGlzLnNldHRpbmdzLkhpZGVuT3BhY2l0eSk7XHJcblxyXG4gICAgICAgICAgICAvLyBcdTA0MjBcdTA0MzVcdTA0MzZcdTA0MzhcdTA0M0MgMTogXHUwNDFGXHUwNDQwXHUwNDNFXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDRGXHUwNDM1XHUwNDQyLCBcdTA0NDFcdTA0M0VcdTA0MzRcdTA0MzVcdTA0NDBcdTA0MzZcdTA0MzhcdTA0NDIgXHUwNDNCXHUwNDM4IFx1MDQ0Mlx1MDQzNVx1MDQzQVx1MDQ0M1x1MDQ0OVx1MDQzOFx1MDQzOSBcdTA0NERcdTA0M0JcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NDIgXHUwNDQ1XHUwNDNFXHUwNDQyXHUwNDRGIFx1MDQzMVx1MDQ0QiBcdTA0M0VcdTA0MzRcdTA0MzhcdTA0M0QgXHUwNDM4XHUwNDM3IFx1MDQzMlx1MDQ0Qlx1MDQzMVx1MDQ0MFx1MDQzMFx1MDQzRFx1MDQzRFx1MDQ0Qlx1MDQ0NSBcdTA0NDJcdTA0MzVcdTA0MzNcdTA0M0VcdTA0MzJcclxuICAgICAgICAgICAgY29uc3Qgbm9kZXNUb1Nob3cgPSBmaWx0ZXJOb2RlcyhjYW52YXNEYXRhLCB0YWdzVG9TaG93LCAgdGhpcy5zZXR0aW5ncy5GaWx0ZXJNb2RlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFx1MDQyMFx1MDQzNVx1MDQzNlx1MDQzOFx1MDQzQyAyOiBcdTA0MUZcdTA0NDBcdTA0M0VcdTA0MzJcdTA0MzVcdTA0NDBcdTA0NEZcdTA0MzVcdTA0NDIsIFx1MDQ0MVx1MDQzRVx1MDQzNFx1MDQzNVx1MDQ0MFx1MDQzNlx1MDQzOFx1MDQ0MiBcdTA0M0JcdTA0MzggXHUwNDQyXHUwNDM1XHUwNDNBXHUwNDQxXHUwNDQyIFx1MDQ0M1x1MDQzN1x1MDQzQlx1MDQzMCBcdTA0MTJcdTA0MjFcdTA0MTUgXHUwNDQyXHUwNDM1XHUwNDMzXHUwNDM4IFx1MDQzOFx1MDQzNyBcdTA0NDFcdTA0M0ZcdTA0MzhcdTA0NDFcdTA0M0FcdTA0MzBcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBncm91cHNUb1Nob3cgPSBnZXRHcm91cHNGb3IoY2FudmFzRGF0YS5ub2Rlcywgbm9kZXNUb1Nob3cpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgbm9kZUlkc1RvU2hvdyA9IG5ldyBTZXQobm9kZXNUb1Nob3cubWFwKCh4OiBhbnkpID0+IHguaWQpKTtcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBlZGdlc1RvU2hvdyA9IGdldEVkZ2VzV2hlcmVCb3RoTm9kZXNJblNldChjYW52YXNEYXRhLmVkZ2VzLCBub2RlSWRzVG9TaG93KTtcclxuICAgIFxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGdyb3VwIG9mIGdyb3Vwc1RvU2hvdykge1xyXG4gICAgICAgICAgICAgICAgbm9kZUlkc1RvU2hvdy5hZGQoZ3JvdXAuaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgc2hvd09ubHlOb2RlcyhjYW52YXMsIHRoaXMuc2V0dGluZ3MuSGlkZW5PcGFjaXR5LCBub2RlSWRzVG9TaG93KTtcclxuICAgICAgICAgICAgc2hvd09ubHlFZGdlcyhjYW52YXMsIHRoaXMuc2V0dGluZ3MuSGlkZW5PcGFjaXR5LCBuZXcgU2V0KGVkZ2VzVG9TaG93Lm1hcCgoeDogYW55KSA9PiB4LmlkKSkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRhZ3NUb1Nob3cubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBzaG93T25seU5vZGVzKGNhbnZhcyx0aGlzLnNldHRpbmdzLkhpZGVuT3BhY2l0eSk7XHJcbiAgICAgICAgICAgICAgICBzaG93T25seUVkZ2VzKGNhbnZhcyx0aGlzLnNldHRpbmdzLkhpZGVuT3BhY2l0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KShmYWxzZSk7IC8vIFx1MDQxRlx1MDQzNVx1MDQ0MFx1MDQzNVx1MDQzNFx1MDQzMFx1MDQzNVx1MDQzQyBmYWxzZSBcdTA0MzIgY2hlY2tpbmcsIFx1MDQ0Mlx1MDQzMFx1MDQzQSBcdTA0M0FcdTA0MzBcdTA0M0EgXHUwNDNDXHUwNDRCIFx1MDQzRFx1MDQzNSBcdTA0MzJcdTA0NEJcdTA0M0ZcdTA0M0VcdTA0M0JcdTA0M0RcdTA0NEZcdTA0MzVcdTA0M0MgXHUwNDNGXHUwNDQwXHUwNDNFXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDNBXHUwNDQzLCBcdTA0MzAgXHUwNDNGXHUwNDQwXHUwNDRGXHUwNDNDXHUwNDNFIFx1MDQzMlx1MDQ0Qlx1MDQzRlx1MDQzRVx1MDQzQlx1MDQzRFx1MDQ0Rlx1MDQzNVx1MDQzQyBcdTA0M0FcdTA0M0VcdTA0M0NcdTA0MzBcdTA0M0RcdTA0MzRcdTA0NDNcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBY3RpdmVDaGVja2JveGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICBjb25zdCBhY3RpdmVDaGVja2JveGVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLnNldHRpbmdzLmNoZWNrYm94U3RhdGVzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNoZWNrYm94U3RhdGVzLmhhc093blByb3BlcnR5KG5hbWUpICYmIHRoaXMuc2V0dGluZ3MuY2hlY2tib3hTdGF0ZXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUNoZWNrYm94ZXMucHVzaChuYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYWN0aXZlQ2hlY2tib3hlcztcclxuICAgIH1cclxufVxyXG4gICAgLy9cdTA0M0FcdTA0M0JcdTA0MzBcdTA0NDFcdTA0NDEgXHUwNDM4XHUwNDNEXHUwNDQyXHUwNDM1XHUwNDQwXHUwNDQ0XHUwNDM1XHUwNDM5XHUwNDQxXHUwNDMwIFx1MDQzRlx1MDQ0MFx1MDQzOCBcdTA0M0RcdTA0MzBcdTA0MzZcdTA0MzBcdTA0NDJcdTA0MzhcdTA0MzggXHUwNDNEXHUwNDMwIFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzQVxyXG4gICAgY2xhc3MgUGx1Z0ludGVyZmFjZSBleHRlbmRzIE1vZGFsIHtcclxuICAgICAgICBjaGVja2JveEdyb3Vwc0NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICAgICAgc2V0dGluZ3M6IEZpbHRlclBsdWdpblNldHRpbmdzO1xyXG4gICAgICAgIHNhdmVTZXR0aW5nc0Z1bmM6ICgpID0+IHZvaWQ7XHJcbiAgICAgICAgZ2V0QWN0aXZlQ2hlY2tib3hlc0Z1bmM6ICgpID0+IHN0cmluZ1tdO1xyXG4gICAgICAgIG91dGVyQXBwOiBGaWx0ZXJQbHVnaW47XHJcblxyXG4gICAgXHJcbiAgICAgICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHNldHRpbmdzOiBGaWx0ZXJQbHVnaW5TZXR0aW5ncywgc2F2ZVNldHRpbmdzRnVuYzogKCkgPT4gdm9pZCwgZ2V0QWN0aXZlQ2hlY2tib3hlc0Z1bmM6ICgpID0+IHN0cmluZ1tdLCBvdXRlckFwcCA6IEZpbHRlclBsdWdpbikge1xyXG4gICAgICAgICAgICBzdXBlcihhcHApO1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVNldHRpbmdzRnVuYyA9IHNhdmVTZXR0aW5nc0Z1bmM7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0QWN0aXZlQ2hlY2tib3hlc0Z1bmMgPSBnZXRBY3RpdmVDaGVja2JveGVzRnVuYztcclxuICAgICAgICAgICAgdGhpcy5vdXRlckFwcD1vdXRlckFwcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgYXN5bmMgb25PcGVuKCkge1xyXG4gICAgICAgIGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcclxuICAgICAgICAvLyBcdTA0MjFcdTA0M0VcdTA0MzdcdTA0MzRcdTA0MzBcdTA0MzVcdTA0M0MgXHUwNDNBXHUwNDNFXHUwNDNEXHUwNDQyXHUwNDM1XHUwNDM5XHUwNDNEXHUwNDM1XHUwNDQwIFx1MDQzNFx1MDQzQlx1MDQ0RiBcdTA0MzNcdTA0NDBcdTA0NDNcdTA0M0ZcdTA0M0YgXHUwNDQ3XHUwNDM1XHUwNDNBXHUwNDMxXHUwNDNFXHUwNDNBXHUwNDQxXHUwNDNFXHUwNDMyXHJcbiAgICAgICAgdGhpcy5jaGVja2JveEdyb3Vwc0NvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5jaGVja2JveEdyb3Vwc0NvbnRhaW5lci5hZGRDbGFzcygnY2hlY2tib3gtZ3JvdXBzLWNvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy9cdTA0NDFcdTA0M0VcdTA0MzdcdTA0MzRcdTA0MzBcdTA0M0RcdTA0MzhcdTA0MzUgXHUwNDQyXHUwNDM1XHUwNDNBXHUwNDQxXHUwNDQyXHUwNDNFXHUwNDMyXHUwNDNFXHUwNDMzXHUwNDNFIFx1MDQzRlx1MDQzRVx1MDQzQlx1MDQ0RiBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDMyXHUwNDMyXHUwNDNFXHUwNDM0XHUwNDMwIGpzb24gLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIGNvbnN0IGpzb25JbnB1dENvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2Jyk7XHJcbiAgICAgICAganNvbklucHV0Q29udGFpbmVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogXCJKc29uIHN0cnVjdHVyZVwifSk7XHJcbiAgICAgICAganNvbklucHV0Q29udGFpbmVyLmFkZENsYXNzKCdqc29uLWlucHV0LWNvbnRhaW5lcicpO1xyXG4gICAgICAgIGNvbnN0IGpzb25JbnB1dCA9IGpzb25JbnB1dENvbnRhaW5lci5jcmVhdGVFbCgndGV4dGFyZWEnLCB7IGF0dHI6IHsgcm93czogXCIxXCIgfSB9KSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG4gICAgICAgIGpzb25JbnB1dC52YWx1ZSA9IHRoaXMuc2V0dGluZ3MuanNvbklucHV0O1xyXG4gICAgICAgIGpzb25JbnB1dC5wbGFjZWhvbGRlciA9IFwiRW50ZXIgSlNPTiBmb3IgY2hlY2tib3ggZ3JvdXBzXCI7XHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vL1x1MDQxNFx1MDQzRVx1MDQzMVx1MDQzMFx1MDQzMlx1MDQzQlx1MDQ0Rlx1MDQzNVx1MDQzQyBcdTA0M0FcdTA0M0RcdTA0M0VcdTA0M0ZcdTA0M0FcdTA0NDMgXHUwNDM0XHUwNDNCXHUwNDRGIFx1MDQ0MVx1MDQzRVx1MDQ0NVx1MDQ0MFx1MDQzMFx1MDQzRFx1MDQzNVx1MDQzRFx1MDQzOFx1MDQ0RiBKU09OLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBjb250ZW50RWwuY3JlYXRlRWwoJ2J1dHRvbicpO1xyXG4gICAgICAgIHNhdmVCdXR0b24uYWRkQ2xhc3MoJ21vZC1jdGEtanNvbicpOyAvLyBcdTA0MUZcdTA0NDBcdTA0MzhcdTA0M0NcdTA0MzVcdTA0M0RcdTA0NEZcdTA0MzVcdTA0M0MgXHUwNDQxXHUwNDQyXHUwNDM4XHUwNDNCXHUwNDRDIG1vZC1jdGFcclxuICAgICAgICBzYXZlQnV0dG9uLnNldFRleHQoJ1JlZnJlc2ggZ3JvdXBzJyk7XHJcblxyXG4gICAgICAgIHNhdmVCdXR0b24ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIC8vXHUwNDQzXHUwNDM0XHUwNDMwXHUwNDNCXHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQ0MVx1MDQ0Mlx1MDQzMFx1MDQ0MFx1MDQzRVx1MDQzM1x1MDQzRSBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDQxXHUwNDNFXHUwNDM3XHUwNDM0XHUwNDMwXHUwNDNEXHUwNDM4XHUwNDRGIFx1MDQzRFx1MDQzRVx1MDQzMlx1MDQzRVx1MDQzM1x1MDQzRVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2JveEdyb3Vwc0NvbnRhaW5lci5lbXB0eSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGpzb25EYXRhID0gSlNPTi5wYXJzZShqc29uSW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5jaGVja2JveEdyb3VwcyA9IGpzb25EYXRhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5qc29uSW5wdXQgPSBqc29uSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVTZXR0aW5nc0Z1bmMoKTtcclxuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ0pTT04gc2F2ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hDaGVja2JveEdyb3VwcygpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnRXJyb3IgcGFyc2luZyBKU09OJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnRlbnRFbC5hcHBlbmRDaGlsZChzYXZlQnV0dG9uKTsgXHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vXHUwNDE0XHUwNDNFXHUwNDMxXHUwNDMwXHUwNDMyXHUwNDNCXHUwNDRGXHUwNDM1XHUwNDNDIFx1MDQzQVx1MDQzRFx1MDQzRVx1MDQzRlx1MDQzQVx1MDQ0MyBcdTA0MzRcdTA0M0JcdTA0NEYgXHUwNDQxXHUwNDMxXHUwNDQwXHUwNDNFXHUwNDQxXHUwNDMwLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIGNvbnN0IHJlc2V0QnV0dG9uID0gY29udGVudEVsLmNyZWF0ZUVsKCdidXR0b24nKTtcclxuICAgICAgICByZXNldEJ1dHRvbi5hZGRDbGFzcygnbW9kLWN0YS1yZXNldCcpOyBcclxuICAgICAgICByZXNldEJ1dHRvbi5zZXRUZXh0KCdSZXNldCcpO1xyXG5cclxuICAgICAgICByZXNldEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLmNoZWNrYm94U3RhdGVzID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVNldHRpbmdzRnVuYygpXHJcblxyXG4gICAgICAgICAgICAvLyBcdTA0MUZcdTA0M0VcdTA0M0JcdTA0NDNcdTA0NDdcdTA0MzBcdTA0MzVcdTA0M0MgXHUwNDMyXHUwNDQxXHUwNDM1IFx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQzMVx1MDQzRVx1MDQzQVx1MDQ0MVx1MDQ0QiBcdTA0M0RcdTA0MzAgXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDMwXHUwNDNEXHUwNDM4XHUwNDQ2XHUwNDM1XHJcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFx1MDQxRlx1MDQ0MFx1MDQzRVx1MDQ0NVx1MDQzRVx1MDQzNFx1MDQzOFx1MDQzQ1x1MDQ0MVx1MDQ0RiBcdTA0M0ZcdTA0M0UgXHUwNDNBXHUwNDMwXHUwNDM2XHUwNDM0XHUwNDNFXHUwNDNDXHUwNDQzIFx1MDQ0N1x1MDQzNVx1MDQzQVx1MDQzMVx1MDQzRVx1MDQzQVx1MDQ0MVx1MDQ0MyBcdTA0MzggXHUwNDQxXHUwNDNEXHUwNDM4XHUwNDNDXHUwNDMwXHUwNDM1XHUwNDNDIFx1MDQ0NFx1MDQzQlx1MDQzMFx1MDQzNlx1MDQzRVx1MDQzQVxyXG4gICAgICAgICAgICBjaGVja2JveGVzLmZvckVhY2goKGNoZWNrYm94KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tib3ggaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb250ZW50RWwuYXBwZW5kQ2hpbGQocmVzZXRCdXR0b24pOyBcclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaENoZWNrYm94R3JvdXBzKClcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9cdTA0M0ZcdTA0MzVcdTA0NDBcdTA0MzVcdTA0M0VcdTA0NDJcdTA0NDBcdTA0MzhcdTA0NDFcdTA0M0VcdTA0MzJcdTA0M0FcdTA0MzAgXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDNGXHUwNDNGIFx1MDQ0MSBcdTA0NDdcdTA0MzVcdTA0M0FcdTA0MzFcdTA0M0VcdTA0M0FcdTA0NDFcdTA0MzBcdTA0M0NcdTA0MzhcclxuICAgIHJlZnJlc2hDaGVja2JveEdyb3VwcygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuY2hlY2tib3hHcm91cHNDb250YWluZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9cdTA0MzRcdTA0M0VcdTA0MzFcdTA0MzBcdTA0MzJcdTA0M0JcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzUgXHUwNDMzXHUwNDQwXHUwNDQzXHUwNDNGXHUwNDNGXHUwNDRCIFx1MDQzRFx1MDQzNVx1MDQzRFx1MDQzMFx1MDQzOVx1MDQzNFx1MDQzNVx1MDQzRFx1MDQzRFx1MDQ0Qlx1MDQ0NSBcdTA0NDJcdTA0MzVcdTA0MzNcdTA0M0VcdTA0MzJcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hZGRPdGhlclRhZ3NHcm91cCl7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuY2hlY2tib3hHcm91cHM9YWRkVW5kZWZpbmVkR3JvdXAodGhpcy5zZXR0aW5ncy5jaGVja2JveEdyb3VwcywgdGhpcy5nZXRVbmlxdWVUYWdzKCkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyBcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY2hlY2tib3hHcm91cHMuaGFzT3duUHJvcGVydHkoXCJPdGhlciB0YWdzXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5zZXR0aW5ncy5jaGVja2JveEdyb3Vwc1tcIk90aGVyIHRhZ3NcIl07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1x1MDQxRVx1MDQ0Mlx1MDQzRVx1MDQzMVx1MDQ0MFx1MDQzMFx1MDQzNlx1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNSBcdTA0MzNcdTA0NDBcdTA0NDNcdTA0M0ZcdTA0M0YgXHUwNDQxIFx1MDQ0Mlx1MDQzNVx1MDQzM1x1MDQzMFx1MDQzQ1x1MDQzOFxyXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuc2V0dGluZ3MuY2hlY2tib3hHcm91cHMpLmZvckVhY2goZ3JvdXBOYW1lID0+IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwQ29udGFpbmVyID0gdGhpcy5jaGVja2JveEdyb3Vwc0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGdyb3VwQ29udGFpbmVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogZ3JvdXBOYW1lIH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuY2hlY2tib3hHcm91cHNbZ3JvdXBOYW1lXS5mb3JFYWNoKHRhZyA9PiB0aGlzLmNyZWF0ZUNoZWNrYm94KGdyb3VwQ29udGFpbmVyLCB0YWcpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ2hlY2tib3goY29udGFpbmVyOiBIVE1MRWxlbWVudCwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBjb250YWluZXIuY3JlYXRlRWwoJ2xhYmVsJyk7XHJcbiAgICAgICAgY2hlY2tib3guc2V0VGV4dChuYW1lKTtcclxuICAgICAgICBjb25zdCBjaGVja2JveElucHV0ID0gY2hlY2tib3guY3JlYXRlRWwoJ2lucHV0Jyk7XHJcbiAgICAgICAgY2hlY2tib3hJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY2hlY2tib3gnKTtcclxuICAgICAgICBjaGVja2JveElucHV0LmNoZWNrZWQgPSB0aGlzLnNldHRpbmdzLmNoZWNrYm94U3RhdGVzW25hbWVdID8/IGZhbHNlOyAvLyBTZXQgY2hlY2tib3ggc3RhdGUgZnJvbSBzZXR0aW5nc1xyXG4gICAgICAgIGNoZWNrYm94SW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuY2hlY2tib3hTdGF0ZXNbbmFtZV0gPSBjaGVja2JveElucHV0LmNoZWNrZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVNldHRpbmdzRnVuYygpOyAvLyBTYXZlIHNldHRpbmdzXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIG9uQ2xvc2UoKSB7XHJcbiAgICAgICAgY29uc3Qge2NvbnRlbnRFbH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IHMgOnN0cmluZ1tdID0gdGhpcy5nZXRBY3RpdmVDaGVja2JveGVzRnVuYygpOyAvLyBDYWxsIGdldEFjdGl2ZUNoZWNrYm94ZXMgZnVuY3Rpb25cclxuICAgICAgICB0aGlzLm91dGVyQXBwLnNob3dOb2Rlc0J5VGFncyhzKVxyXG4gICAgfVxyXG5cclxuICAgIC8vXHUwNDNGXHUwNDNFXHUwNDNCXHUwNDQzXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQ0M1x1MDQzRFx1MDQzOFx1MDQzQVx1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQ0Qlx1MDQ0NSBcdTA0NDJcdTA0NERcdTA0MzNcdTA0M0VcdTA0MzIgXHJcbiAgICBnZXRVbmlxdWVUYWdzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICAvLyBHZXQgYWxsIHVuaXF1ZSB0YWdzIGZyb20gbm9kZXMgb24gY2FudmFzXHJcbiAgICAgICAgY29uc3QgY2FudmFzVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKEl0ZW1WaWV3KTtcclxuICAgICAgICBpZiAoY2FudmFzVmlldz8uZ2V0Vmlld1R5cGUoKSAhPT0gJ2NhbnZhcycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGNvbnN0IGNhbnZhc0RhdGEgPSAoY2FudmFzVmlldyBhcyBhbnkpLmNhbnZhcy5nZXREYXRhKCkgYXMgQ2FudmFzRGF0YTtcclxuICAgICAgICBpZiAoIWNhbnZhc0RhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGNvbnN0IHRhZ3M6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGNhbnZhc0RhdGEubm9kZXMuZm9yRWFjaCgobm9kZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChub2RlLnR5cGUgPT09IFwidGV4dFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0VGFncyA9IG5vZGUudGV4dC5tYXRjaCgvI1teXFxzXSsvZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dFRhZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0VGFncy5mb3JFYWNoKCh0YWc6IHN0cmluZykgPT4gdGFncy5hZGQodGFnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09PSBcImZpbGVcIikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldENhY2hlKG5vZGUuZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEgJiYgbWV0YWRhdGEudGFncykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLnRhZ3MuZm9yRWFjaCgodGFnOiB7IHRhZzogc3RyaW5nIH0pID0+IHRhZ3MuYWRkKHRhZy50YWcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgLy8gXHUwNDFGXHUwNDQwXHUwNDM1XHUwNDNFXHUwNDMxXHUwNDQwXHUwNDMwXHUwNDM3XHUwNDQzXHUwNDM1XHUwNDNDIHNldCBcdTA0MzIgXHUwNDNDXHUwNDMwXHUwNDQxXHUwNDQxXHUwNDM4XHUwNDMyIFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzQSBcdTA0MzggXHUwNDMyXHUwNDNFXHUwNDM3XHUwNDMyXHUwNDQwXHUwNDMwXHUwNDQ5XHUwNDMwXHUwNDM1XHUwNDNDIFx1MDQzNVx1MDQzM1x1MDQzRVxyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRhZ3MpO1xyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbi8vXHUwNDNBXHUwNDNCXHUwNDMwXHUwNDQxXHUwNDQxIFx1MDQzRFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzNVx1MDQzQVxyXG5jbGFzcyBGaWx0ZXJTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcbiAgICBwbHVnaW46IEZpbHRlclBsdWdpbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBGaWx0ZXJQbHVnaW4pIHtcclxuICAgICAgICBzdXBlcihhcHAsIHBsdWdpbik7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGxheSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHJcbiAgICAgICAgY29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKCdBZGQgXCJPdGhlciB0YWdzXCIgZ3JvdXAnKVxyXG4gICAgICAgICAgICAuc2V0RGVzYygnU2VsZWN0IHRoaXMgY2hlY2sgYm94IHRvIGFkZCB0aGUgXCJPdGhlciBUYWdzXCIgZ3JvdXAuIFRoaXMgZ3JvdXAgd2lsbCBjb250YWluIHRhZ3MgdGhhdCBhcmUgbm90IGluY2x1ZGVkIGluIG90aGVyIGdyb3Vwcy4nKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcclxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZGRPdGhlclRhZ3NHcm91cCkgLy8gXHUwNDIzXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNEXHUwNDMwXHUwNDMyXHUwNDNCXHUwNDM4XHUwNDMyXHUwNDMwXHUwNDM1XHUwNDNDIFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNSBcdTA0NDdcdTA0MzVcdTA0M0FcdTA0MzFcdTA0M0VcdTA0M0FcdTA0NDFcdTA0MzAgXHUwNDM4XHUwNDM3IFx1MDQzRFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzNVx1MDQzQVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFkZE90aGVyVGFnc0dyb3VwID0gdmFsdWU7IC8vIFx1MDQyMVx1MDQzRVx1MDQ0NVx1MDQ0MFx1MDQzMFx1MDQzRFx1MDQ0Rlx1MDQzNVx1MDQzQyBcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzUgXHUwNDQ3XHUwNDM1XHUwNDNBXHUwNDMxXHUwNDNFXHUwNDNBXHUwNDQxXHUwNDMwIFx1MDQzMiBcdTA0M0RcdTA0MzBcdTA0NDFcdTA0NDJcdTA0NDBcdTA0M0VcdTA0MzlcdTA0M0FcdTA0MzhcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoJ0hpZGRlbiBvcGFjaXR5JylcclxuICAgICAgICAgICAgLnNldERlc2MoJ0FkanVzdCB0aGUgb3BhY2l0eSBsZXZlbCBmb3IgaGlkZGVuIGVsZW1lbnRzLiBWYWx1ZSBtdXN0IGJlZW4gYmV0d2VlbiAwIGFuZCAxJylcclxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuSGlkZW5PcGFjaXR5KSAvLyBcdTA0MjNcdTA0NDFcdTA0NDJcdTA0MzBcdTA0M0RcdTA0MzBcdTA0MzJcdTA0M0JcdTA0MzhcdTA0MzJcdTA0MzBcdTA0MzVcdTA0M0MgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQ0Mlx1MDQzNVx1MDQzQVx1MDQ0MVx1MDQ0Mlx1MDQzRVx1MDQzMlx1MDQzRVx1MDQzM1x1MDQzRSBcdTA0M0ZcdTA0M0VcdTA0M0JcdTA0NEYgXHUwNDM4XHUwNDM3IFx1MDQzRFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzNVx1MDQzQVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gXHUwNDIzXHUwNDMxXHUwNDM1XHUwNDM2XHUwNDM0XHUwNDMwXHUwNDM1XHUwNDNDXHUwNDQxXHUwNDRGLCBcdTA0NDdcdTA0NDJcdTA0M0UgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQzRFx1MDQzMFx1MDQ0NVx1MDQzRVx1MDQzNFx1MDQzOFx1MDQ0Mlx1MDQ0MVx1MDQ0RiBcdTA0MzIgXHUwNDM0XHUwNDM4XHUwNDMwXHUwNDNGXHUwNDMwXHUwNDM3XHUwNDNFXHUwNDNEXHUwNDM1IFx1MDQzRVx1MDQ0MiAwIFx1MDQzNFx1MDQzRSAxXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihwYXJzZWRWYWx1ZSwgMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLkhpZGVuT3BhY2l0eSA9IG5ld1ZhbHVlLnRvU3RyaW5nKCk7IC8vIFx1MDQyMVx1MDQzRVx1MDQ0NVx1MDQ0MFx1MDQzMFx1MDQzRFx1MDQ0Rlx1MDQzNVx1MDQzQyBcdTA0MzdcdTA0M0RcdTA0MzBcdTA0NDdcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzUgXHUwNDMyIFx1MDQzRFx1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzOVx1MDQzQVx1MDQzOCBcdTA0MzIgXHUwNDMyXHUwNDM4XHUwNDM0XHUwNDM1IFx1MDQ0MVx1MDQ0Mlx1MDQ0MFx1MDQzRVx1MDQzQVx1MDQzOFxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignYmV0d2VlbiAwIGFuZCAxJylcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoJ0ZpbHRlciBtb2RlJylcclxuICAgICAgICAgICAgLnNldERlc2MoJ1wiQW55IFRhZyBJbmNsdXNpb25cIiBtZWFucyB0aGF0IG5vZGVzIHdpbGwgYmUgc2hvd24gaWYgdGhleSBjb250YWluIGF0IGxlYXN0IG9uZSBvZiB0aGUgc2VsZWN0ZWQgdGFncy4gXCJBbGwgVGFncyBJbmNsdXNpb25cIiBtZWFucyB0aGF0IG5vZGVzIHdpbGwgb25seSBiZSBzaG93biBpZiB0aGV5IGNvbnRhaW4gYWxsIG9mIHRoZSBzZWxlY3RlZCB0YWdzLicpXHJcbiAgICAgICAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihcIkFsbCBUYWdzIEluY2x1c2lvblwiLCBcIkFsbCBUYWdzIEluY2x1c2lvblwiKSAvLyBcdTA0MTRcdTA0M0VcdTA0MzFcdTA0MzBcdTA0MzJcdTA0M0JcdTA0NEZcdTA0MzVcdTA0M0MgXHUwNDNBXHUwNDMwXHUwNDM2XHUwNDM0XHUwNDRCXHUwNDM5IFx1MDQzMlx1MDQzMFx1MDQ0MFx1MDQzOFx1MDQzMFx1MDQzRFx1MDQ0MiBcdTA0M0VcdTA0NDJcdTA0MzRcdTA0MzVcdTA0M0JcdTA0NENcdTA0M0RcdTA0M0VcclxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJBbnkgVGFnIEluY2x1c2lvblwiLCBcIkFueSBUYWcgSW5jbHVzaW9uXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuRmlsdGVyTW9kZSkgLy8gXHUwNDIzXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDNEXHUwNDMwXHUwNDMyXHUwNDNCXHUwNDM4XHUwNDMyXHUwNDMwXHUwNDM1XHUwNDNDIFx1MDQzN1x1MDQzRFx1MDQzMFx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNSBcdTA0MzhcdTA0MzcgXHUwNDNEXHUwNDMwXHUwNDQxXHUwNDQyXHUwNDQwXHUwNDNFXHUwNDM1XHUwNDNBXHJcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuRmlsdGVyTW9kZSA9IHZhbHVlOyAvLyBcdTA0MjFcdTA0M0VcdTA0NDVcdTA0NDBcdTA0MzBcdTA0M0RcdTA0NEZcdTA0MzVcdTA0M0MgXHUwNDM3XHUwNDNEXHUwNDMwXHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1IFx1MDQzMiBcdTA0M0RcdTA0MzBcdTA0NDFcdTA0NDJcdTA0NDBcdTA0M0VcdTA0MzlcdTA0M0FcdTA0MzhcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgIH1cclxufVxyXG5cclxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBLHNCQUFnRjtBQU9oRiwyQkFBMkIsTUFBK0M7QUFDekUsU0FBUSw4QkFBYyxVQUFTO0FBQ2hDO0FBRUEsZ0NBQWdDLFdBQTJCLFdBQTJCO0FBQ3JGLFNBQU8sVUFBVSxLQUFLLFVBQVUsS0FDM0IsVUFBVSxJQUFJ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
