/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __accessCheck = (obj, member, msg) => {
  if (!member.has(obj))
    throw TypeError("Cannot " + msg);
};
var __privateGet = (obj, member, getter) => {
  __accessCheck(obj, member, "read from private field");
  return getter ? getter.call(obj) : member.get(obj);
};
var __privateAdd = (obj, member, value) => {
  if (member.has(obj))
    throw TypeError("Cannot add the same private member more than once");
  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
};
var __privateSet = (obj, member, value, setter) => {
  __accessCheck(obj, member, "write to private field");
  setter ? setter.call(obj, value) : member.set(obj, value);
  return value;
};
var __privateWrapper = (obj, member, setter, getter) => ({
  set _(value) {
    __privateSet(obj, member, value, setter);
  },
  get _() {
    return __privateGet(obj, member, getter);
  }
});
var __privateMethod = (obj, member, method) => {
  __accessCheck(obj, member, "access private method");
  return method;
};

// main.ts
var main_exports = {};
__export(main_exports, {
  BaseView: () => BaseView,
  VIEW_TYPE: () => VIEW_TYPE,
  default: () => Crafty
});
module.exports = __toCommonJS(main_exports);

// node_modules/.pnpm/@lit+reactive-element@2.0.4/node_modules/@lit/reactive-element/css-tag.js
var t = globalThis;
var e = t.ShadowRoot && (void 0 === t.ShadyCSS || t.ShadyCSS.nativeShadow) && "adoptedStyleSheets" in Document.prototype && "replace" in CSSStyleSheet.prototype;
var s = Symbol();
var o = /* @__PURE__ */ new WeakMap();
var n = class {
  constructor(t7, e11, o10) {
    if (this._$cssResult$ = true, o10 !== s)
      throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");
    this.cssText = t7, this.t = e11;
  }
  get styleSheet() {
    let t7 = this.o;
    const s5 = this.t;
    if (e && void 0 === t7) {
      const e11 = void 0 !== s5 && 1 === s5.length;
      e11 && (t7 = o.get(s5)), void 0 === t7 && ((this.o = t7 = new CSSStyleSheet()).replaceSync(this.cssText), e11 && o.set(s5, t7));
    }
    return t7;
  }
  toString() {
    return this.cssText;
  }
};
var r = (t7) => new n("string" == typeof t7 ? t7 : t7 + "", void 0, s);
var i = (t7, ...e11) => {
  const o10 = 1 === t7.length ? t7[0] : e11.reduce((e12, s5, o11) => e12 + ((t8) => {
    if (true === t8._$cssResult$)
      return t8.cssText;
    if ("number" == typeof t8)
      return t8;
    throw Error("Value passed to 'css' function must be a 'css' function result: " + t8 + ". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.");
  })(s5) + t7[o11 + 1], t7[0]);
  return new n(o10, t7, s);
};
var S = (s5, o10) => {
  if (e)
    s5.adoptedStyleSheets = o10.map((t7) => t7 instanceof CSSStyleSheet ? t7 : t7.styleSheet);
  else
    for (const e11 of o10) {
      const o11 = document.createElement("style"), n7 = t.litNonce;
      void 0 !== n7 && o11.setAttribute("nonce", n7), o11.textContent = e11.cssText, s5.appendChild(o11);
    }
};
var c = e ? (t7) => t7 : (t7) => t7 instanceof CSSStyleSheet ? ((t8) => {
  let e11 = "";
  for (const s5 of t8.cssRules)
    e11 += s5.cssText;
  return r(e11);
})(t7) : t7;

// node_modules/.pnpm/@lit+reactive-element@2.0.4/node_modules/@lit/reactive-element/reactive-element.js
var { is: i2, defineProperty: e2, getOwnPropertyDescriptor: r2, getOwnPropertyNames: h, getOwnPropertySymbols: o2, getPrototypeOf: n2 } = Object;
var a = globalThis;
var c2 = a.trustedTypes;
var l = c2 ? c2.emptyScript : "";
var p = a.reactiveElementPolyfillSupport;
var d = (t7, s5) => t7;
var u = { toAttribute(t7, s5) {
  switch (s5) {
    case Boolean:
      t7 = t7 ? l : null;
      break;
    case Object:
    case Array:
      t7 = null == t7 ? t7 : JSON.stringify(t7);
  }
  return t7;
}, fromAttribute(t7, s5) {
  let i6 = t7;
  switch (s5) {
    case Boolean:
      i6 = null !== t7;
      break;
    case Number:
      i6 = null === t7 ? null : Number(t7);
      break;
    case Object:
    case Array:
      try {
        i6 = JSON.parse(t7);
      } catch (t8) {
        i6 = null;
      }
  }
  return i6;
} };
var f = (t7, s5) => !i2(t7, s5);
var y = { attribute: true, type: String, converter: u, reflect: false, hasChanged: f };
var _a, _b;
(_a = Symbol.metadata) != null ? _a : Symbol.metadata = Symbol("metadata"), (_b = a.litPropertyMetadata) != null ? _b : a.litPropertyMetadata = /* @__PURE__ */ new WeakMap();
var b = class extends HTMLElement {
  static addInitializer(t7) {
    var _a6;
    this._$Ei(), ((_a6 = this.l) != null ? _a6 : this.l = []).push(t7);
  }
  static get observedAttributes() {
    return this.finalize(), this._$Eh && [...this._$Eh.keys()];
  }
  static createProperty(t7, s5 = y) {
    if (s5.state && (s5.attribute = false), this._$Ei(), this.elementProperties.set(t7, s5), !s5.noAccessor) {
      const i6 = Symbol(), r8 = this.getPropertyDescriptor(t7, i6, s5);
      void 0 !== r8 && e2(this.prototype, t7, r8);
    }
  }
  static getPropertyDescriptor(t7, s5, i6) {
    var _a6;
    const { get: e11, set: h3 } = (_a6 = r2(this.prototype, t7)) != null ? _a6 : { get() {
      return this[s5];
    }, set(t8) {
      this[s5] = t8;
    } };
    return { get() {
      return e11 == null ? void 0 : e11.call(this);
    }, set(s6) {
      const r8 = e11 == null ? void 0 : e11.call(this);
      h3.call(this, s6), this.requestUpdate(t7, r8, i6);
    }, configurable: true, enumerable: true };
  }
  static getPropertyOptions(t7) {
    var _a6;
    return (_a6 = this.elementProperties.get(t7)) != null ? _a6 : y;
  }
  static _$Ei() {
    if (this.hasOwnProperty(d("elementProperties")))
      return;
    const t7 = n2(this);
    t7.finalize(), void 0 !== t7.l && (this.l = [...t7.l]), this.elementProperties = new Map(t7.elementProperties);
  }
  static finalize() {
    if (this.hasOwnProperty(d("finalized")))
      return;
    if (this.finalized = true, this._$Ei(), this.hasOwnProperty(d("properties"))) {
      const t8 = this.properties, s5 = [...h(t8), ...o2(t8)];
      for (const i6 of s5)
        this.createProperty(i6, t8[i6]);
    }
    const t7 = this[Symbol.metadata];
    if (null !== t7) {
      const s5 = litPropertyMetadata.get(t7);
      if (void 0 !== s5)
        for (const [t8, i6] of s5)
          this.elementProperties.set(t8, i6);
    }
    this._$Eh = /* @__PURE__ */ new Map();
    for (const [t8, s5] of this.elementProperties) {
      const i6 = this._$Eu(t8, s5);
      void 0 !== i6 && this._$Eh.set(i6, t8);
    }
    this.elementStyles = this.finalizeStyles(this.styles);
  }
  static finalizeStyles(s5) {
    const i6 = [];
    if (Array.isArray(s5)) {
      const e11 = new Set(s5.flat(1 / 0).reverse());
      for (const s6 of e11)
        i6.unshift(c(s6));
    } else
      void 0 !== s5 && i6.push(c(s5));
    return i6;
  }
  static _$Eu(t7, s5) {
    const i6 = s5.attribute;
    return false === i6 ? void 0 : "string" == typeof i6 ? i6 : "string" == typeof t7 ? t7.toLowerCase() : void 0;
  }
  constructor() {
    super(), this._$Ep = void 0, this.isUpdatePending = false, this.hasUpdated = false, this._$Em = null, this._$Ev();
  }
  _$Ev() {
    var _a6;
    this._$ES = new Promise((t7) => this.enableUpdating = t7), this._$AL = /* @__PURE__ */ new Map(), this._$E_(), this.requestUpdate(), (_a6 = this.constructor.l) == null ? void 0 : _a6.forEach((t7) => t7(this));
  }
  addController(t7) {
    var _a6, _b3;
    ((_a6 = this._$EO) != null ? _a6 : this._$EO = /* @__PURE__ */ new Set()).add(t7), void 0 !== this.renderRoot && this.isConnected && ((_b3 = t7.hostConnected) == null ? void 0 : _b3.call(t7));
  }
  removeController(t7) {
    var _a6;
    (_a6 = this._$EO) == null ? void 0 : _a6.delete(t7);
  }
  _$E_() {
    const t7 = /* @__PURE__ */ new Map(), s5 = this.constructor.elementProperties;
    for (const i6 of s5.keys())
      this.hasOwnProperty(i6) && (t7.set(i6, this[i6]), delete this[i6]);
    t7.size > 0 && (this._$Ep = t7);
  }
  createRenderRoot() {
    var _a6;
    const t7 = (_a6 = this.shadowRoot) != null ? _a6 : this.attachShadow(this.constructor.shadowRootOptions);
    return S(t7, this.constructor.elementStyles), t7;
  }
  connectedCallback() {
    var _a6, _b3;
    (_a6 = this.renderRoot) != null ? _a6 : this.renderRoot = this.createRenderRoot(), this.enableUpdating(true), (_b3 = this._$EO) == null ? void 0 : _b3.forEach((t7) => {
      var _a7;
      return (_a7 = t7.hostConnected) == null ? void 0 : _a7.call(t7);
    });
  }
  enableUpdating(t7) {
  }
  disconnectedCallback() {
    var _a6;
    (_a6 = this._$EO) == null ? void 0 : _a6.forEach((t7) => {
      var _a7;
      return (_a7 = t7.hostDisconnected) == null ? void 0 : _a7.call(t7);
    });
  }
  attributeChangedCallback(t7, s5, i6) {
    this._$AK(t7, i6);
  }
  _$EC(t7, s5) {
    var _a6;
    const i6 = this.constructor.elementProperties.get(t7), e11 = this.constructor._$Eu(t7, i6);
    if (void 0 !== e11 && true === i6.reflect) {
      const r8 = (void 0 !== ((_a6 = i6.converter) == null ? void 0 : _a6.toAttribute) ? i6.converter : u).toAttribute(s5, i6.type);
      this._$Em = t7, null == r8 ? this.removeAttribute(e11) : this.setAttribute(e11, r8), this._$Em = null;
    }
  }
  _$AK(t7, s5) {
    var _a6;
    const i6 = this.constructor, e11 = i6._$Eh.get(t7);
    if (void 0 !== e11 && this._$Em !== e11) {
      const t8 = i6.getPropertyOptions(e11), r8 = "function" == typeof t8.converter ? { fromAttribute: t8.converter } : void 0 !== ((_a6 = t8.converter) == null ? void 0 : _a6.fromAttribute) ? t8.converter : u;
      this._$Em = e11, this[e11] = r8.fromAttribute(s5, t8.type), this._$Em = null;
    }
  }
  requestUpdate(t7, s5, i6) {
    var _a6;
    if (void 0 !== t7) {
      if (i6 != null ? i6 : i6 = this.constructor.getPropertyOptions(t7), !((_a6 = i6.hasChanged) != null ? _a6 : f)(this[t7], s5))
        return;
      this.P(t7, s5, i6);
    }
    false === this.isUpdatePending && (this._$ES = this._$ET());
  }
  P(t7, s5, i6) {
    var _a6;
    this._$AL.has(t7) || this._$AL.set(t7, s5), true === i6.reflect && this._$Em !== t7 && ((_a6 = this._$Ej) != null ? _a6 : this._$Ej = /* @__PURE__ */ new Set()).add(t7);
  }
  async _$ET() {
    this.isUpdatePending = true;
    try {
      await this._$ES;
    } catch (t8) {
      Promise.reject(t8);
    }
    const t7 = this.scheduleUpdate();
    return null != t7 && await t7, !this.isUpdatePending;
  }
  scheduleUpdate() {
    return this.performUpdate();
  }
  performUpdate() {
    var _a6, _b3;
    if (!this.isUpdatePending)
      return;
    if (!this.hasUpdated) {
      if ((_a6 = this.renderRoot) != null ? _a6 : this.renderRoot = this.createRenderRoot(), this._$Ep) {
        for (const [t9, s6] of this._$Ep)
          this[t9] = s6;
        this._$Ep = void 0;
      }
      const t8 = this.constructor.elementProperties;
      if (t8.size > 0)
        for (const [s6, i6] of t8)
          true !== i6.wrapped || this._$AL.has(s6) || void 0 === this[s6] || this.P(s6, this[s6], i6);
    }
    let t7 = false;
    const s5 = this._$AL;
    try {
      t7 = this.shouldUpdate(s5), t7 ? (this.willUpdate(s5), (_b3 = this._$EO) == null ? void 0 : _b3.forEach((t8) => {
        var _a7;
        return (_a7 = t8.hostUpdate) == null ? void 0 : _a7.call(t8);
      }), this.update(s5)) : this._$EU();
    } catch (s6) {
      throw t7 = false, this._$EU(), s6;
    }
    t7 && this._$AE(s5);
  }
  willUpdate(t7) {
  }
  _$AE(t7) {
    var _a6;
    (_a6 = this._$EO) == null ? void 0 : _a6.forEach((t8) => {
      var _a7;
      return (_a7 = t8.hostUpdated) == null ? void 0 : _a7.call(t8);
    }), this.hasUpdated || (this.hasUpdated = true, this.firstUpdated(t7)), this.updated(t7);
  }
  _$EU() {
    this._$AL = /* @__PURE__ */ new Map(), this.isUpdatePending = false;
  }
  get updateComplete() {
    return this.getUpdateComplete();
  }
  getUpdateComplete() {
    return this._$ES;
  }
  shouldUpdate(t7) {
    return true;
  }
  update(t7) {
    this._$Ej && (this._$Ej = this._$Ej.forEach((t8) => this._$EC(t8, this[t8]))), this._$EU();
  }
  updated(t7) {
  }
  firstUpdated(t7) {
  }
};
var _a2;
b.elementStyles = [], b.shadowRootOptions = { mode: "open" }, b[d("elementProperties")] = /* @__PURE__ */ new Map(), b[d("finalized")] = /* @__PURE__ */ new Map(), p == null ? void 0 : p({ ReactiveElement: b }), ((_a2 = a.reactiveElementVersions) != null ? _a2 : a.reactiveElementVersions = []).push("2.0.4");

// node_modules/.pnpm/lit-html@3.1.2/node_modules/lit-html/lit-html.js
var t2 = globalThis;
var i3 = t2.trustedTypes;
var s2 = i3 ? i3.createPolicy("lit-html", { createHTML: (t7) => t7 }) : void 0;
var e3 = "$lit$";
var h2 = `lit$${(Math.random() + "").slice(9)}$`;
var o3 = "?" + h2;
var n3 = `<${o3}>`;
var r3 = document;
var l2 = () => r3.createComment("");
var c3 = (t7) => null === t7 || "object" != typeof t7 && "function" != typeof t7;
var a2 = Array.isArray;
var u2 = (t7) => a2(t7) || "function" == typeof (t7 == null ? void 0 : t7[Symbol.iterator]);
var d2 = "[ 	\n\f\r]";
var f2 = /<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g;
var v = /-->/g;
var _ = />/g;
var m = RegExp(`>|${d2}(?:([^\\s"'>=/]+)(${d2}*=${d2}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`, "g");
var p2 = /'/g;
var g = /"/g;
var $ = /^(?:script|style|textarea|title)$/i;
var y2 = (t7) => (i6, ...s5) => ({ _$litType$: t7, strings: i6, values: s5 });
var x = y2(1);
var b2 = y2(2);
var w = Symbol.for("lit-noChange");
var T = Symbol.for("lit-nothing");
var A = /* @__PURE__ */ new WeakMap();
var E = r3.createTreeWalker(r3, 129);
function C(t7, i6) {
  if (!Array.isArray(t7) || !t7.hasOwnProperty("raw"))
    throw Error("invalid template strings array");
  return void 0 !== s2 ? s2.createHTML(i6) : i6;
}
var P = (t7, i6) => {
  const s5 = t7.length - 1, o10 = [];
  let r8, l5 = 2 === i6 ? "<svg>" : "", c4 = f2;
  for (let i7 = 0; i7 < s5; i7++) {
    const s6 = t7[i7];
    let a4, u5, d3 = -1, y3 = 0;
    for (; y3 < s6.length && (c4.lastIndex = y3, u5 = c4.exec(s6), null !== u5); )
      y3 = c4.lastIndex, c4 === f2 ? "!--" === u5[1] ? c4 = v : void 0 !== u5[1] ? c4 = _ : void 0 !== u5[2] ? ($.test(u5[2]) && (r8 = RegExp("</" + u5[2], "g")), c4 = m) : void 0 !== u5[3] && (c4 = m) : c4 === m ? ">" === u5[0] ? (c4 = r8 != null ? r8 : f2, d3 = -1) : void 0 === u5[1] ? d3 = -2 : (d3 = c4.lastIndex - u5[2].length, a4 = u5[1], c4 = void 0 === u5[3] ? m : '"' === u5[3] ? g : p2) : c4 === g || c4 === p2 ? c4 = m : c4 === v || c4 === _ ? c4 = f2 : (c4 = m, r8 = void 0);
    const x2 = c4 === m && t7[i7 + 1].startsWith("/>") ? " " : "";
    l5 += c4 === f2 ? s6 + n3 : d3 >= 0 ? (o10.push(a4), s6.slice(0, d3) + e3 + s6.slice(d3) + h2 + x2) : s6 + h2 + (-2 === d3 ? i7 : x2);
  }
  return [C(t7, l5 + (t7[s5] || "<?>") + (2 === i6 ? "</svg>" : "")), o10];
};
var V = class {
  constructor({ strings: t7, _$litType$: s5 }, n7) {
    let r8;
    this.parts = [];
    let c4 = 0, a4 = 0;
    const u5 = t7.length - 1, d3 = this.parts, [f4, v2] = P(t7, s5);
    if (this.el = V.createElement(f4, n7), E.currentNode = this.el.content, 2 === s5) {
      const t8 = this.el.content.firstChild;
      t8.replaceWith(...t8.childNodes);
    }
    for (; null !== (r8 = E.nextNode()) && d3.length < u5; ) {
      if (1 === r8.nodeType) {
        if (r8.hasAttributes())
          for (const t8 of r8.getAttributeNames())
            if (t8.endsWith(e3)) {
              const i6 = v2[a4++], s6 = r8.getAttribute(t8).split(h2), e11 = /([.?@])?(.*)/.exec(i6);
              d3.push({ type: 1, index: c4, name: e11[2], strings: s6, ctor: "." === e11[1] ? k : "?" === e11[1] ? H : "@" === e11[1] ? I : R }), r8.removeAttribute(t8);
            } else
              t8.startsWith(h2) && (d3.push({ type: 6, index: c4 }), r8.removeAttribute(t8));
        if ($.test(r8.tagName)) {
          const t8 = r8.textContent.split(h2), s6 = t8.length - 1;
          if (s6 > 0) {
            r8.textContent = i3 ? i3.emptyScript : "";
            for (let i6 = 0; i6 < s6; i6++)
              r8.append(t8[i6], l2()), E.nextNode(), d3.push({ type: 2, index: ++c4 });
            r8.append(t8[s6], l2());
          }
        }
      } else if (8 === r8.nodeType)
        if (r8.data === o3)
          d3.push({ type: 2, index: c4 });
        else {
          let t8 = -1;
          for (; -1 !== (t8 = r8.data.indexOf(h2, t8 + 1)); )
            d3.push({ type: 7, index: c4 }), t8 += h2.length - 1;
        }
      c4++;
    }
  }
  static createElement(t7, i6) {
    const s5 = r3.createElement("template");
    return s5.innerHTML = t7, s5;
  }
};
function N(t7, i6, s5 = t7, e11) {
  var _a6, _b2, _c;
  if (i6 === w)
    return i6;
  let h3 = void 0 !== e11 ? (_a6 = s5._$Co) == null ? void 0 : _a6[e11] : s5._$Cl;
  const o10 = c3(i6) ? void 0 : i6._$litDirective$;
  return (h3 == null ? void 0 : h3.constructor) !== o10 && ((_b2 = h3 == null ? void 0 : h3._$AO) == null ? void 0 : _b2.call(h3, false), void 0 === o10 ? h3 = void 0 : (h3 = new o10(t7), h3._$AT(t7, s5, e11)), void 0 !== e11 ? ((_c = s5._$Co) != null ? _c : s5._$Co = [])[e11] = h3 : s5._$Cl = h3), void 0 !== h3 && (i6 = N(t7, h3._$AS(t7, i6.values), h3, e11)), i6;
}
var S2 = class {
  constructor(t7, i6) {
    this._$AV = [], this._$AN = void 0, this._$AD = t7, this._$AM = i6;
  }
  get parentNode() {
    return this._$AM.parentNode;
  }
  get _$AU() {
    return this._$AM._$AU;
  }
  u(t7) {
    var _a6;
    const { el: { content: i6 }, parts: s5 } = this._$AD, e11 = ((_a6 = t7 == null ? void 0 : t7.creationScope) != null ? _a6 : r3).importNode(i6, true);
    E.currentNode = e11;
    let h3 = E.nextNode(), o10 = 0, n7 = 0, l5 = s5[0];
    for (; void 0 !== l5; ) {
      if (o10 === l5.index) {
        let i7;
        2 === l5.type ? i7 = new M(h3, h3.nextSibling, this, t7) : 1 === l5.type ? i7 = new l5.ctor(h3, l5.name, l5.strings, this, t7) : 6 === l5.type && (i7 = new L(h3, this, t7)), this._$AV.push(i7), l5 = s5[++n7];
      }
      o10 !== (l5 == null ? void 0 : l5.index) && (h3 = E.nextNode(), o10++);
    }
    return E.currentNode = r3, e11;
  }
  p(t7) {
    let i6 = 0;
    for (const s5 of this._$AV)
      void 0 !== s5 && (void 0 !== s5.strings ? (s5._$AI(t7, s5, i6), i6 += s5.strings.length - 2) : s5._$AI(t7[i6])), i6++;
  }
};
var M = class {
  get _$AU() {
    var _a6, _b2;
    return (_b2 = (_a6 = this._$AM) == null ? void 0 : _a6._$AU) != null ? _b2 : this._$Cv;
  }
  constructor(t7, i6, s5, e11) {
    var _a6;
    this.type = 2, this._$AH = T, this._$AN = void 0, this._$AA = t7, this._$AB = i6, this._$AM = s5, this.options = e11, this._$Cv = (_a6 = e11 == null ? void 0 : e11.isConnected) != null ? _a6 : true;
  }
  get parentNode() {
    let t7 = this._$AA.parentNode;
    const i6 = this._$AM;
    return void 0 !== i6 && 11 === (t7 == null ? void 0 : t7.nodeType) && (t7 = i6.parentNode), t7;
  }
  get startNode() {
    return this._$AA;
  }
  get endNode() {
    return this._$AB;
  }
  _$AI(t7, i6 = this) {
    t7 = N(this, t7, i6), c3(t7) ? t7 === T || null == t7 || "" === t7 ? (this._$AH !== T && this._$AR(), this._$AH = T) : t7 !== this._$AH && t7 !== w && this._(t7) : void 0 !== t7._$litType$ ? this.$(t7) : void 0 !== t7.nodeType ? this.T(t7) : u2(t7) ? this.k(t7) : this._(t7);
  }
  S(t7) {
    return this._$AA.parentNode.insertBefore(t7, this._$AB);
  }
  T(t7) {
    this._$AH !== t7 && (this._$AR(), this._$AH = this.S(t7));
  }
  _(t7) {
    this._$AH !== T && c3(this._$AH) ? this._$AA.nextSibling.data = t7 : this.T(r3.createTextNode(t7)), this._$AH = t7;
  }
  $(t7) {
    var _a6;
    const { values: i6, _$litType$: s5 } = t7, e11 = "number" == typeof s5 ? this._$AC(t7) : (void 0 === s5.el && (s5.el = V.createElement(C(s5.h, s5.h[0]), this.options)), s5);
    if (((_a6 = this._$AH) == null ? void 0 : _a6._$AD) === e11)
      this._$AH.p(i6);
    else {
      const t8 = new S2(e11, this), s6 = t8.u(this.options);
      t8.p(i6), this.T(s6), this._$AH = t8;
    }
  }
  _$AC(t7) {
    let i6 = A.get(t7.strings);
    return void 0 === i6 && A.set(t7.strings, i6 = new V(t7)), i6;
  }
  k(t7) {
    a2(this._$AH) || (this._$AH = [], this._$AR());
    const i6 = this._$AH;
    let s5, e11 = 0;
    for (const h3 of t7)
      e11 === i6.length ? i6.push(s5 = new M(this.S(l2()), this.S(l2()), this, this.options)) : s5 = i6[e11], s5._$AI(h3), e11++;
    e11 < i6.length && (this._$AR(s5 && s5._$AB.nextSibling, e11), i6.length = e11);
  }
  _$AR(t7 = this._$AA.nextSibling, i6) {
    var _a6;
    for ((_a6 = this._$AP) == null ? void 0 : _a6.call(this, false, true, i6); t7 && t7 !== this._$AB; ) {
      const i7 = t7.nextSibling;
      t7.remove(), t7 = i7;
    }
  }
  setConnected(t7) {
    var _a6;
    void 0 === this._$AM && (this._$Cv = t7, (_a6 = this._$AP) == null ? void 0 : _a6.call(this, t7));
  }
};
var R = class {
  get tagName() {
    return this.element.tagName;
  }
  get _$AU() {
    return this._$AM._$AU;
  }
  constructor(t7, i6, s5, e11, h3) {
    this.type = 1, this._$AH = T, this._$AN = void 0, this.element = t7, this.name = i6, this._$AM = e11, this.options = h3, s5.length > 2 || "" !== s5[0] || "" !== s5[1] ? (this._$AH = Array(s5.length - 1).fill(new String()), this.strings = s5) : this._$AH = T;
  }
  _$AI(t7, i6 = this, s5, e11) {
    const h3 = this.strings;
    let o10 = false;
    if (void 0 === h3)
      t7 = N(this, t7, i6, 0), o10 = !c3(t7) || t7 !== this._$AH && t7 !== w, o10 && (this._$AH = t7);
    else {
      const e12 = t7;
      let n7, r8;
      for (t7 = h3[0], n7 = 0; n7 < h3.length - 1; n7++)
        r8 = N(this, e12[s5 + n7], i6, n7), r8 === w && (r8 = this._$AH[n7]), o10 || (o10 = !c3(r8) || r8 !== this._$AH[n7]), r8 === T ? t7 = T : t7 !== T && (t7 += (r8 != null ? r8 : "") + h3[n7 + 1]), this._$AH[n7] = r8;
    }
    o10 && !e11 && this.j(t7);
  }
  j(t7) {
    t7 === T ? this.element.removeAttribute(this.name) : this.element.setAttribute(this.name, t7 != null ? t7 : "");
  }
};
var k = class extends R {
  constructor() {
    super(...arguments), this.type = 3;
  }
  j(t7) {
    this.element[this.name] = t7 === T ? void 0 : t7;
  }
};
var H = class extends R {
  constructor() {
    super(...arguments), this.type = 4;
  }
  j(t7) {
    this.element.toggleAttribute(this.name, !!t7 && t7 !== T);
  }
};
var I = class extends R {
  constructor(t7, i6, s5, e11, h3) {
    super(t7, i6, s5, e11, h3), this.type = 5;
  }
  _$AI(t7, i6 = this) {
    var _a6;
    if ((t7 = (_a6 = N(this, t7, i6, 0)) != null ? _a6 : T) === w)
      return;
    const s5 = this._$AH, e11 = t7 === T && s5 !== T || t7.capture !== s5.capture || t7.once !== s5.once || t7.passive !== s5.passive, h3 = t7 !== T && (s5 === T || e11);
    e11 && this.element.removeEventListener(this.name, this, s5), h3 && this.element.addEventListener(this.name, this, t7), this._$AH = t7;
  }
  handleEvent(t7) {
    var _a6, _b2;
    "function" == typeof this._$AH ? this._$AH.call((_b2 = (_a6 = this.options) == null ? void 0 : _a6.host) != null ? _b2 : this.element, t7) : this._$AH.handleEvent(t7);
  }
};
var L = class {
  constructor(t7, i6, s5) {
    this.element = t7, this.type = 6, this._$AN = void 0, this._$AM = i6, this.options = s5;
  }
  get _$AU() {
    return this._$AM._$AU;
  }
  _$AI(t7) {
    N(this, t7);
  }
};
var z = { P: e3, A: h2, C: o3, M: 1, L: P, R: S2, D: u2, V: N, I: M, H: R, N: H, U: I, B: k, F: L };
var Z = t2.litHtmlPolyfillSupport;
var _a3;
Z == null ? void 0 : Z(V, M), ((_a3 = t2.litHtmlVersions) != null ? _a3 : t2.litHtmlVersions = []).push("3.1.2");
var j = (t7, i6, s5) => {
  var _a6, _b2;
  const e11 = (_a6 = s5 == null ? void 0 : s5.renderBefore) != null ? _a6 : i6;
  let h3 = e11._$litPart$;
  if (void 0 === h3) {
    const t8 = (_b2 = s5 == null ? void 0 : s5.renderBefore) != null ? _b2 : null;
    e11._$litPart$ = h3 = new M(i6.insertBefore(l2(), t8), t8, void 0, s5 != null ? s5 : {});
  }
  return h3._$AI(t7), h3;
};

// node_modules/.pnpm/lit-element@4.0.4/node_modules/lit-element/lit-element.js
var s3 = class extends b {
  constructor() {
    super(...arguments), this.renderOptions = { host: this }, this._$Do = void 0;
  }
  createRenderRoot() {
    var _a6, _b2;
    const t7 = super.createRenderRoot();
    return (_b2 = (_a6 = this.renderOptions).renderBefore) != null ? _b2 : _a6.renderBefore = t7.firstChild, t7;
  }
  update(t7) {
    const i6 = this.render();
    this.hasUpdated || (this.renderOptions.isConnected = this.isConnected), super.update(t7), this._$Do = j(i6, this.renderRoot, this.renderOptions);
  }
  connectedCallback() {
    var _a6;
    super.connectedCallback(), (_a6 = this._$Do) == null ? void 0 : _a6.setConnected(true);
  }
  disconnectedCallback() {
    var _a6;
    super.disconnectedCallback(), (_a6 = this._$Do) == null ? void 0 : _a6.setConnected(false);
  }
  render() {
    return w;
  }
};
var _a4;
s3._$litElement$ = true, s3["finalized", "finalized"] = true, (_a4 = globalThis.litElementHydrateSupport) == null ? void 0 : _a4.call(globalThis, { LitElement: s3 });
var r4 = globalThis.litElementPolyfillSupport;
r4 == null ? void 0 : r4({ LitElement: s3 });
var _a5;
((_a5 = globalThis.litElementVersions) != null ? _a5 : globalThis.litElementVersions = []).push("4.0.4");

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.7DUCI5S4.js
var spinner_styles_default = i`
  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
    flex: none;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.05em, 3em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.05em, 3em;
    }
  }
`;

// node_modules/.pnpm/@shoelace-style+localize@3.1.2/node_modules/@shoelace-style/localize/dist/index.js
var connectedElements = /* @__PURE__ */ new Set();
var documentElementObserver = new MutationObserver(update);
var translations = /* @__PURE__ */ new Map();
var documentDirection = document.documentElement.dir || "ltr";
var documentLanguage = document.documentElement.lang || navigator.language;
var fallback;
documentElementObserver.observe(document.documentElement, {
  attributes: true,
  attributeFilter: ["dir", "lang"]
});
function registerTranslation(...translation2) {
  translation2.map((t7) => {
    const code = t7.$code.toLowerCase();
    if (translations.has(code)) {
      translations.set(code, Object.assign(Object.assign({}, translations.get(code)), t7));
    } else {
      translations.set(code, t7);
    }
    if (!fallback) {
      fallback = t7;
    }
  });
  update();
}
function update() {
  documentDirection = document.documentElement.dir || "ltr";
  documentLanguage = document.documentElement.lang || navigator.language;
  [...connectedElements.keys()].map((el) => {
    if (typeof el.requestUpdate === "function") {
      el.requestUpdate();
    }
  });
}
var LocalizeController = class {
  constructor(host) {
    this.host = host;
    this.host.addController(this);
  }
  hostConnected() {
    connectedElements.add(this.host);
  }
  hostDisconnected() {
    connectedElements.delete(this.host);
  }
  dir() {
    return `${this.host.dir || documentDirection}`.toLowerCase();
  }
  lang() {
    return `${this.host.lang || documentLanguage}`.toLowerCase();
  }
  getTranslationData(lang) {
    var _a6, _b2;
    const locale = new Intl.Locale(lang.replace(/_/g, "-"));
    const language = locale === null || locale === void 0 ? void 0 : locale.language.toLowerCase();
    const region = (_b2 = (_a6 = locale === null || locale === void 0 ? void 0 : locale.region) === null || _a6 === void 0 ? void 0 : _a6.toLowerCase()) !== null && _b2 !== void 0 ? _b2 : "";
    const primary = translations.get(`${language}-${region}`);
    const secondary = translations.get(language);
    return { locale, language, region, primary, secondary };
  }
  exists(key, options) {
    var _a6;
    const { primary, secondary } = this.getTranslationData((_a6 = options.lang) !== null && _a6 !== void 0 ? _a6 : this.lang());
    options = Object.assign({ includeFallback: false }, options);
    if (primary && primary[key] || secondary && secondary[key] || options.includeFallback && fallback && fallback[key]) {
      return true;
    }
    return false;
  }
  term(key, ...args) {
    const { primary, secondary } = this.getTranslationData(this.lang());
    let term;
    if (primary && primary[key]) {
      term = primary[key];
    } else if (secondary && secondary[key]) {
      term = secondary[key];
    } else if (fallback && fallback[key]) {
      term = fallback[key];
    } else {
      console.error(`No translation found for: ${String(key)}`);
      return String(key);
    }
    if (typeof term === "function") {
      return term(...args);
    }
    return term;
  }
  date(dateToFormat, options) {
    dateToFormat = new Date(dateToFormat);
    return new Intl.DateTimeFormat(this.lang(), options).format(dateToFormat);
  }
  number(numberToFormat, options) {
    numberToFormat = Number(numberToFormat);
    return isNaN(numberToFormat) ? "" : new Intl.NumberFormat(this.lang(), options).format(numberToFormat);
  }
  relativeTime(value, unit, options) {
    return new Intl.RelativeTimeFormat(this.lang(), options).format(value, unit);
  }
};

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.MAS2SHYD.js
var translation = {
  $code: "en",
  $name: "English",
  $dir: "ltr",
  carousel: "Carousel",
  clearEntry: "Clear entry",
  close: "Close",
  copied: "Copied",
  copy: "Copy",
  currentValue: "Current value",
  error: "Error",
  goToSlide: (slide, count) => `Go to slide ${slide} of ${count}`,
  hidePassword: "Hide password",
  loading: "Loading",
  nextSlide: "Next slide",
  numOptionsSelected: (num) => {
    if (num === 0)
      return "No options selected";
    if (num === 1)
      return "1 option selected";
    return `${num} options selected`;
  },
  previousSlide: "Previous slide",
  progress: "Progress",
  remove: "Remove",
  resize: "Resize",
  scrollToEnd: "Scroll to end",
  scrollToStart: "Scroll to start",
  selectAColorFromTheScreen: "Select a color from the screen",
  showPassword: "Show password",
  slideNum: (slide) => `Slide ${slide}`,
  toggleColorFormat: "Toggle color format"
};
registerTranslation(translation);
var en_default = translation;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.WLV3FVBR.js
var LocalizeController2 = class extends LocalizeController {
};
registerTranslation(en_default);

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.TUVJKY7S.js
var component_styles_default = i`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.IFDWM6P4.js
var __defProp2 = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDesc2 = Object.getOwnPropertyDescriptor;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp2 = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a4, b3) => {
  for (var prop in b3 || (b3 = {}))
    if (__hasOwnProp2.call(b3, prop))
      __defNormalProp(a4, prop, b3[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b3)) {
      if (__propIsEnum.call(b3, prop))
        __defNormalProp(a4, prop, b3[prop]);
    }
  return a4;
};
var __spreadProps = (a4, b3) => __defProps(a4, __getOwnPropDescs(b3));
var __decorateClass = (decorators, target, key, kind) => {
  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc2(target, key) : target;
  for (var i6 = decorators.length - 1, decorator; i6 >= 0; i6--)
    if (decorator = decorators[i6])
      result = (kind ? decorator(target, key, result) : decorator(result)) || result;
  if (kind && result)
    __defProp2(target, key, result);
  return result;
};

// node_modules/.pnpm/@lit+reactive-element@2.0.4/node_modules/@lit/reactive-element/decorators/property.js
var o4 = { attribute: true, type: String, converter: u, reflect: false, hasChanged: f };
var r5 = (t7 = o4, e11, r8) => {
  const { kind: n7, metadata: i6 } = r8;
  let s5 = globalThis.litPropertyMetadata.get(i6);
  if (void 0 === s5 && globalThis.litPropertyMetadata.set(i6, s5 = /* @__PURE__ */ new Map()), s5.set(r8.name, t7), "accessor" === n7) {
    const { name: o10 } = r8;
    return { set(r9) {
      const n8 = e11.get.call(this);
      e11.set.call(this, r9), this.requestUpdate(o10, n8, t7);
    }, init(e12) {
      return void 0 !== e12 && this.P(o10, void 0, t7), e12;
    } };
  }
  if ("setter" === n7) {
    const { name: o10 } = r8;
    return function(r9) {
      const n8 = this[o10];
      e11.call(this, r9), this.requestUpdate(o10, n8, t7);
    };
  }
  throw Error("Unsupported decorator location: " + n7);
};
function n4(t7) {
  return (e11, o10) => "object" == typeof o10 ? r5(t7, e11, o10) : ((t8, e12, o11) => {
    const r8 = e12.hasOwnProperty(o11);
    return e12.constructor.createProperty(o11, r8 ? { ...t8, wrapped: true } : t8), r8 ? Object.getOwnPropertyDescriptor(e12, o11) : void 0;
  })(t7, e11, o10);
}

// node_modules/.pnpm/@lit+reactive-element@2.0.4/node_modules/@lit/reactive-element/decorators/state.js
function r6(r8) {
  return n4({ ...r8, state: true, attribute: false });
}

// node_modules/.pnpm/@lit+reactive-element@2.0.4/node_modules/@lit/reactive-element/decorators/event-options.js
function t3(t7) {
  return (n7, o10) => {
    const c4 = "function" == typeof n7 ? n7 : n7[o10];
    Object.assign(c4, t7);
  };
}

// node_modules/.pnpm/@lit+reactive-element@2.0.4/node_modules/@lit/reactive-element/decorators/base.js
var e4 = (e11, t7, c4) => (c4.configurable = true, c4.enumerable = true, Reflect.decorate && "object" != typeof t7 && Object.defineProperty(e11, t7, c4), c4);

// node_modules/.pnpm/@lit+reactive-element@2.0.4/node_modules/@lit/reactive-element/decorators/query.js
function e5(e11, r8) {
  return (n7, s5, i6) => {
    const o10 = (t7) => {
      var _a6, _b2;
      return (_b2 = (_a6 = t7.renderRoot) == null ? void 0 : _a6.querySelector(e11)) != null ? _b2 : null;
    };
    if (r8) {
      const { get: e12, set: r9 } = "object" == typeof s5 ? n7 : i6 != null ? i6 : (() => {
        const t7 = Symbol();
        return { get() {
          return this[t7];
        }, set(e13) {
          this[t7] = e13;
        } };
      })();
      return e4(n7, s5, { get() {
        let t7 = e12.call(this);
        return void 0 === t7 && (t7 = o10(this), (null !== t7 || this.hasUpdated) && r9.call(this, t7)), t7;
      } });
    }
    return e4(n7, s5, { get() {
      return o10(this);
    } });
  };
}

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.SFSTXCXC.js
var ShoelaceElement = class extends s3 {
  constructor() {
    super();
    Object.entries(this.constructor.dependencies).forEach(([name, component]) => {
      this.constructor.define(name, component);
    });
  }
  emit(name, options) {
    const event = new CustomEvent(name, __spreadValues({
      bubbles: true,
      cancelable: false,
      composed: true,
      detail: {}
    }, options));
    this.dispatchEvent(event);
    return event;
  }
  /* eslint-enable */
  static define(name, elementConstructor = this, options = {}) {
    const currentlyRegisteredConstructor = customElements.get(name);
    if (!currentlyRegisteredConstructor) {
      customElements.define(name, class extends elementConstructor {
      }, options);
      return;
    }
    let newVersion = " (unknown version)";
    let existingVersion = newVersion;
    if ("version" in elementConstructor && elementConstructor.version) {
      newVersion = " v" + elementConstructor.version;
    }
    if ("version" in currentlyRegisteredConstructor && currentlyRegisteredConstructor.version) {
      existingVersion = " v" + currentlyRegisteredConstructor.version;
    }
    if (newVersion && existingVersion && newVersion === existingVersion) {
      return;
    }
    console.warn(
      `Attempted to register <${name}>${newVersion}, but <${name}>${existingVersion} has already been registered.`
    );
  }
};
ShoelaceElement.version = "2.15.0";
ShoelaceElement.dependencies = {};
__decorateClass([
  n4()
], ShoelaceElement.prototype, "dir", 2);
__decorateClass([
  n4()
], ShoelaceElement.prototype, "lang", 2);

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.RADK4UXU.js
var SlSpinner = class extends ShoelaceElement {
  constructor() {
    super(...arguments);
    this.localize = new LocalizeController2(this);
  }
  render() {
    return x`
      <svg part="base" class="spinner" role="progressbar" aria-label=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `;
  }
};
SlSpinner.styles = [component_styles_default, spinner_styles_default];

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.KWPBDQ6I.js
var formCollections = /* @__PURE__ */ new WeakMap();
var reportValidityOverloads = /* @__PURE__ */ new WeakMap();
var checkValidityOverloads = /* @__PURE__ */ new WeakMap();
var userInteractedControls = /* @__PURE__ */ new WeakSet();
var interactions = /* @__PURE__ */ new WeakMap();
var FormControlController = class {
  constructor(host, options) {
    this.handleFormData = (event) => {
      const disabled = this.options.disabled(this.host);
      const name = this.options.name(this.host);
      const value = this.options.value(this.host);
      const isButton = this.host.tagName.toLowerCase() === "sl-button";
      if (this.host.isConnected && !disabled && !isButton && typeof name === "string" && name.length > 0 && typeof value !== "undefined") {
        if (Array.isArray(value)) {
          value.forEach((val) => {
            event.formData.append(name, val.toString());
          });
        } else {
          event.formData.append(name, value.toString());
        }
      }
    };
    this.handleFormSubmit = (event) => {
      var _a6;
      const disabled = this.options.disabled(this.host);
      const reportValidity = this.options.reportValidity;
      if (this.form && !this.form.noValidate) {
        (_a6 = formCollections.get(this.form)) == null ? void 0 : _a6.forEach((control) => {
          this.setUserInteracted(control, true);
        });
      }
      if (this.form && !this.form.noValidate && !disabled && !reportValidity(this.host)) {
        event.preventDefault();
        event.stopImmediatePropagation();
      }
    };
    this.handleFormReset = () => {
      this.options.setValue(this.host, this.options.defaultValue(this.host));
      this.setUserInteracted(this.host, false);
      interactions.set(this.host, []);
    };
    this.handleInteraction = (event) => {
      const emittedEvents = interactions.get(this.host);
      if (!emittedEvents.includes(event.type)) {
        emittedEvents.push(event.type);
      }
      if (emittedEvents.length === this.options.assumeInteractionOn.length) {
        this.setUserInteracted(this.host, true);
      }
    };
    this.checkFormValidity = () => {
      if (this.form && !this.form.noValidate) {
        const elements = this.form.querySelectorAll("*");
        for (const element of elements) {
          if (typeof element.checkValidity === "function") {
            if (!element.checkValidity()) {
              return false;
            }
          }
        }
      }
      return true;
    };
    this.reportFormValidity = () => {
      if (this.form && !this.form.noValidate) {
        const elements = this.form.querySelectorAll("*");
        for (const element of elements) {
          if (typeof element.reportValidity === "function") {
            if (!element.reportValidity()) {
              return false;
            }
          }
        }
      }
      return true;
    };
    (this.host = host).addController(this);
    this.options = __spreadValues({
      form: (input) => {
        const formId = input.form;
        if (formId) {
          const root = input.getRootNode();
          const form = root.querySelector(`#${formId}`);
          if (form) {
            return form;
          }
        }
        return input.closest("form");
      },
      name: (input) => input.name,
      value: (input) => input.value,
      defaultValue: (input) => input.defaultValue,
      disabled: (input) => {
        var _a6;
        return (_a6 = input.disabled) != null ? _a6 : false;
      },
      reportValidity: (input) => typeof input.reportValidity === "function" ? input.reportValidity() : true,
      checkValidity: (input) => typeof input.checkValidity === "function" ? input.checkValidity() : true,
      setValue: (input, value) => input.value = value,
      assumeInteractionOn: ["sl-input"]
    }, options);
  }
  hostConnected() {
    const form = this.options.form(this.host);
    if (form) {
      this.attachForm(form);
    }
    interactions.set(this.host, []);
    this.options.assumeInteractionOn.forEach((event) => {
      this.host.addEventListener(event, this.handleInteraction);
    });
  }
  hostDisconnected() {
    this.detachForm();
    interactions.delete(this.host);
    this.options.assumeInteractionOn.forEach((event) => {
      this.host.removeEventListener(event, this.handleInteraction);
    });
  }
  hostUpdated() {
    const form = this.options.form(this.host);
    if (!form) {
      this.detachForm();
    }
    if (form && this.form !== form) {
      this.detachForm();
      this.attachForm(form);
    }
    if (this.host.hasUpdated) {
      this.setValidity(this.host.validity.valid);
    }
  }
  attachForm(form) {
    if (form) {
      this.form = form;
      if (formCollections.has(this.form)) {
        formCollections.get(this.form).add(this.host);
      } else {
        formCollections.set(this.form, /* @__PURE__ */ new Set([this.host]));
      }
      this.form.addEventListener("formdata", this.handleFormData);
      this.form.addEventListener("submit", this.handleFormSubmit);
      this.form.addEventListener("reset", this.handleFormReset);
      if (!reportValidityOverloads.has(this.form)) {
        reportValidityOverloads.set(this.form, this.form.reportValidity);
        this.form.reportValidity = () => this.reportFormValidity();
      }
      if (!checkValidityOverloads.has(this.form)) {
        checkValidityOverloads.set(this.form, this.form.checkValidity);
        this.form.checkValidity = () => this.checkFormValidity();
      }
    } else {
      this.form = void 0;
    }
  }
  detachForm() {
    if (!this.form)
      return;
    const formCollection = formCollections.get(this.form);
    if (!formCollection) {
      return;
    }
    formCollection.delete(this.host);
    if (formCollection.size <= 0) {
      this.form.removeEventListener("formdata", this.handleFormData);
      this.form.removeEventListener("submit", this.handleFormSubmit);
      this.form.removeEventListener("reset", this.handleFormReset);
      if (reportValidityOverloads.has(this.form)) {
        this.form.reportValidity = reportValidityOverloads.get(this.form);
        reportValidityOverloads.delete(this.form);
      }
      if (checkValidityOverloads.has(this.form)) {
        this.form.checkValidity = checkValidityOverloads.get(this.form);
        checkValidityOverloads.delete(this.form);
      }
      this.form = void 0;
    }
  }
  setUserInteracted(el, hasInteracted) {
    if (hasInteracted) {
      userInteractedControls.add(el);
    } else {
      userInteractedControls.delete(el);
    }
    el.requestUpdate();
  }
  doAction(type, submitter) {
    if (this.form) {
      const button = document.createElement("button");
      button.type = type;
      button.style.position = "absolute";
      button.style.width = "0";
      button.style.height = "0";
      button.style.clipPath = "inset(50%)";
      button.style.overflow = "hidden";
      button.style.whiteSpace = "nowrap";
      if (submitter) {
        button.name = submitter.name;
        button.value = submitter.value;
        ["formaction", "formenctype", "formmethod", "formnovalidate", "formtarget"].forEach((attr) => {
          if (submitter.hasAttribute(attr)) {
            button.setAttribute(attr, submitter.getAttribute(attr));
          }
        });
      }
      this.form.append(button);
      button.click();
      button.remove();
    }
  }
  /** Returns the associated `<form>` element, if one exists. */
  getForm() {
    var _a6;
    return (_a6 = this.form) != null ? _a6 : null;
  }
  /** Resets the form, restoring all the control to their default value */
  reset(submitter) {
    this.doAction("reset", submitter);
  }
  /** Submits the form, triggering validation and form data injection. */
  submit(submitter) {
    this.doAction("submit", submitter);
  }
  /**
   * Synchronously sets the form control's validity. Call this when you know the future validity but need to update
   * the host element immediately, i.e. before Lit updates the component in the next update.
   */
  setValidity(isValid) {
    const host = this.host;
    const hasInteracted = Boolean(userInteractedControls.has(host));
    const required = Boolean(host.required);
    host.toggleAttribute("data-required", required);
    host.toggleAttribute("data-optional", !required);
    host.toggleAttribute("data-invalid", !isValid);
    host.toggleAttribute("data-valid", isValid);
    host.toggleAttribute("data-user-invalid", !isValid && hasInteracted);
    host.toggleAttribute("data-user-valid", isValid && hasInteracted);
  }
  /**
   * Updates the form control's validity based on the current value of `host.validity.valid`. Call this when anything
   * that affects constraint validation changes so the component receives the correct validity states.
   */
  updateValidity() {
    const host = this.host;
    this.setValidity(host.validity.valid);
  }
  /**
   * Dispatches a non-bubbling, cancelable custom event of type `sl-invalid`.
   * If the `sl-invalid` event will be cancelled then the original `invalid`
   * event (which may have been passed as argument) will also be cancelled.
   * If no original `invalid` event has been passed then the `sl-invalid`
   * event will be cancelled before being dispatched.
   */
  emitInvalidEvent(originalInvalidEvent) {
    const slInvalidEvent = new CustomEvent("sl-invalid", {
      bubbles: false,
      composed: false,
      cancelable: true,
      detail: {}
    });
    if (!originalInvalidEvent) {
      slInvalidEvent.preventDefault();
    }
    if (!this.host.dispatchEvent(slInvalidEvent)) {
      originalInvalidEvent == null ? void 0 : originalInvalidEvent.preventDefault();
    }
  }
};
var validValidityState = Object.freeze({
  badInput: false,
  customError: false,
  patternMismatch: false,
  rangeOverflow: false,
  rangeUnderflow: false,
  stepMismatch: false,
  tooLong: false,
  tooShort: false,
  typeMismatch: false,
  valid: true,
  valueMissing: false
});
var valueMissingValidityState = Object.freeze(__spreadProps(__spreadValues({}, validValidityState), {
  valid: false,
  valueMissing: true
}));
var customErrorValidityState = Object.freeze(__spreadProps(__spreadValues({}, validValidityState), {
  valid: false,
  customError: true
}));

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.HLDU3ZPH.js
var button_styles_default = i`
  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition:
      var(--sl-transition-x-fast) background-color,
      var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border,
      var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up from children */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    height: auto;
    min-height: var(--sl-input-height-small);
    font-size: var(--sl-button-font-size-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    height: auto;
    min-height: var(--sl-input-height-medium);
    font-size: var(--sl-button-font-size-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    height: auto;
    min-height: var(--sl-input-height-large);
    font-size: var(--sl-button-font-size-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host([data-sl-button-group__button--first]:not([data-sl-button-group__button--last])) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host([data-sl-button-group__button--inner]) .button {
    border-radius: 0;
  }

  :host([data-sl-button-group__button--last]:not([data-sl-button-group__button--first])) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host([data-sl-button-group__button]:not([data-sl-button-group__button--first])) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(
      [data-sl-button-group__button]:not(
          [data-sl-button-group__button--first],
          [data-sl-button-group__button--radio],
          [variant='default']
        ):not(:hover)
    )
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host([data-sl-button-group__button--hover]) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host([data-sl-button-group__button--focus]),
  :host([data-sl-button-group__button[checked]]) {
    z-index: 2;
  }
`;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.NYIIDP5N.js
var HasSlotController = class {
  constructor(host, ...slotNames) {
    this.slotNames = [];
    this.handleSlotChange = (event) => {
      const slot = event.target;
      if (this.slotNames.includes("[default]") && !slot.name || slot.name && this.slotNames.includes(slot.name)) {
        this.host.requestUpdate();
      }
    };
    (this.host = host).addController(this);
    this.slotNames = slotNames;
  }
  hasDefaultSlot() {
    return [...this.host.childNodes].some((node) => {
      if (node.nodeType === node.TEXT_NODE && node.textContent.trim() !== "") {
        return true;
      }
      if (node.nodeType === node.ELEMENT_NODE) {
        const el = node;
        const tagName = el.tagName.toLowerCase();
        if (tagName === "sl-visually-hidden") {
          return false;
        }
        if (!el.hasAttribute("slot")) {
          return true;
        }
      }
      return false;
    });
  }
  hasNamedSlot(name) {
    return this.host.querySelector(`:scope > [slot="${name}"]`) !== null;
  }
  test(slotName) {
    return slotName === "[default]" ? this.hasDefaultSlot() : this.hasNamedSlot(slotName);
  }
  hostConnected() {
    this.host.shadowRoot.addEventListener("slotchange", this.handleSlotChange);
  }
  hostDisconnected() {
    this.host.shadowRoot.removeEventListener("slotchange", this.handleSlotChange);
  }
};

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.3Y6SB6QS.js
var basePath = "";
function setBasePath(path) {
  basePath = path;
}
function getBasePath(subpath = "") {
  if (!basePath) {
    const scripts = [...document.getElementsByTagName("script")];
    const configScript = scripts.find((script) => script.hasAttribute("data-shoelace"));
    if (configScript) {
      setBasePath(configScript.getAttribute("data-shoelace"));
    } else {
      const fallbackScript = scripts.find((s5) => {
        return /shoelace(\.min)?\.js($|\?)/.test(s5.src) || /shoelace-autoloader(\.min)?\.js($|\?)/.test(s5.src);
      });
      let path = "";
      if (fallbackScript) {
        path = fallbackScript.getAttribute("src");
      }
      setBasePath(path.split("/").slice(0, -1).join("/"));
    }
  }
  return basePath.replace(/\/$/, "") + (subpath ? `/${subpath.replace(/^\//, "")}` : ``);
}

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.P7ZG6EMR.js
var library = {
  name: "default",
  resolver: (name) => getBasePath(`assets/icons/${name}.svg`)
};
var library_default_default = library;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.3TFKS637.js
var icons = {
  caret: `
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,
  check: `
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,
  "chevron-down": `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,
  "chevron-left": `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,
  "chevron-right": `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,
  copy: `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
    </svg>
  `,
  eye: `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,
  "eye-slash": `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,
  eyedropper: `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,
  "grip-vertical": `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,
  indeterminate: `
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,
  "person-fill": `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,
  "play-fill": `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,
  "pause-fill": `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,
  radio: `
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,
  "star-fill": `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,
  "x-lg": `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,
  "x-circle-fill": `
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `
};
var systemLibrary = {
  name: "system",
  resolver: (name) => {
    if (name in icons) {
      return `data:image/svg+xml,${encodeURIComponent(icons[name])}`;
    }
    return "";
  }
};
var library_system_default = systemLibrary;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.ZL53POKZ.js
var registry = [library_default_default, library_system_default];
var watchedIcons = [];
function watchIcon(icon) {
  watchedIcons.push(icon);
}
function unwatchIcon(icon) {
  watchedIcons = watchedIcons.filter((el) => el !== icon);
}
function getIconLibrary(name) {
  return registry.find((lib) => lib.name === name);
}

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.QLXRCYS4.js
var icon_styles_default = i`
  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.2FB5TK5H.js
function watch(propertyName, options) {
  const resolvedOptions = __spreadValues({
    waitUntilFirstUpdate: false
  }, options);
  return (proto, decoratedFnName) => {
    const { update: update2 } = proto;
    const watchedProperties = Array.isArray(propertyName) ? propertyName : [propertyName];
    proto.update = function(changedProps) {
      watchedProperties.forEach((property) => {
        const key = property;
        if (changedProps.has(key)) {
          const oldValue = changedProps.get(key);
          const newValue = this[key];
          if (oldValue !== newValue) {
            if (!resolvedOptions.waitUntilFirstUpdate || this.hasUpdated) {
              this[decoratedFnName](oldValue, newValue);
            }
          }
        }
      });
      update2.call(this, changedProps);
    };
  };
}

// node_modules/.pnpm/lit-html@3.1.2/node_modules/lit-html/directive-helpers.js
var { I: t4 } = z;
var e6 = (o10, t7) => void 0 === t7 ? void 0 !== (o10 == null ? void 0 : o10._$litType$) : (o10 == null ? void 0 : o10._$litType$) === t7;
var f3 = (o10) => void 0 === o10.strings;
var u3 = {};
var m2 = (o10, t7 = u3) => o10._$AH = t7;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.H33C3MRM.js
var CACHEABLE_ERROR = Symbol();
var RETRYABLE_ERROR = Symbol();
var parser;
var iconCache = /* @__PURE__ */ new Map();
var SlIcon = class extends ShoelaceElement {
  constructor() {
    super(...arguments);
    this.initialRender = false;
    this.svg = null;
    this.label = "";
    this.library = "default";
  }
  /** Given a URL, this function returns the resulting SVG element or an appropriate error symbol. */
  async resolveIcon(url, library2) {
    var _a6;
    let fileData;
    if (library2 == null ? void 0 : library2.spriteSheet) {
      this.svg = x`<svg part="svg">
        <use part="use" href="${url}"></use>
      </svg>`;
      await this.updateComplete;
      const svg = this.shadowRoot.querySelector("[part='svg']");
      if (typeof library2.mutator === "function") {
        library2.mutator(svg);
      }
      return this.svg;
    }
    try {
      fileData = await fetch(url, { mode: "cors" });
      if (!fileData.ok)
        return fileData.status === 410 ? CACHEABLE_ERROR : RETRYABLE_ERROR;
    } catch (e11) {
      return RETRYABLE_ERROR;
    }
    try {
      const div = document.createElement("div");
      div.innerHTML = await fileData.text();
      const svg = div.firstElementChild;
      if (((_a6 = svg == null ? void 0 : svg.tagName) == null ? void 0 : _a6.toLowerCase()) !== "svg")
        return CACHEABLE_ERROR;
      if (!parser)
        parser = new DOMParser();
      const doc = parser.parseFromString(svg.outerHTML, "text/html");
      const svgEl = doc.body.querySelector("svg");
      if (!svgEl)
        return CACHEABLE_ERROR;
      svgEl.part.add("svg");
      return document.adoptNode(svgEl);
    } catch (e11) {
      return CACHEABLE_ERROR;
    }
  }
  connectedCallback() {
    super.connectedCallback();
    watchIcon(this);
  }
  firstUpdated() {
    this.initialRender = true;
    this.setIcon();
  }
  disconnectedCallback() {
    super.disconnectedCallback();
    unwatchIcon(this);
  }
  getIconSource() {
    const library2 = getIconLibrary(this.library);
    if (this.name && library2) {
      return {
        url: library2.resolver(this.name),
        fromLibrary: true
      };
    }
    return {
      url: this.src,
      fromLibrary: false
    };
  }
  handleLabelChange() {
    const hasLabel = typeof this.label === "string" && this.label.length > 0;
    if (hasLabel) {
      this.setAttribute("role", "img");
      this.setAttribute("aria-label", this.label);
      this.removeAttribute("aria-hidden");
    } else {
      this.removeAttribute("role");
      this.removeAttribute("aria-label");
      this.setAttribute("aria-hidden", "true");
    }
  }
  async setIcon() {
    var _a6;
    const { url, fromLibrary } = this.getIconSource();
    const library2 = fromLibrary ? getIconLibrary(this.library) : void 0;
    if (!url) {
      this.svg = null;
      return;
    }
    let iconResolver = iconCache.get(url);
    if (!iconResolver) {
      iconResolver = this.resolveIcon(url, library2);
      iconCache.set(url, iconResolver);
    }
    if (!this.initialRender) {
      return;
    }
    const svg = await iconResolver;
    if (svg === RETRYABLE_ERROR) {
      iconCache.delete(url);
    }
    if (url !== this.getIconSource().url) {
      return;
    }
    if (e6(svg)) {
      this.svg = svg;
      return;
    }
    switch (svg) {
      case RETRYABLE_ERROR:
      case CACHEABLE_ERROR:
        this.svg = null;
        this.emit("sl-error");
        break;
      default:
        this.svg = svg.cloneNode(true);
        (_a6 = library2 == null ? void 0 : library2.mutator) == null ? void 0 : _a6.call(library2, this.svg);
        this.emit("sl-load");
    }
  }
  render() {
    return this.svg;
  }
};
SlIcon.styles = [component_styles_default, icon_styles_default];
__decorateClass([
  r6()
], SlIcon.prototype, "svg", 2);
__decorateClass([
  n4({ reflect: true })
], SlIcon.prototype, "name", 2);
__decorateClass([
  n4()
], SlIcon.prototype, "src", 2);
__decorateClass([
  n4()
], SlIcon.prototype, "label", 2);
__decorateClass([
  n4({ reflect: true })
], SlIcon.prototype, "library", 2);
__decorateClass([
  watch("label")
], SlIcon.prototype, "handleLabelChange", 1);
__decorateClass([
  watch(["name", "src", "library"])
], SlIcon.prototype, "setIcon", 1);

// node_modules/.pnpm/lit-html@3.1.2/node_modules/lit-html/directive.js
var t5 = { ATTRIBUTE: 1, CHILD: 2, PROPERTY: 3, BOOLEAN_ATTRIBUTE: 4, EVENT: 5, ELEMENT: 6 };
var e7 = (t7) => (...e11) => ({ _$litDirective$: t7, values: e11 });
var i4 = class {
  constructor(t7) {
  }
  get _$AU() {
    return this._$AM._$AU;
  }
  _$AT(t7, e11, i6) {
    this._$Ct = t7, this._$AM = e11, this._$Ci = i6;
  }
  _$AS(t7, e11) {
    return this.update(t7, e11);
  }
  update(t7, e11) {
    return this.render(...e11);
  }
};

// node_modules/.pnpm/lit-html@3.1.2/node_modules/lit-html/directives/class-map.js
var e8 = e7(class extends i4 {
  constructor(t7) {
    var _a6;
    if (super(t7), t7.type !== t5.ATTRIBUTE || "class" !== t7.name || ((_a6 = t7.strings) == null ? void 0 : _a6.length) > 2)
      throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");
  }
  render(t7) {
    return " " + Object.keys(t7).filter((s5) => t7[s5]).join(" ") + " ";
  }
  update(s5, [i6]) {
    var _a6, _b2;
    if (void 0 === this.st) {
      this.st = /* @__PURE__ */ new Set(), void 0 !== s5.strings && (this.nt = new Set(s5.strings.join(" ").split(/\s/).filter((t7) => "" !== t7)));
      for (const t7 in i6)
        i6[t7] && !((_a6 = this.nt) == null ? void 0 : _a6.has(t7)) && this.st.add(t7);
      return this.render(i6);
    }
    const r8 = s5.element.classList;
    for (const t7 of this.st)
      t7 in i6 || (r8.remove(t7), this.st.delete(t7));
    for (const t7 in i6) {
      const s6 = !!i6[t7];
      s6 === this.st.has(t7) || ((_b2 = this.nt) == null ? void 0 : _b2.has(t7)) || (s6 ? (r8.add(t7), this.st.add(t7)) : (r8.remove(t7), this.st.delete(t7)));
    }
    return w;
  }
});

// node_modules/.pnpm/lit-html@3.1.2/node_modules/lit-html/static.js
var e9 = Symbol.for("");
var o5 = (t7) => {
  if ((t7 == null ? void 0 : t7.r) === e9)
    return t7 == null ? void 0 : t7._$litStatic$;
};
var s4 = (t7, ...r8) => ({ _$litStatic$: r8.reduce((r9, e11, o10) => r9 + ((t8) => {
  if (void 0 !== t8._$litStatic$)
    return t8._$litStatic$;
  throw Error(`Value passed to 'literal' function must be a 'literal' result: ${t8}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`);
})(e11) + t7[o10 + 1], t7[0]), r: e9 });
var a3 = /* @__PURE__ */ new Map();
var l3 = (t7) => (r8, ...e11) => {
  const i6 = e11.length;
  let s5, l5;
  const n7 = [], u5 = [];
  let c4, $2 = 0, f4 = false;
  for (; $2 < i6; ) {
    for (c4 = r8[$2]; $2 < i6 && void 0 !== (l5 = e11[$2], s5 = o5(l5)); )
      c4 += s5 + r8[++$2], f4 = true;
    $2 !== i6 && u5.push(l5), n7.push(c4), $2++;
  }
  if ($2 === i6 && n7.push(r8[i6]), f4) {
    const t8 = n7.join("$$lit$$");
    void 0 === (r8 = a3.get(t8)) && (n7.raw = n7, a3.set(t8, r8 = n7)), e11 = u5;
  }
  return t7(r8, ...e11);
};
var n5 = l3(x);
var u4 = l3(b2);

// node_modules/.pnpm/lit-html@3.1.2/node_modules/lit-html/directives/if-defined.js
var o6 = (o10) => o10 != null ? o10 : T;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.5SUGJ4EB.js
var SlButton = class extends ShoelaceElement {
  constructor() {
    super(...arguments);
    this.formControlController = new FormControlController(this, {
      assumeInteractionOn: ["click"]
    });
    this.hasSlotController = new HasSlotController(this, "[default]", "prefix", "suffix");
    this.localize = new LocalizeController2(this);
    this.hasFocus = false;
    this.invalid = false;
    this.title = "";
    this.variant = "default";
    this.size = "medium";
    this.caret = false;
    this.disabled = false;
    this.loading = false;
    this.outline = false;
    this.pill = false;
    this.circle = false;
    this.type = "button";
    this.name = "";
    this.value = "";
    this.href = "";
    this.rel = "noreferrer noopener";
  }
  /** Gets the validity state object */
  get validity() {
    if (this.isButton()) {
      return this.button.validity;
    }
    return validValidityState;
  }
  /** Gets the validation message */
  get validationMessage() {
    if (this.isButton()) {
      return this.button.validationMessage;
    }
    return "";
  }
  firstUpdated() {
    if (this.isButton()) {
      this.formControlController.updateValidity();
    }
  }
  handleBlur() {
    this.hasFocus = false;
    this.emit("sl-blur");
  }
  handleFocus() {
    this.hasFocus = true;
    this.emit("sl-focus");
  }
  handleClick() {
    if (this.type === "submit") {
      this.formControlController.submit(this);
    }
    if (this.type === "reset") {
      this.formControlController.reset(this);
    }
  }
  handleInvalid(event) {
    this.formControlController.setValidity(false);
    this.formControlController.emitInvalidEvent(event);
  }
  isButton() {
    return this.href ? false : true;
  }
  isLink() {
    return this.href ? true : false;
  }
  handleDisabledChange() {
    if (this.isButton()) {
      this.formControlController.setValidity(this.disabled);
    }
  }
  /** Simulates a click on the button. */
  click() {
    this.button.click();
  }
  /** Sets focus on the button. */
  focus(options) {
    this.button.focus(options);
  }
  /** Removes focus from the button. */
  blur() {
    this.button.blur();
  }
  /** Checks for validity but does not show a validation message. Returns `true` when valid and `false` when invalid. */
  checkValidity() {
    if (this.isButton()) {
      return this.button.checkValidity();
    }
    return true;
  }
  /** Gets the associated form, if one exists. */
  getForm() {
    return this.formControlController.getForm();
  }
  /** Checks for validity and shows the browser's validation message if the control is invalid. */
  reportValidity() {
    if (this.isButton()) {
      return this.button.reportValidity();
    }
    return true;
  }
  /** Sets a custom validation message. Pass an empty string to restore validity. */
  setCustomValidity(message) {
    if (this.isButton()) {
      this.button.setCustomValidity(message);
      this.formControlController.updateValidity();
    }
  }
  render() {
    const isLink = this.isLink();
    const tag = isLink ? s4`a` : s4`button`;
    return n5`
      <${tag}
        part="base"
        class=${e8({
      button: true,
      "button--default": this.variant === "default",
      "button--primary": this.variant === "primary",
      "button--success": this.variant === "success",
      "button--neutral": this.variant === "neutral",
      "button--warning": this.variant === "warning",
      "button--danger": this.variant === "danger",
      "button--text": this.variant === "text",
      "button--small": this.size === "small",
      "button--medium": this.size === "medium",
      "button--large": this.size === "large",
      "button--caret": this.caret,
      "button--circle": this.circle,
      "button--disabled": this.disabled,
      "button--focused": this.hasFocus,
      "button--loading": this.loading,
      "button--standard": !this.outline,
      "button--outline": this.outline,
      "button--pill": this.pill,
      "button--rtl": this.localize.dir() === "rtl",
      "button--has-label": this.hasSlotController.test("[default]"),
      "button--has-prefix": this.hasSlotController.test("prefix"),
      "button--has-suffix": this.hasSlotController.test("suffix")
    })}
        ?disabled=${o6(isLink ? void 0 : this.disabled)}
        type=${o6(isLink ? void 0 : this.type)}
        title=${this.title}
        name=${o6(isLink ? void 0 : this.name)}
        value=${o6(isLink ? void 0 : this.value)}
        href=${o6(isLink ? this.href : void 0)}
        target=${o6(isLink ? this.target : void 0)}
        download=${o6(isLink ? this.download : void 0)}
        rel=${o6(isLink ? this.rel : void 0)}
        role=${o6(isLink ? void 0 : "button")}
        aria-disabled=${this.disabled ? "true" : "false"}
        tabindex=${this.disabled ? "-1" : "0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @invalid=${this.isButton() ? this.handleInvalid : null}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret ? n5` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> ` : ""}
        ${this.loading ? n5`<sl-spinner part="spinner"></sl-spinner>` : ""}
      </${tag}>
    `;
  }
};
SlButton.styles = [component_styles_default, button_styles_default];
SlButton.dependencies = {
  "sl-icon": SlIcon,
  "sl-spinner": SlSpinner
};
__decorateClass([
  e5(".button")
], SlButton.prototype, "button", 2);
__decorateClass([
  r6()
], SlButton.prototype, "hasFocus", 2);
__decorateClass([
  r6()
], SlButton.prototype, "invalid", 2);
__decorateClass([
  n4()
], SlButton.prototype, "title", 2);
__decorateClass([
  n4({ reflect: true })
], SlButton.prototype, "variant", 2);
__decorateClass([
  n4({ reflect: true })
], SlButton.prototype, "size", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlButton.prototype, "caret", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlButton.prototype, "disabled", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlButton.prototype, "loading", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlButton.prototype, "outline", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlButton.prototype, "pill", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlButton.prototype, "circle", 2);
__decorateClass([
  n4()
], SlButton.prototype, "type", 2);
__decorateClass([
  n4()
], SlButton.prototype, "name", 2);
__decorateClass([
  n4()
], SlButton.prototype, "value", 2);
__decorateClass([
  n4()
], SlButton.prototype, "href", 2);
__decorateClass([
  n4()
], SlButton.prototype, "target", 2);
__decorateClass([
  n4()
], SlButton.prototype, "rel", 2);
__decorateClass([
  n4()
], SlButton.prototype, "download", 2);
__decorateClass([
  n4()
], SlButton.prototype, "form", 2);
__decorateClass([
  n4({ attribute: "formaction" })
], SlButton.prototype, "formAction", 2);
__decorateClass([
  n4({ attribute: "formenctype" })
], SlButton.prototype, "formEnctype", 2);
__decorateClass([
  n4({ attribute: "formmethod" })
], SlButton.prototype, "formMethod", 2);
__decorateClass([
  n4({ attribute: "formnovalidate", type: Boolean })
], SlButton.prototype, "formNoValidate", 2);
__decorateClass([
  n4({ attribute: "formtarget" })
], SlButton.prototype, "formTarget", 2);
__decorateClass([
  watch("disabled", { waitUntilFirstUpdate: true })
], SlButton.prototype, "handleDisabledChange", 1);

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.7XIC3PQE.js
SlButton.define("sl-button");

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.LXP7GVU3.js
var dropdown_styles_default = i`
  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.LXDTFLWU.js
var computedStyleMap = /* @__PURE__ */ new WeakMap();
function getCachedComputedStyle(el) {
  let computedStyle = computedStyleMap.get(el);
  if (!computedStyle) {
    computedStyle = window.getComputedStyle(el, null);
    computedStyleMap.set(el, computedStyle);
  }
  return computedStyle;
}
function isVisible(el) {
  if (typeof el.checkVisibility === "function") {
    return el.checkVisibility({ checkOpacity: false, checkVisibilityCSS: true });
  }
  const computedStyle = getCachedComputedStyle(el);
  return computedStyle.visibility !== "hidden" && computedStyle.display !== "none";
}
function isOverflowingAndTabbable(el) {
  const computedStyle = getCachedComputedStyle(el);
  const { overflowY, overflowX } = computedStyle;
  if (overflowY === "scroll" || overflowX === "scroll") {
    return true;
  }
  if (overflowY !== "auto" || overflowX !== "auto") {
    return false;
  }
  const isOverflowingY = el.scrollHeight > el.clientHeight;
  if (isOverflowingY && overflowY === "auto") {
    return true;
  }
  const isOverflowingX = el.scrollWidth > el.clientWidth;
  if (isOverflowingX && overflowX === "auto") {
    return true;
  }
  return false;
}
function isTabbable(el) {
  const tag = el.tagName.toLowerCase();
  const tabindex = Number(el.getAttribute("tabindex"));
  const hasTabindex = el.hasAttribute("tabindex");
  if (hasTabindex && (isNaN(tabindex) || tabindex <= -1)) {
    return false;
  }
  if (el.hasAttribute("disabled")) {
    return false;
  }
  if (el.closest("[inert]")) {
    return false;
  }
  if (tag === "input" && el.getAttribute("type") === "radio" && !el.hasAttribute("checked")) {
    return false;
  }
  if (!isVisible(el)) {
    return false;
  }
  if ((tag === "audio" || tag === "video") && el.hasAttribute("controls")) {
    return true;
  }
  if (el.hasAttribute("tabindex")) {
    return true;
  }
  if (el.hasAttribute("contenteditable") && el.getAttribute("contenteditable") !== "false") {
    return true;
  }
  const isNativelyTabbable = [
    "button",
    "input",
    "select",
    "textarea",
    "a",
    "audio",
    "video",
    "summary",
    "iframe"
  ].includes(tag);
  if (isNativelyTabbable) {
    return true;
  }
  return isOverflowingAndTabbable(el);
}
function getTabbableBoundary(root) {
  var _a6, _b2;
  const tabbableElements = getTabbableElements(root);
  const start = (_a6 = tabbableElements[0]) != null ? _a6 : null;
  const end = (_b2 = tabbableElements[tabbableElements.length - 1]) != null ? _b2 : null;
  return { start, end };
}
function getSlottedChildrenOutsideRootElement(slotElement, root) {
  var _a6;
  return ((_a6 = slotElement.getRootNode({ composed: true })) == null ? void 0 : _a6.host) !== root;
}
function getTabbableElements(root) {
  const walkedEls = /* @__PURE__ */ new WeakMap();
  const tabbableElements = [];
  function walk(el) {
    if (el instanceof Element) {
      if (el.hasAttribute("inert") || el.closest("[inert]")) {
        return;
      }
      if (walkedEls.has(el)) {
        return;
      }
      walkedEls.set(el, true);
      if (!tabbableElements.includes(el) && isTabbable(el)) {
        tabbableElements.push(el);
      }
      if (el instanceof HTMLSlotElement && getSlottedChildrenOutsideRootElement(el, root)) {
        el.assignedElements({ flatten: true }).forEach((assignedEl) => {
          walk(assignedEl);
        });
      }
      if (el.shadowRoot !== null && el.shadowRoot.mode === "open") {
        walk(el.shadowRoot);
      }
    }
    for (const e11 of el.children) {
      walk(e11);
    }
  }
  walk(root);
  return tabbableElements.sort((a4, b3) => {
    const aTabindex = Number(a4.getAttribute("tabindex")) || 0;
    const bTabindex = Number(b3.getAttribute("tabindex")) || 0;
    return bTabindex - aTabindex;
  });
}

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.3KSWVBQ5.js
var popup_styles_default = i`
  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }

  /* Hover bridge */
  .popup-hover-bridge:not(.popup-hover-bridge--visible) {
    display: none;
  }

  .popup-hover-bridge {
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--hover-bridge-top-left-x, 0) var(--hover-bridge-top-left-y, 0),
      var(--hover-bridge-top-right-x, 0) var(--hover-bridge-top-right-y, 0),
      var(--hover-bridge-bottom-right-x, 0) var(--hover-bridge-bottom-right-y, 0),
      var(--hover-bridge-bottom-left-x, 0) var(--hover-bridge-bottom-left-y, 0)
    );
  }
`;

// node_modules/.pnpm/@floating-ui+utils@0.2.1/node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs
var min = Math.min;
var max = Math.max;
var round = Math.round;
var floor = Math.floor;
var createCoords = (v2) => ({
  x: v2,
  y: v2
});
var oppositeSideMap = {
  left: "right",
  right: "left",
  bottom: "top",
  top: "bottom"
};
var oppositeAlignmentMap = {
  start: "end",
  end: "start"
};
function clamp(start, value, end) {
  return max(start, min(value, end));
}
function evaluate(value, param) {
  return typeof value === "function" ? value(param) : value;
}
function getSide(placement) {
  return placement.split("-")[0];
}
function getAlignment(placement) {
  return placement.split("-")[1];
}
function getOppositeAxis(axis) {
  return axis === "x" ? "y" : "x";
}
function getAxisLength(axis) {
  return axis === "y" ? "height" : "width";
}
function getSideAxis(placement) {
  return ["top", "bottom"].includes(getSide(placement)) ? "y" : "x";
}
function getAlignmentAxis(placement) {
  return getOppositeAxis(getSideAxis(placement));
}
function getAlignmentSides(placement, rects, rtl) {
  if (rtl === void 0) {
    rtl = false;
  }
  const alignment = getAlignment(placement);
  const alignmentAxis = getAlignmentAxis(placement);
  const length = getAxisLength(alignmentAxis);
  let mainAlignmentSide = alignmentAxis === "x" ? alignment === (rtl ? "end" : "start") ? "right" : "left" : alignment === "start" ? "bottom" : "top";
  if (rects.reference[length] > rects.floating[length]) {
    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);
  }
  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];
}
function getExpandedPlacements(placement) {
  const oppositePlacement = getOppositePlacement(placement);
  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];
}
function getOppositeAlignmentPlacement(placement) {
  return placement.replace(/start|end/g, (alignment) => oppositeAlignmentMap[alignment]);
}
function getSideList(side, isStart, rtl) {
  const lr = ["left", "right"];
  const rl = ["right", "left"];
  const tb = ["top", "bottom"];
  const bt = ["bottom", "top"];
  switch (side) {
    case "top":
    case "bottom":
      if (rtl)
        return isStart ? rl : lr;
      return isStart ? lr : rl;
    case "left":
    case "right":
      return isStart ? tb : bt;
    default:
      return [];
  }
}
function getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {
  const alignment = getAlignment(placement);
  let list = getSideList(getSide(placement), direction === "start", rtl);
  if (alignment) {
    list = list.map((side) => side + "-" + alignment);
    if (flipAlignment) {
      list = list.concat(list.map(getOppositeAlignmentPlacement));
    }
  }
  return list;
}
function getOppositePlacement(placement) {
  return placement.replace(/left|right|bottom|top/g, (side) => oppositeSideMap[side]);
}
function expandPaddingObject(padding) {
  return {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0,
    ...padding
  };
}
function getPaddingObject(padding) {
  return typeof padding !== "number" ? expandPaddingObject(padding) : {
    top: padding,
    right: padding,
    bottom: padding,
    left: padding
  };
}
function rectToClientRect(rect) {
  return {
    ...rect,
    top: rect.y,
    left: rect.x,
    right: rect.x + rect.width,
    bottom: rect.y + rect.height
  };
}

// node_modules/.pnpm/@floating-ui+core@1.6.0/node_modules/@floating-ui/core/dist/floating-ui.core.mjs
function computeCoordsFromPlacement(_ref, placement, rtl) {
  let {
    reference,
    floating
  } = _ref;
  const sideAxis = getSideAxis(placement);
  const alignmentAxis = getAlignmentAxis(placement);
  const alignLength = getAxisLength(alignmentAxis);
  const side = getSide(placement);
  const isVertical = sideAxis === "y";
  const commonX = reference.x + reference.width / 2 - floating.width / 2;
  const commonY = reference.y + reference.height / 2 - floating.height / 2;
  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;
  let coords;
  switch (side) {
    case "top":
      coords = {
        x: commonX,
        y: reference.y - floating.height
      };
      break;
    case "bottom":
      coords = {
        x: commonX,
        y: reference.y + reference.height
      };
      break;
    case "right":
      coords = {
        x: reference.x + reference.width,
        y: commonY
      };
      break;
    case "left":
      coords = {
        x: reference.x - floating.width,
        y: commonY
      };
      break;
    default:
      coords = {
        x: reference.x,
        y: reference.y
      };
  }
  switch (getAlignment(placement)) {
    case "start":
      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);
      break;
    case "end":
      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);
      break;
  }
  return coords;
}
var computePosition = async (reference, floating, config) => {
  const {
    placement = "bottom",
    strategy = "absolute",
    middleware = [],
    platform: platform2
  } = config;
  const validMiddleware = middleware.filter(Boolean);
  const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(floating));
  let rects = await platform2.getElementRects({
    reference,
    floating,
    strategy
  });
  let {
    x: x2,
    y: y3
  } = computeCoordsFromPlacement(rects, placement, rtl);
  let statefulPlacement = placement;
  let middlewareData = {};
  let resetCount = 0;
  for (let i6 = 0; i6 < validMiddleware.length; i6++) {
    const {
      name,
      fn
    } = validMiddleware[i6];
    const {
      x: nextX,
      y: nextY,
      data,
      reset
    } = await fn({
      x: x2,
      y: y3,
      initialPlacement: placement,
      placement: statefulPlacement,
      strategy,
      middlewareData,
      rects,
      platform: platform2,
      elements: {
        reference,
        floating
      }
    });
    x2 = nextX != null ? nextX : x2;
    y3 = nextY != null ? nextY : y3;
    middlewareData = {
      ...middlewareData,
      [name]: {
        ...middlewareData[name],
        ...data
      }
    };
    if (reset && resetCount <= 50) {
      resetCount++;
      if (typeof reset === "object") {
        if (reset.placement) {
          statefulPlacement = reset.placement;
        }
        if (reset.rects) {
          rects = reset.rects === true ? await platform2.getElementRects({
            reference,
            floating,
            strategy
          }) : reset.rects;
        }
        ({
          x: x2,
          y: y3
        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));
      }
      i6 = -1;
    }
  }
  return {
    x: x2,
    y: y3,
    placement: statefulPlacement,
    strategy,
    middlewareData
  };
};
async function detectOverflow(state, options) {
  var _await$platform$isEle;
  if (options === void 0) {
    options = {};
  }
  const {
    x: x2,
    y: y3,
    platform: platform2,
    rects,
    elements,
    strategy
  } = state;
  const {
    boundary = "clippingAncestors",
    rootBoundary = "viewport",
    elementContext = "floating",
    altBoundary = false,
    padding = 0
  } = evaluate(options, state);
  const paddingObject = getPaddingObject(padding);
  const altContext = elementContext === "floating" ? "reference" : "floating";
  const element = elements[altBoundary ? altContext : elementContext];
  const clippingClientRect = rectToClientRect(await platform2.getClippingRect({
    element: ((_await$platform$isEle = await (platform2.isElement == null ? void 0 : platform2.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || await (platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),
    boundary,
    rootBoundary,
    strategy
  }));
  const rect = elementContext === "floating" ? {
    ...rects.floating,
    x: x2,
    y: y3
  } : rects.reference;
  const offsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating));
  const offsetScale = await (platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? await (platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {
    x: 1,
    y: 1
  } : {
    x: 1,
    y: 1
  };
  const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform2.convertOffsetParentRelativeRectToViewportRelativeRect({
    elements,
    rect,
    offsetParent,
    strategy
  }) : rect);
  return {
    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,
    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,
    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,
    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x
  };
}
var arrow = (options) => ({
  name: "arrow",
  options,
  async fn(state) {
    const {
      x: x2,
      y: y3,
      placement,
      rects,
      platform: platform2,
      elements,
      middlewareData
    } = state;
    const {
      element,
      padding = 0
    } = evaluate(options, state) || {};
    if (element == null) {
      return {};
    }
    const paddingObject = getPaddingObject(padding);
    const coords = {
      x: x2,
      y: y3
    };
    const axis = getAlignmentAxis(placement);
    const length = getAxisLength(axis);
    const arrowDimensions = await platform2.getDimensions(element);
    const isYAxis = axis === "y";
    const minProp = isYAxis ? "top" : "left";
    const maxProp = isYAxis ? "bottom" : "right";
    const clientProp = isYAxis ? "clientHeight" : "clientWidth";
    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];
    const startDiff = coords[axis] - rects.reference[axis];
    const arrowOffsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(element));
    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;
    if (!clientSize || !await (platform2.isElement == null ? void 0 : platform2.isElement(arrowOffsetParent))) {
      clientSize = elements.floating[clientProp] || rects.floating[length];
    }
    const centerToReference = endDiff / 2 - startDiff / 2;
    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;
    const minPadding = min(paddingObject[minProp], largestPossiblePadding);
    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);
    const min$1 = minPadding;
    const max2 = clientSize - arrowDimensions[length] - maxPadding;
    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;
    const offset2 = clamp(min$1, center, max2);
    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset2 && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;
    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max2 : 0;
    return {
      [axis]: coords[axis] + alignmentOffset,
      data: {
        [axis]: offset2,
        centerOffset: center - offset2 - alignmentOffset,
        ...shouldAddOffset && {
          alignmentOffset
        }
      },
      reset: shouldAddOffset
    };
  }
});
var flip = function(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: "flip",
    options,
    async fn(state) {
      var _middlewareData$arrow, _middlewareData$flip;
      const {
        placement,
        middlewareData,
        rects,
        initialPlacement,
        platform: platform2,
        elements
      } = state;
      const {
        mainAxis: checkMainAxis = true,
        crossAxis: checkCrossAxis = true,
        fallbackPlacements: specifiedFallbackPlacements,
        fallbackStrategy = "bestFit",
        fallbackAxisSideDirection = "none",
        flipAlignment = true,
        ...detectOverflowOptions
      } = evaluate(options, state);
      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {
        return {};
      }
      const side = getSide(placement);
      const isBasePlacement = getSide(initialPlacement) === initialPlacement;
      const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));
      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));
      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== "none") {
        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));
      }
      const placements2 = [initialPlacement, ...fallbackPlacements];
      const overflow = await detectOverflow(state, detectOverflowOptions);
      const overflows = [];
      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];
      if (checkMainAxis) {
        overflows.push(overflow[side]);
      }
      if (checkCrossAxis) {
        const sides2 = getAlignmentSides(placement, rects, rtl);
        overflows.push(overflow[sides2[0]], overflow[sides2[1]]);
      }
      overflowsData = [...overflowsData, {
        placement,
        overflows
      }];
      if (!overflows.every((side2) => side2 <= 0)) {
        var _middlewareData$flip2, _overflowsData$filter;
        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;
        const nextPlacement = placements2[nextIndex];
        if (nextPlacement) {
          return {
            data: {
              index: nextIndex,
              overflows: overflowsData
            },
            reset: {
              placement: nextPlacement
            }
          };
        }
        let resetPlacement = (_overflowsData$filter = overflowsData.filter((d3) => d3.overflows[0] <= 0).sort((a4, b3) => a4.overflows[1] - b3.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;
        if (!resetPlacement) {
          switch (fallbackStrategy) {
            case "bestFit": {
              var _overflowsData$map$so;
              const placement2 = (_overflowsData$map$so = overflowsData.map((d3) => [d3.placement, d3.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a4, b3) => a4[1] - b3[1])[0]) == null ? void 0 : _overflowsData$map$so[0];
              if (placement2) {
                resetPlacement = placement2;
              }
              break;
            }
            case "initialPlacement":
              resetPlacement = initialPlacement;
              break;
          }
        }
        if (placement !== resetPlacement) {
          return {
            reset: {
              placement: resetPlacement
            }
          };
        }
      }
      return {};
    }
  };
};
async function convertValueToCoords(state, options) {
  const {
    placement,
    platform: platform2,
    elements
  } = state;
  const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));
  const side = getSide(placement);
  const alignment = getAlignment(placement);
  const isVertical = getSideAxis(placement) === "y";
  const mainAxisMulti = ["left", "top"].includes(side) ? -1 : 1;
  const crossAxisMulti = rtl && isVertical ? -1 : 1;
  const rawValue = evaluate(options, state);
  let {
    mainAxis,
    crossAxis,
    alignmentAxis
  } = typeof rawValue === "number" ? {
    mainAxis: rawValue,
    crossAxis: 0,
    alignmentAxis: null
  } : {
    mainAxis: 0,
    crossAxis: 0,
    alignmentAxis: null,
    ...rawValue
  };
  if (alignment && typeof alignmentAxis === "number") {
    crossAxis = alignment === "end" ? alignmentAxis * -1 : alignmentAxis;
  }
  return isVertical ? {
    x: crossAxis * crossAxisMulti,
    y: mainAxis * mainAxisMulti
  } : {
    x: mainAxis * mainAxisMulti,
    y: crossAxis * crossAxisMulti
  };
}
var offset = function(options) {
  if (options === void 0) {
    options = 0;
  }
  return {
    name: "offset",
    options,
    async fn(state) {
      var _middlewareData$offse, _middlewareData$arrow;
      const {
        x: x2,
        y: y3,
        placement,
        middlewareData
      } = state;
      const diffCoords = await convertValueToCoords(state, options);
      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {
        return {};
      }
      return {
        x: x2 + diffCoords.x,
        y: y3 + diffCoords.y,
        data: {
          ...diffCoords,
          placement
        }
      };
    }
  };
};
var shift = function(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: "shift",
    options,
    async fn(state) {
      const {
        x: x2,
        y: y3,
        placement
      } = state;
      const {
        mainAxis: checkMainAxis = true,
        crossAxis: checkCrossAxis = false,
        limiter = {
          fn: (_ref) => {
            let {
              x: x3,
              y: y4
            } = _ref;
            return {
              x: x3,
              y: y4
            };
          }
        },
        ...detectOverflowOptions
      } = evaluate(options, state);
      const coords = {
        x: x2,
        y: y3
      };
      const overflow = await detectOverflow(state, detectOverflowOptions);
      const crossAxis = getSideAxis(getSide(placement));
      const mainAxis = getOppositeAxis(crossAxis);
      let mainAxisCoord = coords[mainAxis];
      let crossAxisCoord = coords[crossAxis];
      if (checkMainAxis) {
        const minSide = mainAxis === "y" ? "top" : "left";
        const maxSide = mainAxis === "y" ? "bottom" : "right";
        const min2 = mainAxisCoord + overflow[minSide];
        const max2 = mainAxisCoord - overflow[maxSide];
        mainAxisCoord = clamp(min2, mainAxisCoord, max2);
      }
      if (checkCrossAxis) {
        const minSide = crossAxis === "y" ? "top" : "left";
        const maxSide = crossAxis === "y" ? "bottom" : "right";
        const min2 = crossAxisCoord + overflow[minSide];
        const max2 = crossAxisCoord - overflow[maxSide];
        crossAxisCoord = clamp(min2, crossAxisCoord, max2);
      }
      const limitedCoords = limiter.fn({
        ...state,
        [mainAxis]: mainAxisCoord,
        [crossAxis]: crossAxisCoord
      });
      return {
        ...limitedCoords,
        data: {
          x: limitedCoords.x - x2,
          y: limitedCoords.y - y3
        }
      };
    }
  };
};
var size = function(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: "size",
    options,
    async fn(state) {
      const {
        placement,
        rects,
        platform: platform2,
        elements
      } = state;
      const {
        apply = () => {
        },
        ...detectOverflowOptions
      } = evaluate(options, state);
      const overflow = await detectOverflow(state, detectOverflowOptions);
      const side = getSide(placement);
      const alignment = getAlignment(placement);
      const isYAxis = getSideAxis(placement) === "y";
      const {
        width,
        height
      } = rects.floating;
      let heightSide;
      let widthSide;
      if (side === "top" || side === "bottom") {
        heightSide = side;
        widthSide = alignment === (await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating)) ? "start" : "end") ? "left" : "right";
      } else {
        widthSide = side;
        heightSide = alignment === "end" ? "top" : "bottom";
      }
      const overflowAvailableHeight = height - overflow[heightSide];
      const overflowAvailableWidth = width - overflow[widthSide];
      const noShift = !state.middlewareData.shift;
      let availableHeight = overflowAvailableHeight;
      let availableWidth = overflowAvailableWidth;
      if (isYAxis) {
        const maximumClippingWidth = width - overflow.left - overflow.right;
        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;
      } else {
        const maximumClippingHeight = height - overflow.top - overflow.bottom;
        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;
      }
      if (noShift && !alignment) {
        const xMin = max(overflow.left, 0);
        const xMax = max(overflow.right, 0);
        const yMin = max(overflow.top, 0);
        const yMax = max(overflow.bottom, 0);
        if (isYAxis) {
          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));
        } else {
          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));
        }
      }
      await apply({
        ...state,
        availableWidth,
        availableHeight
      });
      const nextDimensions = await platform2.getDimensions(elements.floating);
      if (width !== nextDimensions.width || height !== nextDimensions.height) {
        return {
          reset: {
            rects: true
          }
        };
      }
      return {};
    }
  };
};

// node_modules/.pnpm/@floating-ui+utils@0.2.1/node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs
function getNodeName(node) {
  if (isNode(node)) {
    return (node.nodeName || "").toLowerCase();
  }
  return "#document";
}
function getWindow(node) {
  var _node$ownerDocument;
  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;
}
function getDocumentElement(node) {
  var _ref;
  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;
}
function isNode(value) {
  return value instanceof Node || value instanceof getWindow(value).Node;
}
function isElement(value) {
  return value instanceof Element || value instanceof getWindow(value).Element;
}
function isHTMLElement(value) {
  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;
}
function isShadowRoot(value) {
  if (typeof ShadowRoot === "undefined") {
    return false;
  }
  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;
}
function isOverflowElement(element) {
  const {
    overflow,
    overflowX,
    overflowY,
    display
  } = getComputedStyle2(element);
  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !["inline", "contents"].includes(display);
}
function isTableElement(element) {
  return ["table", "td", "th"].includes(getNodeName(element));
}
function isContainingBlock(element) {
  const webkit = isWebKit();
  const css = getComputedStyle2(element);
  return css.transform !== "none" || css.perspective !== "none" || (css.containerType ? css.containerType !== "normal" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== "none" : false) || !webkit && (css.filter ? css.filter !== "none" : false) || ["transform", "perspective", "filter"].some((value) => (css.willChange || "").includes(value)) || ["paint", "layout", "strict", "content"].some((value) => (css.contain || "").includes(value));
}
function getContainingBlock(element) {
  let currentNode = getParentNode(element);
  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {
    if (isContainingBlock(currentNode)) {
      return currentNode;
    } else {
      currentNode = getParentNode(currentNode);
    }
  }
  return null;
}
function isWebKit() {
  if (typeof CSS === "undefined" || !CSS.supports)
    return false;
  return CSS.supports("-webkit-backdrop-filter", "none");
}
function isLastTraversableNode(node) {
  return ["html", "body", "#document"].includes(getNodeName(node));
}
function getComputedStyle2(element) {
  return getWindow(element).getComputedStyle(element);
}
function getNodeScroll(element) {
  if (isElement(element)) {
    return {
      scrollLeft: element.scrollLeft,
      scrollTop: element.scrollTop
    };
  }
  return {
    scrollLeft: element.pageXOffset,
    scrollTop: element.pageYOffset
  };
}
function getParentNode(node) {
  if (getNodeName(node) === "html") {
    return node;
  }
  const result = (
    // Step into the shadow DOM of the parent of a slotted node.
    node.assignedSlot || // DOM Element detected.
    node.parentNode || // ShadowRoot detected.
    isShadowRoot(node) && node.host || // Fallback.
    getDocumentElement(node)
  );
  return isShadowRoot(result) ? result.host : result;
}
function getNearestOverflowAncestor(node) {
  const parentNode = getParentNode(node);
  if (isLastTraversableNode(parentNode)) {
    return node.ownerDocument ? node.ownerDocument.body : node.body;
  }
  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {
    return parentNode;
  }
  return getNearestOverflowAncestor(parentNode);
}
function getOverflowAncestors(node, list, traverseIframes) {
  var _node$ownerDocument2;
  if (list === void 0) {
    list = [];
  }
  if (traverseIframes === void 0) {
    traverseIframes = true;
  }
  const scrollableAncestor = getNearestOverflowAncestor(node);
  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);
  const win = getWindow(scrollableAncestor);
  if (isBody) {
    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);
  }
  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));
}

// node_modules/.pnpm/@floating-ui+dom@1.6.3/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs
function getCssDimensions(element) {
  const css = getComputedStyle2(element);
  let width = parseFloat(css.width) || 0;
  let height = parseFloat(css.height) || 0;
  const hasOffset = isHTMLElement(element);
  const offsetWidth = hasOffset ? element.offsetWidth : width;
  const offsetHeight = hasOffset ? element.offsetHeight : height;
  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;
  if (shouldFallback) {
    width = offsetWidth;
    height = offsetHeight;
  }
  return {
    width,
    height,
    $: shouldFallback
  };
}
function unwrapElement(element) {
  return !isElement(element) ? element.contextElement : element;
}
function getScale(element) {
  const domElement = unwrapElement(element);
  if (!isHTMLElement(domElement)) {
    return createCoords(1);
  }
  const rect = domElement.getBoundingClientRect();
  const {
    width,
    height,
    $: $2
  } = getCssDimensions(domElement);
  let x2 = ($2 ? round(rect.width) : rect.width) / width;
  let y3 = ($2 ? round(rect.height) : rect.height) / height;
  if (!x2 || !Number.isFinite(x2)) {
    x2 = 1;
  }
  if (!y3 || !Number.isFinite(y3)) {
    y3 = 1;
  }
  return {
    x: x2,
    y: y3
  };
}
var noOffsets = /* @__PURE__ */ createCoords(0);
function getVisualOffsets(element) {
  const win = getWindow(element);
  if (!isWebKit() || !win.visualViewport) {
    return noOffsets;
  }
  return {
    x: win.visualViewport.offsetLeft,
    y: win.visualViewport.offsetTop
  };
}
function shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {
  if (isFixed === void 0) {
    isFixed = false;
  }
  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {
    return false;
  }
  return isFixed;
}
function getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {
  if (includeScale === void 0) {
    includeScale = false;
  }
  if (isFixedStrategy === void 0) {
    isFixedStrategy = false;
  }
  const clientRect = element.getBoundingClientRect();
  const domElement = unwrapElement(element);
  let scale = createCoords(1);
  if (includeScale) {
    if (offsetParent) {
      if (isElement(offsetParent)) {
        scale = getScale(offsetParent);
      }
    } else {
      scale = getScale(element);
    }
  }
  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);
  let x2 = (clientRect.left + visualOffsets.x) / scale.x;
  let y3 = (clientRect.top + visualOffsets.y) / scale.y;
  let width = clientRect.width / scale.x;
  let height = clientRect.height / scale.y;
  if (domElement) {
    const win = getWindow(domElement);
    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;
    let currentWin = win;
    let currentIFrame = currentWin.frameElement;
    while (currentIFrame && offsetParent && offsetWin !== currentWin) {
      const iframeScale = getScale(currentIFrame);
      const iframeRect = currentIFrame.getBoundingClientRect();
      const css = getComputedStyle2(currentIFrame);
      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;
      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;
      x2 *= iframeScale.x;
      y3 *= iframeScale.y;
      width *= iframeScale.x;
      height *= iframeScale.y;
      x2 += left;
      y3 += top;
      currentWin = getWindow(currentIFrame);
      currentIFrame = currentWin.frameElement;
    }
  }
  return rectToClientRect({
    width,
    height,
    x: x2,
    y: y3
  });
}
var topLayerSelectors = [":popover-open", ":modal"];
function isTopLayer(floating) {
  return topLayerSelectors.some((selector) => {
    try {
      return floating.matches(selector);
    } catch (e11) {
      return false;
    }
  });
}
function convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {
  let {
    elements,
    rect,
    offsetParent,
    strategy
  } = _ref;
  const isFixed = strategy === "fixed";
  const documentElement = getDocumentElement(offsetParent);
  const topLayer = elements ? isTopLayer(elements.floating) : false;
  if (offsetParent === documentElement || topLayer && isFixed) {
    return rect;
  }
  let scroll = {
    scrollLeft: 0,
    scrollTop: 0
  };
  let scale = createCoords(1);
  const offsets = createCoords(0);
  const isOffsetParentAnElement = isHTMLElement(offsetParent);
  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
    if (getNodeName(offsetParent) !== "body" || isOverflowElement(documentElement)) {
      scroll = getNodeScroll(offsetParent);
    }
    if (isHTMLElement(offsetParent)) {
      const offsetRect = getBoundingClientRect(offsetParent);
      scale = getScale(offsetParent);
      offsets.x = offsetRect.x + offsetParent.clientLeft;
      offsets.y = offsetRect.y + offsetParent.clientTop;
    }
  }
  return {
    width: rect.width * scale.x,
    height: rect.height * scale.y,
    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,
    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y
  };
}
function getClientRects(element) {
  return Array.from(element.getClientRects());
}
function getWindowScrollBarX(element) {
  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;
}
function getDocumentRect(element) {
  const html = getDocumentElement(element);
  const scroll = getNodeScroll(element);
  const body = element.ownerDocument.body;
  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);
  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);
  let x2 = -scroll.scrollLeft + getWindowScrollBarX(element);
  const y3 = -scroll.scrollTop;
  if (getComputedStyle2(body).direction === "rtl") {
    x2 += max(html.clientWidth, body.clientWidth) - width;
  }
  return {
    width,
    height,
    x: x2,
    y: y3
  };
}
function getViewportRect(element, strategy) {
  const win = getWindow(element);
  const html = getDocumentElement(element);
  const visualViewport = win.visualViewport;
  let width = html.clientWidth;
  let height = html.clientHeight;
  let x2 = 0;
  let y3 = 0;
  if (visualViewport) {
    width = visualViewport.width;
    height = visualViewport.height;
    const visualViewportBased = isWebKit();
    if (!visualViewportBased || visualViewportBased && strategy === "fixed") {
      x2 = visualViewport.offsetLeft;
      y3 = visualViewport.offsetTop;
    }
  }
  return {
    width,
    height,
    x: x2,
    y: y3
  };
}
function getInnerBoundingClientRect(element, strategy) {
  const clientRect = getBoundingClientRect(element, true, strategy === "fixed");
  const top = clientRect.top + element.clientTop;
  const left = clientRect.left + element.clientLeft;
  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);
  const width = element.clientWidth * scale.x;
  const height = element.clientHeight * scale.y;
  const x2 = left * scale.x;
  const y3 = top * scale.y;
  return {
    width,
    height,
    x: x2,
    y: y3
  };
}
function getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {
  let rect;
  if (clippingAncestor === "viewport") {
    rect = getViewportRect(element, strategy);
  } else if (clippingAncestor === "document") {
    rect = getDocumentRect(getDocumentElement(element));
  } else if (isElement(clippingAncestor)) {
    rect = getInnerBoundingClientRect(clippingAncestor, strategy);
  } else {
    const visualOffsets = getVisualOffsets(element);
    rect = {
      ...clippingAncestor,
      x: clippingAncestor.x - visualOffsets.x,
      y: clippingAncestor.y - visualOffsets.y
    };
  }
  return rectToClientRect(rect);
}
function hasFixedPositionAncestor(element, stopNode) {
  const parentNode = getParentNode(element);
  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {
    return false;
  }
  return getComputedStyle2(parentNode).position === "fixed" || hasFixedPositionAncestor(parentNode, stopNode);
}
function getClippingElementAncestors(element, cache) {
  const cachedResult = cache.get(element);
  if (cachedResult) {
    return cachedResult;
  }
  let result = getOverflowAncestors(element, [], false).filter((el) => isElement(el) && getNodeName(el) !== "body");
  let currentContainingBlockComputedStyle = null;
  const elementIsFixed = getComputedStyle2(element).position === "fixed";
  let currentNode = elementIsFixed ? getParentNode(element) : element;
  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {
    const computedStyle = getComputedStyle2(currentNode);
    const currentNodeIsContaining = isContainingBlock(currentNode);
    if (!currentNodeIsContaining && computedStyle.position === "fixed") {
      currentContainingBlockComputedStyle = null;
    }
    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === "static" && !!currentContainingBlockComputedStyle && ["absolute", "fixed"].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);
    if (shouldDropCurrentNode) {
      result = result.filter((ancestor) => ancestor !== currentNode);
    } else {
      currentContainingBlockComputedStyle = computedStyle;
    }
    currentNode = getParentNode(currentNode);
  }
  cache.set(element, result);
  return result;
}
function getClippingRect(_ref) {
  let {
    element,
    boundary,
    rootBoundary,
    strategy
  } = _ref;
  const elementClippingAncestors = boundary === "clippingAncestors" ? getClippingElementAncestors(element, this._c) : [].concat(boundary);
  const clippingAncestors = [...elementClippingAncestors, rootBoundary];
  const firstClippingAncestor = clippingAncestors[0];
  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {
    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);
    accRect.top = max(rect.top, accRect.top);
    accRect.right = min(rect.right, accRect.right);
    accRect.bottom = min(rect.bottom, accRect.bottom);
    accRect.left = max(rect.left, accRect.left);
    return accRect;
  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));
  return {
    width: clippingRect.right - clippingRect.left,
    height: clippingRect.bottom - clippingRect.top,
    x: clippingRect.left,
    y: clippingRect.top
  };
}
function getDimensions(element) {
  const {
    width,
    height
  } = getCssDimensions(element);
  return {
    width,
    height
  };
}
function getRectRelativeToOffsetParent(element, offsetParent, strategy) {
  const isOffsetParentAnElement = isHTMLElement(offsetParent);
  const documentElement = getDocumentElement(offsetParent);
  const isFixed = strategy === "fixed";
  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);
  let scroll = {
    scrollLeft: 0,
    scrollTop: 0
  };
  const offsets = createCoords(0);
  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
    if (getNodeName(offsetParent) !== "body" || isOverflowElement(documentElement)) {
      scroll = getNodeScroll(offsetParent);
    }
    if (isOffsetParentAnElement) {
      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);
      offsets.x = offsetRect.x + offsetParent.clientLeft;
      offsets.y = offsetRect.y + offsetParent.clientTop;
    } else if (documentElement) {
      offsets.x = getWindowScrollBarX(documentElement);
    }
  }
  const x2 = rect.left + scroll.scrollLeft - offsets.x;
  const y3 = rect.top + scroll.scrollTop - offsets.y;
  return {
    x: x2,
    y: y3,
    width: rect.width,
    height: rect.height
  };
}
function getTrueOffsetParent(element, polyfill) {
  if (!isHTMLElement(element) || getComputedStyle2(element).position === "fixed") {
    return null;
  }
  if (polyfill) {
    return polyfill(element);
  }
  return element.offsetParent;
}
function getOffsetParent(element, polyfill) {
  const window2 = getWindow(element);
  if (!isHTMLElement(element) || isTopLayer(element)) {
    return window2;
  }
  let offsetParent = getTrueOffsetParent(element, polyfill);
  while (offsetParent && isTableElement(offsetParent) && getComputedStyle2(offsetParent).position === "static") {
    offsetParent = getTrueOffsetParent(offsetParent, polyfill);
  }
  if (offsetParent && (getNodeName(offsetParent) === "html" || getNodeName(offsetParent) === "body" && getComputedStyle2(offsetParent).position === "static" && !isContainingBlock(offsetParent))) {
    return window2;
  }
  return offsetParent || getContainingBlock(element) || window2;
}
var getElementRects = async function(data) {
  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;
  const getDimensionsFn = this.getDimensions;
  return {
    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),
    floating: {
      x: 0,
      y: 0,
      ...await getDimensionsFn(data.floating)
    }
  };
};
function isRTL(element) {
  return getComputedStyle2(element).direction === "rtl";
}
var platform = {
  convertOffsetParentRelativeRectToViewportRelativeRect,
  getDocumentElement,
  getClippingRect,
  getOffsetParent,
  getElementRects,
  getClientRects,
  getDimensions,
  getScale,
  isElement,
  isRTL
};
function observeMove(element, onMove) {
  let io = null;
  let timeoutId;
  const root = getDocumentElement(element);
  function cleanup() {
    var _io;
    clearTimeout(timeoutId);
    (_io = io) == null || _io.disconnect();
    io = null;
  }
  function refresh(skip, threshold) {
    if (skip === void 0) {
      skip = false;
    }
    if (threshold === void 0) {
      threshold = 1;
    }
    cleanup();
    const {
      left,
      top,
      width,
      height
    } = element.getBoundingClientRect();
    if (!skip) {
      onMove();
    }
    if (!width || !height) {
      return;
    }
    const insetTop = floor(top);
    const insetRight = floor(root.clientWidth - (left + width));
    const insetBottom = floor(root.clientHeight - (top + height));
    const insetLeft = floor(left);
    const rootMargin = -insetTop + "px " + -insetRight + "px " + -insetBottom + "px " + -insetLeft + "px";
    const options = {
      rootMargin,
      threshold: max(0, min(1, threshold)) || 1
    };
    let isFirstUpdate = true;
    function handleObserve(entries) {
      const ratio = entries[0].intersectionRatio;
      if (ratio !== threshold) {
        if (!isFirstUpdate) {
          return refresh();
        }
        if (!ratio) {
          timeoutId = setTimeout(() => {
            refresh(false, 1e-7);
          }, 100);
        } else {
          refresh(false, ratio);
        }
      }
      isFirstUpdate = false;
    }
    try {
      io = new IntersectionObserver(handleObserve, {
        ...options,
        // Handle <iframe>s
        root: root.ownerDocument
      });
    } catch (e11) {
      io = new IntersectionObserver(handleObserve, options);
    }
    io.observe(element);
  }
  refresh(true);
  return cleanup;
}
function autoUpdate(reference, floating, update2, options) {
  if (options === void 0) {
    options = {};
  }
  const {
    ancestorScroll = true,
    ancestorResize = true,
    elementResize = typeof ResizeObserver === "function",
    layoutShift = typeof IntersectionObserver === "function",
    animationFrame = false
  } = options;
  const referenceEl = unwrapElement(reference);
  const ancestors = ancestorScroll || ancestorResize ? [...referenceEl ? getOverflowAncestors(referenceEl) : [], ...getOverflowAncestors(floating)] : [];
  ancestors.forEach((ancestor) => {
    ancestorScroll && ancestor.addEventListener("scroll", update2, {
      passive: true
    });
    ancestorResize && ancestor.addEventListener("resize", update2);
  });
  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update2) : null;
  let reobserveFrame = -1;
  let resizeObserver = null;
  if (elementResize) {
    resizeObserver = new ResizeObserver((_ref) => {
      let [firstEntry] = _ref;
      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {
        resizeObserver.unobserve(floating);
        cancelAnimationFrame(reobserveFrame);
        reobserveFrame = requestAnimationFrame(() => {
          var _resizeObserver;
          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);
        });
      }
      update2();
    });
    if (referenceEl && !animationFrame) {
      resizeObserver.observe(referenceEl);
    }
    resizeObserver.observe(floating);
  }
  let frameId;
  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;
  if (animationFrame) {
    frameLoop();
  }
  function frameLoop() {
    const nextRefRect = getBoundingClientRect(reference);
    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {
      update2();
    }
    prevRefRect = nextRefRect;
    frameId = requestAnimationFrame(frameLoop);
  }
  update2();
  return () => {
    var _resizeObserver2;
    ancestors.forEach((ancestor) => {
      ancestorScroll && ancestor.removeEventListener("scroll", update2);
      ancestorResize && ancestor.removeEventListener("resize", update2);
    });
    cleanupIo == null || cleanupIo();
    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();
    resizeObserver = null;
    if (animationFrame) {
      cancelAnimationFrame(frameId);
    }
  };
}
var shift2 = shift;
var flip2 = flip;
var size2 = size;
var arrow2 = arrow;
var computePosition2 = (reference, floating, options) => {
  const cache = /* @__PURE__ */ new Map();
  const mergedOptions = {
    platform,
    ...options
  };
  const platformWithCache = {
    ...mergedOptions.platform,
    _c: cache
  };
  return computePosition(reference, floating, {
    ...mergedOptions,
    platform: platformWithCache
  });
};

// node_modules/.pnpm/composed-offset-position@0.0.4/node_modules/composed-offset-position/dist/composed-offset-position.browser.min.mjs
function t6(t7) {
  return r7(t7);
}
function o7(t7) {
  return t7.assignedSlot ? t7.assignedSlot : t7.parentNode instanceof ShadowRoot ? t7.parentNode.host : t7.parentNode;
}
function r7(t7) {
  for (let e11 = t7; e11; e11 = o7(e11))
    if (e11 instanceof Element && "none" === getComputedStyle(e11).display)
      return null;
  for (let e11 = o7(t7); e11; e11 = o7(e11)) {
    if (!(e11 instanceof Element))
      continue;
    const t8 = getComputedStyle(e11);
    if ("contents" !== t8.display) {
      if ("static" !== t8.position || "none" !== t8.filter)
        return e11;
      if ("BODY" === e11.tagName)
        return e11;
    }
  }
  return null;
}

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.SUWKRDXP.js
function isVirtualElement(e11) {
  return e11 !== null && typeof e11 === "object" && "getBoundingClientRect" in e11 && ("contextElement" in e11 ? e11 instanceof Element : true);
}
var SlPopup = class extends ShoelaceElement {
  constructor() {
    super(...arguments);
    this.active = false;
    this.placement = "top";
    this.strategy = "absolute";
    this.distance = 0;
    this.skidding = 0;
    this.arrow = false;
    this.arrowPlacement = "anchor";
    this.arrowPadding = 10;
    this.flip = false;
    this.flipFallbackPlacements = "";
    this.flipFallbackStrategy = "best-fit";
    this.flipPadding = 0;
    this.shift = false;
    this.shiftPadding = 0;
    this.autoSizePadding = 0;
    this.hoverBridge = false;
    this.updateHoverBridge = () => {
      if (this.hoverBridge && this.anchorEl) {
        const anchorRect = this.anchorEl.getBoundingClientRect();
        const popupRect = this.popup.getBoundingClientRect();
        const isVertical = this.placement.includes("top") || this.placement.includes("bottom");
        let topLeftX = 0;
        let topLeftY = 0;
        let topRightX = 0;
        let topRightY = 0;
        let bottomLeftX = 0;
        let bottomLeftY = 0;
        let bottomRightX = 0;
        let bottomRightY = 0;
        if (isVertical) {
          if (anchorRect.top < popupRect.top) {
            topLeftX = anchorRect.left;
            topLeftY = anchorRect.bottom;
            topRightX = anchorRect.right;
            topRightY = anchorRect.bottom;
            bottomLeftX = popupRect.left;
            bottomLeftY = popupRect.top;
            bottomRightX = popupRect.right;
            bottomRightY = popupRect.top;
          } else {
            topLeftX = popupRect.left;
            topLeftY = popupRect.bottom;
            topRightX = popupRect.right;
            topRightY = popupRect.bottom;
            bottomLeftX = anchorRect.left;
            bottomLeftY = anchorRect.top;
            bottomRightX = anchorRect.right;
            bottomRightY = anchorRect.top;
          }
        } else {
          if (anchorRect.left < popupRect.left) {
            topLeftX = anchorRect.right;
            topLeftY = anchorRect.top;
            topRightX = popupRect.left;
            topRightY = popupRect.top;
            bottomLeftX = anchorRect.right;
            bottomLeftY = anchorRect.bottom;
            bottomRightX = popupRect.left;
            bottomRightY = popupRect.bottom;
          } else {
            topLeftX = popupRect.right;
            topLeftY = popupRect.top;
            topRightX = anchorRect.left;
            topRightY = anchorRect.top;
            bottomLeftX = popupRect.right;
            bottomLeftY = popupRect.bottom;
            bottomRightX = anchorRect.left;
            bottomRightY = anchorRect.bottom;
          }
        }
        this.style.setProperty("--hover-bridge-top-left-x", `${topLeftX}px`);
        this.style.setProperty("--hover-bridge-top-left-y", `${topLeftY}px`);
        this.style.setProperty("--hover-bridge-top-right-x", `${topRightX}px`);
        this.style.setProperty("--hover-bridge-top-right-y", `${topRightY}px`);
        this.style.setProperty("--hover-bridge-bottom-left-x", `${bottomLeftX}px`);
        this.style.setProperty("--hover-bridge-bottom-left-y", `${bottomLeftY}px`);
        this.style.setProperty("--hover-bridge-bottom-right-x", `${bottomRightX}px`);
        this.style.setProperty("--hover-bridge-bottom-right-y", `${bottomRightY}px`);
      }
    };
  }
  async connectedCallback() {
    super.connectedCallback();
    await this.updateComplete;
    this.start();
  }
  disconnectedCallback() {
    super.disconnectedCallback();
    this.stop();
  }
  async updated(changedProps) {
    super.updated(changedProps);
    if (changedProps.has("active")) {
      if (this.active) {
        this.start();
      } else {
        this.stop();
      }
    }
    if (changedProps.has("anchor")) {
      this.handleAnchorChange();
    }
    if (this.active) {
      await this.updateComplete;
      this.reposition();
    }
  }
  async handleAnchorChange() {
    await this.stop();
    if (this.anchor && typeof this.anchor === "string") {
      const root = this.getRootNode();
      this.anchorEl = root.getElementById(this.anchor);
    } else if (this.anchor instanceof Element || isVirtualElement(this.anchor)) {
      this.anchorEl = this.anchor;
    } else {
      this.anchorEl = this.querySelector('[slot="anchor"]');
    }
    if (this.anchorEl instanceof HTMLSlotElement) {
      this.anchorEl = this.anchorEl.assignedElements({ flatten: true })[0];
    }
    if (this.anchorEl) {
      this.start();
    }
  }
  start() {
    if (!this.anchorEl) {
      return;
    }
    this.cleanup = autoUpdate(this.anchorEl, this.popup, () => {
      this.reposition();
    });
  }
  async stop() {
    return new Promise((resolve) => {
      if (this.cleanup) {
        this.cleanup();
        this.cleanup = void 0;
        this.removeAttribute("data-current-placement");
        this.style.removeProperty("--auto-size-available-width");
        this.style.removeProperty("--auto-size-available-height");
        requestAnimationFrame(() => resolve());
      } else {
        resolve();
      }
    });
  }
  /** Forces the popup to recalculate and reposition itself. */
  reposition() {
    if (!this.active || !this.anchorEl) {
      return;
    }
    const middleware = [
      // The offset middleware goes first
      offset({ mainAxis: this.distance, crossAxis: this.skidding })
    ];
    if (this.sync) {
      middleware.push(
        size2({
          apply: ({ rects }) => {
            const syncWidth = this.sync === "width" || this.sync === "both";
            const syncHeight = this.sync === "height" || this.sync === "both";
            this.popup.style.width = syncWidth ? `${rects.reference.width}px` : "";
            this.popup.style.height = syncHeight ? `${rects.reference.height}px` : "";
          }
        })
      );
    } else {
      this.popup.style.width = "";
      this.popup.style.height = "";
    }
    if (this.flip) {
      middleware.push(
        flip2({
          boundary: this.flipBoundary,
          // @ts-expect-error - We're converting a string attribute to an array here
          fallbackPlacements: this.flipFallbackPlacements,
          fallbackStrategy: this.flipFallbackStrategy === "best-fit" ? "bestFit" : "initialPlacement",
          padding: this.flipPadding
        })
      );
    }
    if (this.shift) {
      middleware.push(
        shift2({
          boundary: this.shiftBoundary,
          padding: this.shiftPadding
        })
      );
    }
    if (this.autoSize) {
      middleware.push(
        size2({
          boundary: this.autoSizeBoundary,
          padding: this.autoSizePadding,
          apply: ({ availableWidth, availableHeight }) => {
            if (this.autoSize === "vertical" || this.autoSize === "both") {
              this.style.setProperty("--auto-size-available-height", `${availableHeight}px`);
            } else {
              this.style.removeProperty("--auto-size-available-height");
            }
            if (this.autoSize === "horizontal" || this.autoSize === "both") {
              this.style.setProperty("--auto-size-available-width", `${availableWidth}px`);
            } else {
              this.style.removeProperty("--auto-size-available-width");
            }
          }
        })
      );
    } else {
      this.style.removeProperty("--auto-size-available-width");
      this.style.removeProperty("--auto-size-available-height");
    }
    if (this.arrow) {
      middleware.push(
        arrow2({
          element: this.arrowEl,
          padding: this.arrowPadding
        })
      );
    }
    const getOffsetParent2 = this.strategy === "absolute" ? (element) => platform.getOffsetParent(element, t6) : platform.getOffsetParent;
    computePosition2(this.anchorEl, this.popup, {
      placement: this.placement,
      middleware,
      strategy: this.strategy,
      platform: __spreadProps(__spreadValues({}, platform), {
        getOffsetParent: getOffsetParent2
      })
    }).then(({ x: x2, y: y3, middlewareData, placement }) => {
      const isRtl = getComputedStyle(this).direction === "rtl";
      const staticSide = { top: "bottom", right: "left", bottom: "top", left: "right" }[placement.split("-")[0]];
      this.setAttribute("data-current-placement", placement);
      Object.assign(this.popup.style, {
        left: `${x2}px`,
        top: `${y3}px`
      });
      if (this.arrow) {
        const arrowX = middlewareData.arrow.x;
        const arrowY = middlewareData.arrow.y;
        let top = "";
        let right = "";
        let bottom = "";
        let left = "";
        if (this.arrowPlacement === "start") {
          const value = typeof arrowX === "number" ? `calc(${this.arrowPadding}px - var(--arrow-padding-offset))` : "";
          top = typeof arrowY === "number" ? `calc(${this.arrowPadding}px - var(--arrow-padding-offset))` : "";
          right = isRtl ? value : "";
          left = isRtl ? "" : value;
        } else if (this.arrowPlacement === "end") {
          const value = typeof arrowX === "number" ? `calc(${this.arrowPadding}px - var(--arrow-padding-offset))` : "";
          right = isRtl ? "" : value;
          left = isRtl ? value : "";
          bottom = typeof arrowY === "number" ? `calc(${this.arrowPadding}px - var(--arrow-padding-offset))` : "";
        } else if (this.arrowPlacement === "center") {
          left = typeof arrowX === "number" ? `calc(50% - var(--arrow-size-diagonal))` : "";
          top = typeof arrowY === "number" ? `calc(50% - var(--arrow-size-diagonal))` : "";
        } else {
          left = typeof arrowX === "number" ? `${arrowX}px` : "";
          top = typeof arrowY === "number" ? `${arrowY}px` : "";
        }
        Object.assign(this.arrowEl.style, {
          top,
          right,
          bottom,
          left,
          [staticSide]: "calc(var(--arrow-size-diagonal) * -1)"
        });
      }
    });
    requestAnimationFrame(() => this.updateHoverBridge());
    this.emit("sl-reposition");
  }
  render() {
    return x`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <span
        part="hover-bridge"
        class=${e8({
      "popup-hover-bridge": true,
      "popup-hover-bridge--visible": this.hoverBridge && this.active
    })}
      ></span>

      <div
        part="popup"
        class=${e8({
      popup: true,
      "popup--active": this.active,
      "popup--fixed": this.strategy === "fixed",
      "popup--has-arrow": this.arrow
    })}
      >
        <slot></slot>
        ${this.arrow ? x`<div part="arrow" class="popup__arrow" role="presentation"></div>` : ""}
      </div>
    `;
  }
};
SlPopup.styles = [component_styles_default, popup_styles_default];
__decorateClass([
  e5(".popup")
], SlPopup.prototype, "popup", 2);
__decorateClass([
  e5(".popup__arrow")
], SlPopup.prototype, "arrowEl", 2);
__decorateClass([
  n4()
], SlPopup.prototype, "anchor", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlPopup.prototype, "active", 2);
__decorateClass([
  n4({ reflect: true })
], SlPopup.prototype, "placement", 2);
__decorateClass([
  n4({ reflect: true })
], SlPopup.prototype, "strategy", 2);
__decorateClass([
  n4({ type: Number })
], SlPopup.prototype, "distance", 2);
__decorateClass([
  n4({ type: Number })
], SlPopup.prototype, "skidding", 2);
__decorateClass([
  n4({ type: Boolean })
], SlPopup.prototype, "arrow", 2);
__decorateClass([
  n4({ attribute: "arrow-placement" })
], SlPopup.prototype, "arrowPlacement", 2);
__decorateClass([
  n4({ attribute: "arrow-padding", type: Number })
], SlPopup.prototype, "arrowPadding", 2);
__decorateClass([
  n4({ type: Boolean })
], SlPopup.prototype, "flip", 2);
__decorateClass([
  n4({
    attribute: "flip-fallback-placements",
    converter: {
      fromAttribute: (value) => {
        return value.split(" ").map((p3) => p3.trim()).filter((p3) => p3 !== "");
      },
      toAttribute: (value) => {
        return value.join(" ");
      }
    }
  })
], SlPopup.prototype, "flipFallbackPlacements", 2);
__decorateClass([
  n4({ attribute: "flip-fallback-strategy" })
], SlPopup.prototype, "flipFallbackStrategy", 2);
__decorateClass([
  n4({ type: Object })
], SlPopup.prototype, "flipBoundary", 2);
__decorateClass([
  n4({ attribute: "flip-padding", type: Number })
], SlPopup.prototype, "flipPadding", 2);
__decorateClass([
  n4({ type: Boolean })
], SlPopup.prototype, "shift", 2);
__decorateClass([
  n4({ type: Object })
], SlPopup.prototype, "shiftBoundary", 2);
__decorateClass([
  n4({ attribute: "shift-padding", type: Number })
], SlPopup.prototype, "shiftPadding", 2);
__decorateClass([
  n4({ attribute: "auto-size" })
], SlPopup.prototype, "autoSize", 2);
__decorateClass([
  n4()
], SlPopup.prototype, "sync", 2);
__decorateClass([
  n4({ type: Object })
], SlPopup.prototype, "autoSizeBoundary", 2);
__decorateClass([
  n4({ attribute: "auto-size-padding", type: Number })
], SlPopup.prototype, "autoSizePadding", 2);
__decorateClass([
  n4({ attribute: "hover-bridge", type: Boolean })
], SlPopup.prototype, "hoverBridge", 2);

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.DHU6MIVB.js
var defaultAnimationRegistry = /* @__PURE__ */ new Map();
var customAnimationRegistry = /* @__PURE__ */ new WeakMap();
function ensureAnimation(animation) {
  return animation != null ? animation : { keyframes: [], options: { duration: 0 } };
}
function getLogicalAnimation(animation, dir) {
  if (dir.toLowerCase() === "rtl") {
    return {
      keyframes: animation.rtlKeyframes || animation.keyframes,
      options: animation.options
    };
  }
  return animation;
}
function setDefaultAnimation(animationName, animation) {
  defaultAnimationRegistry.set(animationName, ensureAnimation(animation));
}
function getAnimation(el, animationName, options) {
  const customAnimation = customAnimationRegistry.get(el);
  if (customAnimation == null ? void 0 : customAnimation[animationName]) {
    return getLogicalAnimation(customAnimation[animationName], options.dir);
  }
  const defaultAnimation = defaultAnimationRegistry.get(animationName);
  if (defaultAnimation) {
    return getLogicalAnimation(defaultAnimation, options.dir);
  }
  return {
    keyframes: [],
    options: { duration: 0 }
  };
}

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.B4BZKR24.js
function waitForEvent(el, eventName) {
  return new Promise((resolve) => {
    function done(event) {
      if (event.target === el) {
        el.removeEventListener(eventName, done);
        resolve();
      }
    }
    el.addEventListener(eventName, done);
  });
}

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.LHI6QEL2.js
function animateTo(el, keyframes, options) {
  return new Promise((resolve) => {
    if ((options == null ? void 0 : options.duration) === Infinity) {
      throw new Error("Promise-based animations must be finite.");
    }
    const animation = el.animate(keyframes, __spreadProps(__spreadValues({}, options), {
      duration: prefersReducedMotion() ? 0 : options.duration
    }));
    animation.addEventListener("cancel", resolve, { once: true });
    animation.addEventListener("finish", resolve, { once: true });
  });
}
function prefersReducedMotion() {
  const query = window.matchMedia("(prefers-reduced-motion: reduce)");
  return query.matches;
}
function stopAnimations(el) {
  return Promise.all(
    el.getAnimations().map((animation) => {
      return new Promise((resolve) => {
        animation.cancel();
        requestAnimationFrame(resolve);
      });
    })
  );
}

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.FLYTFYGC.js
var SlDropdown = class extends ShoelaceElement {
  constructor() {
    super(...arguments);
    this.localize = new LocalizeController2(this);
    this.open = false;
    this.placement = "bottom-start";
    this.disabled = false;
    this.stayOpenOnSelect = false;
    this.distance = 0;
    this.skidding = 0;
    this.hoist = false;
    this.sync = void 0;
    this.handleKeyDown = (event) => {
      if (this.open && event.key === "Escape") {
        event.stopPropagation();
        this.hide();
        this.focusOnTrigger();
      }
    };
    this.handleDocumentKeyDown = (event) => {
      var _a6;
      if (event.key === "Escape" && this.open && !this.closeWatcher) {
        event.stopPropagation();
        this.focusOnTrigger();
        this.hide();
        return;
      }
      if (event.key === "Tab") {
        if (this.open && ((_a6 = document.activeElement) == null ? void 0 : _a6.tagName.toLowerCase()) === "sl-menu-item") {
          event.preventDefault();
          this.hide();
          this.focusOnTrigger();
          return;
        }
        setTimeout(() => {
          var _a22, _b2, _c;
          const activeElement = ((_a22 = this.containingElement) == null ? void 0 : _a22.getRootNode()) instanceof ShadowRoot ? (_c = (_b2 = document.activeElement) == null ? void 0 : _b2.shadowRoot) == null ? void 0 : _c.activeElement : document.activeElement;
          if (!this.containingElement || (activeElement == null ? void 0 : activeElement.closest(this.containingElement.tagName.toLowerCase())) !== this.containingElement) {
            this.hide();
          }
        });
      }
    };
    this.handleDocumentMouseDown = (event) => {
      const path = event.composedPath();
      if (this.containingElement && !path.includes(this.containingElement)) {
        this.hide();
      }
    };
    this.handlePanelSelect = (event) => {
      const target = event.target;
      if (!this.stayOpenOnSelect && target.tagName.toLowerCase() === "sl-menu") {
        this.hide();
        this.focusOnTrigger();
      }
    };
  }
  connectedCallback() {
    super.connectedCallback();
    if (!this.containingElement) {
      this.containingElement = this;
    }
  }
  firstUpdated() {
    this.panel.hidden = !this.open;
    if (this.open) {
      this.addOpenListeners();
      this.popup.active = true;
    }
  }
  disconnectedCallback() {
    super.disconnectedCallback();
    this.removeOpenListeners();
    this.hide();
  }
  focusOnTrigger() {
    const trigger = this.trigger.assignedElements({ flatten: true })[0];
    if (typeof (trigger == null ? void 0 : trigger.focus) === "function") {
      trigger.focus();
    }
  }
  getMenu() {
    return this.panel.assignedElements({ flatten: true }).find((el) => el.tagName.toLowerCase() === "sl-menu");
  }
  handleTriggerClick() {
    if (this.open) {
      this.hide();
    } else {
      this.show();
      this.focusOnTrigger();
    }
  }
  async handleTriggerKeyDown(event) {
    if ([" ", "Enter"].includes(event.key)) {
      event.preventDefault();
      this.handleTriggerClick();
      return;
    }
    const menu = this.getMenu();
    if (menu) {
      const menuItems = menu.getAllItems();
      const firstMenuItem = menuItems[0];
      const lastMenuItem = menuItems[menuItems.length - 1];
      if (["ArrowDown", "ArrowUp", "Home", "End"].includes(event.key)) {
        event.preventDefault();
        if (!this.open) {
          this.show();
          await this.updateComplete;
        }
        if (menuItems.length > 0) {
          this.updateComplete.then(() => {
            if (event.key === "ArrowDown" || event.key === "Home") {
              menu.setCurrentItem(firstMenuItem);
              firstMenuItem.focus();
            }
            if (event.key === "ArrowUp" || event.key === "End") {
              menu.setCurrentItem(lastMenuItem);
              lastMenuItem.focus();
            }
          });
        }
      }
    }
  }
  handleTriggerKeyUp(event) {
    if (event.key === " ") {
      event.preventDefault();
    }
  }
  handleTriggerSlotChange() {
    this.updateAccessibleTrigger();
  }
  //
  // Slotted triggers can be arbitrary content, but we need to link them to the dropdown panel with `aria-haspopup` and
  // `aria-expanded`. These must be applied to the "accessible trigger" (the tabbable portion of the trigger element
  // that gets slotted in) so screen readers will understand them. The accessible trigger could be the slotted element,
  // a child of the slotted element, or an element in the slotted element's shadow root.
  //
  // For example, the accessible trigger of an <sl-button> is a <button> located inside its shadow root.
  //
  // To determine this, we assume the first tabbable element in the trigger slot is the "accessible trigger."
  //
  updateAccessibleTrigger() {
    const assignedElements = this.trigger.assignedElements({ flatten: true });
    const accessibleTrigger = assignedElements.find((el) => getTabbableBoundary(el).start);
    let target;
    if (accessibleTrigger) {
      switch (accessibleTrigger.tagName.toLowerCase()) {
        case "sl-button":
        case "sl-icon-button":
          target = accessibleTrigger.button;
          break;
        default:
          target = accessibleTrigger;
      }
      target.setAttribute("aria-haspopup", "true");
      target.setAttribute("aria-expanded", this.open ? "true" : "false");
    }
  }
  /** Shows the dropdown panel. */
  async show() {
    if (this.open) {
      return void 0;
    }
    this.open = true;
    return waitForEvent(this, "sl-after-show");
  }
  /** Hides the dropdown panel */
  async hide() {
    if (!this.open) {
      return void 0;
    }
    this.open = false;
    return waitForEvent(this, "sl-after-hide");
  }
  /**
   * Instructs the dropdown menu to reposition. Useful when the position or size of the trigger changes when the menu
   * is activated.
   */
  reposition() {
    this.popup.reposition();
  }
  addOpenListeners() {
    var _a6;
    this.panel.addEventListener("sl-select", this.handlePanelSelect);
    if ("CloseWatcher" in window) {
      (_a6 = this.closeWatcher) == null ? void 0 : _a6.destroy();
      this.closeWatcher = new CloseWatcher();
      this.closeWatcher.onclose = () => {
        this.hide();
        this.focusOnTrigger();
      };
    } else {
      this.panel.addEventListener("keydown", this.handleKeyDown);
    }
    document.addEventListener("keydown", this.handleDocumentKeyDown);
    document.addEventListener("mousedown", this.handleDocumentMouseDown);
  }
  removeOpenListeners() {
    var _a6;
    if (this.panel) {
      this.panel.removeEventListener("sl-select", this.handlePanelSelect);
      this.panel.removeEventListener("keydown", this.handleKeyDown);
    }
    document.removeEventListener("keydown", this.handleDocumentKeyDown);
    document.removeEventListener("mousedown", this.handleDocumentMouseDown);
    (_a6 = this.closeWatcher) == null ? void 0 : _a6.destroy();
  }
  async handleOpenChange() {
    if (this.disabled) {
      this.open = false;
      return;
    }
    this.updateAccessibleTrigger();
    if (this.open) {
      this.emit("sl-show");
      this.addOpenListeners();
      await stopAnimations(this);
      this.panel.hidden = false;
      this.popup.active = true;
      const { keyframes, options } = getAnimation(this, "dropdown.show", { dir: this.localize.dir() });
      await animateTo(this.popup.popup, keyframes, options);
      this.emit("sl-after-show");
    } else {
      this.emit("sl-hide");
      this.removeOpenListeners();
      await stopAnimations(this);
      const { keyframes, options } = getAnimation(this, "dropdown.hide", { dir: this.localize.dir() });
      await animateTo(this.popup.popup, keyframes, options);
      this.panel.hidden = true;
      this.popup.active = false;
      this.emit("sl-after-hide");
    }
  }
  render() {
    return x`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist ? "fixed" : "absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        sync=${o6(this.sync ? this.sync : void 0)}
        class=${e8({
      dropdown: true,
      "dropdown--open": this.open
    })}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open ? "false" : "true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `;
  }
};
SlDropdown.styles = [component_styles_default, dropdown_styles_default];
SlDropdown.dependencies = { "sl-popup": SlPopup };
__decorateClass([
  e5(".dropdown")
], SlDropdown.prototype, "popup", 2);
__decorateClass([
  e5(".dropdown__trigger")
], SlDropdown.prototype, "trigger", 2);
__decorateClass([
  e5(".dropdown__panel")
], SlDropdown.prototype, "panel", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlDropdown.prototype, "open", 2);
__decorateClass([
  n4({ reflect: true })
], SlDropdown.prototype, "placement", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlDropdown.prototype, "disabled", 2);
__decorateClass([
  n4({ attribute: "stay-open-on-select", type: Boolean, reflect: true })
], SlDropdown.prototype, "stayOpenOnSelect", 2);
__decorateClass([
  n4({ attribute: false })
], SlDropdown.prototype, "containingElement", 2);
__decorateClass([
  n4({ type: Number })
], SlDropdown.prototype, "distance", 2);
__decorateClass([
  n4({ type: Number })
], SlDropdown.prototype, "skidding", 2);
__decorateClass([
  n4({ type: Boolean })
], SlDropdown.prototype, "hoist", 2);
__decorateClass([
  n4({ reflect: true })
], SlDropdown.prototype, "sync", 2);
__decorateClass([
  watch("open", { waitUntilFirstUpdate: true })
], SlDropdown.prototype, "handleOpenChange", 1);
setDefaultAnimation("dropdown.show", {
  keyframes: [
    { opacity: 0, scale: 0.9 },
    { opacity: 1, scale: 1 }
  ],
  options: { duration: 100, easing: "ease" }
});
setDefaultAnimation("dropdown.hide", {
  keyframes: [
    { opacity: 1, scale: 1 },
    { opacity: 0, scale: 0.9 }
  ],
  options: { duration: 100, easing: "ease" }
});

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.OJFFDYG4.js
SlDropdown.define("sl-dropdown");

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.22M42QYS.js
SlIcon.define("sl-icon");

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.GGT72J62.js
var input_styles_default = i`
  :host {
    display: block;
  }

  .input {
    flex: 1 1 auto;
    display: inline-flex;
    align-items: stretch;
    justify-content: start;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    overflow: hidden;
    cursor: text;
    transition:
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) border,
      var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
  }

  /* Standard inputs */
  .input--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .input--standard:hover:not(.input--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }

  .input--standard.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  .input--standard.input--focused:not(.input--disabled) .input__control {
    color: var(--sl-input-color-focus);
  }

  .input--standard.input--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input--standard.input--disabled .input__control {
    color: var(--sl-input-color-disabled);
  }

  .input--standard.input--disabled .input__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled inputs */
  .input--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .input--filled:hover:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .input--filled.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .input--filled.input--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input__control {
    flex: 1 1 auto;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    min-width: 0;
    height: 100%;
    color: var(--sl-input-color);
    border: none;
    background: inherit;
    box-shadow: none;
    padding: 0;
    margin: 0;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .input__control::-webkit-search-decoration,
  .input__control::-webkit-search-cancel-button,
  .input__control::-webkit-search-results-button,
  .input__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .input__control:-webkit-autofill,
  .input__control:-webkit-autofill:hover,
  .input__control:-webkit-autofill:focus,
  .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-background-color-hover) inset !important;
    -webkit-text-fill-color: var(--sl-color-primary-500);
    caret-color: var(--sl-input-color);
  }

  .input--filled .input__control:-webkit-autofill,
  .input--filled .input__control:-webkit-autofill:hover,
  .input--filled .input__control:-webkit-autofill:focus,
  .input--filled .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-filled-background-color) inset !important;
  }

  .input__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
    -webkit-user-select: none;
  }

  .input:hover:not(.input--disabled) .input__control {
    color: var(--sl-input-color-hover);
  }

  .input__control:focus {
    outline: none;
  }

  .input__prefix,
  .input__suffix {
    display: inline-flex;
    flex: 0 0 auto;
    align-items: center;
    cursor: default;
  }

  .input__prefix ::slotted(sl-icon),
  .input__suffix ::slotted(sl-icon) {
    color: var(--sl-input-icon-color);
  }

  /*
   * Size modifiers
   */

  .input--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
    height: var(--sl-input-height-small);
  }

  .input--small .input__control {
    height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-small);
  }

  .input--small .input__clear,
  .input--small .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-small) * 2);
  }

  .input--small .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-small);
  }

  .input--small .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-small);
  }

  .input--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
    height: var(--sl-input-height-medium);
  }

  .input--medium .input__control {
    height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-medium);
  }

  .input--medium .input__clear,
  .input--medium .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-medium) * 2);
  }

  .input--medium .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-medium);
  }

  .input--medium .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-medium);
  }

  .input--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
    height: var(--sl-input-height-large);
  }

  .input--large .input__control {
    height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-large);
  }

  .input--large .input__clear,
  .input--large .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-large) * 2);
  }

  .input--large .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-large);
  }

  .input--large .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-large);
  }

  /*
   * Pill modifier
   */

  .input--pill.input--small {
    border-radius: var(--sl-input-height-small);
  }

  .input--pill.input--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .input--pill.input--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Clearable + Password Toggle
   */

  .input__clear,
  .input__password-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: inherit;
    color: var(--sl-input-icon-color);
    border: none;
    background: none;
    padding: 0;
    transition: var(--sl-transition-fast) color;
    cursor: pointer;
  }

  .input__clear:hover,
  .input__password-toggle:hover {
    color: var(--sl-input-icon-color-hover);
  }

  .input__clear:focus,
  .input__password-toggle:focus {
    outline: none;
  }

  /* Don't show the browser's password toggle in Edge */
  ::-ms-reveal {
    display: none;
  }

  /* Hide the built-in number spinner */
  .input--no-spin-buttons input[type='number']::-webkit-outer-spin-button,
  .input--no-spin-buttons input[type='number']::-webkit-inner-spin-button {
    -webkit-appearance: none;
    display: none;
  }

  .input--no-spin-buttons input[type='number'] {
    -moz-appearance: textfield;
  }
`;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.GI7VDIWX.js
var defaultValue = (propertyName = "value") => (proto, key) => {
  const ctor = proto.constructor;
  const attributeChangedCallback = ctor.prototype.attributeChangedCallback;
  ctor.prototype.attributeChangedCallback = function(name, old, value) {
    var _a6;
    const options = ctor.getPropertyOptions(propertyName);
    const attributeName = typeof options.attribute === "string" ? options.attribute : propertyName;
    if (name === attributeName) {
      const converter = options.converter || u;
      const fromAttribute = typeof converter === "function" ? converter : (_a6 = converter == null ? void 0 : converter.fromAttribute) != null ? _a6 : u.fromAttribute;
      const newValue = fromAttribute(value, options.type);
      if (this[propertyName] !== newValue) {
        this[key] = newValue;
      }
    }
    attributeChangedCallback.call(this, name, old, value);
  };
};

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.SI4ACBFK.js
var form_control_styles_default = i`
  .form-control .form-control__label {
    display: none;
  }

  .form-control .form-control__help-text {
    display: none;
  }

  /* Label */
  .form-control--has-label .form-control__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    margin-bottom: var(--sl-spacing-3x-small);
  }

  .form-control--has-label.form-control--small .form-control__label {
    font-size: var(--sl-input-label-font-size-small);
  }

  .form-control--has-label.form-control--medium .form-control__label {
    font-size: var(--sl-input-label-font-size-medium);
  }

  .form-control--has-label.form-control--large .form-control__label {
    font-size: var(--sl-input-label-font-size-large);
  }

  :host([required]) .form-control--has-label .form-control__label::after {
    content: var(--sl-input-required-content);
    margin-inline-start: var(--sl-input-required-content-offset);
    color: var(--sl-input-required-content-color);
  }

  /* Help text */
  .form-control--has-help-text .form-control__help-text {
    display: block;
    color: var(--sl-input-help-text-color);
    margin-top: var(--sl-spacing-3x-small);
  }

  .form-control--has-help-text.form-control--small .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-small);
  }

  .form-control--has-help-text.form-control--medium .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-medium);
  }

  .form-control--has-help-text.form-control--large .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-large);
  }

  .form-control--has-help-text.form-control--radio-group .form-control__help-text {
    margin-top: var(--sl-spacing-2x-small);
  }
`;

// node_modules/.pnpm/lit-html@3.1.2/node_modules/lit-html/directives/live.js
var l4 = e7(class extends i4 {
  constructor(r8) {
    if (super(r8), r8.type !== t5.PROPERTY && r8.type !== t5.ATTRIBUTE && r8.type !== t5.BOOLEAN_ATTRIBUTE)
      throw Error("The `live` directive is not allowed on child or event bindings");
    if (!f3(r8))
      throw Error("`live` bindings can only contain a single expression");
  }
  render(r8) {
    return r8;
  }
  update(i6, [t7]) {
    if (t7 === w || t7 === T)
      return t7;
    const o10 = i6.element, l5 = i6.name;
    if (i6.type === t5.PROPERTY) {
      if (t7 === o10[l5])
        return w;
    } else if (i6.type === t5.BOOLEAN_ATTRIBUTE) {
      if (!!t7 === o10.hasAttribute(l5))
        return w;
    } else if (i6.type === t5.ATTRIBUTE && o10.getAttribute(l5) === t7 + "")
      return w;
    return m2(i6), t7;
  }
});

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.PSMXIF2T.js
var SlInput = class extends ShoelaceElement {
  constructor() {
    super(...arguments);
    this.formControlController = new FormControlController(this, {
      assumeInteractionOn: ["sl-blur", "sl-input"]
    });
    this.hasSlotController = new HasSlotController(this, "help-text", "label");
    this.localize = new LocalizeController2(this);
    this.hasFocus = false;
    this.title = "";
    this.__numberInput = Object.assign(document.createElement("input"), { type: "number" });
    this.__dateInput = Object.assign(document.createElement("input"), { type: "date" });
    this.type = "text";
    this.name = "";
    this.value = "";
    this.defaultValue = "";
    this.size = "medium";
    this.filled = false;
    this.pill = false;
    this.label = "";
    this.helpText = "";
    this.clearable = false;
    this.disabled = false;
    this.placeholder = "";
    this.readonly = false;
    this.passwordToggle = false;
    this.passwordVisible = false;
    this.noSpinButtons = false;
    this.form = "";
    this.required = false;
    this.spellcheck = true;
  }
  //
  // NOTE: We use an in-memory input for these getters/setters instead of the one in the template because the properties
  // can be set before the component is rendered.
  //
  /**
   * Gets or sets the current value as a `Date` object. Returns `null` if the value can't be converted. This will use the native `<input type="{{type}}">` implementation and may result in an error.
   */
  get valueAsDate() {
    var _a6;
    this.__dateInput.type = this.type;
    this.__dateInput.value = this.value;
    return ((_a6 = this.input) == null ? void 0 : _a6.valueAsDate) || this.__dateInput.valueAsDate;
  }
  set valueAsDate(newValue) {
    this.__dateInput.type = this.type;
    this.__dateInput.valueAsDate = newValue;
    this.value = this.__dateInput.value;
  }
  /** Gets or sets the current value as a number. Returns `NaN` if the value can't be converted. */
  get valueAsNumber() {
    var _a6;
    this.__numberInput.value = this.value;
    return ((_a6 = this.input) == null ? void 0 : _a6.valueAsNumber) || this.__numberInput.valueAsNumber;
  }
  set valueAsNumber(newValue) {
    this.__numberInput.valueAsNumber = newValue;
    this.value = this.__numberInput.value;
  }
  /** Gets the validity state object */
  get validity() {
    return this.input.validity;
  }
  /** Gets the validation message */
  get validationMessage() {
    return this.input.validationMessage;
  }
  firstUpdated() {
    this.formControlController.updateValidity();
  }
  handleBlur() {
    this.hasFocus = false;
    this.emit("sl-blur");
  }
  handleChange() {
    this.value = this.input.value;
    this.emit("sl-change");
  }
  handleClearClick(event) {
    event.preventDefault();
    if (this.value !== "") {
      this.value = "";
      this.emit("sl-clear");
      this.emit("sl-input");
      this.emit("sl-change");
    }
    this.input.focus();
  }
  handleFocus() {
    this.hasFocus = true;
    this.emit("sl-focus");
  }
  handleInput() {
    this.value = this.input.value;
    this.formControlController.updateValidity();
    this.emit("sl-input");
  }
  handleInvalid(event) {
    this.formControlController.setValidity(false);
    this.formControlController.emitInvalidEvent(event);
  }
  handleKeyDown(event) {
    const hasModifier = event.metaKey || event.ctrlKey || event.shiftKey || event.altKey;
    if (event.key === "Enter" && !hasModifier) {
      setTimeout(() => {
        if (!event.defaultPrevented && !event.isComposing) {
          this.formControlController.submit();
        }
      });
    }
  }
  handlePasswordToggle() {
    this.passwordVisible = !this.passwordVisible;
  }
  handleDisabledChange() {
    this.formControlController.setValidity(this.disabled);
  }
  handleStepChange() {
    this.input.step = String(this.step);
    this.formControlController.updateValidity();
  }
  async handleValueChange() {
    await this.updateComplete;
    this.formControlController.updateValidity();
  }
  /** Sets focus on the input. */
  focus(options) {
    this.input.focus(options);
  }
  /** Removes focus from the input. */
  blur() {
    this.input.blur();
  }
  /** Selects all the text in the input. */
  select() {
    this.input.select();
  }
  /** Sets the start and end positions of the text selection (0-based). */
  setSelectionRange(selectionStart, selectionEnd, selectionDirection = "none") {
    this.input.setSelectionRange(selectionStart, selectionEnd, selectionDirection);
  }
  /** Replaces a range of text with a new string. */
  setRangeText(replacement, start, end, selectMode = "preserve") {
    const selectionStart = start != null ? start : this.input.selectionStart;
    const selectionEnd = end != null ? end : this.input.selectionEnd;
    this.input.setRangeText(replacement, selectionStart, selectionEnd, selectMode);
    if (this.value !== this.input.value) {
      this.value = this.input.value;
    }
  }
  /** Displays the browser picker for an input element (only works if the browser supports it for the input type). */
  showPicker() {
    if ("showPicker" in HTMLInputElement.prototype) {
      this.input.showPicker();
    }
  }
  /** Increments the value of a numeric input type by the value of the step attribute. */
  stepUp() {
    this.input.stepUp();
    if (this.value !== this.input.value) {
      this.value = this.input.value;
    }
  }
  /** Decrements the value of a numeric input type by the value of the step attribute. */
  stepDown() {
    this.input.stepDown();
    if (this.value !== this.input.value) {
      this.value = this.input.value;
    }
  }
  /** Checks for validity but does not show a validation message. Returns `true` when valid and `false` when invalid. */
  checkValidity() {
    return this.input.checkValidity();
  }
  /** Gets the associated form, if one exists. */
  getForm() {
    return this.formControlController.getForm();
  }
  /** Checks for validity and shows the browser's validation message if the control is invalid. */
  reportValidity() {
    return this.input.reportValidity();
  }
  /** Sets a custom validation message. Pass an empty string to restore validity. */
  setCustomValidity(message) {
    this.input.setCustomValidity(message);
    this.formControlController.updateValidity();
  }
  render() {
    const hasLabelSlot = this.hasSlotController.test("label");
    const hasHelpTextSlot = this.hasSlotController.test("help-text");
    const hasLabel = this.label ? true : !!hasLabelSlot;
    const hasHelpText = this.helpText ? true : !!hasHelpTextSlot;
    const hasClearIcon = this.clearable && !this.disabled && !this.readonly;
    const isClearIconVisible = hasClearIcon && (typeof this.value === "number" || this.value.length > 0);
    return x`
      <div
        part="form-control"
        class=${e8({
      "form-control": true,
      "form-control--small": this.size === "small",
      "form-control--medium": this.size === "medium",
      "form-control--large": this.size === "large",
      "form-control--has-label": hasLabel,
      "form-control--has-help-text": hasHelpText
    })}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${hasLabel ? "false" : "true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${e8({
      input: true,
      // Sizes
      "input--small": this.size === "small",
      "input--medium": this.size === "medium",
      "input--large": this.size === "large",
      // States
      "input--pill": this.pill,
      "input--standard": !this.filled,
      "input--filled": this.filled,
      "input--disabled": this.disabled,
      "input--focused": this.hasFocus,
      "input--empty": !this.value,
      "input--no-spin-buttons": this.noSpinButtons
    })}
          >
            <span part="prefix" class="input__prefix">
              <slot name="prefix"></slot>
            </span>

            <input
              part="input"
              id="input"
              class="input__control"
              type=${this.type === "password" && this.passwordVisible ? "text" : this.type}
              title=${this.title}
              name=${o6(this.name)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${o6(this.placeholder)}
              minlength=${o6(this.minlength)}
              maxlength=${o6(this.maxlength)}
              min=${o6(this.min)}
              max=${o6(this.max)}
              step=${o6(this.step)}
              .value=${l4(this.value)}
              autocapitalize=${o6(this.autocapitalize)}
              autocomplete=${o6(this.autocomplete)}
              autocorrect=${o6(this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${this.spellcheck}
              pattern=${o6(this.pattern)}
              enterkeyhint=${o6(this.enterkeyhint)}
              inputmode=${o6(this.inputmode)}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @keydown=${this.handleKeyDown}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            />

            ${isClearIconVisible ? x`
                  <button
                    part="clear-button"
                    class="input__clear"
                    type="button"
                    aria-label=${this.localize.term("clearEntry")}
                    @click=${this.handleClearClick}
                    tabindex="-1"
                  >
                    <slot name="clear-icon">
                      <sl-icon name="x-circle-fill" library="system"></sl-icon>
                    </slot>
                  </button>
                ` : ""}
            ${this.passwordToggle && !this.disabled ? x`
                  <button
                    part="password-toggle-button"
                    class="input__password-toggle"
                    type="button"
                    aria-label=${this.localize.term(this.passwordVisible ? "hidePassword" : "showPassword")}
                    @click=${this.handlePasswordToggle}
                    tabindex="-1"
                  >
                    ${this.passwordVisible ? x`
                          <slot name="show-password-icon">
                            <sl-icon name="eye-slash" library="system"></sl-icon>
                          </slot>
                        ` : x`
                          <slot name="hide-password-icon">
                            <sl-icon name="eye" library="system"></sl-icon>
                          </slot>
                        `}
                  </button>
                ` : ""}

            <span part="suffix" class="input__suffix">
              <slot name="suffix"></slot>
            </span>
          </div>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${hasHelpText ? "false" : "true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `;
  }
};
SlInput.styles = [component_styles_default, form_control_styles_default, input_styles_default];
SlInput.dependencies = { "sl-icon": SlIcon };
__decorateClass([
  e5(".input__control")
], SlInput.prototype, "input", 2);
__decorateClass([
  r6()
], SlInput.prototype, "hasFocus", 2);
__decorateClass([
  n4()
], SlInput.prototype, "title", 2);
__decorateClass([
  n4({ reflect: true })
], SlInput.prototype, "type", 2);
__decorateClass([
  n4()
], SlInput.prototype, "name", 2);
__decorateClass([
  n4()
], SlInput.prototype, "value", 2);
__decorateClass([
  defaultValue()
], SlInput.prototype, "defaultValue", 2);
__decorateClass([
  n4({ reflect: true })
], SlInput.prototype, "size", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlInput.prototype, "filled", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlInput.prototype, "pill", 2);
__decorateClass([
  n4()
], SlInput.prototype, "label", 2);
__decorateClass([
  n4({ attribute: "help-text" })
], SlInput.prototype, "helpText", 2);
__decorateClass([
  n4({ type: Boolean })
], SlInput.prototype, "clearable", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlInput.prototype, "disabled", 2);
__decorateClass([
  n4()
], SlInput.prototype, "placeholder", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlInput.prototype, "readonly", 2);
__decorateClass([
  n4({ attribute: "password-toggle", type: Boolean })
], SlInput.prototype, "passwordToggle", 2);
__decorateClass([
  n4({ attribute: "password-visible", type: Boolean })
], SlInput.prototype, "passwordVisible", 2);
__decorateClass([
  n4({ attribute: "no-spin-buttons", type: Boolean })
], SlInput.prototype, "noSpinButtons", 2);
__decorateClass([
  n4({ reflect: true })
], SlInput.prototype, "form", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlInput.prototype, "required", 2);
__decorateClass([
  n4()
], SlInput.prototype, "pattern", 2);
__decorateClass([
  n4({ type: Number })
], SlInput.prototype, "minlength", 2);
__decorateClass([
  n4({ type: Number })
], SlInput.prototype, "maxlength", 2);
__decorateClass([
  n4()
], SlInput.prototype, "min", 2);
__decorateClass([
  n4()
], SlInput.prototype, "max", 2);
__decorateClass([
  n4()
], SlInput.prototype, "step", 2);
__decorateClass([
  n4()
], SlInput.prototype, "autocapitalize", 2);
__decorateClass([
  n4()
], SlInput.prototype, "autocorrect", 2);
__decorateClass([
  n4()
], SlInput.prototype, "autocomplete", 2);
__decorateClass([
  n4({ type: Boolean })
], SlInput.prototype, "autofocus", 2);
__decorateClass([
  n4()
], SlInput.prototype, "enterkeyhint", 2);
__decorateClass([
  n4({
    type: Boolean,
    converter: {
      // Allow "true|false" attribute values but keep the property boolean
      fromAttribute: (value) => !value || value === "false" ? false : true,
      toAttribute: (value) => value ? "true" : "false"
    }
  })
], SlInput.prototype, "spellcheck", 2);
__decorateClass([
  n4()
], SlInput.prototype, "inputmode", 2);
__decorateClass([
  watch("disabled", { waitUntilFirstUpdate: true })
], SlInput.prototype, "handleDisabledChange", 1);
__decorateClass([
  watch("step", { waitUntilFirstUpdate: true })
], SlInput.prototype, "handleStepChange", 1);
__decorateClass([
  watch("value", { waitUntilFirstUpdate: true })
], SlInput.prototype, "handleValueChange", 1);

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.3MM6BATO.js
SlInput.define("sl-input");

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.X2WW2TWJ.js
var rating_styles_default = i`
  :host {
    --symbol-color: var(--sl-color-neutral-300);
    --symbol-color-active: var(--sl-color-amber-500);
    --symbol-size: 1.2rem;
    --symbol-spacing: var(--sl-spacing-3x-small);

    display: inline-flex;
  }

  .rating {
    position: relative;
    display: inline-flex;
    border-radius: var(--sl-border-radius-medium);
    vertical-align: middle;
  }

  .rating:focus {
    outline: none;
  }

  .rating:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .rating__symbols {
    display: inline-flex;
    position: relative;
    font-size: var(--symbol-size);
    line-height: 0;
    color: var(--symbol-color);
    white-space: nowrap;
    cursor: pointer;
  }

  .rating__symbols > * {
    padding: var(--symbol-spacing);
  }

  .rating__symbol--active,
  .rating__partial--filled {
    color: var(--symbol-color-active);
  }

  .rating__partial-symbol-container {
    position: relative;
  }

  .rating__partial--filled {
    position: absolute;
    top: var(--symbol-spacing);
    left: var(--symbol-spacing);
  }

  .rating__symbol {
    transition: var(--sl-transition-fast) scale;
    pointer-events: none;
  }

  .rating__symbol--hover {
    scale: 1.2;
  }

  .rating--disabled .rating__symbols,
  .rating--readonly .rating__symbols {
    cursor: default;
  }

  .rating--disabled .rating__symbol--hover,
  .rating--readonly .rating__symbol--hover {
    scale: none;
  }

  .rating--disabled {
    opacity: 0.5;
  }

  .rating--disabled .rating__symbols {
    cursor: not-allowed;
  }

  /* Forced colors mode */
  @media (forced-colors: active) {
    .rating__symbol--active {
      color: SelectedItem;
    }
  }
`;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.HF7GESMZ.js
function clamp2(value, min2, max2) {
  const noNegativeZero = (n7) => Object.is(n7, -0) ? 0 : n7;
  if (value < min2) {
    return noNegativeZero(min2);
  }
  if (value > max2) {
    return noNegativeZero(max2);
  }
  return noNegativeZero(value);
}

// node_modules/.pnpm/lit-html@3.1.2/node_modules/lit-html/directives/style-map.js
var n6 = "important";
var i5 = " !" + n6;
var o8 = e7(class extends i4 {
  constructor(t7) {
    var _a6;
    if (super(t7), t7.type !== t5.ATTRIBUTE || "style" !== t7.name || ((_a6 = t7.strings) == null ? void 0 : _a6.length) > 2)
      throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");
  }
  render(t7) {
    return Object.keys(t7).reduce((e11, r8) => {
      const s5 = t7[r8];
      return null == s5 ? e11 : e11 + `${r8 = r8.includes("-") ? r8 : r8.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g, "-$&").toLowerCase()}:${s5};`;
    }, "");
  }
  update(e11, [r8]) {
    const { style: s5 } = e11.element;
    if (void 0 === this.ft)
      return this.ft = new Set(Object.keys(r8)), this.render(r8);
    for (const t7 of this.ft)
      null == r8[t7] && (this.ft.delete(t7), t7.includes("-") ? s5.removeProperty(t7) : s5[t7] = null);
    for (const t7 in r8) {
      const e12 = r8[t7];
      if (null != e12) {
        this.ft.add(t7);
        const r9 = "string" == typeof e12 && e12.endsWith(i5);
        t7.includes("-") || r9 ? s5.setProperty(t7, r9 ? e12.slice(0, -11) : e12, r9 ? n6 : "") : s5[t7] = e12;
      }
    }
    return w;
  }
});

// node_modules/.pnpm/lit-html@3.1.2/node_modules/lit-html/directives/unsafe-html.js
var e10 = class extends i4 {
  constructor(i6) {
    if (super(i6), this.it = T, i6.type !== t5.CHILD)
      throw Error(this.constructor.directiveName + "() can only be used in child bindings");
  }
  render(r8) {
    if (r8 === T || null == r8)
      return this._t = void 0, this.it = r8;
    if (r8 === w)
      return r8;
    if ("string" != typeof r8)
      throw Error(this.constructor.directiveName + "() called with a non-string value");
    if (r8 === this.it)
      return this._t;
    this.it = r8;
    const s5 = [r8];
    return s5.raw = s5, this._t = { _$litType$: this.constructor.resultType, strings: s5, values: [] };
  }
};
e10.directiveName = "unsafeHTML", e10.resultType = 1;
var o9 = e7(e10);

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.GPQTYS3D.js
var SlRating = class extends ShoelaceElement {
  constructor() {
    super(...arguments);
    this.localize = new LocalizeController2(this);
    this.hoverValue = 0;
    this.isHovering = false;
    this.label = "";
    this.value = 0;
    this.max = 5;
    this.precision = 1;
    this.readonly = false;
    this.disabled = false;
    this.getSymbol = () => '<sl-icon name="star-fill" library="system"></sl-icon>';
  }
  getValueFromMousePosition(event) {
    return this.getValueFromXCoordinate(event.clientX);
  }
  getValueFromTouchPosition(event) {
    return this.getValueFromXCoordinate(event.touches[0].clientX);
  }
  getValueFromXCoordinate(coordinate) {
    const isRtl = this.localize.dir() === "rtl";
    const { left, right, width } = this.rating.getBoundingClientRect();
    const value = isRtl ? this.roundToPrecision((right - coordinate) / width * this.max, this.precision) : this.roundToPrecision((coordinate - left) / width * this.max, this.precision);
    return clamp2(value, 0, this.max);
  }
  handleClick(event) {
    if (this.disabled) {
      return;
    }
    this.setValue(this.getValueFromMousePosition(event));
    this.emit("sl-change");
  }
  setValue(newValue) {
    if (this.disabled || this.readonly) {
      return;
    }
    this.value = newValue === this.value ? 0 : newValue;
    this.isHovering = false;
  }
  handleKeyDown(event) {
    const isLtr = this.localize.dir() === "ltr";
    const isRtl = this.localize.dir() === "rtl";
    const oldValue = this.value;
    if (this.disabled || this.readonly) {
      return;
    }
    if (event.key === "ArrowDown" || isLtr && event.key === "ArrowLeft" || isRtl && event.key === "ArrowRight") {
      const decrement = event.shiftKey ? 1 : this.precision;
      this.value = Math.max(0, this.value - decrement);
      event.preventDefault();
    }
    if (event.key === "ArrowUp" || isLtr && event.key === "ArrowRight" || isRtl && event.key === "ArrowLeft") {
      const increment = event.shiftKey ? 1 : this.precision;
      this.value = Math.min(this.max, this.value + increment);
      event.preventDefault();
    }
    if (event.key === "Home") {
      this.value = 0;
      event.preventDefault();
    }
    if (event.key === "End") {
      this.value = this.max;
      event.preventDefault();
    }
    if (this.value !== oldValue) {
      this.emit("sl-change");
    }
  }
  handleMouseEnter(event) {
    this.isHovering = true;
    this.hoverValue = this.getValueFromMousePosition(event);
  }
  handleMouseMove(event) {
    this.hoverValue = this.getValueFromMousePosition(event);
  }
  handleMouseLeave() {
    this.isHovering = false;
  }
  handleTouchStart(event) {
    this.isHovering = true;
    this.hoverValue = this.getValueFromTouchPosition(event);
    event.preventDefault();
  }
  handleTouchMove(event) {
    this.hoverValue = this.getValueFromTouchPosition(event);
  }
  handleTouchEnd(event) {
    this.isHovering = false;
    this.setValue(this.hoverValue);
    this.emit("sl-change");
    event.preventDefault();
  }
  roundToPrecision(numberToRound, precision = 0.5) {
    const multiplier = 1 / precision;
    return Math.ceil(numberToRound * multiplier) / multiplier;
  }
  handleHoverValueChange() {
    this.emit("sl-hover", {
      detail: {
        phase: "move",
        value: this.hoverValue
      }
    });
  }
  handleIsHoveringChange() {
    this.emit("sl-hover", {
      detail: {
        phase: this.isHovering ? "start" : "end",
        value: this.hoverValue
      }
    });
  }
  /** Sets focus on the rating. */
  focus(options) {
    this.rating.focus(options);
  }
  /** Removes focus from the rating. */
  blur() {
    this.rating.blur();
  }
  render() {
    const isRtl = this.localize.dir() === "rtl";
    const counter = Array.from(Array(this.max).keys());
    let displayValue = 0;
    if (this.disabled || this.readonly) {
      displayValue = this.value;
    } else {
      displayValue = this.isHovering ? this.hoverValue : this.value;
    }
    return x`
      <div
        part="base"
        class=${e8({
      rating: true,
      "rating--readonly": this.readonly,
      "rating--disabled": this.disabled,
      "rating--rtl": isRtl
    })}
        role="slider"
        aria-label=${this.label}
        aria-disabled=${this.disabled ? "true" : "false"}
        aria-readonly=${this.readonly ? "true" : "false"}
        aria-valuenow=${this.value}
        aria-valuemin=${0}
        aria-valuemax=${this.max}
        tabindex=${this.disabled ? "-1" : "0"}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mouseenter=${this.handleMouseEnter}
        @touchstart=${this.handleTouchStart}
        @mouseleave=${this.handleMouseLeave}
        @touchend=${this.handleTouchEnd}
        @mousemove=${this.handleMouseMove}
        @touchmove=${this.handleTouchMove}
      >
        <span class="rating__symbols">
          ${counter.map((index) => {
      if (displayValue > index && displayValue < index + 1) {
        return x`
                <span
                  class=${e8({
          rating__symbol: true,
          "rating__partial-symbol-container": true,
          "rating__symbol--hover": this.isHovering && Math.ceil(displayValue) === index + 1
        })}
                  role="presentation"
                >
                  <div
                    style=${o8({
          clipPath: isRtl ? `inset(0 ${(displayValue - index) * 100}% 0 0)` : `inset(0 0 0 ${(displayValue - index) * 100}%)`
        })}
                  >
                    ${o9(this.getSymbol(index + 1))}
                  </div>
                  <div
                    class="rating__partial--filled"
                    style=${o8({
          clipPath: isRtl ? `inset(0 0 0 ${100 - (displayValue - index) * 100}%)` : `inset(0 ${100 - (displayValue - index) * 100}% 0 0)`
        })}
                  >
                    ${o9(this.getSymbol(index + 1))}
                  </div>
                </span>
              `;
      }
      return x`
              <span
                class=${e8({
        rating__symbol: true,
        "rating__symbol--hover": this.isHovering && Math.ceil(displayValue) === index + 1,
        "rating__symbol--active": displayValue >= index + 1
      })}
                role="presentation"
              >
                ${o9(this.getSymbol(index + 1))}
              </span>
            `;
    })}
        </span>
      </div>
    `;
  }
};
SlRating.styles = [component_styles_default, rating_styles_default];
SlRating.dependencies = { "sl-icon": SlIcon };
__decorateClass([
  e5(".rating")
], SlRating.prototype, "rating", 2);
__decorateClass([
  r6()
], SlRating.prototype, "hoverValue", 2);
__decorateClass([
  r6()
], SlRating.prototype, "isHovering", 2);
__decorateClass([
  n4()
], SlRating.prototype, "label", 2);
__decorateClass([
  n4({ type: Number })
], SlRating.prototype, "value", 2);
__decorateClass([
  n4({ type: Number })
], SlRating.prototype, "max", 2);
__decorateClass([
  n4({ type: Number })
], SlRating.prototype, "precision", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlRating.prototype, "readonly", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlRating.prototype, "disabled", 2);
__decorateClass([
  n4()
], SlRating.prototype, "getSymbol", 2);
__decorateClass([
  t3({ passive: true })
], SlRating.prototype, "handleTouchMove", 1);
__decorateClass([
  watch("hoverValue")
], SlRating.prototype, "handleHoverValueChange", 1);
__decorateClass([
  watch("isHovering")
], SlRating.prototype, "handleIsHoveringChange", 1);

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.5AZIVGJ7.js
SlRating.define("sl-rating");

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.G4XIACTT.js
var tab_group_styles_default = i`
  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.BTENR4BI.js
function getOffset(element, parent) {
  return {
    top: Math.round(element.getBoundingClientRect().top - parent.getBoundingClientRect().top),
    left: Math.round(element.getBoundingClientRect().left - parent.getBoundingClientRect().left)
  };
}
function scrollIntoView(element, container, direction = "vertical", behavior = "smooth") {
  const offset2 = getOffset(element, container);
  const offsetTop = offset2.top + container.scrollTop;
  const offsetLeft = offset2.left + container.scrollLeft;
  const minX = container.scrollLeft;
  const maxX = container.scrollLeft + container.offsetWidth;
  const minY = container.scrollTop;
  const maxY = container.scrollTop + container.offsetHeight;
  if (direction === "horizontal" || direction === "both") {
    if (offsetLeft < minX) {
      container.scrollTo({ left: offsetLeft, behavior });
    } else if (offsetLeft + element.clientWidth > maxX) {
      container.scrollTo({ left: offsetLeft - container.offsetWidth + element.clientWidth, behavior });
    }
  }
  if (direction === "vertical" || direction === "both") {
    if (offsetTop < minY) {
      container.scrollTo({ top: offsetTop, behavior });
    } else if (offsetTop + element.clientHeight > maxY) {
      container.scrollTo({ top: offsetTop - container.offsetHeight + element.clientHeight, behavior });
    }
  }
}

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.6I2T3DLI.js
var icon_button_styles_default = i`
  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.WQ4LAAP4.js
var SlIconButton = class extends ShoelaceElement {
  constructor() {
    super(...arguments);
    this.hasFocus = false;
    this.label = "";
    this.disabled = false;
  }
  handleBlur() {
    this.hasFocus = false;
    this.emit("sl-blur");
  }
  handleFocus() {
    this.hasFocus = true;
    this.emit("sl-focus");
  }
  handleClick(event) {
    if (this.disabled) {
      event.preventDefault();
      event.stopPropagation();
    }
  }
  /** Simulates a click on the icon button. */
  click() {
    this.button.click();
  }
  /** Sets focus on the icon button. */
  focus(options) {
    this.button.focus(options);
  }
  /** Removes focus from the icon button. */
  blur() {
    this.button.blur();
  }
  render() {
    const isLink = this.href ? true : false;
    const tag = isLink ? s4`a` : s4`button`;
    return n5`
      <${tag}
        part="base"
        class=${e8({
      "icon-button": true,
      "icon-button--disabled": !isLink && this.disabled,
      "icon-button--focused": this.hasFocus
    })}
        ?disabled=${o6(isLink ? void 0 : this.disabled)}
        type=${o6(isLink ? void 0 : "button")}
        href=${o6(isLink ? this.href : void 0)}
        target=${o6(isLink ? this.target : void 0)}
        download=${o6(isLink ? this.download : void 0)}
        rel=${o6(isLink && this.target ? "noreferrer noopener" : void 0)}
        role=${o6(isLink ? void 0 : "button")}
        aria-disabled=${this.disabled ? "true" : "false"}
        aria-label="${this.label}"
        tabindex=${this.disabled ? "-1" : "0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${o6(this.name)}
          library=${o6(this.library)}
          src=${o6(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${tag}>
    `;
  }
};
SlIconButton.styles = [component_styles_default, icon_button_styles_default];
SlIconButton.dependencies = { "sl-icon": SlIcon };
__decorateClass([
  e5(".icon-button")
], SlIconButton.prototype, "button", 2);
__decorateClass([
  r6()
], SlIconButton.prototype, "hasFocus", 2);
__decorateClass([
  n4()
], SlIconButton.prototype, "name", 2);
__decorateClass([
  n4()
], SlIconButton.prototype, "library", 2);
__decorateClass([
  n4()
], SlIconButton.prototype, "src", 2);
__decorateClass([
  n4()
], SlIconButton.prototype, "href", 2);
__decorateClass([
  n4()
], SlIconButton.prototype, "target", 2);
__decorateClass([
  n4()
], SlIconButton.prototype, "download", 2);
__decorateClass([
  n4()
], SlIconButton.prototype, "label", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlIconButton.prototype, "disabled", 2);

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.ZBVVUYEV.js
var SlTabGroup = class extends ShoelaceElement {
  constructor() {
    super(...arguments);
    this.localize = new LocalizeController2(this);
    this.tabs = [];
    this.panels = [];
    this.hasScrollControls = false;
    this.placement = "top";
    this.activation = "auto";
    this.noScrollControls = false;
  }
  connectedCallback() {
    const whenAllDefined = Promise.all([
      customElements.whenDefined("sl-tab"),
      customElements.whenDefined("sl-tab-panel")
    ]);
    super.connectedCallback();
    this.resizeObserver = new ResizeObserver(() => {
      this.repositionIndicator();
      this.updateScrollControls();
    });
    this.mutationObserver = new MutationObserver((mutations) => {
      if (mutations.some((m3) => !["aria-labelledby", "aria-controls"].includes(m3.attributeName))) {
        setTimeout(() => this.setAriaLabels());
      }
      if (mutations.some((m3) => m3.attributeName === "disabled")) {
        this.syncTabsAndPanels();
      }
    });
    this.updateComplete.then(() => {
      this.syncTabsAndPanels();
      this.mutationObserver.observe(this, { attributes: true, childList: true, subtree: true });
      this.resizeObserver.observe(this.nav);
      whenAllDefined.then(() => {
        const intersectionObserver = new IntersectionObserver((entries, observer) => {
          var _a6;
          if (entries[0].intersectionRatio > 0) {
            this.setAriaLabels();
            this.setActiveTab((_a6 = this.getActiveTab()) != null ? _a6 : this.tabs[0], { emitEvents: false });
            observer.unobserve(entries[0].target);
          }
        });
        intersectionObserver.observe(this.tabGroup);
      });
    });
  }
  disconnectedCallback() {
    super.disconnectedCallback();
    this.mutationObserver.disconnect();
    this.resizeObserver.unobserve(this.nav);
  }
  getAllTabs(options = { includeDisabled: true }) {
    const slot = this.shadowRoot.querySelector('slot[name="nav"]');
    return [...slot.assignedElements()].filter((el) => {
      return options.includeDisabled ? el.tagName.toLowerCase() === "sl-tab" : el.tagName.toLowerCase() === "sl-tab" && !el.disabled;
    });
  }
  getAllPanels() {
    return [...this.body.assignedElements()].filter((el) => el.tagName.toLowerCase() === "sl-tab-panel");
  }
  getActiveTab() {
    return this.tabs.find((el) => el.active);
  }
  handleClick(event) {
    const target = event.target;
    const tab = target.closest("sl-tab");
    const tabGroup = tab == null ? void 0 : tab.closest("sl-tab-group");
    if (tabGroup !== this) {
      return;
    }
    if (tab !== null) {
      this.setActiveTab(tab, { scrollBehavior: "smooth" });
    }
  }
  handleKeyDown(event) {
    const target = event.target;
    const tab = target.closest("sl-tab");
    const tabGroup = tab == null ? void 0 : tab.closest("sl-tab-group");
    if (tabGroup !== this) {
      return;
    }
    if (["Enter", " "].includes(event.key)) {
      if (tab !== null) {
        this.setActiveTab(tab, { scrollBehavior: "smooth" });
        event.preventDefault();
      }
    }
    if (["ArrowLeft", "ArrowRight", "ArrowUp", "ArrowDown", "Home", "End"].includes(event.key)) {
      const activeEl = this.tabs.find((t7) => t7.matches(":focus"));
      const isRtl = this.localize.dir() === "rtl";
      if ((activeEl == null ? void 0 : activeEl.tagName.toLowerCase()) === "sl-tab") {
        let index = this.tabs.indexOf(activeEl);
        if (event.key === "Home") {
          index = 0;
        } else if (event.key === "End") {
          index = this.tabs.length - 1;
        } else if (["top", "bottom"].includes(this.placement) && event.key === (isRtl ? "ArrowRight" : "ArrowLeft") || ["start", "end"].includes(this.placement) && event.key === "ArrowUp") {
          index--;
        } else if (["top", "bottom"].includes(this.placement) && event.key === (isRtl ? "ArrowLeft" : "ArrowRight") || ["start", "end"].includes(this.placement) && event.key === "ArrowDown") {
          index++;
        }
        if (index < 0) {
          index = this.tabs.length - 1;
        }
        if (index > this.tabs.length - 1) {
          index = 0;
        }
        this.tabs[index].focus({ preventScroll: true });
        if (this.activation === "auto") {
          this.setActiveTab(this.tabs[index], { scrollBehavior: "smooth" });
        }
        if (["top", "bottom"].includes(this.placement)) {
          scrollIntoView(this.tabs[index], this.nav, "horizontal");
        }
        event.preventDefault();
      }
    }
  }
  handleScrollToStart() {
    this.nav.scroll({
      left: this.localize.dir() === "rtl" ? this.nav.scrollLeft + this.nav.clientWidth : this.nav.scrollLeft - this.nav.clientWidth,
      behavior: "smooth"
    });
  }
  handleScrollToEnd() {
    this.nav.scroll({
      left: this.localize.dir() === "rtl" ? this.nav.scrollLeft - this.nav.clientWidth : this.nav.scrollLeft + this.nav.clientWidth,
      behavior: "smooth"
    });
  }
  setActiveTab(tab, options) {
    options = __spreadValues({
      emitEvents: true,
      scrollBehavior: "auto"
    }, options);
    if (tab !== this.activeTab && !tab.disabled) {
      const previousTab = this.activeTab;
      this.activeTab = tab;
      this.tabs.forEach((el) => el.active = el === this.activeTab);
      this.panels.forEach((el) => {
        var _a6;
        return el.active = el.name === ((_a6 = this.activeTab) == null ? void 0 : _a6.panel);
      });
      this.syncIndicator();
      if (["top", "bottom"].includes(this.placement)) {
        scrollIntoView(this.activeTab, this.nav, "horizontal", options.scrollBehavior);
      }
      if (options.emitEvents) {
        if (previousTab) {
          this.emit("sl-tab-hide", { detail: { name: previousTab.panel } });
        }
        this.emit("sl-tab-show", { detail: { name: this.activeTab.panel } });
      }
    }
  }
  setAriaLabels() {
    this.tabs.forEach((tab) => {
      const panel = this.panels.find((el) => el.name === tab.panel);
      if (panel) {
        tab.setAttribute("aria-controls", panel.getAttribute("id"));
        panel.setAttribute("aria-labelledby", tab.getAttribute("id"));
      }
    });
  }
  repositionIndicator() {
    const currentTab = this.getActiveTab();
    if (!currentTab) {
      return;
    }
    const width = currentTab.clientWidth;
    const height = currentTab.clientHeight;
    const isRtl = this.localize.dir() === "rtl";
    const allTabs = this.getAllTabs();
    const precedingTabs = allTabs.slice(0, allTabs.indexOf(currentTab));
    const offset2 = precedingTabs.reduce(
      (previous, current) => ({
        left: previous.left + current.clientWidth,
        top: previous.top + current.clientHeight
      }),
      { left: 0, top: 0 }
    );
    switch (this.placement) {
      case "top":
      case "bottom":
        this.indicator.style.width = `${width}px`;
        this.indicator.style.height = "auto";
        this.indicator.style.translate = isRtl ? `${-1 * offset2.left}px` : `${offset2.left}px`;
        break;
      case "start":
      case "end":
        this.indicator.style.width = "auto";
        this.indicator.style.height = `${height}px`;
        this.indicator.style.translate = `0 ${offset2.top}px`;
        break;
    }
  }
  // This stores tabs and panels so we can refer to a cache instead of calling querySelectorAll() multiple times.
  syncTabsAndPanels() {
    this.tabs = this.getAllTabs({ includeDisabled: false });
    this.panels = this.getAllPanels();
    this.syncIndicator();
    this.updateComplete.then(() => this.updateScrollControls());
  }
  updateScrollControls() {
    if (this.noScrollControls) {
      this.hasScrollControls = false;
    } else {
      this.hasScrollControls = ["top", "bottom"].includes(this.placement) && this.nav.scrollWidth > this.nav.clientWidth + 1;
    }
  }
  syncIndicator() {
    const tab = this.getActiveTab();
    if (tab) {
      this.indicator.style.display = "block";
      this.repositionIndicator();
    } else {
      this.indicator.style.display = "none";
    }
  }
  /** Shows the specified tab panel. */
  show(panel) {
    const tab = this.tabs.find((el) => el.panel === panel);
    if (tab) {
      this.setActiveTab(tab, { scrollBehavior: "smooth" });
    }
  }
  render() {
    const isRtl = this.localize.dir() === "rtl";
    return x`
      <div
        part="base"
        class=${e8({
      "tab-group": true,
      "tab-group--top": this.placement === "top",
      "tab-group--bottom": this.placement === "bottom",
      "tab-group--start": this.placement === "start",
      "tab-group--end": this.placement === "end",
      "tab-group--rtl": this.localize.dir() === "rtl",
      "tab-group--has-scroll-controls": this.hasScrollControls
    })}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls ? x`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name=${isRtl ? "chevron-right" : "chevron-left"}
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              ` : ""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls ? x`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name=${isRtl ? "chevron-left" : "chevron-right"}
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              ` : ""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `;
  }
};
SlTabGroup.styles = [component_styles_default, tab_group_styles_default];
SlTabGroup.dependencies = { "sl-icon-button": SlIconButton };
__decorateClass([
  e5(".tab-group")
], SlTabGroup.prototype, "tabGroup", 2);
__decorateClass([
  e5(".tab-group__body")
], SlTabGroup.prototype, "body", 2);
__decorateClass([
  e5(".tab-group__nav")
], SlTabGroup.prototype, "nav", 2);
__decorateClass([
  e5(".tab-group__indicator")
], SlTabGroup.prototype, "indicator", 2);
__decorateClass([
  r6()
], SlTabGroup.prototype, "hasScrollControls", 2);
__decorateClass([
  n4()
], SlTabGroup.prototype, "placement", 2);
__decorateClass([
  n4()
], SlTabGroup.prototype, "activation", 2);
__decorateClass([
  n4({ attribute: "no-scroll-controls", type: Boolean })
], SlTabGroup.prototype, "noScrollControls", 2);
__decorateClass([
  watch("noScrollControls", { waitUntilFirstUpdate: true })
], SlTabGroup.prototype, "updateScrollControls", 1);
__decorateClass([
  watch("placement", { waitUntilFirstUpdate: true })
], SlTabGroup.prototype, "syncIndicator", 1);

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.PYWN6ES2.js
SlTabGroup.define("sl-tab-group");

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.BQSEJD7X.js
var tab_panel_styles_default = i`
  :host {
    --padding: 0;

    display: none;
  }

  :host([active]) {
    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }
`;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.JBJQHIXK.js
var id = 0;
var SlTabPanel = class extends ShoelaceElement {
  constructor() {
    super(...arguments);
    this.attrId = ++id;
    this.componentId = `sl-tab-panel-${this.attrId}`;
    this.name = "";
    this.active = false;
  }
  connectedCallback() {
    super.connectedCallback();
    this.id = this.id.length > 0 ? this.id : this.componentId;
    this.setAttribute("role", "tabpanel");
  }
  handleActiveChange() {
    this.setAttribute("aria-hidden", this.active ? "false" : "true");
  }
  render() {
    return x`
      <slot
        part="base"
        class=${e8({
      "tab-panel": true,
      "tab-panel--active": this.active
    })}
      ></slot>
    `;
  }
};
SlTabPanel.styles = [component_styles_default, tab_panel_styles_default];
__decorateClass([
  n4({ reflect: true })
], SlTabPanel.prototype, "name", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlTabPanel.prototype, "active", 2);
__decorateClass([
  watch("active")
], SlTabPanel.prototype, "handleActiveChange", 1);

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.7SESWKJL.js
SlTabPanel.define("sl-tab-panel");

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.P6JE66YJ.js
var tab_styles_default = i`
  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
    transition:
      var(--transition-speed) box-shadow,
      var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab:focus-visible:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`;

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.K4TPGPP3.js
var id2 = 0;
var SlTab = class extends ShoelaceElement {
  constructor() {
    super(...arguments);
    this.localize = new LocalizeController2(this);
    this.attrId = ++id2;
    this.componentId = `sl-tab-${this.attrId}`;
    this.panel = "";
    this.active = false;
    this.closable = false;
    this.disabled = false;
  }
  connectedCallback() {
    super.connectedCallback();
    this.setAttribute("role", "tab");
  }
  handleCloseClick(event) {
    event.stopPropagation();
    this.emit("sl-close");
  }
  handleActiveChange() {
    this.setAttribute("aria-selected", this.active ? "true" : "false");
  }
  handleDisabledChange() {
    this.setAttribute("aria-disabled", this.disabled ? "true" : "false");
  }
  /** Sets focus to the tab. */
  focus(options) {
    this.tab.focus(options);
  }
  /** Removes focus from the tab. */
  blur() {
    this.tab.blur();
  }
  render() {
    this.id = this.id.length > 0 ? this.id : this.componentId;
    return x`
      <div
        part="base"
        class=${e8({
      tab: true,
      "tab--active": this.active,
      "tab--closable": this.closable,
      "tab--disabled": this.disabled
    })}
        tabindex=${this.disabled ? "-1" : "0"}
      >
        <slot></slot>
        ${this.closable ? x`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            ` : ""}
      </div>
    `;
  }
};
SlTab.styles = [component_styles_default, tab_styles_default];
SlTab.dependencies = { "sl-icon-button": SlIconButton };
__decorateClass([
  e5(".tab")
], SlTab.prototype, "tab", 2);
__decorateClass([
  n4({ reflect: true })
], SlTab.prototype, "panel", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlTab.prototype, "active", 2);
__decorateClass([
  n4({ type: Boolean })
], SlTab.prototype, "closable", 2);
__decorateClass([
  n4({ type: Boolean, reflect: true })
], SlTab.prototype, "disabled", 2);
__decorateClass([
  watch("active")
], SlTab.prototype, "handleActiveChange", 1);
__decorateClass([
  watch("disabled")
], SlTab.prototype, "handleDisabledChange", 1);

// node_modules/.pnpm/@shoelace-style+shoelace@2.15.0_@types+react@18.3.1/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.DU2ADDTQ.js
SlTab.define("sl-tab");

// main.ts
var import_obsidian2 = require("obsidian");

// io/fileHandler.ts
var FileHandler = class {
  static async updateCanvasNode(node, file, vault) {
    const content = await vault.read(file);
    try {
      const parsed_data = JSON.parse(content);
      for (const elem of parsed_data.nodes) {
        if (elem.id == node.id) {
          delete elem.description;
          delete elem.title;
          if (node.description && node.description != "") {
            elem.description = node.description;
          }
          if (node.title && node.title != "") {
            elem.title = node.title;
          }
          break;
        }
      }
      await vault.modify(file, JSON.stringify(parsed_data));
    } catch (error) {
      console.error(error);
    }
  }
};

// dom/handler.ts
var import_obsidian = require("obsidian");
var _freeSelectionListeners, freeSelectionListeners_fn, _freeNodesClickListeners, freeNodesClickListeners_fn, _freeTitleEditListeners, freeTitleEditListeners_fn, _freeSearchBarListeners, freeSearchBarListeners_fn, _freeSortMenuListeners, freeSortMenuListeners_fn, _freeFilterMenuBadgeListeners, freeFilterMenuBadgeListeners_fn, _toggleSortMenu, toggleSortMenu_fn, _sortItemTemplate, sortItemTemplate_fn, _getFilterSection, getFilterSection_fn, _saveTitle, saveTitle_fn;
var _DOMHandler = class {
  static async populateNodes(nodes) {
    var _a6;
    const body = document.querySelector(".nodes-body");
    if (nodes == null || !body)
      return;
    __privateMethod(_a6 = _DOMHandler, _freeNodesClickListeners, freeNodesClickListeners_fn).call(_a6);
    body.empty();
    for (const node of nodes) {
      const cls = ["node-element"];
      if (node.selected)
        cls.push("node-active");
      const child = createEl("div", {
        text: node.title,
        attr: { class: cls.join(" ") }
      });
      const clickCallback = (event) => {
        node.container.click();
      };
      child.addEventListener("click", clickCallback);
      this.nodes_click_lister_cb.push(() => {
        child.removeEventListener("click", clickCallback);
      });
      body.appendChild(child);
    }
  }
  static showSelectedNode() {
    if (!this.crafty)
      return;
    const node = this.crafty.selectedNode;
    if (!node || this.last_node_id == node.id)
      return;
    __privateMethod(this, _freeSelectionListeners, freeSelectionListeners_fn).call(this);
    const title_container = this.getTitleDisplay();
    const title = title_container.querySelector("span");
    const text_area = this.getTextArea();
    const save_state = this.getSaveState();
    text_area.classList.remove("hidden");
    save_state.classList.remove("hidden");
    if (!title)
      return;
    title_container.classList.remove("hidden");
    title.setText(node.title);
    this.updateTextArea(node.description || "");
  }
  static async showEmptyEdit() {
    __privateMethod(this, _freeSelectionListeners, freeSelectionListeners_fn).call(this);
    const text_area = this.getTextArea();
    const save_state = this.getSaveState();
    text_area.classList.add("hidden");
    save_state.classList.add("hidden");
    _DOMHandler.hideTitle();
  }
  static async showEmptyNodes() {
    const search_bar = this.getSearchBar();
    const nodes_container = this.getNodesContainer();
    const sort_button = this.getSortButton();
    const filter_button = this.getFiltersButton();
    search_bar.classList.add("hidden");
    nodes_container.classList.add("hidden");
    sort_button.classList.add("hidden");
    filter_button.classList.add("hidden");
  }
  static async showNodes() {
    const search_bar = this.getSearchBar();
    const nodes_container = this.getNodesContainer();
    const sort_button = this.getSortButton();
    const filter_button = this.getFiltersButton();
    search_bar.classList.remove("hidden");
    nodes_container.classList.remove("hidden");
    sort_button.classList.remove("hidden");
    filter_button.classList.remove("hidden");
  }
  static hideTitle() {
    const title_display = this.getTitleDisplay();
    const title_input = this.getTitleInput();
    title_display.classList.add("hidden");
    title_input.classList.add("hidden");
  }
  static getTitleDisplay() {
    if (!this.titleDisplay) {
      const element = createEl("div", {
        attr: { class: "title-edit-div" }
      });
      element.createEl("span", {
        attr: { class: "title" }
      });
      const icon_container = element.createEl("span", {
        attr: { class: "edit-icon" }
      });
      (0, import_obsidian.setIcon)(icon_container, "pencil");
      const icon_click_cb = () => {
        const input = _DOMHandler.getTitleInput();
        element.classList.add("hidden");
        input.classList.remove("hidden");
        input.querySelector("input");
        const inner_input = input.querySelector("input");
        if (!inner_input)
          return;
        const span = element.querySelector(
          "span"
        );
        inner_input.value = span.textContent || "";
        inner_input.focus();
      };
      icon_container.addEventListener("click", icon_click_cb);
      this.title_edit_lister_cb.push(() => {
        icon_container.removeEventListener("click", icon_click_cb);
      });
      this.titleDisplay = element;
    }
    return this.titleDisplay;
  }
  static getSaveState() {
    if (!this.save_state) {
      const save_state = createEl("span", {
        text: "Saved",
        attr: { class: "save_state" }
      });
      this.save_state = save_state;
    }
    return this.save_state;
  }
  static updateTextArea(value) {
    if (!this.crafty || !this.crafty.nodeState)
      return;
    if (this.crafty.nodeState.isNodeSame)
      return;
    const text_area = this.getTextArea();
    text_area.value = value;
  }
  static getTextArea() {
    if (!this.textArea) {
      const element = createEl("textarea", {
        attr: { class: "description-input" }
      });
      this.textArea = element;
    }
    __privateMethod(this, _freeSelectionListeners, freeSelectionListeners_fn).call(this);
    const inputChangeCallback = (0, import_obsidian.debounce)(
      async (t7) => {
        if (!this.crafty || !this.crafty.selectedNode || !this.textArea)
          return;
        const node = this.crafty.selectedNode;
        const file = this.crafty.currentFile;
        const vault = this.crafty.vault;
        const save_state = _DOMHandler.getSaveState();
        save_state.setText("Saving...");
        node.description = this.textArea.value;
        await FileHandler.updateCanvasNode(node, file, vault);
        setTimeout(() => {
          save_state.setText("Saved");
        }, 200);
      },
      1e3,
      true
    );
    this.textArea.addEventListener("input", inputChangeCallback);
    this.selection_listeners_cb.push(() => {
      if (!this.textArea)
        return;
      this.textArea.removeEventListener("input", inputChangeCallback);
    });
    return this.textArea;
  }
  static getSearchBar() {
    if (!this.search_bar) {
      const search_bar = createEl("input", {
        attr: { class: "searchBar-input" }
      });
      search_bar.placeholder = "Search";
      const search_change_cb = (0, import_obsidian.debounce)(() => {
        if (!this.crafty || !this.crafty.nodeState)
          return;
        const node_state = this.crafty.nodeState;
        node_state.setSearchWord(search_bar.value);
      }, 1e3);
      search_bar.addEventListener("input", search_change_cb);
      this.searchbar_lister_cb.push(() => {
        search_bar.removeEventListener("input", search_change_cb);
      });
      this.search_bar = search_bar;
    }
    return this.search_bar;
  }
  static getSortMenu() {
    if (!this.sort_menu) {
      const menu = createEl("sl-menu", {
        attr: { class: "sort-menu" }
      });
      const selectName = () => {
        if (!this.crafty || !this.crafty.nodeState)
          return;
        this.crafty.nodeState.sortBy("name");
        __privateMethod(this, _toggleSortMenu, toggleSortMenu_fn).call(this);
      };
      const selectCreated = () => {
        if (!this.crafty || !this.crafty.nodeState)
          return;
        this.crafty.nodeState.sortBy("created_at");
        __privateMethod(this, _toggleSortMenu, toggleSortMenu_fn).call(this);
      };
      const selectLastModified = () => {
        if (!this.crafty || !this.crafty.nodeState)
          return;
        this.crafty.nodeState.sortBy("last_modified");
        __privateMethod(this, _toggleSortMenu, toggleSortMenu_fn).call(this);
      };
      const selectAscending = () => {
        if (!this.crafty || !this.crafty.nodeState)
          return;
        this.crafty.nodeState.order("asc");
        __privateMethod(this, _toggleSortMenu, toggleSortMenu_fn).call(this);
      };
      const selectDescending = () => {
        if (!this.crafty || !this.crafty.nodeState)
          return;
        this.crafty.nodeState.order("des");
        __privateMethod(this, _toggleSortMenu, toggleSortMenu_fn).call(this);
      };
      const pick_name = __privateMethod(this, _sortItemTemplate, sortItemTemplate_fn).call(this, "Name", "g1", "s-name", selectName);
      const pick_created = __privateMethod(this, _sortItemTemplate, sortItemTemplate_fn).call(this, "Created_At", "g1", "s-created", selectCreated);
      const pick_last = __privateMethod(this, _sortItemTemplate, sortItemTemplate_fn).call(this, "Last_Modified", "g1", "s-last", selectLastModified);
      const pick_asc = __privateMethod(this, _sortItemTemplate, sortItemTemplate_fn).call(this, "Ascending", "g2", "s-asc", selectAscending);
      const pick_desc = __privateMethod(this, _sortItemTemplate, sortItemTemplate_fn).call(this, "Descending", "g2", "s-desc", selectDescending);
      const divider = createEl("sl-divider", {});
      menu.appendChild(pick_name);
      menu.appendChild(pick_created);
      menu.appendChild(pick_last);
      menu.appendChild(divider);
      menu.appendChild(pick_asc);
      menu.appendChild(pick_desc);
      this.sort_menu = menu;
    }
    return this.sort_menu;
  }
  static getSortButton() {
    if (!this.sort_button) {
      const sort_button = createEl("sl-dropdown", {
        attr: {
          class: "sort-button-container",
          distance: "-40",
          skidding: "-10"
        }
      });
      const button = createEl("button", {
        attr: { class: "sort-button", slot: "trigger" }
      });
      const text = createEl("span", {
        attr: { class: "sort-button-large sb-text" }
      });
      const logo = createEl("div", {});
      (0, import_obsidian.setIcon)(logo, "arrow-down-up");
      button.appendChild(logo);
      button.appendChild(text);
      sort_button.appendChild(button);
      sort_button.appendChild(this.getSortMenu());
      this.sort_button = sort_button;
    }
    return this.sort_button;
  }
  static getNodesContainer() {
    if (!this.nodes_container) {
      const nodes_container = createEl("div", {
        attr: { class: "nodes-container" }
      });
      nodes_container.createEl("div", {
        attr: { class: "nodes-body" }
      });
      this.nodes_container = nodes_container;
    }
    return this.nodes_container;
  }
  static getFilterMenu() {
    if (!this.filter_menu) {
      __privateMethod(this, _freeFilterMenuBadgeListeners, freeFilterMenuBadgeListeners_fn).call(this);
      const filter_menu = createEl("sl-menu", {
        attr: {
          class: "filter-menu"
        }
      });
      const general = createEl("div", {
        attr: {
          class: "filter-menu-section"
        }
      });
      const general_title = createEl("span", {});
      general_title.setText("General");
      general.appendChild(general_title);
      general.appendChild(__privateMethod(this, _getFilterSection, getFilterSection_fn).call(this, "General"));
      const document2 = createEl("div", {
        attr: {
          class: "filter-menu-section"
        }
      });
      const document_title = createEl("span", {});
      document_title.setText("Documents");
      document2.appendChild(document_title);
      document2.appendChild(__privateMethod(this, _getFilterSection, getFilterSection_fn).call(this, "Document"));
      const image = createEl("div", {
        attr: {
          class: "filter-menu-section"
        }
      });
      const image_title = createEl("span", {});
      image_title.setText("Image");
      image.appendChild(image_title);
      image.appendChild(__privateMethod(this, _getFilterSection, getFilterSection_fn).call(this, "Image"));
      const audio = createEl("div", {
        attr: {
          class: "filter-menu-section"
        }
      });
      const audio_title = createEl("span", {});
      audio_title.setText("Audio");
      audio.appendChild(audio_title);
      audio.appendChild(__privateMethod(this, _getFilterSection, getFilterSection_fn).call(this, "Audio"));
      const video = createEl("div", {
        attr: {
          class: "filter-menu-section"
        }
      });
      const video_title = createEl("span", {});
      video_title.setText("Video");
      video.appendChild(video_title);
      video.appendChild(__privateMethod(this, _getFilterSection, getFilterSection_fn).call(this, "Image"));
      filter_menu.appendChild(general);
      filter_menu.appendChild(document2);
      filter_menu.appendChild(image);
      filter_menu.appendChild(audio);
      filter_menu.appendChild(video);
      this.filter_menu = filter_menu;
    }
    return this.filter_menu;
  }
  static getFiltersButton() {
    if (!this.filter_button) {
      const filter_button = createEl("sl-dropdown", {
        attr: {
          class: "",
          distance: "-40",
          skidding: "-10"
        }
      });
      const expand_button = createEl("button", {
        attr: { class: "filters-button", slot: "trigger" }
      });
      const logo_container = createEl("div", {});
      (0, import_obsidian.setIcon)(logo_container, "plus");
      const button_text = createEl("span");
      button_text.setText("Filter");
      expand_button.appendChild(logo_container);
      expand_button.appendChild(button_text);
      filter_button.appendChild(expand_button);
      filter_button.appendChild(this.getFilterMenu());
      this.filter_button = filter_button;
    }
    return this.filter_button;
  }
  static getFiltersDisplay() {
    if (!this.filters_display) {
      const filters_display = createEl("div", {
        attr: { class: "filters_display" }
      });
      let filters = [];
      if (this.crafty && this.crafty.nodeFilterState) {
        filters = this.crafty.nodeFilterState.allFilters;
      }
      for (const el of filters) {
        const badge = createEl("div", {
          attr: {
            class: "filter-menu-badge-display"
          }
        });
        const badge_span = createEl("span", {});
        badge_span.setText(el.title);
        badge.appendChild(badge_span);
        if (el.isActive)
          badge.classList.add("badge-display-active");
        filters_display.appendChild(badge);
      }
      this.filters_display = filters_display;
    }
    return this.filters_display;
  }
  static getFiltersContainer() {
    if (!this.filters_container) {
      const container = createEl("div", {
        attr: {
          class: "filters-container"
        }
      });
      container.appendChild(this.getFiltersDisplay());
      container.appendChild(this.getFiltersButton());
      this.filters_container = container;
    }
    return this.filters_container;
  }
  static setCraftyInstance(crafty) {
    this.crafty = crafty;
  }
  static getTitleInput() {
    if (!this.titleInput) {
      const element = createEl("div", {
        attr: { class: "title-edit-div hidden" }
      });
      const input = element.createEl("input", {
        attr: { class: "title-input" }
      });
      const input_focus_lost_cb = async () => {
        __privateMethod(this, _saveTitle, saveTitle_fn).call(this, element, input);
      };
      const input_enter_cb = async (ev) => {
        if (ev.key == "Enter") {
          __privateMethod(this, _saveTitle, saveTitle_fn).call(this, element, input);
        }
      };
      input.addEventListener("focusout", input_focus_lost_cb);
      input.addEventListener("keydown", input_enter_cb);
      this.title_edit_lister_cb.push(() => {
        input.removeEventListener("keydown", input_enter_cb);
      });
      this.title_edit_lister_cb.push(() => {
        input.removeEventListener("focusout", input_focus_lost_cb);
      });
      this.titleInput = element;
    }
    return this.titleInput;
  }
  static free() {
    __privateMethod(this, _freeNodesClickListeners, freeNodesClickListeners_fn).call(this);
    __privateMethod(this, _freeSelectionListeners, freeSelectionListeners_fn).call(this);
    __privateMethod(this, _freeTitleEditListeners, freeTitleEditListeners_fn).call(this);
    __privateMethod(this, _freeSearchBarListeners, freeSearchBarListeners_fn).call(this);
    __privateMethod(this, _freeSortMenuListeners, freeSortMenuListeners_fn).call(this);
    __privateMethod(this, _freeFilterMenuBadgeListeners, freeFilterMenuBadgeListeners_fn).call(this);
  }
};
var DOMHandler = _DOMHandler;
_freeSelectionListeners = new WeakSet();
freeSelectionListeners_fn = function() {
  let callback = this.selection_listeners_cb.pop();
  while (callback) {
    callback();
    callback = this.selection_listeners_cb.pop();
  }
};
_freeNodesClickListeners = new WeakSet();
freeNodesClickListeners_fn = function() {
  let callback = this.nodes_click_lister_cb.pop();
  while (callback) {
    callback();
    callback = this.nodes_click_lister_cb.pop();
  }
};
_freeTitleEditListeners = new WeakSet();
freeTitleEditListeners_fn = function() {
  let callback = this.title_edit_lister_cb.pop();
  while (callback) {
    callback();
    callback = this.title_edit_lister_cb.pop();
  }
};
_freeSearchBarListeners = new WeakSet();
freeSearchBarListeners_fn = function() {
  let callback = this.searchbar_lister_cb.pop();
  while (callback) {
    callback();
    callback = this.searchbar_lister_cb.pop();
  }
};
_freeSortMenuListeners = new WeakSet();
freeSortMenuListeners_fn = function() {
  let callback = this.sort_menu_lister_cb.pop();
  while (callback) {
    callback();
    callback = this.sort_menu_lister_cb.pop();
  }
};
_freeFilterMenuBadgeListeners = new WeakSet();
freeFilterMenuBadgeListeners_fn = function() {
  let callback = this.filter_menu_badge_lister_cb.pop();
  while (callback) {
    callback();
    callback = this.filter_menu_badge_lister_cb.pop();
  }
};
_toggleSortMenu = new WeakSet();
toggleSortMenu_fn = function() {
  const sort_button = this.getSortButton();
  const attributes_name = sort_button.getAttributeNames();
  if (attributes_name.includes("open"))
    sort_button.removeAttribute("open");
  else
    sort_button.setAttr("open", true);
};
_sortItemTemplate = new WeakSet();
sortItemTemplate_fn = function(title, groupe, check_marker, callback) {
  const container = createEl("div", {
    attr: { class: `sort-item ` }
  });
  const item = createEl("div", {});
  item.setText(title);
  const check_logo = createEl("div", {
    attr: { class: `${groupe} sort-check ${check_marker}` }
  });
  (0, import_obsidian.setIcon)(check_logo, "check");
  container.addEventListener("click", callback);
  this.sort_menu_lister_cb.push(() => {
    container.removeEventListener("click", callback);
  });
  container.appendChild(check_logo);
  container.appendChild(item);
  return container;
};
_getFilterSection = new WeakSet();
getFilterSection_fn = function(group) {
  const container = createEl("div", {
    attr: {
      class: "filter-menu-badge-container"
    }
  });
  let filters = [];
  switch (group) {
    case "Document":
      if (this.crafty && this.crafty.nodeFilterState) {
        filters = this.crafty.nodeFilterState.getFilterByGroup(
          "Document"
        );
      }
      break;
    case "Image":
      if (this.crafty && this.crafty.nodeFilterState) {
        filters = this.crafty.nodeFilterState.getFilterByGroup("Image");
      }
      break;
    case "Audio":
      if (this.crafty && this.crafty.nodeFilterState) {
        filters = this.crafty.nodeFilterState.getFilterByGroup("Audio");
      }
      break;
    case "Video":
      if (this.crafty && this.crafty.nodeFilterState) {
        filters = this.crafty.nodeFilterState.getFilterByGroup("Video");
      }
      break;
    case "General":
      if (this.crafty && this.crafty.nodeFilterState) {
        filters = this.crafty.nodeFilterState.getFilterByGroup("General");
      }
      break;
    default:
      break;
  }
  for (const el of filters) {
    const badge = createEl("div", {
      attr: {
        class: "filter-menu-badge"
      }
    });
    const badge_span = createEl("span", {});
    badge_span.setText(el.title);
    badge.appendChild(badge_span);
    const badge_click_cb = () => {
      if (badge.classList.contains("badge-active")) {
        if (this.crafty && this.crafty.nodeFilterState) {
          this.crafty.nodeFilterState.removeFilter(
            el.title
          );
        }
        badge.classList.remove("badge-active");
      } else {
        if (this.crafty && this.crafty.nodeFilterState) {
          this.crafty.nodeFilterState.addFilter(
            el.title
          );
        }
        badge.classList.add("badge-active");
      }
    };
    badge.addEventListener("click", badge_click_cb);
    this.filter_menu_badge_lister_cb.push(() => {
      badge.removeEventListener("click", badge_click_cb);
    });
    container.appendChild(badge);
  }
  return container;
};
_saveTitle = new WeakSet();
saveTitle_fn = async function(element, input) {
  const display = _DOMHandler.getTitleDisplay();
  element.classList.add("hidden");
  display.classList.remove("hidden");
  if (!this.crafty || !this.crafty.selectedNode || !this.textArea)
    return;
  const node = this.crafty.selectedNode;
  const file = this.crafty.currentFile;
  const vault = this.crafty.vault;
  node.title = input.value;
  await FileHandler.updateCanvasNode(node, file, vault);
};
__privateAdd(DOMHandler, _freeSelectionListeners);
__privateAdd(DOMHandler, _freeNodesClickListeners);
__privateAdd(DOMHandler, _freeTitleEditListeners);
__privateAdd(DOMHandler, _freeSearchBarListeners);
__privateAdd(DOMHandler, _freeSortMenuListeners);
__privateAdd(DOMHandler, _freeFilterMenuBadgeListeners);
__privateAdd(DOMHandler, _toggleSortMenu);
__privateAdd(DOMHandler, _sortItemTemplate);
__privateAdd(DOMHandler, _getFilterSection);
__privateAdd(DOMHandler, _saveTitle);
DOMHandler.selection_listeners_cb = [];
DOMHandler.nodes_click_lister_cb = [];
DOMHandler.title_edit_lister_cb = [];
DOMHandler.searchbar_lister_cb = [];
DOMHandler.sort_menu_lister_cb = [];
DOMHandler.filter_menu_badge_lister_cb = [];
DOMHandler.last_node_id = "";
DOMHandler.titleInput = null;
DOMHandler.titleDisplay = null;
DOMHandler.textArea = null;
DOMHandler.save_state = null;
DOMHandler.search_bar = null;
DOMHandler.nodes_container = null;
DOMHandler.filters_container = null;
DOMHandler.filters_display = null;
DOMHandler.sort_button = null;
DOMHandler.filter_button = null;
DOMHandler.sort_menu = null;
DOMHandler.filter_menu = null;

// main.ts
var import_fs = require("fs");

// nodes/nodes.ts
var NodeFilter = class {
  constructor(group, type) {
    this.active = false;
    this._group = group;
    this._title = type == "" ? "default" : type;
    this._type = type;
  }
  enable() {
    this.active = true;
  }
  disable() {
    this.active = false;
  }
  get group() {
    return this._group;
  }
  get title() {
    return this._title;
  }
  get type() {
    return this._type;
  }
  get isActive() {
    return this.active;
  }
};
var FILE_FORMAT = {
  Audio: {
    flac: "flac",
    m4a: "m4a",
    mp3: "mp3",
    ogg: "ogg",
    wav: "wav",
    webm: "webm",
    "3gp": "3gp"
  },
  Image: {
    avif: "avif",
    bmp: "bmp",
    gif: "gif",
    jpeg: "jpeg",
    jpg: "jpg",
    png: "png",
    svg: "svg",
    webp: "webp"
  },
  Video: { mkv: "mkv", mov: "mov", mp4: "mp4", ogv: "ogv", webm: "webm" },
  Document: { canvas: "canvas", md: "md", pdf: "pdf", json: "json" },
  General: {
    link: "link",
    text: "text",
    group: "group",
    video: "video",
    audio: "audio",
    image: "image"
  }
};
var _root, _size, _increaseSize, increaseSize_fn, _decreaseSize, decreaseSize_fn, _addNode, addNode_fn, _splitPart, splitPart_fn, _addSingle, addSingle_fn, _removeNode, removeNode_fn, _removeR, removeR_fn, _searchR, searchR_fn, _prefixSearchR, prefixSearchR_fn, _findSimilarR, findSimilarR_fn, _lcs, lcs_fn, _clearR, clearR_fn;
var NodesExplorer = class {
  constructor() {
    __privateAdd(this, _increaseSize);
    __privateAdd(this, _decreaseSize);
    __privateAdd(this, _addNode);
    __privateAdd(this, _splitPart);
    __privateAdd(this, _addSingle);
    __privateAdd(this, _removeNode);
    __privateAdd(this, _removeR);
    __privateAdd(this, _searchR);
    __privateAdd(this, _prefixSearchR);
    __privateAdd(this, _findSimilarR);
    __privateAdd(this, _lcs);
    __privateAdd(this, _clearR);
    __privateAdd(this, _root, {});
    __privateAdd(this, _size, 0);
  }
  add(node) {
    for (const word of __privateMethod(this, _splitPart, splitPart_fn).call(this, node.title)) {
      __privateMethod(this, _addSingle, addSingle_fn).call(this, word, node);
    }
  }
  remove(node) {
    for (const word of __privateMethod(this, _splitPart, splitPart_fn).call(this, node.title)) {
      __privateMethod(this, _removeR, removeR_fn).call(this, word, 0, __privateGet(this, _root), {}, 0, node.id);
    }
    return null;
  }
  search(word) {
    return __privateMethod(this, _searchR, searchR_fn).call(this, word, 0, __privateGet(this, _root));
  }
  prefixSearch(word) {
    const res = [];
    __privateMethod(this, _prefixSearchR, prefixSearchR_fn).call(this, word, 0, __privateGet(this, _root), res);
    return res;
  }
  findSimilar(word, precision) {
    word = word.toLowerCase();
    const res = [];
    const n7 = word.length;
    const currentRow = new Array(n7 + 1).fill(0);
    const keys = Object.keys(__privateGet(this, _root));
    for (const key of keys) {
      __privateMethod(this, _findSimilarR, findSimilarR_fn).call(
        this,
        //@ts-ignore
        __privateGet(this, _root)[key],
        key,
        word,
        currentRow,
        res,
        precision
      );
    }
    res.sort((a4, b3) => a4[1] - b3[1]);
    return res.filter((val) => {
      const lcs_ration = __privateMethod(this, _lcs, lcs_fn).call(this, word, val[0].title.toLowerCase()) / Math.max(val[0].title.length, word.length);
      return lcs_ration > 0.4;
    }).map((val) => val[0]);
  }
  clear() {
    __privateMethod(this, _clearR, clearR_fn).call(this, __privateGet(this, _root));
    __privateSet(this, _size, 0);
  }
  get size() {
    return __privateGet(this, _size);
  }
};
_root = new WeakMap();
_size = new WeakMap();
_increaseSize = new WeakSet();
increaseSize_fn = function() {
  __privateWrapper(this, _size)._++;
};
_decreaseSize = new WeakSet();
decreaseSize_fn = function() {
  if (__privateGet(this, _size) > 0)
    __privateWrapper(this, _size)._--;
};
_addNode = new WeakSet();
addNode_fn = function(pos, node) {
  let arr = pos["end"];
  if (!arr) {
    arr = [];
    pos["end"] = arr;
  }
  for (let i6 = 0; i6 < arr.length; i6++) {
    if (arr[i6].id == node.id) {
      arr[i6] = node;
      return;
    }
  }
  arr.push(node);
  __privateMethod(this, _increaseSize, increaseSize_fn).call(this);
};
_splitPart = new WeakSet();
splitPart_fn = function(word) {
  const result = [];
  const len = word.length;
  for (let idx = 0; idx < len; idx++) {
    result.push(word.substring(len - idx - 1, len));
  }
  return result;
};
_addSingle = new WeakSet();
addSingle_fn = function(title, node) {
  title = title.toLowerCase();
  let current = __privateGet(this, _root);
  for (let idx = 0; idx < title.length; idx++) {
    const char = title[idx];
    if (current[char])
      current = current[char];
    else {
      current[char] = {};
      current = current[char];
    }
  }
  __privateMethod(this, _addNode, addNode_fn).call(this, current, node);
};
_removeNode = new WeakSet();
removeNode_fn = function(arr, id3) {
  const n7 = arr.length;
  if (!id3) {
    while (arr.length > 0)
      arr.pop();
    return;
  }
  for (let i6 = 0; i6 < n7; i6++) {
    if (id3 == arr[i6].id) {
      [arr[i6]] = [arr[n7 - 1]];
      arr.pop();
    }
  }
};
_removeR = new WeakSet();
removeR_fn = function(word, idx, root, last, last_idx, id3) {
  if (idx >= word.length) {
    if (!root)
      return;
    const arr = root["end"];
    if (!arr)
      return;
    __privateMethod(this, _removeNode, removeNode_fn).call(this, arr, id3);
    if (arr.length == 0) {
      delete root["end"];
      const keys2 = Object.keys(root);
      if (keys2.length == 0)
        delete last[word[last_idx]];
    }
  }
  if (!root)
    return;
  const next = root[word[idx]];
  const keys = Object.keys(root);
  let len = keys.length;
  if (keys.includes("end"))
    len--;
  if (len > 1) {
    last = root;
    last_idx = idx;
  }
  __privateMethod(this, _removeR, removeR_fn).call(this, word, idx + 1, next, root, last_idx, id3);
};
_searchR = new WeakSet();
searchR_fn = function(word, idx, root) {
  word = word.toLowerCase();
  if (idx >= word.length) {
    if (!root)
      return [];
    return root["end"] || [];
  }
  if (!root)
    return [];
  const next = root[word[idx]];
  if (!next)
    return [];
  return __privateMethod(this, _searchR, searchR_fn).call(this, word, idx + 1, next);
};
_prefixSearchR = new WeakSet();
prefixSearchR_fn = function(word, idx, root, acc) {
  word = word.toLowerCase();
  if (!root)
    return;
  const keys = Object.keys(root);
  if (idx >= word.length) {
    const nodes = root["end"];
    if (nodes)
      for (const node of nodes)
        acc.push(node);
    for (const key of keys) {
      const next = root[key];
      if (!next)
        return;
      if (key != "end")
        __privateMethod(this, _prefixSearchR, prefixSearchR_fn).call(this, word, idx + 1, next, acc);
    }
  } else {
    const [up, low] = [
      word[idx].toLocaleLowerCase(),
      word[idx].toLocaleUpperCase()
    ];
    const next_lower = root[up];
    const next_upper = root[low];
    if (!next_lower && !next_upper)
      return;
    __privateMethod(this, _prefixSearchR, prefixSearchR_fn).call(this, word, idx + 1, next_lower, acc);
    __privateMethod(this, _prefixSearchR, prefixSearchR_fn).call(this, word, idx + 1, next_upper, acc);
  }
};
_findSimilarR = new WeakSet();
findSimilarR_fn = function(root, letter, word, previousRow, res, precision) {
  word = word.toLowerCase();
  const n7 = word.length;
  const currentRow = new Array(n7 + 1).fill(0);
  currentRow[0] = previousRow[0] + 1;
  let min2 = Infinity;
  for (let i6 = 1; i6 <= n7; i6++) {
    const insertionCost = currentRow[i6 - 1] + 1;
    const deleteCost = previousRow[i6] + 1;
    let replaceCost = previousRow[i6 - 1];
    if (word[i6 - 1] != letter)
      replaceCost++;
    currentRow[i6] = Math.min(insertionCost, deleteCost, replaceCost);
    min2 = Math.min(min2, currentRow[i6]);
  }
  if (currentRow[n7] <= precision) {
    const nodes = root["end"];
    if (nodes && nodes.length > 0) {
      for (const node of nodes)
        res.push([node, currentRow[n7]]);
    }
  }
  if (min2 <= precision) {
    const keys = Object.keys(root);
    for (const key of keys) {
      if (key == "end")
        continue;
      __privateMethod(this, _findSimilarR, findSimilarR_fn).call(
        this,
        //@ts-ignore
        root[key],
        key,
        word,
        currentRow,
        res,
        precision
      );
    }
  }
};
_lcs = new WeakSet();
lcs_fn = function(s1, s22) {
  const n7 = s1.length, m3 = s22.length;
  const dp = new Array(n7 + 1).fill(null).map(() => new Array(m3 + 1).fill(0));
  for (let i6 = n7 - 1; i6 >= 0; i6--) {
    for (let j2 = m3 - 1; j2 >= 0; j2--) {
      if (s1[i6] == s22[j2])
        dp[i6][j2] = 1 + dp[i6 + 1][j2 + 1];
      else
        dp[i6][j2] = Math.max(dp[i6 + 1][j2], dp[i6][j2 + 1]);
    }
  }
  return dp[0][0];
};
_clearR = new WeakSet();
clearR_fn = function(root) {
  for (const key of Object.keys(root)) {
    if (key == "end") {
      const arr = root["end"];
      while (arr.length > 0)
        arr.pop();
    } else
      __privateMethod(this, _clearR, clearR_fn).call(this, root[key]);
    delete root[key];
  }
};
var NodeComparator = class {
  static SORT_BY_CREATED_AT(node1, node2) {
    if (node1.type != "file" && node2.type != "file")
      return 0;
    if (node1.type != "file")
      return 1;
    if (node2.type != "file")
      return -1;
    return node1.created_at - node2.created_at;
  }
  static SORT_BY_LAST_MODIFIED(node1, node2) {
    if (node1.type != "file" && node2.type != "file")
      return 0;
    if (node1.type != "file")
      return 1;
    if (node2.type != "file")
      return -1;
    return node2.last_modified - node1.last_modified;
  }
  static SORT_BY_NAME(node1, node2) {
    const [t1, t22] = [node1.title.toLowerCase(), node2.title.toLowerCase()];
    if (t1 > t22)
      return 1;
    else if (t1 < t22)
      return -1;
    return 0;
  }
};

// specification/index.ts
var CompositeSpecification = class {
  and(other) {
    return new AndSpecification(this, other);
  }
  or(other) {
    return new OrSpecification(this, other);
  }
  not() {
    return new NotSpecification(this);
  }
};
var AndSpecification = class extends CompositeSpecification {
  constructor(left, right) {
    super();
    this.left = left;
    this.right = right;
  }
  isSatisfied(candidate) {
    return this.left.isSatisfied(candidate) && this.right.isSatisfied(candidate);
  }
};
var OrSpecification = class extends CompositeSpecification {
  constructor(left, right) {
    super();
    this.left = left;
    this.right = right;
  }
  isSatisfied(candidate) {
    return this.left.isSatisfied(candidate) || this.right.isSatisfied(candidate);
  }
};
var NotSpecification = class extends CompositeSpecification {
  constructor(other) {
    super();
    this.other = other;
  }
  isSatisfied(candidate) {
    return !this.other.isSatisfied(candidate);
  }
};
var ExpressionSpecification = class extends CompositeSpecification {
  constructor(callback) {
    super();
    this.callback = callback;
  }
  isSatisfied(candidate) {
    return this.callback(candidate);
  }
};
var AudioSpecification = class extends CompositeSpecification {
  isSatisfied(candidate) {
    if (!candidate.type == "file")
      return false;
    return candidate.extension in FILE_FORMAT.Audio;
  }
};
var ImageSpecification = class extends CompositeSpecification {
  isSatisfied(candidate) {
    if (!candidate.type == "file")
      return false;
    return candidate.extension in FILE_FORMAT.Image;
  }
};
var VideoSpecification = class extends CompositeSpecification {
  isSatisfied(candidate) {
    if (!candidate.type == "file")
      return false;
    return candidate.extension in FILE_FORMAT.Video;
  }
};

// observers/observer.ts
var NodeObserver = class {
  constructor(callback) {
    this.callback = callback;
  }
  update(nodes) {
    this.callback(nodes);
  }
};
var NodeFilterObserver = class {
  constructor(callback) {
    this.callback = callback;
  }
  update(filters) {
    this.callback(filters);
  }
};
var _callback, callback_fn, _addObservableElement, addObservableElement_fn;
var AttributeObserver = class {
  constructor() {
    __privateAdd(this, _callback);
    __privateAdd(this, _addObservableElement);
    this.config = { attributes: true, attributeFilter: ["class"] };
  }
  observe(leaf, node_state) {
    if (!leaf)
      return;
    if (this.observer)
      this.disconnect();
    this.observer = new MutationObserver((mutation) => {
      __privateMethod(this, _callback, callback_fn).call(this, leaf, node_state);
    });
    __privateMethod(this, _addObservableElement, addObservableElement_fn).call(this, leaf);
  }
  disconnect() {
    if (this.observer)
      this.observer.disconnect();
    this.observer = null;
  }
};
_callback = new WeakSet();
callback_fn = function(leaf, node_state) {
  const view_state = leaf.getViewState();
  if (view_state.type != "canvas")
    return;
  const selection = Array.from(
    //@ts-ignore
    leaf.view.canvas.selection,
    //@ts-ignore
    (val) => val.id
  );
  node_state.selectNodes(selection);
};
_addObservableElement = new WeakSet();
addObservableElement_fn = function(leaf) {
  const view_state = leaf.getViewState();
  if (view_state.type != "canvas")
    return;
  const nodes = Array.from(
    //@ts-ignore
    leaf.view.canvas.nodes,
    //@ts-ignore
    ([id3, value]) => ({
      id: id3,
      container: value.nodeEl,
      data: value.unknownData
    })
  );
  if (this.observer) {
    for (const node of nodes) {
      this.observer.observe(node.container, this.config);
    }
  }
};
var _swapIdx, swapIdx_fn, _indexNodes, indexNodes_fn, _clearRelNodes, clearRelNodes_fn, _sort, sort_fn, _order, order_fn, _getFilterSpec, getFilterSpec_fn, _PopulateRelNodes, PopulateRelNodes_fn, _update, update_fn, _findFirstNode, findFirstNode_fn;
var NodesState = class {
  constructor() {
    // List
    __privateAdd(this, _swapIdx);
    __privateAdd(this, _indexNodes);
    __privateAdd(this, _clearRelNodes);
    __privateAdd(this, _sort);
    __privateAdd(this, _order);
    __privateAdd(this, _getFilterSpec);
    __privateAdd(this, _PopulateRelNodes);
    // Search
    __privateAdd(this, _update);
    __privateAdd(this, _findFirstNode);
    this.observers = [];
    this.node_map = /* @__PURE__ */ new Map();
    this.rel_node_map = /* @__PURE__ */ new Map();
    this.node_arr = [];
    this.rel_node_arr = [];
    this.selected = [];
    this.currentID = "";
    this.lastID = "";
    this.node_explorer = new NodesExplorer();
    this.currentSearch = "";
    this.sort_by = "name";
    this.node_order = "asc";
    this.filters = [];
  }
  registerObserver(observer) {
    this.observers.push(observer);
  }
  removeObserver(observer) {
    this.observers = this.observers.filter((val) => val != observer);
  }
  notifyObserver() {
    for (const obs of this.observers) {
      obs.update(this.nodes);
    }
  }
  add(nodes) {
    for (const node of nodes) {
      if (this.node_map.size == 0)
        this.firstID = node.id;
      if (this.selected.includes(node.id))
        node.selected = true;
      this.node_map.set(node.id, this.node_arr.length);
      this.node_arr.push(node);
      this.node_explorer.add(node);
    }
    this.firstID = "";
    if (nodes.length > 0)
      this.firstID = this.node_arr[0].id;
    this.notifyObserver();
  }
  remove(id_list) {
    for (const id3 of id_list) {
      if (this.node_map.has(id3)) {
        __privateMethod(this, _swapIdx, swapIdx_fn).call(this, this.node_map.get(id3), this.node_arr.length - 1);
        const node = this.node_arr.pop();
        if (node)
          this.node_explorer.remove(node);
        this.node_map.delete(id3);
        __privateMethod(this, _swapIdx, swapIdx_fn).call(this, this.node_map.get(id3), this.node_arr.length - 1);
      }
    }
    this.notifyObserver();
  }
  replace(nodes) {
    while (this.node_arr.length > 0)
      this.node_arr.pop();
    this.node_map.clear();
    this.node_explorer.clear();
    this.add(nodes);
  }
  selectNodes(id_list) {
    const n7 = id_list.length;
    this.selected = id_list;
    if (n7 == 0) {
      this.currentID = "";
    } else {
      this.lastID = this.currentID;
      this.currentID = id_list[0];
    }
    for (const node of this.node_arr)
      node.selected = false;
    for (const id3 of id_list) {
      const node_idx = this.node_map.get(id3);
      if (node_idx == void 0)
        continue;
      this.node_arr[node_idx].selected = true;
    }
    this.notifyObserver();
  }
  order(order) {
    if (this.node_order != order) {
      this.node_order = order;
      this.notifyObserver();
    }
  }
  sortBy(sort_by) {
    if (this.sort_by != sort_by) {
      this.sort_by = sort_by;
      this.notifyObserver();
    }
  }
  setFilters(filters) {
    this.filters = filters;
    this.notifyObserver();
  }
  setSearchWord(word) {
    this.currentSearch = word;
    this.notifyObserver();
  }
  // Navigator
  current(id3) {
    this.currentID = id3;
    const idx = this.node_map.get(id3);
    if (idx === void 0)
      return;
    const next_node = this.node_arr[idx];
    if (!next_node.container)
      return;
    next_node.container.click();
  }
  next() {
    const idx = this.rel_node_map.get(this.currentID);
    if (idx === void 0) {
      const next_node2 = __privateMethod(this, _findFirstNode, findFirstNode_fn).call(this);
      if (!next_node2 || !next_node2.container)
        return;
      next_node2.container.click();
      return;
    }
    const next_idx = (idx + 1) % this.rel_node_arr.length;
    const next_node = this.rel_node_arr[next_idx];
    if (!next_node.container)
      return;
    next_node.container.click();
  }
  previous() {
    const idx = this.rel_node_map.get(this.currentID);
    if (idx === void 0) {
      const next_node2 = __privateMethod(this, _findFirstNode, findFirstNode_fn).call(this);
      if (!next_node2 || !next_node2.container)
        return;
      next_node2.container.click();
      return;
    }
    const prev_idx = idx - 1 < 0 ? this.rel_node_arr.length - 1 : idx - 1;
    const next_node = this.rel_node_arr[prev_idx];
    if (!next_node.container)
      return;
    next_node.container.click();
  }
  get nodes() {
    __privateMethod(this, _update, update_fn).call(this);
    return this.rel_node_arr;
  }
  get allNodes() {
    return this.node_arr;
  }
  get selectedNode() {
    const idx = this.node_map.get(this.currentID);
    if (idx == void 0)
      return null;
    return this.node_arr[idx];
  }
  get isNodeSame() {
    if (this.currentID == "" || this.lastID == "")
      return false;
    return this.currentID == this.lastID;
  }
};
_swapIdx = new WeakSet();
swapIdx_fn = function(left, right) {
  const node1 = this.node_arr[left];
  const node2 = this.node_arr[right];
  this.node_map.set(node1.id, right);
  this.node_map.set(node2.id, left);
  [this.node_arr[left], this.node_arr[right]] = [
    this.node_arr[right],
    this.node_arr[left]
  ];
};
_indexNodes = new WeakSet();
indexNodes_fn = function() {
  this.rel_node_map.clear();
  const n7 = this.rel_node_arr.length;
  for (let i6 = 0; i6 < n7; i6++)
    this.rel_node_map.set(this.rel_node_arr[i6].id, i6);
};
_clearRelNodes = new WeakSet();
clearRelNodes_fn = function() {
  while (this.rel_node_arr.length > 0)
    this.rel_node_arr.pop();
};
_sort = new WeakSet();
sort_fn = function() {
  const sort_button = DOMHandler.getSortButton();
  const text = sort_button.querySelector(".sb-text");
  const sort_menu = DOMHandler.getSortMenu();
  const sort_name = sort_menu.querySelector(".s-name");
  const sort_created = sort_menu.querySelector(".s-created");
  const sort_last = sort_menu.querySelector(".s-last");
  for (const node of [sort_name, sort_created, sort_last]) {
    if (!node)
      continue;
    node.classList.remove("check-active");
  }
  switch (this.sort_by) {
    case "name":
      this.rel_node_arr.sort(NodeComparator.SORT_BY_NAME);
      if (text)
        text.setText("Name");
      if (sort_name)
        sort_name.classList.add("check-active");
      break;
    case "created_at":
      this.rel_node_arr.sort(NodeComparator.SORT_BY_CREATED_AT);
      if (text)
        text.setText("Created_at");
      if (sort_created)
        sort_created.classList.add("check-active");
      break;
    case "last_modified":
      this.rel_node_arr.sort(NodeComparator.SORT_BY_LAST_MODIFIED);
      if (text)
        text.setText("Last_modified");
      if (sort_last)
        sort_last.classList.add("check-active");
      break;
    default:
      this.rel_node_arr.sort(NodeComparator.SORT_BY_NAME);
      break;
  }
};
_order = new WeakSet();
order_fn = function() {
  const sort_menu = DOMHandler.getSortMenu();
  const sort_asc = sort_menu.querySelector(".s-asc");
  const sort_desc = sort_menu.querySelector(".s-desc");
  for (const node of [sort_asc, sort_desc]) {
    if (!node)
      continue;
    node.classList.remove("check-active");
  }
  if (this.node_order == "des") {
    this.rel_node_arr.reverse();
    if (sort_desc)
      sort_desc.classList.add("check-active");
  } else {
    if (sort_asc)
      sort_asc.classList.add("check-active");
  }
};
_getFilterSpec = new WeakSet();
getFilterSpec_fn = function() {
  if (this.filters.length == 0)
    return new ExpressionSpecification(() => true);
  let specification = new ExpressionSpecification(() => false);
  for (const filter of this.filters) {
    if (filter.type == "audio") {
      specification = specification.or(
        new AudioSpecification()
      );
    } else if (filter.type == "video") {
      specification = specification.or(
        new VideoSpecification()
      );
    } else if (filter.type == "image") {
      specification = specification.or(
        new ImageSpecification()
      );
    } else {
      const or_specification = new ExpressionSpecification((candidate) => {
        if (candidate.type == "file")
          return candidate.extension == filter.type;
        else
          return candidate.type == filter.type;
      });
      specification = specification.or(or_specification);
    }
  }
  return specification;
};
_PopulateRelNodes = new WeakSet();
PopulateRelNodes_fn = function(nodes) {
  __privateMethod(this, _clearRelNodes, clearRelNodes_fn).call(this);
  const spec = __privateMethod(this, _getFilterSpec, getFilterSpec_fn).call(this);
  for (const node of nodes) {
    if (spec.isSatisfied(node))
      this.rel_node_arr.push(node);
  }
  __privateMethod(this, _sort, sort_fn).call(this);
  __privateMethod(this, _order, order_fn).call(this);
  __privateMethod(this, _indexNodes, indexNodes_fn).call(this);
};
_update = new WeakSet();
update_fn = function() {
  if (this.currentSearch == "")
    __privateMethod(this, _PopulateRelNodes, PopulateRelNodes_fn).call(this, this.node_arr);
  else {
    __privateMethod(this, _PopulateRelNodes, PopulateRelNodes_fn).call(
      this,
      // this.node_explorer.findSimilar(this.currentSearch, 4)
      this.node_explorer.prefixSearch(this.currentSearch)
    );
  }
};
_findFirstNode = new WeakSet();
findFirstNode_fn = function() {
  const id3 = this.rel_node_arr[0].id;
  this.currentID = id3 || "";
  const idx = this.rel_node_map.get(id3);
  if (idx == void 0)
    return null;
  const next_node = this.rel_node_arr[idx];
  if (!next_node.container)
    return null;
  return next_node;
};
var NodesFilterState = class {
  constructor() {
    this.observers = [];
    this.filter_index = /* @__PURE__ */ new Map();
    this.filter_list = [];
    let idx = 0;
    for (const group in FILE_FORMAT) {
      for (const type in FILE_FORMAT[group]) {
        const t7 = type;
        this.filter_list.push(new NodeFilter(group, t7));
        this.filter_index.set(t7, idx++);
      }
    }
  }
  registerObserver(observer) {
    this.observers.push(observer);
  }
  removeObserver(observer) {
    this.observers = this.observers.filter((val) => val != observer);
  }
  notifyObserver() {
    for (const obs of this.observers) {
      obs.update(this.filter_list);
    }
  }
  addFilter(filter) {
    const idx = this.filter_index.get(filter);
    if (!idx)
      return;
    if (this.filter_list[idx].isActive)
      return;
    this.filter_list[idx].enable();
    this.notifyObserver();
  }
  removeFilter(filter) {
    const idx = this.filter_index.get(filter);
    if (!idx)
      return;
    if (!this.filter_list[idx].isActive)
      return;
    this.filter_list[idx].disable();
    this.notifyObserver();
  }
  getFilterByGroup(group) {
    return this.filter_list.filter((val) => val.group == group);
  }
  get activeFilters() {
    return this.filter_list.filter((val) => val.isActive);
  }
  get allFilters() {
    return this.filter_list;
  }
};

// main.ts
var VIEW_TYPE = "crafty-plugin";
var _setBaseLayout, setBaseLayout_fn;
var BaseView = class extends import_obsidian2.ItemView {
  constructor(leaf) {
    super(leaf);
    __privateAdd(this, _setBaseLayout);
  }
  getViewType() {
    return VIEW_TYPE;
  }
  getDisplayText() {
    return "Crafty";
  }
  async onOpen() {
    __privateMethod(this, _setBaseLayout, setBaseLayout_fn).call(this);
  }
  async onClose() {
    DOMHandler.free();
  }
};
_setBaseLayout = new WeakSet();
setBaseLayout_fn = function() {
  const container = this.containerEl.children[1];
  container.empty();
  const tabGroup = container.createEl("sl-tab-group", {
    cls: ["side-bar-nav"]
  });
  const tabs = [];
  for (const tab of ["Edit", "Nodes"]) {
    const tb = tabGroup.createEl("sl-tab", {
      text: tab
    });
    tb.setAttrs({ slot: "nav", panel: tab });
    tabs.push(tb);
  }
  const node_list = tabGroup.createEl("sl-tab-panel", {
    attr: {
      name: "Nodes"
    }
  });
  const nodes_panel = node_list.createEl("div", {
    attr: { class: "nodes-panel " }
  });
  const search_area = nodes_panel.createEl("div", {
    attr: { class: "search-area" }
  });
  const search_bar_row = createEl("div", {
    attr: { class: "search-bar-row" }
  });
  const filter_row = createEl("div", {
    attr: { class: "filter-row" }
  });
  const search_bar = DOMHandler.getSearchBar();
  const sort_button = DOMHandler.getSortButton();
  search_bar_row.appendChild(search_bar);
  search_bar_row.appendChild(sort_button);
  const filters_container = DOMHandler.getFiltersContainer();
  filter_row.appendChild(filters_container);
  search_area.appendChild(search_bar_row);
  search_area.appendChild(filter_row);
  const nodes_container = DOMHandler.getNodesContainer();
  nodes_panel.appendChild(nodes_container);
  const edit_panel = tabGroup.createEl("sl-tab-panel", {
    attr: {
      name: "Edit",
      class: "description-body"
    }
  });
  const edit_header = edit_panel.createEl("div", {
    attr: { class: "description-header-div" }
  });
  const edit_header_display = DOMHandler.getTitleDisplay();
  const edit_header_input = DOMHandler.getTitleInput();
  edit_header.appendChild(edit_header_display);
  edit_header.appendChild(edit_header_input);
  const text_area = DOMHandler.getTextArea();
  const save_state = DOMHandler.getSaveState();
  edit_panel.appendChild(text_area);
  edit_panel.appendChild(save_state);
};
var _updateCurrentFile, updateCurrentFile_fn, _updateCurrentLeaf, updateCurrentLeaf_fn, _trackFileChange, trackFileChange_fn, _syncNodes, syncNodes_fn, _extractNodeData, extractNodeData_fn, _createTitle, createTitle_fn;
var Crafty = class extends import_obsidian2.Plugin {
  constructor() {
    super(...arguments);
    /**
     * Set current_file to current activeFile
     * @returns void
     */
    __privateAdd(this, _updateCurrentFile);
    /**
     * Set current_canvas_leaf to leaf if leaf is a canvas
     * @param {WorkspaceLeaf} leaf
     */
    __privateAdd(this, _updateCurrentLeaf);
    /**
     * @param {TFile} file
     * Use FSWatcher to listen for change in file
     */
    __privateAdd(this, _trackFileChange);
    /**
     * Extract nodes content from canvas data and update the current the NodesState.
     * @returns
     */
    __privateAdd(this, _syncNodes);
    /**
     * Extract and format id, title and description from  raw_nodes
     * @param raw_nodes
     * @returns Map<string,CraftyNode>
     */
    __privateAdd(this, _extractNodeData);
    /**
     * Create default tile for nodes.
     * @param {string | undefined} text
     * @param {string | undefined} file
     * @param {string | undefined} label
     * @param {string | undefined} url
     * @returns
     */
    __privateAdd(this, _createTitle);
    this.att_observer = null;
    this.file_watcher = null;
    this.node_state = null;
    this.node_filter_state = null;
    this.current_canvas_leaf = null;
    this.GLOBAL_CD = 100;
  }
  async onload() {
    this.node_state = new NodesState();
    this.att_observer = new AttributeObserver();
    this.registerView(VIEW_TYPE, (leaf) => new BaseView(leaf));
    this.node_state = new NodesState();
    this.node_filter_state = new NodesFilterState();
    DOMHandler.setCraftyInstance(this);
    __privateMethod(this, _updateCurrentFile, updateCurrentFile_fn).call(this);
    const filter_listener = new NodeFilterObserver((filters) => {
      const filters_display = DOMHandler.getFiltersDisplay();
      const badges = filters_display.querySelectorAll(
        ".filter-menu-badge-display"
      );
      for (const badge of badges) {
        badge.classList.remove("badge-display-active");
        const span = badge.querySelector("span");
        const value = span.getText();
        const filter = filters.find((val) => val.title == value);
        if (filter && filter.isActive)
          badge.classList.add("badge-display-active");
      }
      if (this.nodeState) {
        this.nodeState.setFilters(
          filters.filter((val) => val.isActive)
        );
      }
    });
    const description_listener = new NodeObserver(
      (0, import_obsidian2.debounce)(
        (nodes) => {
          var _a6;
          if (!this.node_state)
            return;
          const all_nodes = this.node_state.allNodes;
          for (const node of all_nodes) {
            if (!node.container)
              continue;
            if (node.description != "") {
              node.container.setAttribute(
                "aria-label",
                `${node.description}`
              );
            } else {
              (_a6 = node.container) == null ? void 0 : _a6.removeAttribute("aria-label");
            }
          }
        },
        this.GLOBAL_CD,
        true
      )
    );
    const sidebar_node_listener = new NodeObserver(
      (0, import_obsidian2.debounce)(
        (nodes) => {
          DOMHandler.populateNodes(nodes);
          if (!this.att_observer)
            return;
          this.att_observer.observe(
            this.current_canvas_leaf,
            //@ts-ignore
            this.node_state
          );
        },
        this.GLOBAL_CD,
        true
      )
    );
    const sidebar_description_listener = new NodeObserver(
      (0, import_obsidian2.debounce)(
        (nodes) => {
          if (!this.node_state)
            return;
          if (!this.node_state.selectedNode)
            DOMHandler.showEmptyEdit();
          else
            DOMHandler.showSelectedNode();
        },
        this.GLOBAL_CD,
        true
      )
    );
    this.node_state.registerObserver(description_listener);
    this.node_state.registerObserver(sidebar_node_listener);
    this.node_state.registerObserver(sidebar_description_listener);
    this.node_filter_state.registerObserver(filter_listener);
    this.registerEvent(
      this.app.workspace.on("active-leaf-change", (leaf) => {
        var _a6;
        if (!leaf)
          return;
        const view_state = leaf.getViewState();
        if (view_state.type != "canvas")
          return;
        if (leaf == this.current_canvas_leaf)
          return;
        __privateMethod(this, _updateCurrentFile, updateCurrentFile_fn).call(this);
        __privateMethod(this, _updateCurrentLeaf, updateCurrentLeaf_fn).call(this, null);
        __privateMethod(this, _trackFileChange, trackFileChange_fn).call(this, null);
        if (this.current_file.extension == "canvas")
          __privateMethod(this, _syncNodes, syncNodes_fn).call(this);
        (_a6 = this.att_observer) == null ? void 0 : _a6.observe(
          this.current_canvas_leaf,
          //@ts-ignore
          this.node_state
        );
      })
    );
    this.registerEvent(
      this.app.workspace.on("layout-change", () => {
        var _a6;
        __privateMethod(this, _updateCurrentFile, updateCurrentFile_fn).call(this);
        __privateMethod(this, _updateCurrentLeaf, updateCurrentLeaf_fn).call(this, null);
        __privateMethod(this, _trackFileChange, trackFileChange_fn).call(this, null);
        if (this.current_file.extension == "canvas") {
          __privateMethod(this, _syncNodes, syncNodes_fn).call(this);
          (_a6 = this.att_observer) == null ? void 0 : _a6.observe(
            this.current_canvas_leaf,
            //@ts-ignore
            this.node_state
          );
          DOMHandler.showSelectedNode();
          DOMHandler.showNodes();
        } else {
          DOMHandler.showEmptyEdit();
          DOMHandler.showEmptyNodes();
        }
      })
    );
    this.addCommand({
      id: "next-node",
      name: "Next node",
      callback: () => {
        if (!this.node_state)
          return;
        DOMHandler.hideTitle();
        this.node_state.next();
      }
    });
    this.addCommand({
      id: "prev-node",
      name: "Prev node",
      callback: () => {
        if (!this.node_state)
          return;
        DOMHandler.hideTitle();
        this.node_state.previous();
      }
    });
    this.addCommand({
      id: "show-panel",
      name: "Show Panel",
      callback: async () => {
        const rightSplit = this.app.workspace.rightSplit;
        const sidebar_leaf = this.sidebarLeaf;
        if (rightSplit.collapsed || !sidebar_leaf) {
          setTimeout(() => {
            this.activateView();
          }, 50);
          if (rightSplit.collapsed)
            rightSplit.expand();
        } else {
          this.closeView();
        }
      }
    });
  }
  /**
   * Show sidebar
   */
  async activateView() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getRightLeaf(false);
      await leaf.setViewState({ type: VIEW_TYPE, active: true });
    }
    workspace.revealLeaf(leaf);
    __privateMethod(this, _updateCurrentFile, updateCurrentFile_fn).call(this);
    __privateMethod(this, _updateCurrentLeaf, updateCurrentLeaf_fn).call(this, null);
    __privateMethod(this, _trackFileChange, trackFileChange_fn).call(this, null);
    __privateMethod(this, _syncNodes, syncNodes_fn).call(this);
  }
  /**
   * Hide sidebar
   */
  async closeView() {
    const { workspace } = this.app;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE);
    if (leaves.length < 1)
      return;
    leaves[0].detach();
  }
  get sidebarLeaf() {
    const { workspace } = this.app;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE);
    if (leaves.length < 1)
      return;
    return leaves[0];
  }
  getFileObserver() {
    return this.file_watcher;
  }
  getAttributeObserver() {
    return this.att_observer;
  }
  onunload() {
    if (this.file_watcher)
      this.file_watcher.close();
    if (this.att_observer)
      this.att_observer.disconnect();
    DOMHandler.free();
  }
  get vault() {
    return this.app.vault;
  }
  get selectedNode() {
    if (!this.node_state)
      return null;
    return this.node_state.selectedNode;
  }
  get currentFile() {
    return this.current_file;
  }
  get nodeState() {
    return this.node_state;
  }
  get nodeFilterState() {
    return this.node_filter_state;
  }
};
_updateCurrentFile = new WeakSet();
updateCurrentFile_fn = function() {
  const file = this.app.workspace.getActiveFile();
  if (!file)
    return;
  this.current_file = file;
};
_updateCurrentLeaf = new WeakSet();
updateCurrentLeaf_fn = function(leaf) {
  if (!leaf) {
    this.app.workspace.iterateAllLeaves((leaf2) => {
      const view_state2 = leaf2.getViewState();
      if (view_state2.type != "canvas")
        return;
      const classList = leaf2.containerEl.classList;
      if (!/mod-active/.test(classList.value))
        return;
      this.current_canvas_leaf = leaf2;
    });
    return;
  }
  const view_state = leaf.getViewState();
  if (view_state.type != "canvas")
    return;
  this.current_canvas_leaf = leaf;
};
_trackFileChange = new WeakSet();
trackFileChange_fn = function(file) {
  if (!file && !this.current_file)
    return;
  if (!file)
    file = this.current_file;
  const path = `${file.vault.adapter.basePath}/${file.path}`;
  if (this.file_watcher)
    this.file_watcher.close();
  this.file_watcher = (0, import_fs.watch)(
    path,
    (0, import_obsidian2.debounce)(async (event) => __privateMethod(this, _syncNodes, syncNodes_fn).call(this), this.GLOBAL_CD)
  );
};
_syncNodes = new WeakSet();
syncNodes_fn = function() {
  if (!this.current_canvas_leaf || //@ts-ignore
  !this.current_canvas_leaf.view.canvas) {
    return;
  }
  if (!this.node_state)
    return;
  const canvas_data = this.current_canvas_leaf.view.canvas;
  const raw_nodes_map = __privateMethod(this, _extractNodeData, extractNodeData_fn).call(this, canvas_data);
  const selection = Array.from(
    //@ts-ignore
    this.current_canvas_leaf.view.canvas.selection
    //@ts-ignore
  ).map((val) => val.id);
  if (!raw_nodes_map) {
    this.node_state.replace([]);
    this.node_state.selectNodes([]);
    return;
  }
  const nodes = Array.from(
    //@ts-ignore
    this.current_canvas_leaf.view.canvas.nodes,
    //@ts-ignore
    ([key, val]) => {
      const node = raw_nodes_map.get(key);
      return {
        id: key,
        title: (node == null ? void 0 : node.title) || "Untitled",
        description: (node == null ? void 0 : node.description) || "",
        selected: selection.includes(key),
        container: val.nodeEl,
        type: (node == null ? void 0 : node.type) || "",
        extension: (node == null ? void 0 : node.extension) || "",
        created_at: (node == null ? void 0 : node.created_at) || 0,
        last_modified: (node == null ? void 0 : node.last_modified) || 0
      };
    }
  );
  this.node_state.replace(nodes);
  this.node_state.selectNodes(selection);
};
_extractNodeData = new WeakSet();
extractNodeData_fn = function(canvas) {
  const raw_node_map = /* @__PURE__ */ new Map();
  if (!canvas)
    return raw_node_map;
  const data = canvas.data.nodes;
  const stats = canvas.nodes;
  for (const el of data) {
    const file_stats = stats.get(el.id).file;
    raw_node_map.set(el.id, {
      id: el.id,
      title: el.title || __privateMethod(this, _createTitle, createTitle_fn).call(this, el.text, el.file, el.label, el.url),
      description: el.description || "",
      type: el.type,
      extension: el.file ? el.file.split(".").pop() || "" : "",
      created_at: file_stats ? file_stats.stat.ctime : 0,
      last_modified: file_stats ? file_stats.stat.mtime : 0,
      selected: false,
      container: null
    });
  }
  return raw_node_map;
};
_createTitle = new WeakSet();
createTitle_fn = function(text, file, label, url) {
  if (file != void 0)
    return (file == null ? void 0 : file.split("/").pop()) || "Untitled";
  return text || label || url || "Untitled";
};
/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/static.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/live.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/style-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpdCtyZWFjdGl2ZS1lbGVtZW50QDIuMC40L25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvc3JjL2Nzcy10YWcudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaXQrcmVhY3RpdmUtZWxlbWVudEAyLjAuNC9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L3NyYy9yZWFjdGl2ZS1lbGVtZW50LnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9saXQtaHRtbEAzLjEuMi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL2xpdC1odG1sLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9saXQtZWxlbWVudEA0LjAuNC9ub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvc3JjL2xpdC1lbGVtZW50LnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay43RFVDSTVTNC5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK2xvY2FsaXplQDMuMS4yL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvbG9jYWxpemUvZGlzdC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuTUFTMlNIWUQuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLldMVjNGVkJSLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay5UVVZKS1k3Uy5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuSUZEV002UDQuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaXQrcmVhY3RpdmUtZWxlbWVudEAyLjAuNC9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L3NyYy9kZWNvcmF0b3JzL3Byb3BlcnR5LnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGl0K3JlYWN0aXZlLWVsZW1lbnRAMi4wLjQvbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9zcmMvZGVjb3JhdG9ycy9zdGF0ZS50cyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpdCtyZWFjdGl2ZS1lbGVtZW50QDIuMC40L25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvc3JjL2RlY29yYXRvcnMvZXZlbnQtb3B0aW9ucy50cyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpdCtyZWFjdGl2ZS1lbGVtZW50QDIuMC40L25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvc3JjL2RlY29yYXRvcnMvYmFzZS50cyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpdCtyZWFjdGl2ZS1lbGVtZW50QDIuMC40L25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvc3JjL2RlY29yYXRvcnMvcXVlcnkudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLlNGU1RYQ1hDLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay5SQURLNFVYVS5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuS1dQQkRRNkkuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLkhMRFUzWlBILmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay5OWUlJRFA1Ti5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuM1k2U0I2UVMuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLlA3Wkc2RU1SLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay4zVEZLUzYzNy5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuWkw1M1BPS1ouanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLlFMWFJDWVM0LmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay4yRkI1VEs1SC5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vbGl0LWh0bWxAMy4xLjIvbm9kZV9tb2R1bGVzL2xpdC1odG1sL3NyYy9kaXJlY3RpdmUtaGVscGVycy50cyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuSDMzQzNNUk0uanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2xpdC1odG1sQDMuMS4yL25vZGVfbW9kdWxlcy9saXQtaHRtbC9zcmMvZGlyZWN0aXZlLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9saXQtaHRtbEAzLjEuMi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL2RpcmVjdGl2ZXMvY2xhc3MtbWFwLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9saXQtaHRtbEAzLjEuMi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL3N0YXRpYy50cyIsICJub2RlX21vZHVsZXMvLnBucG0vbGl0LWh0bWxAMy4xLjIvbm9kZV9tb2R1bGVzL2xpdC1odG1sL3NyYy9kaXJlY3RpdmVzL2lmLWRlZmluZWQudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLjVTVUdKNEVCLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay43WElDM1BRRS5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuTFhQN0dWVTMuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLkxYRFRGTFdVLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay4zS1NXVkJRNS5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGZsb2F0aW5nLXVpK3V0aWxzQDAuMi4xL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvdXRpbHMvZGlzdC9mbG9hdGluZy11aS51dGlscy5tanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BmbG9hdGluZy11aStjb3JlQDEuNi4wL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvY29yZS9kaXN0L2Zsb2F0aW5nLXVpLmNvcmUubWpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AZmxvYXRpbmctdWkrdXRpbHNAMC4yLjEvbm9kZV9tb2R1bGVzL0BmbG9hdGluZy11aS91dGlscy9kaXN0L2Zsb2F0aW5nLXVpLnV0aWxzLmRvbS5tanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BmbG9hdGluZy11aStkb21AMS42LjMvbm9kZV9tb2R1bGVzL0BmbG9hdGluZy11aS9kb20vZGlzdC9mbG9hdGluZy11aS5kb20ubWpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9jb21wb3NlZC1vZmZzZXQtcG9zaXRpb25AMC4wLjQvbm9kZV9tb2R1bGVzL2NvbXBvc2VkLW9mZnNldC1wb3NpdGlvbi9kaXN0L2NvbXBvc2VkLW9mZnNldC1wb3NpdGlvbi5icm93c2VyLm1pbi5tanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLlNVV0tSRFhQLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay5ESFU2TUlWQi5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuQjRCWktSMjQuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLkxISTZRRUwyLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay5GTFlURllHQy5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuT0pGRkRZRzQuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLjIyTTQyUVlTLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay5HR1Q3Mko2Mi5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuR0k3VkRJV1guanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLlNJNEFDQkZLLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9saXQtaHRtbEAzLjEuMi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL2RpcmVjdGl2ZXMvbGl2ZS50cyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuUFNNWElGMlQuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLjNNTTZCQVRPLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay5YMldXMlRXSi5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuSEY3R0VTTVouanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2xpdC1odG1sQDMuMS4yL25vZGVfbW9kdWxlcy9saXQtaHRtbC9zcmMvZGlyZWN0aXZlcy9zdHlsZS1tYXAudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2xpdC1odG1sQDMuMS4yL25vZGVfbW9kdWxlcy9saXQtaHRtbC9zcmMvZGlyZWN0aXZlcy91bnNhZmUtaHRtbC50cyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuR1BRVFlTM0QuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLjVBWklWR0o3LmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay5HNFhJQUNUVC5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuQlRFTlI0QkkuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLjZJMlQzRExJLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay5XUTRMQUFQNC5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuWkJWVlVZRVYuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLlBZV042RVMyLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay5CUVNFSkQ3WC5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuSkJKUUhJWEsuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLjdTRVNXS0pMLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9Ac2hvZWxhY2Utc3R5bGUrc2hvZWxhY2VAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL0BzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NodW5rcy9jaHVuay5QNkpFNjZZSi5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQHNob2VsYWNlLXN0eWxlK3Nob2VsYWNlQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9Ac2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jaHVua3MvY2h1bmsuSzRUUEdQUDMuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BzaG9lbGFjZS1zdHlsZStzaG9lbGFjZUAyLjE1LjBfQHR5cGVzK3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY2h1bmtzL2NodW5rLkRVMkFERFRRLmpzIiwgImlvL2ZpbGVIYW5kbGVyLnRzIiwgImRvbS9oYW5kbGVyLnRzIiwgIm5vZGVzL25vZGVzLnRzIiwgInNwZWNpZmljYXRpb24vaW5kZXgudHMiLCAib2JzZXJ2ZXJzL29ic2VydmVyLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgXCJAc2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jb21wb25lbnRzL2J1dHRvbi9idXR0b24uanNcIjtcclxuaW1wb3J0IFwiQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY29tcG9uZW50cy9kcm9wZG93bi9kcm9wZG93bi5qc1wiO1xyXG5pbXBvcnQgXCJAc2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jb21wb25lbnRzL2ljb24vaWNvbi5qc1wiO1xyXG5pbXBvcnQgXCJAc2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jb21wb25lbnRzL2lucHV0L2lucHV0LmpzXCI7XHJcbmltcG9ydCBcIkBzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NvbXBvbmVudHMvcmF0aW5nL3JhdGluZy5qc1wiO1xyXG5pbXBvcnQgXCJAc2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC9jb21wb25lbnRzL3RhYi1ncm91cC90YWItZ3JvdXAuanNcIjtcclxuaW1wb3J0IFwiQHNob2VsYWNlLXN0eWxlL3Nob2VsYWNlL2Rpc3QvY29tcG9uZW50cy90YWItcGFuZWwvdGFiLXBhbmVsLmpzXCI7XHJcbmltcG9ydCBcIkBzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9kaXN0L2NvbXBvbmVudHMvdGFiL3RhYi5qc1wiO1xyXG5pbXBvcnQgXCJAc2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvZGlzdC90aGVtZXMvbGlnaHQuY3NzXCI7XHJcbmltcG9ydCB7IEl0ZW1WaWV3LCBQbHVnaW4sIFRGaWxlLCBXb3Jrc3BhY2VMZWFmLCBkZWJvdW5jZSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuaW1wb3J0IHsgRE9NSGFuZGxlciB9IGZyb20gXCJkb20vaGFuZGxlclwiO1xyXG5pbXBvcnQgeyBGU1dhdGNoZXIsIHdhdGNoIH0gZnJvbSBcImZzXCI7XHJcbmltcG9ydCB7IENyYWZ0eU5vZGUsIEZJTEVfVFlQRSwgTk9ERV9UWVBFIH0gZnJvbSBcIm5vZGVzL25vZGVzXCI7XHJcbmltcG9ydCB7XHJcblx0QXR0cmlidXRlT2JzZXJ2ZXIsXHJcblx0Tm9kZUZpbHRlck9ic2VydmVyLFxyXG5cdE5vZGVPYnNlcnZlcixcclxuXHROb2Rlc0ZpbHRlclN0YXRlLFxyXG5cdE5vZGVzU3RhdGUsXHJcbn0gZnJvbSBcIm9ic2VydmVycy9vYnNlcnZlclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRSA9IFwiY3JhZnR5LXBsdWdpblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xyXG5cdGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYpIHtcclxuXHRcdHN1cGVyKGxlYWYpO1xyXG5cdH1cclxuXHJcblx0Z2V0Vmlld1R5cGUoKSB7XHJcblx0XHRyZXR1cm4gVklFV19UWVBFO1xyXG5cdH1cclxuXHJcblx0Z2V0RGlzcGxheVRleHQoKSB7XHJcblx0XHRyZXR1cm4gXCJDcmFmdHlcIjtcclxuXHR9XHJcblxyXG5cdCNzZXRCYXNlTGF5b3V0KCkge1xyXG5cdFx0Y29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcclxuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xyXG5cdFx0Y29uc3QgdGFiR3JvdXAgPSBjb250YWluZXIuY3JlYXRlRWwoXCJzbC10YWItZ3JvdXBcIiwge1xyXG5cdFx0XHRjbHM6IFtcInNpZGUtYmFyLW5hdlwiXSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IHRhYnMgPSBbXTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IHRhYiBvZiBbXCJFZGl0XCIsIFwiTm9kZXNcIl0pIHtcclxuXHRcdFx0Y29uc3QgdGIgPSB0YWJHcm91cC5jcmVhdGVFbChcInNsLXRhYlwiLCB7XHJcblx0XHRcdFx0dGV4dDogdGFiLFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dGIuc2V0QXR0cnMoeyBzbG90OiBcIm5hdlwiLCBwYW5lbDogdGFiIH0pO1xyXG5cdFx0XHR0YWJzLnB1c2godGIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vTm9kZXMgdGFiXHJcblx0XHRjb25zdCBub2RlX2xpc3QgPSB0YWJHcm91cC5jcmVhdGVFbChcInNsLXRhYi1wYW5lbFwiLCB7XHJcblx0XHRcdGF0dHI6IHtcclxuXHRcdFx0XHRuYW1lOiBcIk5vZGVzXCIsXHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCBub2Rlc19wYW5lbCA9IG5vZGVfbGlzdC5jcmVhdGVFbChcImRpdlwiLCB7XHJcblx0XHRcdGF0dHI6IHsgY2xhc3M6IFwibm9kZXMtcGFuZWwgXCIgfSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IHNlYXJjaF9hcmVhID0gbm9kZXNfcGFuZWwuY3JlYXRlRWwoXCJkaXZcIiwge1xyXG5cdFx0XHRhdHRyOiB7IGNsYXNzOiBcInNlYXJjaC1hcmVhXCIgfSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IHNlYXJjaF9iYXJfcm93ID0gY3JlYXRlRWwoXCJkaXZcIiwge1xyXG5cdFx0XHRhdHRyOiB7IGNsYXNzOiBcInNlYXJjaC1iYXItcm93XCIgfSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IGZpbHRlcl9yb3cgPSBjcmVhdGVFbChcImRpdlwiLCB7XHJcblx0XHRcdGF0dHI6IHsgY2xhc3M6IFwiZmlsdGVyLXJvd1wiIH0sXHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCBzZWFyY2hfYmFyID0gRE9NSGFuZGxlci5nZXRTZWFyY2hCYXIoKTtcclxuXHRcdGNvbnN0IHNvcnRfYnV0dG9uID0gRE9NSGFuZGxlci5nZXRTb3J0QnV0dG9uKCk7XHJcblx0XHRzZWFyY2hfYmFyX3Jvdy5hcHBlbmRDaGlsZChzZWFyY2hfYmFyKTtcclxuXHRcdHNlYXJjaF9iYXJfcm93LmFwcGVuZENoaWxkKHNvcnRfYnV0dG9uKTtcclxuXHJcblx0XHRjb25zdCBmaWx0ZXJzX2NvbnRhaW5lciA9IERPTUhhbmRsZXIuZ2V0RmlsdGVyc0NvbnRhaW5lcigpO1xyXG5cdFx0ZmlsdGVyX3Jvdy5hcHBlbmRDaGlsZChmaWx0ZXJzX2NvbnRhaW5lcik7XHJcblxyXG5cdFx0c2VhcmNoX2FyZWEuYXBwZW5kQ2hpbGQoc2VhcmNoX2Jhcl9yb3cpO1xyXG5cdFx0c2VhcmNoX2FyZWEuYXBwZW5kQ2hpbGQoZmlsdGVyX3Jvdyk7XHJcblxyXG5cdFx0Y29uc3Qgbm9kZXNfY29udGFpbmVyID0gRE9NSGFuZGxlci5nZXROb2Rlc0NvbnRhaW5lcigpO1xyXG5cdFx0bm9kZXNfcGFuZWwuYXBwZW5kQ2hpbGQobm9kZXNfY29udGFpbmVyKTtcclxuXHJcblx0XHQvL0VkaXQgdGFiXHJcblx0XHRjb25zdCBlZGl0X3BhbmVsID0gdGFiR3JvdXAuY3JlYXRlRWwoXCJzbC10YWItcGFuZWxcIiwge1xyXG5cdFx0XHRhdHRyOiB7XHJcblx0XHRcdFx0bmFtZTogXCJFZGl0XCIsXHJcblx0XHRcdFx0Y2xhc3M6IFwiZGVzY3JpcHRpb24tYm9keVwiLFxyXG5cdFx0XHR9LFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gRWRpdCBOb2RlIFRpdGxlXHJcblx0XHRjb25zdCBlZGl0X2hlYWRlciA9IGVkaXRfcGFuZWwuY3JlYXRlRWwoXCJkaXZcIiwge1xyXG5cdFx0XHRhdHRyOiB7IGNsYXNzOiBcImRlc2NyaXB0aW9uLWhlYWRlci1kaXZcIiB9LFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3QgZWRpdF9oZWFkZXJfZGlzcGxheSA9IERPTUhhbmRsZXIuZ2V0VGl0bGVEaXNwbGF5KCk7XHJcblx0XHRjb25zdCBlZGl0X2hlYWRlcl9pbnB1dCA9IERPTUhhbmRsZXIuZ2V0VGl0bGVJbnB1dCgpO1xyXG5cdFx0ZWRpdF9oZWFkZXIuYXBwZW5kQ2hpbGQoZWRpdF9oZWFkZXJfZGlzcGxheSk7XHJcblx0XHRlZGl0X2hlYWRlci5hcHBlbmRDaGlsZChlZGl0X2hlYWRlcl9pbnB1dCk7XHJcblxyXG5cdFx0Ly8gRWRpdCBOb2RlIERlc2NyaXB0aW9uXHJcblx0XHRjb25zdCB0ZXh0X2FyZWEgPSBET01IYW5kbGVyLmdldFRleHRBcmVhKCk7XHJcblx0XHRjb25zdCBzYXZlX3N0YXRlID0gRE9NSGFuZGxlci5nZXRTYXZlU3RhdGUoKTtcclxuXHRcdGVkaXRfcGFuZWwuYXBwZW5kQ2hpbGQodGV4dF9hcmVhKTtcclxuXHRcdGVkaXRfcGFuZWwuYXBwZW5kQ2hpbGQoc2F2ZV9zdGF0ZSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbk9wZW4oKSB7XHJcblx0XHR0aGlzLiNzZXRCYXNlTGF5b3V0KCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbkNsb3NlKCkge1xyXG5cdFx0RE9NSGFuZGxlci5mcmVlKCk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDcmFmdHkgZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHByaXZhdGUgYXR0X29ic2VydmVyOiBBdHRyaWJ1dGVPYnNlcnZlciB8IG51bGwgPSBudWxsO1xyXG5cdHByaXZhdGUgZmlsZV93YXRjaGVyOiBGU1dhdGNoZXIgfCBudWxsID0gbnVsbDtcclxuXHJcblx0cHJpdmF0ZSBub2RlX3N0YXRlOiBOb2Rlc1N0YXRlIHwgbnVsbCA9IG51bGw7XHJcblx0cHJpdmF0ZSBub2RlX2ZpbHRlcl9zdGF0ZTogTm9kZXNGaWx0ZXJTdGF0ZSB8IG51bGwgPSBudWxsO1xyXG5cdHByaXZhdGUgY3VycmVudF9maWxlOiBURmlsZTtcclxuXHRwcml2YXRlIGN1cnJlbnRfY2FudmFzX2xlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcclxuXHJcblx0R0xPQkFMX0NEID0gMTAwO1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHR0aGlzLm5vZGVfc3RhdGUgPSBuZXcgTm9kZXNTdGF0ZSgpO1xyXG5cdFx0dGhpcy5hdHRfb2JzZXJ2ZXIgPSBuZXcgQXR0cmlidXRlT2JzZXJ2ZXIoKTtcclxuXHRcdHRoaXMucmVnaXN0ZXJWaWV3KFZJRVdfVFlQRSwgKGxlYWYpID0+IG5ldyBCYXNlVmlldyhsZWFmKSk7XHJcblx0XHR0aGlzLm5vZGVfc3RhdGUgPSBuZXcgTm9kZXNTdGF0ZSgpO1xyXG5cdFx0dGhpcy5ub2RlX2ZpbHRlcl9zdGF0ZSA9IG5ldyBOb2Rlc0ZpbHRlclN0YXRlKCk7XHJcblx0XHRET01IYW5kbGVyLnNldENyYWZ0eUluc3RhbmNlKHRoaXMpO1xyXG5cdFx0Ly9pbml0aWFsIHNldHVwXHJcblx0XHR0aGlzLiN1cGRhdGVDdXJyZW50RmlsZSgpO1xyXG5cclxuXHRcdC8vIEZpbHRlciBub2Rlc1xyXG5cdFx0Y29uc3QgZmlsdGVyX2xpc3RlbmVyID0gbmV3IE5vZGVGaWx0ZXJPYnNlcnZlcigoZmlsdGVycykgPT4ge1xyXG5cdFx0XHRjb25zdCBmaWx0ZXJzX2Rpc3BsYXkgPSBET01IYW5kbGVyLmdldEZpbHRlcnNEaXNwbGF5KCk7XHJcblx0XHRcdGNvbnN0IGJhZGdlcyA9IGZpbHRlcnNfZGlzcGxheS5xdWVyeVNlbGVjdG9yQWxsKFxyXG5cdFx0XHRcdFwiLmZpbHRlci1tZW51LWJhZGdlLWRpc3BsYXlcIlxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdGZvciAoY29uc3QgYmFkZ2Ugb2YgYmFkZ2VzKSB7XHJcblx0XHRcdFx0YmFkZ2UuY2xhc3NMaXN0LnJlbW92ZShcImJhZGdlLWRpc3BsYXktYWN0aXZlXCIpO1xyXG5cdFx0XHRcdGNvbnN0IHNwYW4gPSBiYWRnZS5xdWVyeVNlbGVjdG9yKFwic3BhblwiKSBhcyBIVE1MU3BhbkVsZW1lbnQ7XHJcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSBzcGFuLmdldFRleHQoKTtcclxuXHRcdFx0XHRjb25zdCBmaWx0ZXIgPSBmaWx0ZXJzLmZpbmQoKHZhbCkgPT4gdmFsLnRpdGxlID09IHZhbHVlKTtcclxuXHRcdFx0XHRpZiAoZmlsdGVyICYmIGZpbHRlci5pc0FjdGl2ZSlcclxuXHRcdFx0XHRcdGJhZGdlLmNsYXNzTGlzdC5hZGQoXCJiYWRnZS1kaXNwbGF5LWFjdGl2ZVwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHRoaXMubm9kZVN0YXRlKSB7XHJcblx0XHRcdFx0dGhpcy5ub2RlU3RhdGUuc2V0RmlsdGVycyhcclxuXHRcdFx0XHRcdGZpbHRlcnMuZmlsdGVyKCh2YWwpID0+IHZhbC5pc0FjdGl2ZSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBVcGRhdGUgdG9vbHRpcFxyXG5cdFx0Y29uc3QgZGVzY3JpcHRpb25fbGlzdGVuZXIgPSBuZXcgTm9kZU9ic2VydmVyKFxyXG5cdFx0XHRkZWJvdW5jZShcclxuXHRcdFx0XHQobm9kZXMpID0+IHtcclxuXHRcdFx0XHRcdGlmICghdGhpcy5ub2RlX3N0YXRlKSByZXR1cm47XHJcblx0XHRcdFx0XHRjb25zdCBhbGxfbm9kZXMgPSB0aGlzLm5vZGVfc3RhdGUuYWxsTm9kZXM7XHJcblxyXG5cdFx0XHRcdFx0Zm9yIChjb25zdCBub2RlIG9mIGFsbF9ub2Rlcykge1xyXG5cdFx0XHRcdFx0XHRpZiAoIW5vZGUuY29udGFpbmVyKSBjb250aW51ZTtcclxuXHRcdFx0XHRcdFx0aWYgKG5vZGUuZGVzY3JpcHRpb24gIT0gXCJcIikge1xyXG5cdFx0XHRcdFx0XHRcdG5vZGUuY29udGFpbmVyLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XHRcdFx0XHRcdFwiYXJpYS1sYWJlbFwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0YCR7bm9kZS5kZXNjcmlwdGlvbn1gXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRub2RlLmNvbnRhaW5lcj8ucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0dGhpcy5HTE9CQUxfQ0QsXHJcblx0XHRcdFx0dHJ1ZVxyXG5cdFx0XHQpXHJcblx0XHQpO1xyXG5cclxuXHRcdC8vIFVwZGF0ZSBzaWRlYmFyIG5vZGVzXHJcblx0XHRjb25zdCBzaWRlYmFyX25vZGVfbGlzdGVuZXIgPSBuZXcgTm9kZU9ic2VydmVyKFxyXG5cdFx0XHRkZWJvdW5jZShcclxuXHRcdFx0XHQobm9kZXMpID0+IHtcclxuXHRcdFx0XHRcdERPTUhhbmRsZXIucG9wdWxhdGVOb2Rlcyhub2Rlcyk7XHJcblx0XHRcdFx0XHRpZiAoIXRoaXMuYXR0X29ic2VydmVyKSByZXR1cm47XHJcblx0XHRcdFx0XHR0aGlzLmF0dF9vYnNlcnZlci5vYnNlcnZlKFxyXG5cdFx0XHRcdFx0XHR0aGlzLmN1cnJlbnRfY2FudmFzX2xlYWYsXHJcblx0XHRcdFx0XHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHRcdFx0XHR0aGlzLm5vZGVfc3RhdGVcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR0aGlzLkdMT0JBTF9DRCxcclxuXHRcdFx0XHR0cnVlXHJcblx0XHRcdClcclxuXHRcdCk7XHJcblxyXG5cdFx0Ly8gVXBkYXRlIHNpZGViYXIgZGVzY3JpcHRpb25cclxuXHRcdGNvbnN0IHNpZGViYXJfZGVzY3JpcHRpb25fbGlzdGVuZXIgPSBuZXcgTm9kZU9ic2VydmVyKFxyXG5cdFx0XHRkZWJvdW5jZShcclxuXHRcdFx0XHQobm9kZXMpID0+IHtcclxuXHRcdFx0XHRcdGlmICghdGhpcy5ub2RlX3N0YXRlKSByZXR1cm47XHJcblx0XHRcdFx0XHRpZiAoIXRoaXMubm9kZV9zdGF0ZS5zZWxlY3RlZE5vZGUpXHJcblx0XHRcdFx0XHRcdERPTUhhbmRsZXIuc2hvd0VtcHR5RWRpdCgpO1xyXG5cdFx0XHRcdFx0ZWxzZSBET01IYW5kbGVyLnNob3dTZWxlY3RlZE5vZGUoKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHRoaXMuR0xPQkFMX0NELFxyXG5cdFx0XHRcdHRydWVcclxuXHRcdFx0KVxyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLm5vZGVfc3RhdGUucmVnaXN0ZXJPYnNlcnZlcihkZXNjcmlwdGlvbl9saXN0ZW5lcik7XHJcblx0XHR0aGlzLm5vZGVfc3RhdGUucmVnaXN0ZXJPYnNlcnZlcihzaWRlYmFyX25vZGVfbGlzdGVuZXIpO1xyXG5cdFx0dGhpcy5ub2RlX3N0YXRlLnJlZ2lzdGVyT2JzZXJ2ZXIoc2lkZWJhcl9kZXNjcmlwdGlvbl9saXN0ZW5lcik7XHJcblxyXG5cdFx0dGhpcy5ub2RlX2ZpbHRlcl9zdGF0ZS5yZWdpc3Rlck9ic2VydmVyKGZpbHRlcl9saXN0ZW5lcik7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJhY3RpdmUtbGVhZi1jaGFuZ2VcIiwgKGxlYWYpID0+IHtcclxuXHRcdFx0XHRpZiAoIWxlYWYpIHJldHVybjtcclxuXHRcdFx0XHRjb25zdCB2aWV3X3N0YXRlID0gbGVhZi5nZXRWaWV3U3RhdGUoKTtcclxuXHRcdFx0XHRpZiAodmlld19zdGF0ZS50eXBlICE9IFwiY2FudmFzXCIpIHJldHVybjtcclxuXHRcdFx0XHRpZiAobGVhZiA9PSB0aGlzLmN1cnJlbnRfY2FudmFzX2xlYWYpIHJldHVybjtcclxuXHRcdFx0XHR0aGlzLiN1cGRhdGVDdXJyZW50RmlsZSgpO1xyXG5cdFx0XHRcdHRoaXMuI3VwZGF0ZUN1cnJlbnRMZWFmKG51bGwpO1xyXG5cdFx0XHRcdHRoaXMuI3RyYWNrRmlsZUNoYW5nZShudWxsKTtcclxuXHRcdFx0XHRpZiAodGhpcy5jdXJyZW50X2ZpbGUuZXh0ZW5zaW9uID09IFwiY2FudmFzXCIpIHRoaXMuI3N5bmNOb2RlcygpO1xyXG5cdFx0XHRcdHRoaXMuYXR0X29ic2VydmVyPy5vYnNlcnZlKFxyXG5cdFx0XHRcdFx0dGhpcy5jdXJyZW50X2NhbnZhc19sZWFmLFxyXG5cdFx0XHRcdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdFx0XHR0aGlzLm5vZGVfc3RhdGVcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9KVxyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImxheW91dC1jaGFuZ2VcIiwgKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuI3VwZGF0ZUN1cnJlbnRGaWxlKCk7XHJcblx0XHRcdFx0dGhpcy4jdXBkYXRlQ3VycmVudExlYWYobnVsbCk7XHJcblx0XHRcdFx0dGhpcy4jdHJhY2tGaWxlQ2hhbmdlKG51bGwpO1xyXG5cclxuXHRcdFx0XHRpZiAodGhpcy5jdXJyZW50X2ZpbGUuZXh0ZW5zaW9uID09IFwiY2FudmFzXCIpIHtcclxuXHRcdFx0XHRcdHRoaXMuI3N5bmNOb2RlcygpO1xyXG5cdFx0XHRcdFx0dGhpcy5hdHRfb2JzZXJ2ZXI/Lm9ic2VydmUoXHJcblx0XHRcdFx0XHRcdHRoaXMuY3VycmVudF9jYW52YXNfbGVhZixcclxuXHRcdFx0XHRcdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdFx0XHRcdHRoaXMubm9kZV9zdGF0ZVxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdERPTUhhbmRsZXIuc2hvd1NlbGVjdGVkTm9kZSgpO1xyXG5cdFx0XHRcdFx0RE9NSGFuZGxlci5zaG93Tm9kZXMoKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0RE9NSGFuZGxlci5zaG93RW1wdHlFZGl0KCk7XHJcblx0XHRcdFx0XHRET01IYW5kbGVyLnNob3dFbXB0eU5vZGVzKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogXCJuZXh0LW5vZGVcIixcclxuXHRcdFx0bmFtZTogXCJOZXh0IG5vZGVcIixcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHRpZiAoIXRoaXMubm9kZV9zdGF0ZSkgcmV0dXJuO1xyXG5cdFx0XHRcdERPTUhhbmRsZXIuaGlkZVRpdGxlKCk7XHJcblx0XHRcdFx0dGhpcy5ub2RlX3N0YXRlLm5leHQoKTtcclxuXHRcdFx0fSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiBcInByZXYtbm9kZVwiLFxyXG5cdFx0XHRuYW1lOiBcIlByZXYgbm9kZVwiLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0XHRcdGlmICghdGhpcy5ub2RlX3N0YXRlKSByZXR1cm47XHJcblx0XHRcdFx0RE9NSGFuZGxlci5oaWRlVGl0bGUoKTtcclxuXHRcdFx0XHR0aGlzLm5vZGVfc3RhdGUucHJldmlvdXMoKTtcclxuXHRcdFx0fSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiBcInNob3ctcGFuZWxcIixcclxuXHRcdFx0bmFtZTogXCJTaG93IFBhbmVsXCIsXHJcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdFx0Y29uc3QgcmlnaHRTcGxpdCA9IHRoaXMuYXBwLndvcmtzcGFjZS5yaWdodFNwbGl0O1xyXG5cdFx0XHRcdGNvbnN0IHNpZGViYXJfbGVhZiA9IHRoaXMuc2lkZWJhckxlYWY7XHJcblxyXG5cdFx0XHRcdGlmIChyaWdodFNwbGl0LmNvbGxhcHNlZCB8fCAhc2lkZWJhcl9sZWFmKSB7XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoKTtcclxuXHRcdFx0XHRcdH0sIDUwKTtcclxuXHRcdFx0XHRcdGlmIChyaWdodFNwbGl0LmNvbGxhcHNlZCkgcmlnaHRTcGxpdC5leHBhbmQoKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5jbG9zZVZpZXcoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogU2hvdyBzaWRlYmFyXHJcblx0ICovXHJcblx0YXN5bmMgYWN0aXZhdGVWaWV3KCkge1xyXG5cdFx0Y29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwO1xyXG5cclxuXHRcdGxldCBsZWFmOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCA9IG51bGw7XHJcblx0XHRjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRSk7XHJcblxyXG5cdFx0aWYgKGxlYXZlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGxlYWYgPSBsZWF2ZXNbMF07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XHJcblx0XHRcdGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHsgdHlwZTogVklFV19UWVBFLCBhY3RpdmU6IHRydWUgfSk7XHJcblx0XHR9XHJcblx0XHR3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcclxuXHRcdHRoaXMuI3VwZGF0ZUN1cnJlbnRGaWxlKCk7XHJcblx0XHR0aGlzLiN1cGRhdGVDdXJyZW50TGVhZihudWxsKTtcclxuXHRcdHRoaXMuI3RyYWNrRmlsZUNoYW5nZShudWxsKTtcclxuXHRcdHRoaXMuI3N5bmNOb2RlcygpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogSGlkZSBzaWRlYmFyXHJcblx0ICovXHJcblx0YXN5bmMgY2xvc2VWaWV3KCkge1xyXG5cdFx0Y29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwO1xyXG5cdFx0Y29uc3QgbGVhdmVzID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEUpO1xyXG5cdFx0aWYgKGxlYXZlcy5sZW5ndGggPCAxKSByZXR1cm47XHJcblx0XHRsZWF2ZXNbMF0uZGV0YWNoKCk7XHJcblx0fVxyXG5cclxuXHRnZXQgc2lkZWJhckxlYWYoKSB7XHJcblx0XHRjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XHJcblx0XHRjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRSk7XHJcblx0XHRpZiAobGVhdmVzLmxlbmd0aCA8IDEpIHJldHVybjtcclxuXHRcdHJldHVybiBsZWF2ZXNbMF07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgY3VycmVudF9maWxlIHRvIGN1cnJlbnQgYWN0aXZlRmlsZVxyXG5cdCAqIEByZXR1cm5zIHZvaWRcclxuXHQgKi9cclxuXHQjdXBkYXRlQ3VycmVudEZpbGUoKSB7XHJcblx0XHRjb25zdCBmaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuXHRcdGlmICghZmlsZSkgcmV0dXJuO1xyXG5cdFx0dGhpcy5jdXJyZW50X2ZpbGUgPSBmaWxlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IGN1cnJlbnRfY2FudmFzX2xlYWYgdG8gbGVhZiBpZiBsZWFmIGlzIGEgY2FudmFzXHJcblx0ICogQHBhcmFtIHtXb3Jrc3BhY2VMZWFmfSBsZWFmXHJcblx0ICovXHJcblx0I3VwZGF0ZUN1cnJlbnRMZWFmKGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsKSB7XHJcblx0XHRpZiAoIWxlYWYpIHtcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLml0ZXJhdGVBbGxMZWF2ZXMoKGxlYWYpID0+IHtcclxuXHRcdFx0XHRjb25zdCB2aWV3X3N0YXRlID0gbGVhZi5nZXRWaWV3U3RhdGUoKTtcclxuXHRcdFx0XHRpZiAodmlld19zdGF0ZS50eXBlICE9IFwiY2FudmFzXCIpIHJldHVybjtcclxuXHRcdFx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdFx0XHRjb25zdCBjbGFzc0xpc3QgPSBsZWFmLmNvbnRhaW5lckVsLmNsYXNzTGlzdDtcclxuXHRcdFx0XHRpZiAoIS9tb2QtYWN0aXZlLy50ZXN0KGNsYXNzTGlzdC52YWx1ZSkpIHJldHVybjtcclxuXHRcdFx0XHR0aGlzLmN1cnJlbnRfY2FudmFzX2xlYWYgPSBsZWFmO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3Qgdmlld19zdGF0ZSA9IGxlYWYuZ2V0Vmlld1N0YXRlKCk7XHJcblx0XHRpZiAodmlld19zdGF0ZS50eXBlICE9IFwiY2FudmFzXCIpIHJldHVybjtcclxuXHRcdHRoaXMuY3VycmVudF9jYW52YXNfbGVhZiA9IGxlYWY7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBAcGFyYW0ge1RGaWxlfSBmaWxlXHJcblx0ICogVXNlIEZTV2F0Y2hlciB0byBsaXN0ZW4gZm9yIGNoYW5nZSBpbiBmaWxlXHJcblx0ICovXHJcblx0I3RyYWNrRmlsZUNoYW5nZShmaWxlOiBURmlsZSB8IG51bGwpIHtcclxuXHRcdGlmICghZmlsZSAmJiAhdGhpcy5jdXJyZW50X2ZpbGUpIHJldHVybjtcclxuXHRcdGlmICghZmlsZSkgZmlsZSA9IHRoaXMuY3VycmVudF9maWxlO1xyXG5cclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0Y29uc3QgcGF0aCA9IGAke2ZpbGUudmF1bHQuYWRhcHRlci5iYXNlUGF0aH0vJHtmaWxlLnBhdGh9YDtcclxuXHRcdGlmICh0aGlzLmZpbGVfd2F0Y2hlcikgdGhpcy5maWxlX3dhdGNoZXIuY2xvc2UoKTtcclxuXHRcdHRoaXMuZmlsZV93YXRjaGVyID0gd2F0Y2goXHJcblx0XHRcdHBhdGgsXHJcblx0XHRcdGRlYm91bmNlKGFzeW5jIChldmVudCkgPT4gdGhpcy4jc3luY05vZGVzKCksIHRoaXMuR0xPQkFMX0NEKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV4dHJhY3Qgbm9kZXMgY29udGVudCBmcm9tIGNhbnZhcyBkYXRhIGFuZCB1cGRhdGUgdGhlIGN1cnJlbnQgdGhlIE5vZGVzU3RhdGUuXHJcblx0ICogQHJldHVybnNcclxuXHQgKi9cclxuXHQjc3luY05vZGVzKCkge1xyXG5cdFx0aWYgKFxyXG5cdFx0XHQhdGhpcy5jdXJyZW50X2NhbnZhc19sZWFmIHx8XHJcblx0XHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHQhdGhpcy5jdXJyZW50X2NhbnZhc19sZWFmLnZpZXcuY2FudmFzXHJcblx0XHQpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy5ub2RlX3N0YXRlKSByZXR1cm47XHJcblx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdGNvbnN0IGNhbnZhc19kYXRhID0gdGhpcy5jdXJyZW50X2NhbnZhc19sZWFmLnZpZXcuY2FudmFzO1xyXG5cdFx0Y29uc3QgcmF3X25vZGVzX21hcCA9IHRoaXMuI2V4dHJhY3ROb2RlRGF0YShjYW52YXNfZGF0YSk7XHJcblxyXG5cdFx0Y29uc3Qgc2VsZWN0aW9uID0gQXJyYXkuZnJvbShcclxuXHRcdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdHRoaXMuY3VycmVudF9jYW52YXNfbGVhZi52aWV3LmNhbnZhcy5zZWxlY3Rpb25cclxuXHRcdFx0Ly9AdHMtaWdub3JlXHJcblx0XHQpLm1hcCgodmFsKSA9PiB2YWwuaWQpO1xyXG5cclxuXHRcdGlmICghcmF3X25vZGVzX21hcCkge1xyXG5cdFx0XHR0aGlzLm5vZGVfc3RhdGUucmVwbGFjZShbXSk7XHJcblx0XHRcdHRoaXMubm9kZV9zdGF0ZS5zZWxlY3ROb2RlcyhbXSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGNvbnN0IG5vZGVzID0gQXJyYXkuZnJvbShcclxuXHRcdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdHRoaXMuY3VycmVudF9jYW52YXNfbGVhZi52aWV3LmNhbnZhcy5ub2RlcyxcclxuXHRcdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdChba2V5LCB2YWxdKSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgbm9kZSA9IHJhd19ub2Rlc19tYXAuZ2V0KGtleSk7XHJcblxyXG5cdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRpZDoga2V5LFxyXG5cdFx0XHRcdFx0dGl0bGU6IG5vZGU/LnRpdGxlIHx8IFwiVW50aXRsZWRcIixcclxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBub2RlPy5kZXNjcmlwdGlvbiB8fCBcIlwiLFxyXG5cdFx0XHRcdFx0c2VsZWN0ZWQ6IHNlbGVjdGlvbi5pbmNsdWRlcyhrZXkpLFxyXG5cdFx0XHRcdFx0Y29udGFpbmVyOiB2YWwubm9kZUVsLFxyXG5cdFx0XHRcdFx0dHlwZTogKG5vZGU/LnR5cGUgfHwgXCJcIikgYXMgTk9ERV9UWVBFLFxyXG5cdFx0XHRcdFx0ZXh0ZW5zaW9uOiAobm9kZT8uZXh0ZW5zaW9uIHx8IFwiXCIpIGFzIEZJTEVfVFlQRSxcclxuXHRcdFx0XHRcdGNyZWF0ZWRfYXQ6IG5vZGU/LmNyZWF0ZWRfYXQgfHwgMCxcclxuXHRcdFx0XHRcdGxhc3RfbW9kaWZpZWQ6IG5vZGU/Lmxhc3RfbW9kaWZpZWQgfHwgMCxcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMubm9kZV9zdGF0ZS5yZXBsYWNlKG5vZGVzKTtcclxuXHRcdHRoaXMubm9kZV9zdGF0ZS5zZWxlY3ROb2RlcyhzZWxlY3Rpb24pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXh0cmFjdCBhbmQgZm9ybWF0IGlkLCB0aXRsZSBhbmQgZGVzY3JpcHRpb24gZnJvbSAgcmF3X25vZGVzXHJcblx0ICogQHBhcmFtIHJhd19ub2Rlc1xyXG5cdCAqIEByZXR1cm5zIE1hcDxzdHJpbmcsQ3JhZnR5Tm9kZT5cclxuXHQgKi9cclxuXHQjZXh0cmFjdE5vZGVEYXRhKGNhbnZhczogb2JqZWN0KSB7XHJcblx0XHRjb25zdCByYXdfbm9kZV9tYXA6IE1hcDxzdHJpbmcsIENyYWZ0eU5vZGU+ID0gbmV3IE1hcCgpO1xyXG5cdFx0aWYgKCFjYW52YXMpIHJldHVybiByYXdfbm9kZV9tYXA7XHJcblxyXG5cdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRjb25zdCBkYXRhID0gY2FudmFzLmRhdGEubm9kZXM7XHJcblxyXG5cdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRjb25zdCBzdGF0cyA9IGNhbnZhcy5ub2RlcztcclxuXHJcblx0XHRmb3IgKGNvbnN0IGVsIG9mIGRhdGEpIHtcclxuXHRcdFx0Y29uc3QgZmlsZV9zdGF0cyA9IHN0YXRzLmdldChlbC5pZCkuZmlsZTtcclxuXHJcblx0XHRcdHJhd19ub2RlX21hcC5zZXQoZWwuaWQsIHtcclxuXHRcdFx0XHRpZDogZWwuaWQsXHJcblx0XHRcdFx0dGl0bGU6XHJcblx0XHRcdFx0XHRlbC50aXRsZSB8fFxyXG5cdFx0XHRcdFx0dGhpcy4jY3JlYXRlVGl0bGUoZWwudGV4dCwgZWwuZmlsZSwgZWwubGFiZWwsIGVsLnVybCksXHJcblx0XHRcdFx0ZGVzY3JpcHRpb246IGVsLmRlc2NyaXB0aW9uIHx8IFwiXCIsXHJcblx0XHRcdFx0dHlwZTogZWwudHlwZSxcclxuXHRcdFx0XHRleHRlbnNpb246IGVsLmZpbGUgPyBlbC5maWxlLnNwbGl0KFwiLlwiKS5wb3AoKSB8fCBcIlwiIDogXCJcIixcclxuXHRcdFx0XHRjcmVhdGVkX2F0OiBmaWxlX3N0YXRzID8gZmlsZV9zdGF0cy5zdGF0LmN0aW1lIDogMCxcclxuXHRcdFx0XHRsYXN0X21vZGlmaWVkOiBmaWxlX3N0YXRzID8gZmlsZV9zdGF0cy5zdGF0Lm10aW1lIDogMCxcclxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXHJcblx0XHRcdFx0Y29udGFpbmVyOiBudWxsLFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByYXdfbm9kZV9tYXA7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgZGVmYXVsdCB0aWxlIGZvciBub2Rlcy5cclxuXHQgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gdGV4dFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBmaWxlXHJcblx0ICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IGxhYmVsXHJcblx0ICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IHVybFxyXG5cdCAqIEByZXR1cm5zXHJcblx0ICovXHJcblx0I2NyZWF0ZVRpdGxlKFxyXG5cdFx0dGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkLFxyXG5cdFx0ZmlsZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxyXG5cdFx0bGFiZWw6IHN0cmluZyB8IHVuZGVmaW5lZCxcclxuXHRcdHVybDogc3RyaW5nIHwgdW5kZWZpbmVkXHJcblx0KSB7XHJcblx0XHRpZiAoZmlsZSAhPSB1bmRlZmluZWQpIHJldHVybiBmaWxlPy5zcGxpdChcIi9cIikucG9wKCkgfHwgXCJVbnRpdGxlZFwiO1xyXG5cdFx0cmV0dXJuIHRleHQgfHwgbGFiZWwgfHwgdXJsIHx8IFwiVW50aXRsZWRcIjtcclxuXHR9XHJcblxyXG5cdGdldEZpbGVPYnNlcnZlcigpOiBGU1dhdGNoZXIgfCBudWxsIHtcclxuXHRcdHJldHVybiB0aGlzLmZpbGVfd2F0Y2hlcjtcclxuXHR9XHJcblxyXG5cdGdldEF0dHJpYnV0ZU9ic2VydmVyKCk6IEF0dHJpYnV0ZU9ic2VydmVyIHwgbnVsbCB7XHJcblx0XHRyZXR1cm4gdGhpcy5hdHRfb2JzZXJ2ZXI7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHRcdGlmICh0aGlzLmZpbGVfd2F0Y2hlcikgdGhpcy5maWxlX3dhdGNoZXIuY2xvc2UoKTtcclxuXHRcdGlmICh0aGlzLmF0dF9vYnNlcnZlcikgdGhpcy5hdHRfb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG5cdFx0RE9NSGFuZGxlci5mcmVlKCk7XHJcblx0fVxyXG5cclxuXHRnZXQgdmF1bHQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5hcHAudmF1bHQ7XHJcblx0fVxyXG5cclxuXHRnZXQgc2VsZWN0ZWROb2RlKCkge1xyXG5cdFx0aWYgKCF0aGlzLm5vZGVfc3RhdGUpIHJldHVybiBudWxsO1xyXG5cdFx0cmV0dXJuIHRoaXMubm9kZV9zdGF0ZS5zZWxlY3RlZE5vZGU7XHJcblx0fVxyXG5cclxuXHRnZXQgY3VycmVudEZpbGUoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jdXJyZW50X2ZpbGU7XHJcblx0fVxyXG5cclxuXHRnZXQgbm9kZVN0YXRlKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMubm9kZV9zdGF0ZTtcclxuXHR9XHJcblxyXG5cdGdldCBub2RlRmlsdGVyU3RhdGUoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5ub2RlX2ZpbHRlcl9zdGF0ZTtcclxuXHR9XHJcbn1cclxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcblxuLy8gQWxsb3dzIG1pbmlmaWVycyB0byByZW5hbWUgcmVmZXJlbmNlcyB0byBnbG9iYWxUaGlzXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xuXG4vKipcbiAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBgYWRvcHRlZFN0eWxlU2hlZXRzYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0czogYm9vbGVhbiA9XG4gIGdsb2JhbC5TaGFkb3dSb290ICYmXG4gIChnbG9iYWwuU2hhZHlDU1MgPT09IHVuZGVmaW5lZCB8fCBnbG9iYWwuU2hhZHlDU1MubmF0aXZlU2hhZG93KSAmJlxuICAnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUgJiZcbiAgJ3JlcGxhY2UnIGluIENTU1N0eWxlU2hlZXQucHJvdG90eXBlO1xuXG4vKipcbiAqIEEgQ1NTUmVzdWx0IG9yIG5hdGl2ZSBDU1NTdHlsZVNoZWV0LlxuICpcbiAqIEluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBjb25zdHJ1Y3RpYmxlIENTUyBzdHlsZSBzaGVldHMsIENTU1N0eWxlU2hlZXRcbiAqIG9iamVjdCBjYW4gYmUgdXNlZCBmb3Igc3R5bGluZyBhbG9uZyBzaWRlIENTU1Jlc3VsdCBmcm9tIHRoZSBgY3NzYFxuICogdGVtcGxhdGUgdGFnLlxuICovXG5leHBvcnQgdHlwZSBDU1NSZXN1bHRPck5hdGl2ZSA9IENTU1Jlc3VsdCB8IENTU1N0eWxlU2hlZXQ7XG5cbmV4cG9ydCB0eXBlIENTU1Jlc3VsdEFycmF5ID0gQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmUgfCBDU1NSZXN1bHRBcnJheT47XG5cbi8qKlxuICogQSBzaW5nbGUgQ1NTUmVzdWx0LCBDU1NTdHlsZVNoZWV0LCBvciBhbiBhcnJheSBvciBuZXN0ZWQgYXJyYXlzIG9mIHRob3NlLlxuICovXG5leHBvcnQgdHlwZSBDU1NSZXN1bHRHcm91cCA9IENTU1Jlc3VsdE9yTmF0aXZlIHwgQ1NTUmVzdWx0QXJyYXk7XG5cbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5cbmNvbnN0IGNzc1RhZ0NhY2hlID0gbmV3IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIENTU1N0eWxlU2hlZXQ+KCk7XG5cbi8qKlxuICogQSBjb250YWluZXIgZm9yIGEgc3RyaW5nIG9mIENTUyB0ZXh0LCB0aGF0IG1heSBiZSB1c2VkIHRvIGNyZWF0ZSBhIENTU1N0eWxlU2hlZXQuXG4gKlxuICogQ1NTUmVzdWx0IGlzIHRoZSByZXR1cm4gdmFsdWUgb2YgYGNzc2AtdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWxzIGFuZFxuICogYHVuc2FmZUNTUygpYC4gSW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgQ1NTUmVzdWx0cyBhcmUgb25seSBjcmVhdGVkIHZpYSB0aGVcbiAqIGBjc3NgIHRhZyBhbmQgYHVuc2FmZUNTUygpYCwgQ1NTUmVzdWx0IGNhbm5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS5cbiAqL1xuZXhwb3J0IGNsYXNzIENTU1Jlc3VsdCB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIFsnXyRjc3NSZXN1bHQkJ10gPSB0cnVlO1xuICByZWFkb25seSBjc3NUZXh0OiBzdHJpbmc7XG4gIHByaXZhdGUgX3N0eWxlU2hlZXQ/OiBDU1NTdHlsZVNoZWV0O1xuICBwcml2YXRlIF9zdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIGNzc1RleHQ6IHN0cmluZyxcbiAgICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZCxcbiAgICBzYWZlVG9rZW46IHN5bWJvbFxuICApIHtcbiAgICBpZiAoc2FmZVRva2VuICE9PSBjb25zdHJ1Y3Rpb25Ub2tlbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC4nXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmNzc1RleHQgPSBjc3NUZXh0O1xuICAgIHRoaXMuX3N0cmluZ3MgPSBzdHJpbmdzO1xuICB9XG5cbiAgLy8gVGhpcyBpcyBhIGdldHRlciBzbyB0aGF0IGl0J3MgbGF6eS4gSW4gcHJhY3RpY2UsIHRoaXMgbWVhbnMgc3R5bGVzaGVldHNcbiAgLy8gYXJlIG5vdCBjcmVhdGVkIHVudGlsIHRoZSBmaXJzdCBlbGVtZW50IGluc3RhbmNlIGlzIG1hZGUuXG4gIGdldCBzdHlsZVNoZWV0KCk6IENTU1N0eWxlU2hlZXQgfCB1bmRlZmluZWQge1xuICAgIC8vIElmIGBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHNgIGlzIHRydWUgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldCBpc1xuICAgIC8vIGNvbnN0cnVjdGFibGUuXG4gICAgbGV0IHN0eWxlU2hlZXQgPSB0aGlzLl9zdHlsZVNoZWV0O1xuICAgIGNvbnN0IHN0cmluZ3MgPSB0aGlzLl9zdHJpbmdzO1xuICAgIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgJiYgc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBjYWNoZWFibGUgPSBzdHJpbmdzICE9PSB1bmRlZmluZWQgJiYgc3RyaW5ncy5sZW5ndGggPT09IDE7XG4gICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgIHN0eWxlU2hlZXQgPSBjc3NUYWdDYWNoZS5nZXQoc3RyaW5ncyk7XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICh0aGlzLl9zdHlsZVNoZWV0ID0gc3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KCkpLnJlcGxhY2VTeW5jKFxuICAgICAgICAgIHRoaXMuY3NzVGV4dFxuICAgICAgICApO1xuICAgICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgICAgY3NzVGFnQ2FjaGUuc2V0KHN0cmluZ3MsIHN0eWxlU2hlZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZVNoZWV0O1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jc3NUZXh0O1xuICB9XG59XG5cbnR5cGUgQ29uc3RydWN0YWJsZUNTU1Jlc3VsdCA9IENTU1Jlc3VsdCAmIHtcbiAgbmV3IChcbiAgICBjc3NUZXh0OiBzdHJpbmcsXG4gICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXkgfCB1bmRlZmluZWQsXG4gICAgc2FmZVRva2VuOiBzeW1ib2xcbiAgKTogQ1NTUmVzdWx0O1xufTtcblxuY29uc3QgdGV4dEZyb21DU1NSZXN1bHQgPSAodmFsdWU6IENTU1Jlc3VsdEdyb3VwIHwgbnVtYmVyKSA9PiB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIGlmICgodmFsdWUgYXMgQ1NTUmVzdWx0KVsnXyRjc3NSZXN1bHQkJ10gPT09IHRydWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIGFzIENTU1Jlc3VsdCkuY3NzVGV4dDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogYCArXG4gICAgICAgIGAke3ZhbHVlfS4gVXNlICd1bnNhZmVDU1MnIHRvIHBhc3Mgbm9uLWxpdGVyYWwgdmFsdWVzLCBidXQgdGFrZSBjYXJlIGAgK1xuICAgICAgICBgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYFxuICAgICk7XG4gIH1cbn07XG5cbi8qKlxuICogV3JhcCBhIHZhbHVlIGZvciBpbnRlcnBvbGF0aW9uIGluIGEge0BsaW5rY29kZSBjc3N9IHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgaXMgdW5zYWZlIGJlY2F1c2UgdW50cnVzdGVkIENTUyB0ZXh0IGNhbiBiZSB1c2VkIHRvIHBob25lIGhvbWVcbiAqIG9yIGV4ZmlsdHJhdGUgZGF0YSB0byBhbiBhdHRhY2tlciBjb250cm9sbGVkIHNpdGUuIFRha2UgY2FyZSB0byBvbmx5IHVzZVxuICogdGhpcyB3aXRoIHRydXN0ZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVDU1MgPSAodmFsdWU6IHVua25vd24pID0+XG4gIG5ldyAoQ1NTUmVzdWx0IGFzIENvbnN0cnVjdGFibGVDU1NSZXN1bHQpKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSksXG4gICAgdW5kZWZpbmVkLFxuICAgIGNvbnN0cnVjdGlvblRva2VuXG4gICk7XG5cbi8qKlxuICogQSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyB3aGljaCBjYW4gYmUgdXNlZCB3aXRoIExpdEVsZW1lbnQnc1xuICoge0BsaW5rY29kZSBMaXRFbGVtZW50LnN0eWxlc30gcHJvcGVydHkgdG8gc2V0IGVsZW1lbnQgc3R5bGVzLlxuICpcbiAqIEZvciBzZWN1cml0eSByZWFzb25zLCBvbmx5IGxpdGVyYWwgc3RyaW5nIHZhbHVlcyBhbmQgbnVtYmVyIG1heSBiZSB1c2VkIGluXG4gKiBlbWJlZGRlZCBleHByZXNzaW9ucy4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIHtAbGlua2NvZGUgdW5zYWZlQ1NTfVxuICogbWF5IGJlIHVzZWQgaW5zaWRlIGFuIGV4cHJlc3Npb24uXG4gKi9cbmV4cG9ydCBjb25zdCBjc3MgPSAoXG4gIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LFxuICAuLi52YWx1ZXM6IChDU1NSZXN1bHRHcm91cCB8IG51bWJlcilbXVxuKTogQ1NTUmVzdWx0ID0+IHtcbiAgY29uc3QgY3NzVGV4dCA9XG4gICAgc3RyaW5ncy5sZW5ndGggPT09IDFcbiAgICAgID8gc3RyaW5nc1swXVxuICAgICAgOiB2YWx1ZXMucmVkdWNlKFxuICAgICAgICAgIChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLFxuICAgICAgICAgIHN0cmluZ3NbMF1cbiAgICAgICAgKTtcbiAgcmV0dXJuIG5ldyAoQ1NTUmVzdWx0IGFzIENvbnN0cnVjdGFibGVDU1NSZXN1bHQpKFxuICAgIGNzc1RleHQsXG4gICAgc3RyaW5ncyxcbiAgICBjb25zdHJ1Y3Rpb25Ub2tlblxuICApO1xufTtcblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBnaXZlbiBzdHlsZXMgdG8gYSBgc2hhZG93Um9vdGAuIFdoZW4gU2hhZG93IERPTSBpc1xuICogYXZhaWxhYmxlIGJ1dCBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBub3QsIHN0eWxlcyBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gKiBgc2hhZG93Um9vdGAgdG8gW21pbWljIHNwZWMgYmVoYXZpb3JdKGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29uc3RydWN0LXN0eWxlc2hlZXRzLyN1c2luZy1jb25zdHJ1Y3RlZC1zdHlsZXNoZWV0cykuXG4gKiBOb3RlLCB3aGVuIHNoaW1taW5nIGlzIHVzZWQsIGFueSBzdHlsZXMgdGhhdCBhcmUgc3Vic2VxdWVudGx5IHBsYWNlZCBpbnRvXG4gKiB0aGUgc2hhZG93Um9vdCBzaG91bGQgYmUgcGxhY2VkICpiZWZvcmUqIGFueSBzaGltbWVkIGFkb3B0ZWQgc3R5bGVzLiBUaGlzXG4gKiB3aWxsIG1hdGNoIHNwZWMgYmVoYXZpb3IgdGhhdCBnaXZlcyBhZG9wdGVkIHNoZWV0cyBwcmVjZWRlbmNlIG92ZXIgc3R5bGVzIGluXG4gKiBzaGFkb3dSb290LlxuICovXG5leHBvcnQgY29uc3QgYWRvcHRTdHlsZXMgPSAoXG4gIHJlbmRlclJvb3Q6IFNoYWRvd1Jvb3QsXG4gIHN0eWxlczogQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmU+XG4pID0+IHtcbiAgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgIChyZW5kZXJSb290IGFzIFNoYWRvd1Jvb3QpLmFkb3B0ZWRTdHlsZVNoZWV0cyA9IHN0eWxlcy5tYXAoKHMpID0+XG4gICAgICBzIGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldCA/IHMgOiBzLnN0eWxlU2hlZXQhXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKGNvbnN0IHMgb2Ygc3R5bGVzKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgY29uc3Qgbm9uY2UgPSAoZ2xvYmFsIGFzIGFueSlbJ2xpdE5vbmNlJ107XG4gICAgICBpZiAobm9uY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgbm9uY2UpO1xuICAgICAgfVxuICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSAocyBhcyBDU1NSZXN1bHQpLmNzc1RleHQ7XG4gICAgICByZW5kZXJSb290LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IGNzc1Jlc3VsdEZyb21TdHlsZVNoZWV0ID0gKHNoZWV0OiBDU1NTdHlsZVNoZWV0KSA9PiB7XG4gIGxldCBjc3NUZXh0ID0gJyc7XG4gIGZvciAoY29uc3QgcnVsZSBvZiBzaGVldC5jc3NSdWxlcykge1xuICAgIGNzc1RleHQgKz0gcnVsZS5jc3NUZXh0O1xuICB9XG4gIHJldHVybiB1bnNhZmVDU1MoY3NzVGV4dCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q29tcGF0aWJsZVN0eWxlID1cbiAgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIHx8XG4gIChOT0RFX01PREUgJiYgZ2xvYmFsLkNTU1N0eWxlU2hlZXQgPT09IHVuZGVmaW5lZClcbiAgICA/IChzOiBDU1NSZXN1bHRPck5hdGl2ZSkgPT4gc1xuICAgIDogKHM6IENTU1Jlc3VsdE9yTmF0aXZlKSA9PlxuICAgICAgICBzIGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldCA/IGNzc1Jlc3VsdEZyb21TdHlsZVNoZWV0KHMpIDogcztcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLyoqXG4gKiBVc2UgdGhpcyBtb2R1bGUgaWYgeW91IHdhbnQgdG8gY3JlYXRlIHlvdXIgb3duIGJhc2UgY2xhc3MgZXh0ZW5kaW5nXG4gKiB7QGxpbmsgUmVhY3RpdmVFbGVtZW50fS5cbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovXG5cbmltcG9ydCB7XG4gIGdldENvbXBhdGlibGVTdHlsZSxcbiAgYWRvcHRTdHlsZXMsXG4gIENTU1Jlc3VsdEdyb3VwLFxuICBDU1NSZXN1bHRPck5hdGl2ZSxcbn0gZnJvbSAnLi9jc3MtdGFnLmpzJztcbmltcG9ydCB0eXBlIHtcbiAgUmVhY3RpdmVDb250cm9sbGVyLFxuICBSZWFjdGl2ZUNvbnRyb2xsZXJIb3N0LFxufSBmcm9tICcuL3JlYWN0aXZlLWNvbnRyb2xsZXIuanMnO1xuXG4vLyBJbiB0aGUgTm9kZSBidWlsZCwgdGhpcyBpbXBvcnQgd2lsbCBiZSBpbmplY3RlZCBieSBSb2xsdXA6XG4vLyBpbXBvcnQge0hUTUxFbGVtZW50LCBjdXN0b21FbGVtZW50c30gZnJvbSAnQGxpdC1sYWJzL3Nzci1kb20tc2hpbSc7XG5cbmV4cG9ydCAqIGZyb20gJy4vY3NzLXRhZy5qcyc7XG5leHBvcnQgdHlwZSB7XG4gIFJlYWN0aXZlQ29udHJvbGxlcixcbiAgUmVhY3RpdmVDb250cm9sbGVySG9zdCxcbn0gZnJvbSAnLi9yZWFjdGl2ZS1jb250cm9sbGVyLmpzJztcblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBgcmVhZG9ubHlgIG1vZGlmaWVyIGZyb20gcHJvcGVydGllcyBpbiB0aGUgdW5pb24gSy5cbiAqXG4gKiBUaGlzIGlzIGEgc2FmZXIgd2F5IHRvIGNhc3QgYSB2YWx1ZSB0byBhIHR5cGUgd2l0aCBhIG11dGFibGUgdmVyc2lvbiBvZiBhXG4gKiByZWFkb25seSBmaWVsZCwgdGhhbiBjYXN0aW5nIHRvIGFuIGludGVyZmFjZSB3aXRoIHRoZSBmaWVsZCByZS1kZWNsYXJlZFxuICogYmVjYXVzZSBpdCBwcmVzZXJ2ZXMgdGhlIHR5cGUgb2YgYWxsIHRoZSBmaWVsZHMgYW5kIHdhcm5zIG9uIHR5cG9zLlxuICovXG50eXBlIE11dGFibGU8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gT21pdDxULCBLPiAmIHtcbiAgLXJlYWRvbmx5IFtQIGluIGtleW9mIFBpY2s8VCwgSz5dOiBQIGV4dGVuZHMgSyA/IFRbUF0gOiBuZXZlcjtcbn07XG5cbi8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBBZGQgYGhhc093bmAgaGVyZSB3aGVuIHdlIHNoaXAgRVMyMDIyXG5jb25zdCB7XG4gIGlzLFxuICBkZWZpbmVQcm9wZXJ0eSxcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gIGdldFByb3RvdHlwZU9mLFxufSA9IE9iamVjdDtcblxuY29uc3QgTk9ERV9NT0RFID0gZmFsc2U7XG5cbi8vIExldHMgYSBtaW5pZmllciByZXBsYWNlIGdsb2JhbFRoaXMgcmVmZXJlbmNlcyB3aXRoIGEgbWluaWZpZWQgbmFtZVxuY29uc3QgZ2xvYmFsID0gZ2xvYmFsVGhpcztcblxuaWYgKE5PREVfTU9ERSkge1xuICBnbG9iYWwuY3VzdG9tRWxlbWVudHMgPz89IGN1c3RvbUVsZW1lbnRzO1xufVxuXG5jb25zdCBERVZfTU9ERSA9IHRydWU7XG5cbmxldCBpc3N1ZVdhcm5pbmc6IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4gdm9pZDtcblxuY29uc3QgdHJ1c3RlZFR5cGVzID0gKGdsb2JhbCBhcyB1bmtub3duIGFzIHt0cnVzdGVkVHlwZXM/OiB7ZW1wdHlTY3JpcHQ6ICcnfX0pXG4gIC50cnVzdGVkVHlwZXM7XG5cbi8vIFRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBodHRwczovL2NyYnVnLmNvbS85OTMyNjhcbi8vIEN1cnJlbnRseSwgYW55IGF0dHJpYnV0ZSBzdGFydGluZyB3aXRoIFwib25cIiBpcyBjb25zaWRlcmVkIHRvIGJlIGFcbi8vIFRydXN0ZWRTY3JpcHQgc291cmNlLiBTdWNoIGJvb2xlYW4gYXR0cmlidXRlcyBtdXN0IGJlIHNldCB0byB0aGUgZXF1aXZhbGVudFxuLy8gdHJ1c3RlZCBlbXB0eVNjcmlwdCB2YWx1ZS5cbmNvbnN0IGVtcHR5U3RyaW5nRm9yQm9vbGVhbkF0dHJpYnV0ZSA9IHRydXN0ZWRUeXBlc1xuICA/ICh0cnVzdGVkVHlwZXMuZW1wdHlTY3JpcHQgYXMgdW5rbm93biBhcyAnJylcbiAgOiAnJztcblxuY29uc3QgcG9seWZpbGxTdXBwb3J0ID0gREVWX01PREVcbiAgPyBnbG9iYWwucmVhY3RpdmVFbGVtZW50UG9seWZpbGxTdXBwb3J0RGV2TW9kZVxuICA6IGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQ7XG5cbmlmIChERVZfTU9ERSkge1xuICAvLyBFbnN1cmUgd2FybmluZ3MgYXJlIGlzc3VlZCBvbmx5IDF4LCBldmVuIGlmIG11bHRpcGxlIHZlcnNpb25zIG9mIExpdFxuICAvLyBhcmUgbG9hZGVkLlxuICBjb25zdCBpc3N1ZWRXYXJuaW5nczogU2V0PHN0cmluZyB8IHVuZGVmaW5lZD4gPSAoZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzID8/PVxuICAgIG5ldyBTZXQoKSk7XG5cbiAgLy8gSXNzdWUgYSB3YXJuaW5nLCBpZiB3ZSBoYXZlbid0IGFscmVhZHkuXG4gIGlzc3VlV2FybmluZyA9IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4ge1xuICAgIHdhcm5pbmcgKz0gYCBTZWUgaHR0cHM6Ly9saXQuZGV2L21zZy8ke2NvZGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLmA7XG4gICAgaWYgKCFpc3N1ZWRXYXJuaW5ncy5oYXMod2FybmluZykpIHtcbiAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgIGlzc3VlZFdhcm5pbmdzLmFkZCh3YXJuaW5nKTtcbiAgICB9XG4gIH07XG5cbiAgaXNzdWVXYXJuaW5nKFxuICAgICdkZXYtbW9kZScsXG4gICAgYExpdCBpcyBpbiBkZXYgbW9kZS4gTm90IHJlY29tbWVuZGVkIGZvciBwcm9kdWN0aW9uIWBcbiAgKTtcblxuICAvLyBJc3N1ZSBwb2x5ZmlsbCBzdXBwb3J0IHdhcm5pbmcuXG4gIGlmIChnbG9iYWwuU2hhZHlET00/LmluVXNlICYmIHBvbHlmaWxsU3VwcG9ydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaXNzdWVXYXJuaW5nKFxuICAgICAgJ3BvbHlmaWxsLXN1cHBvcnQtbWlzc2luZycsXG4gICAgICBgU2hhZG93IERPTSBpcyBiZWluZyBwb2x5ZmlsbGVkIHZpYSBcXGBTaGFkeURPTVxcYCBidXQgYCArXG4gICAgICAgIGB0aGUgXFxgcG9seWZpbGwtc3VwcG9ydFxcYCBtb2R1bGUgaGFzIG5vdCBiZWVuIGxvYWRlZC5gXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIENvbnRhaW5zIHR5cGVzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIHVuc3RhYmxlIGRlYnVnIEFQSS5cbiAqXG4gKiBFdmVyeXRoaW5nIGluIHRoaXMgQVBJIGlzIG5vdCBzdGFibGUgYW5kIG1heSBjaGFuZ2Ugb3IgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLFxuICogZXZlbiBvbiBwYXRjaCByZWxlYXNlcy5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbmV4cG9ydCBuYW1lc3BhY2UgUmVhY3RpdmVVbnN0YWJsZSB7XG4gIC8qKlxuICAgKiBXaGVuIExpdCBpcyBydW5uaW5nIGluIGRldiBtb2RlIGFuZCBgd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50c2AgaXMgdHJ1ZSxcbiAgICogd2Ugd2lsbCBlbWl0ICdsaXQtZGVidWcnIGV2ZW50cyB0byB3aW5kb3csIHdpdGggbGl2ZSBkZXRhaWxzIGFib3V0IHRoZSB1cGRhdGUgYW5kIHJlbmRlclxuICAgKiBsaWZlY3ljbGUuIFRoZXNlIGNhbiBiZSB1c2VmdWwgZm9yIHdyaXRpbmcgZGVidWcgdG9vbGluZyBhbmQgdmlzdWFsaXphdGlvbnMuXG4gICAqXG4gICAqIFBsZWFzZSBiZSBhd2FyZSB0aGF0IHJ1bm5pbmcgd2l0aCB3aW5kb3cuZW1pdExpdERlYnVnTG9nRXZlbnRzIGhhcyBwZXJmb3JtYW5jZSBvdmVyaGVhZCxcbiAgICogbWFraW5nIGNlcnRhaW4gb3BlcmF0aW9ucyB0aGF0IGFyZSBub3JtYWxseSB2ZXJ5IGNoZWFwIChsaWtlIGEgbm8tb3AgcmVuZGVyKSBtdWNoIHNsb3dlcixcbiAgICogYmVjYXVzZSB3ZSBtdXN0IGNvcHkgZGF0YSBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbiAgZXhwb3J0IG5hbWVzcGFjZSBEZWJ1Z0xvZyB7XG4gICAgZXhwb3J0IHR5cGUgRW50cnkgPSBVcGRhdGU7XG4gICAgZXhwb3J0IGludGVyZmFjZSBVcGRhdGUge1xuICAgICAga2luZDogJ3VwZGF0ZSc7XG4gICAgfVxuICB9XG59XG5cbmludGVyZmFjZSBEZWJ1Z0xvZ2dpbmdXaW5kb3cge1xuICAvLyBFdmVuIGluIGRldiBtb2RlLCB3ZSBnZW5lcmFsbHkgZG9uJ3Qgd2FudCB0byBlbWl0IHRoZXNlIGV2ZW50cywgYXMgdGhhdCdzXG4gIC8vIGFub3RoZXIgbGV2ZWwgb2YgY29zdCwgc28gb25seSBlbWl0IHRoZW0gd2hlbiBERVZfTU9ERSBpcyB0cnVlIF9hbmRfIHdoZW5cbiAgLy8gd2luZG93LmVtaXRMaXREZWJ1Z0V2ZW50cyBpcyB0cnVlLlxuICBlbWl0TGl0RGVidWdMb2dFdmVudHM/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIFVzZWZ1bCBmb3IgdmlzdWFsaXppbmcgYW5kIGxvZ2dpbmcgaW5zaWdodHMgaW50byB3aGF0IHRoZSBMaXQgdGVtcGxhdGUgc3lzdGVtIGlzIGRvaW5nLlxuICpcbiAqIENvbXBpbGVkIG91dCBvZiBwcm9kIG1vZGUgYnVpbGRzLlxuICovXG5jb25zdCBkZWJ1Z0xvZ0V2ZW50ID0gREVWX01PREVcbiAgPyAoZXZlbnQ6IFJlYWN0aXZlVW5zdGFibGUuRGVidWdMb2cuRW50cnkpID0+IHtcbiAgICAgIGNvbnN0IHNob3VsZEVtaXQgPSAoZ2xvYmFsIGFzIHVua25vd24gYXMgRGVidWdMb2dnaW5nV2luZG93KVxuICAgICAgICAuZW1pdExpdERlYnVnTG9nRXZlbnRzO1xuICAgICAgaWYgKCFzaG91bGRFbWl0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGdsb2JhbC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgQ3VzdG9tRXZlbnQ8UmVhY3RpdmVVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeT4oJ2xpdC1kZWJ1ZycsIHtcbiAgICAgICAgICBkZXRhaWw6IGV2ZW50LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIDogdW5kZWZpbmVkO1xuXG4vKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzXG4gKiByZXBsYWNlZCBhdCBjb21waWxlIHRpbWUgYnkgdGhlIG11bmdlZCBuYW1lIGZvciBvYmplY3RbcHJvcGVydHldLiBXZSBjYW5ub3RcbiAqIGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZVxuICogYmVoYXZpb3Igd2hlbiBub3QgY29tcGlsaW5nLlxuICovXG4vKkBfX0lOTElORV9fKi9cbmNvbnN0IEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPSA8UCBleHRlbmRzIFByb3BlcnR5S2V5PihcbiAgcHJvcDogUCxcbiAgX29iajogdW5rbm93blxuKTogUCA9PiBwcm9wO1xuXG4vKipcbiAqIENvbnZlcnRzIHByb3BlcnR5IHZhbHVlcyB0byBhbmQgZnJvbSBhdHRyaWJ1dGUgdmFsdWVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogQ2FsbGVkIHRvIGNvbnZlcnQgYW4gYXR0cmlidXRlIHZhbHVlIHRvIGEgcHJvcGVydHlcbiAgICogdmFsdWUuXG4gICAqL1xuICBmcm9tQXR0cmlidXRlPyh2YWx1ZTogc3RyaW5nIHwgbnVsbCwgdHlwZT86IFR5cGVIaW50KTogVHlwZTtcblxuICAvKipcbiAgICogQ2FsbGVkIHRvIGNvbnZlcnQgYSBwcm9wZXJ0eSB2YWx1ZSB0byBhbiBhdHRyaWJ1dGVcbiAgICogdmFsdWUuXG4gICAqXG4gICAqIEl0IHJldHVybnMgdW5rbm93biBpbnN0ZWFkIG9mIHN0cmluZywgdG8gYmUgY29tcGF0aWJsZSB3aXRoXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL3RydXN0ZWQtdHlwZXMgKGFuZCBzaW1pbGFyIGVmZm9ydHMpLlxuICAgKi9cbiAgdG9BdHRyaWJ1dGU/KHZhbHVlOiBUeXBlLCB0eXBlPzogVHlwZUhpbnQpOiB1bmtub3duO1xufVxuXG50eXBlIEF0dHJpYnV0ZUNvbnZlcnRlcjxUeXBlID0gdW5rbm93biwgVHlwZUhpbnQgPSB1bmtub3duPiA9XG4gIHwgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcjxUeXBlPlxuICB8ICgodmFsdWU6IHN0cmluZyB8IG51bGwsIHR5cGU/OiBUeXBlSGludCkgPT4gVHlwZSk7XG5cbi8qKlxuICogRGVmaW5lcyBvcHRpb25zIGZvciBhIHByb3BlcnR5IGFjY2Vzc29yLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RGVjbGFyYXRpb248VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogV2hlbiBzZXQgdG8gYHRydWVgLCBpbmRpY2F0ZXMgdGhlIHByb3BlcnR5IGlzIGludGVybmFsIHByaXZhdGUgc3RhdGUuIFRoZVxuICAgKiBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIHNldCBieSB1c2Vycy4gV2hlbiB1c2luZyBUeXBlU2NyaXB0LCB0aGlzIHByb3BlcnR5XG4gICAqIHNob3VsZCBiZSBtYXJrZWQgYXMgYHByaXZhdGVgIG9yIGBwcm90ZWN0ZWRgLCBhbmQgaXQgaXMgYWxzbyBhIGNvbW1vblxuICAgKiBwcmFjdGljZSB0byB1c2UgYSBsZWFkaW5nIGBfYCBpbiB0aGUgbmFtZS4gVGhlIHByb3BlcnR5IGlzIG5vdCBhZGRlZCB0b1xuICAgKiBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYC5cbiAgICovXG4gIHJlYWRvbmx5IHN0YXRlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIGhvdyBhbmQgd2hldGhlciB0aGUgcHJvcGVydHkgYmVjb21lcyBhbiBvYnNlcnZlZCBhdHRyaWJ1dGUuXG4gICAqIElmIHRoZSB2YWx1ZSBpcyBgZmFsc2VgLCB0aGUgcHJvcGVydHkgaXMgbm90IGFkZGVkIHRvIGBvYnNlcnZlZEF0dHJpYnV0ZXNgLlxuICAgKiBJZiB0cnVlIG9yIGFic2VudCwgdGhlIGxvd2VyY2FzZWQgcHJvcGVydHkgbmFtZSBpcyBvYnNlcnZlZCAoZS5nLiBgZm9vQmFyYFxuICAgKiBiZWNvbWVzIGBmb29iYXJgKS4gSWYgYSBzdHJpbmcsIHRoZSBzdHJpbmcgdmFsdWUgaXMgb2JzZXJ2ZWQgKGUuZ1xuICAgKiBgYXR0cmlidXRlOiAnZm9vLWJhcidgKS5cbiAgICovXG4gIHJlYWRvbmx5IGF0dHJpYnV0ZT86IGJvb2xlYW4gfCBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB0aGUgdHlwZSBvZiB0aGUgcHJvcGVydHkuIFRoaXMgaXMgdXNlZCBvbmx5IGFzIGEgaGludCBmb3IgdGhlXG4gICAqIGBjb252ZXJ0ZXJgIHRvIGRldGVybWluZSBob3cgdG8gY29udmVydCB0aGUgYXR0cmlidXRlXG4gICAqIHRvL2Zyb20gYSBwcm9wZXJ0eS5cbiAgICovXG4gIHJlYWRvbmx5IHR5cGU/OiBUeXBlSGludDtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIGhvdyB0byBjb252ZXJ0IHRoZSBhdHRyaWJ1dGUgdG8vZnJvbSBhIHByb3BlcnR5LiBJZiB0aGlzIHZhbHVlXG4gICAqIGlzIGEgZnVuY3Rpb24sIGl0IGlzIHVzZWQgdG8gY29udmVydCB0aGUgYXR0cmlidXRlIHZhbHVlIGEgdGhlIHByb3BlcnR5XG4gICAqIHZhbHVlLiBJZiBpdCdzIGFuIG9iamVjdCwgaXQgY2FuIGhhdmUga2V5cyBmb3IgYGZyb21BdHRyaWJ1dGVgIGFuZFxuICAgKiBgdG9BdHRyaWJ1dGVgLiBJZiBubyBgdG9BdHRyaWJ1dGVgIGZ1bmN0aW9uIGlzIHByb3ZpZGVkIGFuZFxuICAgKiBgcmVmbGVjdGAgaXMgc2V0IHRvIGB0cnVlYCwgdGhlIHByb3BlcnR5IHZhbHVlIGlzIHNldCBkaXJlY3RseSB0byB0aGVcbiAgICogYXR0cmlidXRlLiBBIGRlZmF1bHQgYGNvbnZlcnRlcmAgaXMgdXNlZCBpZiBub25lIGlzIHByb3ZpZGVkOyBpdCBzdXBwb3J0c1xuICAgKiBgQm9vbGVhbmAsIGBTdHJpbmdgLCBgTnVtYmVyYCwgYE9iamVjdGAsIGFuZCBgQXJyYXlgLiBOb3RlLFxuICAgKiB3aGVuIGEgcHJvcGVydHkgY2hhbmdlcyBhbmQgdGhlIGNvbnZlcnRlciBpcyB1c2VkIHRvIHVwZGF0ZSB0aGUgYXR0cmlidXRlLFxuICAgKiB0aGUgcHJvcGVydHkgaXMgbmV2ZXIgdXBkYXRlZCBhZ2FpbiBhcyBhIHJlc3VsdCBvZiB0aGUgYXR0cmlidXRlIGNoYW5naW5nLFxuICAgKiBhbmQgdmljZSB2ZXJzYS5cbiAgICovXG4gIHJlYWRvbmx5IGNvbnZlcnRlcj86IEF0dHJpYnV0ZUNvbnZlcnRlcjxUeXBlLCBUeXBlSGludD47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBpZiB0aGUgcHJvcGVydHkgc2hvdWxkIHJlZmxlY3QgdG8gYW4gYXR0cmlidXRlLlxuICAgKiBJZiBgdHJ1ZWAsIHdoZW4gdGhlIHByb3BlcnR5IGlzIHNldCwgdGhlIGF0dHJpYnV0ZSBpcyBzZXQgdXNpbmcgdGhlXG4gICAqIGF0dHJpYnV0ZSBuYW1lIGRldGVybWluZWQgYWNjb3JkaW5nIHRvIHRoZSBydWxlcyBmb3IgdGhlIGBhdHRyaWJ1dGVgXG4gICAqIHByb3BlcnR5IG9wdGlvbiBhbmQgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBjb252ZXJ0ZWQgdXNpbmcgdGhlIHJ1bGVzXG4gICAqIGZyb20gdGhlIGBjb252ZXJ0ZXJgIHByb3BlcnR5IG9wdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IHJlZmxlY3Q/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBBIGZ1bmN0aW9uIHRoYXQgaW5kaWNhdGVzIGlmIGEgcHJvcGVydHkgc2hvdWxkIGJlIGNvbnNpZGVyZWQgY2hhbmdlZCB3aGVuXG4gICAqIGl0IGlzIHNldC4gVGhlIGZ1bmN0aW9uIHNob3VsZCB0YWtlIHRoZSBgbmV3VmFsdWVgIGFuZCBgb2xkVmFsdWVgIGFuZFxuICAgKiByZXR1cm4gYHRydWVgIGlmIGFuIHVwZGF0ZSBzaG91bGQgYmUgcmVxdWVzdGVkLlxuICAgKi9cbiAgaGFzQ2hhbmdlZD8odmFsdWU6IFR5cGUsIG9sZFZhbHVlOiBUeXBlKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgYW4gYWNjZXNzb3Igd2lsbCBiZSBjcmVhdGVkIGZvciB0aGlzIHByb3BlcnR5LiBCeVxuICAgKiBkZWZhdWx0LCBhbiBhY2Nlc3NvciB3aWxsIGJlIGdlbmVyYXRlZCBmb3IgdGhpcyBwcm9wZXJ0eSB0aGF0IHJlcXVlc3RzIGFuXG4gICAqIHVwZGF0ZSB3aGVuIHNldC4gSWYgdGhpcyBmbGFnIGlzIGB0cnVlYCwgbm8gYWNjZXNzb3Igd2lsbCBiZSBjcmVhdGVkLCBhbmRcbiAgICogaXQgd2lsbCBiZSB0aGUgdXNlcidzIHJlc3BvbnNpYmlsaXR5IHRvIGNhbGxcbiAgICogYHRoaXMucmVxdWVzdFVwZGF0ZShwcm9wZXJ0eU5hbWUsIG9sZFZhbHVlKWAgdG8gcmVxdWVzdCBhbiB1cGRhdGUgd2hlblxuICAgKiB0aGUgcHJvcGVydHkgY2hhbmdlcy5cbiAgICovXG4gIHJlYWRvbmx5IG5vQWNjZXNzb3I/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoaXMgcHJvcGVydHkgaXMgd3JhcHBpbmcgYWNjZXNzb3JzLiBUaGlzIGlzIHNldCBieSBgQHByb3BlcnR5YFxuICAgKiB0byBjb250cm9sIHRoZSBpbml0aWFsIHZhbHVlIGNoYW5nZSBhbmQgcmVmbGVjdGlvbiBsb2dpYy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICB3cmFwcGVkPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBNYXAgb2YgcHJvcGVydGllcyB0byBQcm9wZXJ0eURlY2xhcmF0aW9uIG9wdGlvbnMuIEZvciBlYWNoIHByb3BlcnR5IGFuXG4gKiBhY2Nlc3NvciBpcyBtYWRlLCBhbmQgdGhlIHByb3BlcnR5IGlzIHByb2Nlc3NlZCBhY2NvcmRpbmcgdG8gdGhlXG4gKiBQcm9wZXJ0eURlY2xhcmF0aW9uIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcGVydHlEZWNsYXJhdGlvbnMge1xuICByZWFkb25seSBba2V5OiBzdHJpbmddOiBQcm9wZXJ0eURlY2xhcmF0aW9uO1xufVxuXG50eXBlIFByb3BlcnR5RGVjbGFyYXRpb25NYXAgPSBNYXA8UHJvcGVydHlLZXksIFByb3BlcnR5RGVjbGFyYXRpb24+O1xuXG50eXBlIEF0dHJpYnV0ZU1hcCA9IE1hcDxzdHJpbmcsIFByb3BlcnR5S2V5PjtcblxuLyoqXG4gKiBBIE1hcCBvZiBwcm9wZXJ0eSBrZXlzIHRvIHZhbHVlcy5cbiAqXG4gKiBUYWtlcyBhbiBvcHRpb25hbCB0eXBlIHBhcmFtZXRlciBULCB3aGljaCB3aGVuIHNwZWNpZmllZCBhcyBhIG5vbi1hbnksXG4gKiBub24tdW5rbm93biB0eXBlLCB3aWxsIG1ha2UgdGhlIE1hcCBtb3JlIHN0cm9uZ2x5LXR5cGVkLCBhc3NvY2lhdGluZyB0aGUgbWFwXG4gKiBrZXlzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZyB2YWx1ZSB0eXBlIG9uIFQuXG4gKlxuICogVXNlIGBQcm9wZXJ0eVZhbHVlczx0aGlzPmAgd2hlbiBvdmVycmlkaW5nIFJlYWN0aXZlRWxlbWVudC51cGRhdGUoKSBhbmRcbiAqIG90aGVyIGxpZmVjeWNsZSBtZXRob2RzIGluIG9yZGVyIHRvIGdldCBzdHJvbmdlciB0eXBlLWNoZWNraW5nIG9uIGtleXNcbiAqIGFuZCB2YWx1ZXMuXG4gKi9cbi8vIFRoaXMgdHlwZSBpcyBjb25kaXRpb25hbCBzbyB0aGF0IGlmIHRoZSBwYXJhbWV0ZXIgVCBpcyBub3Qgc3BlY2lmaWVkLCBvclxuLy8gaXMgYGFueWAsIHRoZSB0eXBlIHdpbGwgaW5jbHVkZSBgTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPmAuIFNpbmNlIFQgaXMgbm90XG4vLyBnaXZlbiBpbiB0aGUgdXNlcyBvZiBQcm9wZXJ0eVZhbHVlcyBpbiB0aGlzIGZpbGUsIGFsbCB1c2VzIGhlcmUgZmFsbGJhY2sgdG9cbi8vIG1lYW5pbmcgYE1hcDxQcm9wZXJ0eUtleSwgdW5rbm93bj5gLCBidXQgaWYgYSBkZXZlbG9wZXIgdXNlc1xuLy8gYFByb3BlcnR5VmFsdWVzPHRoaXM+YCAob3IgYW55IG90aGVyIHZhbHVlIGZvciBUKSB0aGV5IHdpbGwgZ2V0IGFcbi8vIHN0cm9uZ2x5LXR5cGVkIE1hcCB0eXBlLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCB0eXBlIFByb3BlcnR5VmFsdWVzPFQgPSBhbnk+ID0gVCBleHRlbmRzIG9iamVjdFxuICA/IFByb3BlcnR5VmFsdWVNYXA8VD5cbiAgOiBNYXA8UHJvcGVydHlLZXksIHVua25vd24+O1xuXG4vKipcbiAqIERvIG5vdCB1c2UsIGluc3RlYWQgcHJlZmVyIHtAbGlua2NvZGUgUHJvcGVydHlWYWx1ZXN9LlxuICovXG4vLyBUaGlzIHR5cGUgbXVzdCBiZSBleHBvcnRlZCBzdWNoIHRoYXQgSmF2YVNjcmlwdCBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZVxuLy8gQ2xvc3VyZSBDb21waWxlciBjYW4gaW1wb3J0IGEgdHlwZSByZWZlcmVuY2UuXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5VmFsdWVNYXA8VD4gZXh0ZW5kcyBNYXA8UHJvcGVydHlLZXksIHVua25vd24+IHtcbiAgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBUPihrOiBLKTogVFtLXSB8IHVuZGVmaW5lZDtcbiAgc2V0PEsgZXh0ZW5kcyBrZXlvZiBUPihrZXk6IEssIHZhbHVlOiBUW0tdKTogdGhpcztcbiAgaGFzPEsgZXh0ZW5kcyBrZXlvZiBUPihrOiBLKTogYm9vbGVhbjtcbiAgZGVsZXRlPEsgZXh0ZW5kcyBrZXlvZiBUPihrOiBLKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb252ZXJ0ZXI6IENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXIgPSB7XG4gIHRvQXR0cmlidXRlKHZhbHVlOiB1bmtub3duLCB0eXBlPzogdW5rbm93bik6IHVua25vd24ge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlIDogbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE9iamVjdDpcbiAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgIC8vIGlmIHRoZSB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgcGFzcyB0aGlzIHRocm91Z2hcbiAgICAgICAgLy8gdG8gYWxsb3cgcmVtb3Zpbmcvbm8gY2hhbmdlIGJlaGF2aW9yLlxuICAgICAgICB2YWx1ZSA9IHZhbHVlID09IG51bGwgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcblxuICBmcm9tQXR0cmlidXRlKHZhbHVlOiBzdHJpbmcgfCBudWxsLCB0eXBlPzogdW5rbm93bikge1xuICAgIGxldCBmcm9tVmFsdWU6IHVua25vd24gPSB2YWx1ZTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgZnJvbVZhbHVlID0gdmFsdWUgIT09IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgIGZyb21WYWx1ZSA9IHZhbHVlID09PSBudWxsID8gbnVsbCA6IE51bWJlcih2YWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICBjYXNlIEFycmF5OlxuICAgICAgICAvLyBEbyAqbm90KiBnZW5lcmF0ZSBleGNlcHRpb24gd2hlbiBpbnZhbGlkIEpTT04gaXMgc2V0IGFzIGVsZW1lbnRzXG4gICAgICAgIC8vIGRvbid0IG5vcm1hbGx5IGNvbXBsYWluIG9uIGJlaW5nIG1pcy1jb25maWd1cmVkLlxuICAgICAgICAvLyBUT0RPKHNvcnZlbGwpOiBEbyBnZW5lcmF0ZSBleGNlcHRpb24gaW4gKmRldiBtb2RlKi5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBBc3NlcnQgdG8gYWRoZXJlIHRvIEJhemVsJ3MgXCJtdXN0IHR5cGUgYXNzZXJ0IEpTT04gcGFyc2VcIiBydWxlLlxuICAgICAgICAgIGZyb21WYWx1ZSA9IEpTT04ucGFyc2UodmFsdWUhKSBhcyB1bmtub3duO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZnJvbVZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGZyb21WYWx1ZTtcbiAgfSxcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGFzQ2hhbmdlZCB7XG4gICh2YWx1ZTogdW5rbm93biwgb2xkOiB1bmtub3duKTogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBDaGFuZ2UgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBkaWZmZXJlbnQgZnJvbSBgb2xkVmFsdWVgLlxuICogVGhpcyBtZXRob2QgaXMgdXNlZCBhcyB0aGUgZGVmYXVsdCBmb3IgYSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdEVxdWFsOiBIYXNDaGFuZ2VkID0gKHZhbHVlOiB1bmtub3duLCBvbGQ6IHVua25vd24pOiBib29sZWFuID0+XG4gICFpcyh2YWx1ZSwgb2xkKTtcblxuY29uc3QgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb246IFByb3BlcnR5RGVjbGFyYXRpb24gPSB7XG4gIGF0dHJpYnV0ZTogdHJ1ZSxcbiAgdHlwZTogU3RyaW5nLFxuICBjb252ZXJ0ZXI6IGRlZmF1bHRDb252ZXJ0ZXIsXG4gIHJlZmxlY3Q6IGZhbHNlLFxuICBoYXNDaGFuZ2VkOiBub3RFcXVhbCxcbn07XG5cbi8qKlxuICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIG9uZSBvZiB0aGUgc3VwcG9ydGVkIGRldiBtb2RlIHdhcm5pbmcgY2F0ZWdvcmllcy5cbiAqL1xuZXhwb3J0IHR5cGUgV2FybmluZ0tpbmQgPVxuICB8ICdjaGFuZ2UtaW4tdXBkYXRlJ1xuICB8ICdtaWdyYXRpb24nXG4gIHwgJ2FzeW5jLXBlcmZvcm0tdXBkYXRlJztcblxuZXhwb3J0IHR5cGUgSW5pdGlhbGl6ZXIgPSAoZWxlbWVudDogUmVhY3RpdmVFbGVtZW50KSA9PiB2b2lkO1xuXG4vLyBUZW1wb3JhcnksIHVudGlsIGdvb2dsZTMgaXMgb24gVHlwZVNjcmlwdCA1LjJcbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFN5bWJvbENvbnN0cnVjdG9yIHtcbiAgICByZWFkb25seSBtZXRhZGF0YTogdW5pcXVlIHN5bWJvbDtcbiAgfVxufVxuXG4vLyBFbnN1cmUgbWV0YWRhdGEgaXMgZW5hYmxlZC4gVHlwZVNjcmlwdCBkb2VzIG5vdCBwb2x5ZmlsbFxuLy8gU3ltYm9sLm1ldGFkYXRhLCBzbyB3ZSBtdXN0IGVuc3VyZSB0aGF0IGl0IGV4aXN0cy5cbihTeW1ib2wgYXMge21ldGFkYXRhOiBzeW1ib2x9KS5tZXRhZGF0YSA/Pz0gU3ltYm9sKCdtZXRhZGF0YScpO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIC8vIFRoaXMgaXMgcHVibGljIGdsb2JhbCBBUEksIGRvIG5vdCBjaGFuZ2UhXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcbiAgdmFyIGxpdFByb3BlcnR5TWV0YWRhdGE6IFdlYWtNYXA8XG4gICAgb2JqZWN0LFxuICAgIE1hcDxQcm9wZXJ0eUtleSwgUHJvcGVydHlEZWNsYXJhdGlvbj5cbiAgPjtcbn1cblxuLy8gTWFwIGZyb20gYSBjbGFzcydzIG1ldGFkYXRhIG9iamVjdCB0byBwcm9wZXJ0eSBvcHRpb25zXG4vLyBOb3RlIHRoYXQgd2UgbXVzdCB1c2UgbnVsbGlzaC1jb2FsZXNjaW5nIGFzc2lnbm1lbnQgc28gdGhhdCB3ZSBvbmx5IHVzZSBvbmVcbi8vIG1hcCBldmVuIGlmIHdlIGxvYWQgbXVsdGlwbGUgdmVyc2lvbiBvZiB0aGlzIG1vZHVsZS5cbmdsb2JhbC5saXRQcm9wZXJ0eU1ldGFkYXRhID8/PSBuZXcgV2Vha01hcDxcbiAgb2JqZWN0LFxuICBNYXA8UHJvcGVydHlLZXksIFByb3BlcnR5RGVjbGFyYXRpb24+XG4+KCk7XG5cbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHdoaWNoIG1hbmFnZXMgZWxlbWVudCBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzLiBXaGVuXG4gKiBwcm9wZXJ0aWVzIGNoYW5nZSwgdGhlIGB1cGRhdGVgIG1ldGhvZCBpcyBhc3luY2hyb25vdXNseSBjYWxsZWQuIFRoaXMgbWV0aG9kXG4gKiBzaG91bGQgYmUgc3VwcGxpZWQgYnkgc3ViY2xhc3NlcyB0byByZW5kZXIgdXBkYXRlcyBhcyBkZXNpcmVkLlxuICogQG5vSW5oZXJpdERvY1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVhY3RpdmVFbGVtZW50XG4gIC8vIEluIHRoZSBOb2RlIGJ1aWxkLCB0aGlzIGBleHRlbmRzYCBjbGF1c2Ugd2lsbCBiZSBzdWJzdGl0dXRlZCB3aXRoXG4gIC8vIGAoZ2xvYmFsVGhpcy5IVE1MRWxlbWVudCA/PyBIVE1MRWxlbWVudClgLlxuICAvL1xuICAvLyBUaGlzIHdheSwgd2Ugd2lsbCBmaXJzdCBwcmVmZXIgYW55IGdsb2JhbCBgSFRNTEVsZW1lbnRgIHBvbHlmaWxsIHRoYXQgdGhlXG4gIC8vIHVzZXIgaGFzIGFzc2lnbmVkLCBhbmQgdGhlbiBmYWxsIGJhY2sgdG8gdGhlIGBIVE1MRWxlbWVudGAgc2hpbSB3aGljaCBoYXNcbiAgLy8gYmVlbiBpbXBvcnRlZCAoc2VlIG5vdGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUgYWJvdXQgaG93IHRoaXMgaW1wb3J0IGlzXG4gIC8vIGdlbmVyYXRlZCBieSBSb2xsdXApLiBOb3RlIHRoYXQgdGhlIGBIVE1MRWxlbWVudGAgdmFyaWFibGUgaGFzIGJlZW5cbiAgLy8gc2hhZG93ZWQgYnkgdGhpcyBpbXBvcnQsIHNvIGl0IG5vIGxvbmdlciByZWZlcnMgdG8gdGhlIGdsb2JhbC5cbiAgZXh0ZW5kcyBIVE1MRWxlbWVudFxuICBpbXBsZW1lbnRzIFJlYWN0aXZlQ29udHJvbGxlckhvc3RcbntcbiAgLy8gTm90ZTogdGhlc2UgYXJlIHBhdGNoZWQgaW4gb25seSBpbiBERVZfTU9ERS5cbiAgLyoqXG4gICAqIFJlYWQgb3Igc2V0IGFsbCB0aGUgZW5hYmxlZCB3YXJuaW5nIGNhdGVnb3JpZXMgZm9yIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgb25seSB1c2VkIGluIGRldmVsb3BtZW50IGJ1aWxkcy5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IGRldi1tb2RlXG4gICAqL1xuICBzdGF0aWMgZW5hYmxlZFdhcm5pbmdzPzogV2FybmluZ0tpbmRbXTtcblxuICAvKipcbiAgICogRW5hYmxlIHRoZSBnaXZlbiB3YXJuaW5nIGNhdGVnb3J5IGZvciB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBvbmx5IGV4aXN0cyBpbiBkZXZlbG9wbWVudCBidWlsZHMsIHNvIGl0IHNob3VsZCBiZSBhY2Nlc3NlZFxuICAgKiB3aXRoIGEgZ3VhcmQgbGlrZTpcbiAgICpcbiAgICogYGBgdHNcbiAgICogLy8gRW5hYmxlIGZvciBhbGwgUmVhY3RpdmVFbGVtZW50IHN1YmNsYXNzZXNcbiAgICogUmVhY3RpdmVFbGVtZW50LmVuYWJsZVdhcm5pbmc/LignbWlncmF0aW9uJyk7XG4gICAqXG4gICAqIC8vIEVuYWJsZSBmb3Igb25seSBNeUVsZW1lbnQgYW5kIHN1YmNsYXNzZXNcbiAgICogTXlFbGVtZW50LmVuYWJsZVdhcm5pbmc/LignbWlncmF0aW9uJyk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgZGV2LW1vZGVcbiAgICovXG4gIHN0YXRpYyBlbmFibGVXYXJuaW5nPzogKHdhcm5pbmdLaW5kOiBXYXJuaW5nS2luZCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogRGlzYWJsZSB0aGUgZ2l2ZW4gd2FybmluZyBjYXRlZ29yeSBmb3IgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgb25seSBleGlzdHMgaW4gZGV2ZWxvcG1lbnQgYnVpbGRzLCBzbyBpdCBzaG91bGQgYmUgYWNjZXNzZWRcbiAgICogd2l0aCBhIGd1YXJkIGxpa2U6XG4gICAqXG4gICAqIGBgYHRzXG4gICAqIC8vIERpc2FibGUgZm9yIGFsbCBSZWFjdGl2ZUVsZW1lbnQgc3ViY2xhc3Nlc1xuICAgKiBSZWFjdGl2ZUVsZW1lbnQuZGlzYWJsZVdhcm5pbmc/LignbWlncmF0aW9uJyk7XG4gICAqXG4gICAqIC8vIERpc2FibGUgZm9yIG9ubHkgTXlFbGVtZW50IGFuZCBzdWJjbGFzc2VzXG4gICAqIE15RWxlbWVudC5kaXNhYmxlV2FybmluZz8uKCdtaWdyYXRpb24nKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBkZXYtbW9kZVxuICAgKi9cbiAgc3RhdGljIGRpc2FibGVXYXJuaW5nPzogKHdhcm5pbmdLaW5kOiBXYXJuaW5nS2luZCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogQWRkcyBhbiBpbml0aWFsaXplciBmdW5jdGlvbiB0byB0aGUgY2xhc3MgdGhhdCBpcyBjYWxsZWQgZHVyaW5nIGluc3RhbmNlXG4gICAqIGNvbnN0cnVjdGlvbi5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGNvZGUgdGhhdCBydW5zIGFnYWluc3QgYSBgUmVhY3RpdmVFbGVtZW50YFxuICAgKiBzdWJjbGFzcywgc3VjaCBhcyBhIGRlY29yYXRvciwgdGhhdCBuZWVkcyB0byBkbyB3b3JrIGZvciBlYWNoXG4gICAqIGluc3RhbmNlLCBzdWNoIGFzIHNldHRpbmcgdXAgYSBgUmVhY3RpdmVDb250cm9sbGVyYC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogY29uc3QgbXlEZWNvcmF0b3IgPSAodGFyZ2V0OiB0eXBlb2YgUmVhY3RpdmVFbGVtZW50LCBrZXk6IHN0cmluZykgPT4ge1xuICAgKiAgIHRhcmdldC5hZGRJbml0aWFsaXplcigoaW5zdGFuY2U6IFJlYWN0aXZlRWxlbWVudCkgPT4ge1xuICAgKiAgICAgLy8gVGhpcyBpcyBydW4gZHVyaW5nIGNvbnN0cnVjdGlvbiBvZiB0aGUgZWxlbWVudFxuICAgKiAgICAgbmV3IE15Q29udHJvbGxlcihpbnN0YW5jZSk7XG4gICAqICAgfSk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIERlY29yYXRpbmcgYSBmaWVsZCB3aWxsIHRoZW4gY2F1c2UgZWFjaCBpbnN0YW5jZSB0byBydW4gYW4gaW5pdGlhbGl6ZXJcbiAgICogdGhhdCBhZGRzIGEgY29udHJvbGxlcjpcbiAgICpcbiAgICogYGBgdHNcbiAgICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAqICAgQG15RGVjb3JhdG9yIGZvbztcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogSW5pdGlhbGl6ZXJzIGFyZSBzdG9yZWQgcGVyLWNvbnN0cnVjdG9yLiBBZGRpbmcgYW4gaW5pdGlhbGl6ZXIgdG8gYVxuICAgKiBzdWJjbGFzcyBkb2VzIG5vdCBhZGQgaXQgdG8gYSBzdXBlcmNsYXNzLiBTaW5jZSBpbml0aWFsaXplcnMgYXJlIHJ1biBpblxuICAgKiBjb25zdHJ1Y3RvcnMsIGluaXRpYWxpemVycyB3aWxsIHJ1biBpbiBvcmRlciBvZiB0aGUgY2xhc3MgaGllcmFyY2h5LFxuICAgKiBzdGFydGluZyB3aXRoIHN1cGVyY2xhc3NlcyBhbmQgcHJvZ3Jlc3NpbmcgdG8gdGhlIGluc3RhbmNlJ3MgY2xhc3MuXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgYWRkSW5pdGlhbGl6ZXIoaW5pdGlhbGl6ZXI6IEluaXRpYWxpemVyKSB7XG4gICAgdGhpcy5fX3ByZXBhcmUoKTtcbiAgICAodGhpcy5faW5pdGlhbGl6ZXJzID8/PSBbXSkucHVzaChpbml0aWFsaXplcik7XG4gIH1cblxuICBzdGF0aWMgX2luaXRpYWxpemVycz86IEluaXRpYWxpemVyW107XG5cbiAgLypcbiAgICogRHVlIHRvIGNsb3N1cmUgY29tcGlsZXIgRVM2IGNvbXBpbGF0aW9uIGJ1Z3MsIEBub2NvbGxhcHNlIGlzIHJlcXVpcmVkIG9uXG4gICAqIGFsbCBzdGF0aWMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyB3aXRoIGluaXRpYWxpemVycy4gIFJlZmVyZW5jZTpcbiAgICogLSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzE3NzZcbiAgICovXG5cbiAgLyoqXG4gICAqIE1hcHMgYXR0cmlidXRlIG5hbWVzIHRvIHByb3BlcnRpZXM7IGZvciBleGFtcGxlIGBmb29iYXJgIGF0dHJpYnV0ZSB0b1xuICAgKiBgZm9vQmFyYCBwcm9wZXJ0eS4gQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGVcbiAgICogY2xhc3MuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXA6IEF0dHJpYnV0ZU1hcDtcblxuICAvKipcbiAgICogTWFya3MgY2xhc3MgYXMgaGF2aW5nIGJlZW4gZmluYWxpemVkLCB3aGljaCBpbmNsdWRlcyBjcmVhdGluZyBwcm9wZXJ0aWVzXG4gICAqIGZyb20gYHN0YXRpYyBwcm9wZXJ0aWVzYCwgYnV0IGRvZXMgKm5vdCogaW5jbHVkZSBhbGwgcHJvcGVydGllcyBjcmVhdGVkXG4gICAqIGZyb20gZGVjb3JhdG9ycy5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemVkOiB0cnVlIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBNZW1vaXplZCBsaXN0IG9mIGFsbCBlbGVtZW50IHByb3BlcnRpZXMsIGluY2x1ZGluZyBhbnkgc3VwZXJjbGFzc1xuICAgKiBwcm9wZXJ0aWVzLiBDcmVhdGVkIGxhemlseSBvbiB1c2VyIHN1YmNsYXNzZXMgd2hlbiBmaW5hbGl6aW5nIHRoZSBjbGFzcy5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICovXG4gIHN0YXRpYyBlbGVtZW50UHJvcGVydGllczogUHJvcGVydHlEZWNsYXJhdGlvbk1hcDtcblxuICAvKipcbiAgICogVXNlci1zdXBwbGllZCBvYmplY3QgdGhhdCBtYXBzIHByb3BlcnR5IG5hbWVzIHRvIGBQcm9wZXJ0eURlY2xhcmF0aW9uYFxuICAgKiBvYmplY3RzIGNvbnRhaW5pbmcgb3B0aW9ucyBmb3IgY29uZmlndXJpbmcgcmVhY3RpdmUgcHJvcGVydGllcy4gV2hlblxuICAgKiBhIHJlYWN0aXZlIHByb3BlcnR5IGlzIHNldCB0aGUgZWxlbWVudCB3aWxsIHVwZGF0ZSBhbmQgcmVuZGVyLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0IHByb3BlcnRpZXMgYXJlIHB1YmxpYyBmaWVsZHMsIGFuZCBhcyBzdWNoLCB0aGV5IHNob3VsZCBiZVxuICAgKiBjb25zaWRlcmVkIGFzIHByaW1hcmlseSBzZXR0YWJsZSBieSBlbGVtZW50IHVzZXJzLCBlaXRoZXIgdmlhIGF0dHJpYnV0ZSBvclxuICAgKiB0aGUgcHJvcGVydHkgaXRzZWxmLlxuICAgKlxuICAgKiBHZW5lcmFsbHksIHByb3BlcnRpZXMgdGhhdCBhcmUgY2hhbmdlZCBieSB0aGUgZWxlbWVudCBzaG91bGQgYmUgcHJpdmF0ZSBvclxuICAgKiBwcm90ZWN0ZWQgZmllbGRzIGFuZCBzaG91bGQgdXNlIHRoZSBgc3RhdGU6IHRydWVgIG9wdGlvbi4gUHJvcGVydGllc1xuICAgKiBtYXJrZWQgYXMgYHN0YXRlYCBkbyBub3QgcmVmbGVjdCBmcm9tIHRoZSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZVxuICAgKlxuICAgKiBIb3dldmVyLCBzb21ldGltZXMgZWxlbWVudCBjb2RlIGRvZXMgbmVlZCB0byBzZXQgYSBwdWJsaWMgcHJvcGVydHkuIFRoaXNcbiAgICogc2hvdWxkIHR5cGljYWxseSBvbmx5IGJlIGRvbmUgaW4gcmVzcG9uc2UgdG8gdXNlciBpbnRlcmFjdGlvbiwgYW5kIGFuIGV2ZW50XG4gICAqIHNob3VsZCBiZSBmaXJlZCBpbmZvcm1pbmcgdGhlIHVzZXI7IGZvciBleGFtcGxlLCBhIGNoZWNrYm94IHNldHMgaXRzXG4gICAqIGBjaGVja2VkYCBwcm9wZXJ0eSB3aGVuIGNsaWNrZWQgYW5kIGZpcmVzIGEgYGNoYW5nZWRgIGV2ZW50LiBNdXRhdGluZ1xuICAgKiBwdWJsaWMgcHJvcGVydGllcyBzaG91bGQgdHlwaWNhbGx5IG5vdCBiZSBkb25lIGZvciBub24tcHJpbWl0aXZlIChvYmplY3Qgb3JcbiAgICogYXJyYXkpIHByb3BlcnRpZXMuIEluIG90aGVyIGNhc2VzIHdoZW4gYW4gZWxlbWVudCBuZWVkcyB0byBtYW5hZ2Ugc3RhdGUsIGFcbiAgICogcHJpdmF0ZSBwcm9wZXJ0eSBzZXQgd2l0aCB0aGUgYHN0YXRlOiB0cnVlYCBvcHRpb24gc2hvdWxkIGJlIHVzZWQuIFdoZW5cbiAgICogbmVlZGVkLCBzdGF0ZSBwcm9wZXJ0aWVzIGNhbiBiZSBpbml0aWFsaXplZCB2aWEgcHVibGljIHByb3BlcnRpZXMgdG9cbiAgICogZmFjaWxpdGF0ZSBjb21wbGV4IGludGVyYWN0aW9ucy5cbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICovXG4gIHN0YXRpYyBwcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9ucztcblxuICAvKipcbiAgICogTWVtb2l6ZWQgbGlzdCBvZiBhbGwgZWxlbWVudCBzdHlsZXMuXG4gICAqIENyZWF0ZWQgbGF6aWx5IG9uIHVzZXIgc3ViY2xhc3NlcyB3aGVuIGZpbmFsaXppbmcgdGhlIGNsYXNzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgc3R5bGVzXG4gICAqL1xuICBzdGF0aWMgZWxlbWVudFN0eWxlczogQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmU+ID0gW107XG5cbiAgLyoqXG4gICAqIEFycmF5IG9mIHN0eWxlcyB0byBhcHBseSB0byB0aGUgZWxlbWVudC4gVGhlIHN0eWxlcyBzaG91bGQgYmUgZGVmaW5lZFxuICAgKiB1c2luZyB0aGUge0BsaW5rY29kZSBjc3N9IHRhZyBmdW5jdGlvbiwgdmlhIGNvbnN0cnVjdGlibGUgc3R5bGVzaGVldHMsIG9yXG4gICAqIGltcG9ydGVkIGZyb20gbmF0aXZlIENTUyBtb2R1bGUgc2NyaXB0cy5cbiAgICpcbiAgICogTm90ZSBvbiBDb250ZW50IFNlY3VyaXR5IFBvbGljeTpcbiAgICpcbiAgICogRWxlbWVudCBzdHlsZXMgYXJlIGltcGxlbWVudGVkIHdpdGggYDxzdHlsZT5gIHRhZ3Mgd2hlbiB0aGUgYnJvd3NlciBkb2Vzbid0XG4gICAqIHN1cHBvcnQgYWRvcHRlZCBTdHlsZVNoZWV0cy4gVG8gdXNlIHN1Y2ggYDxzdHlsZT5gIHRhZ3Mgd2l0aCB0aGUgc3R5bGUtc3JjXG4gICAqIENTUCBkaXJlY3RpdmUsIHRoZSBzdHlsZS1zcmMgdmFsdWUgbXVzdCBlaXRoZXIgaW5jbHVkZSAndW5zYWZlLWlubGluZScgb3JcbiAgICogYG5vbmNlLTxiYXNlNjQtdmFsdWU+YCB3aXRoIGA8YmFzZTY0LXZhbHVlPmAgcmVwbGFjZWQgYmUgYSBzZXJ2ZXItZ2VuZXJhdGVkXG4gICAqIG5vbmNlLlxuICAgKlxuICAgKiBUbyBwcm92aWRlIGEgbm9uY2UgdG8gdXNlIG9uIGdlbmVyYXRlZCBgPHN0eWxlPmAgZWxlbWVudHMsIHNldFxuICAgKiBgd2luZG93LmxpdE5vbmNlYCB0byBhIHNlcnZlci1nZW5lcmF0ZWQgbm9uY2UgaW4geW91ciBwYWdlJ3MgSFRNTCwgYmVmb3JlXG4gICAqIGxvYWRpbmcgYXBwbGljYXRpb24gY29kZTpcbiAgICpcbiAgICogYGBgaHRtbFxuICAgKiA8c2NyaXB0PlxuICAgKiAgIC8vIEdlbmVyYXRlZCBhbmQgdW5pcXVlIHBlciByZXF1ZXN0OlxuICAgKiAgIHdpbmRvdy5saXROb25jZSA9ICdhMWIyYzNkNCc7XG4gICAqIDwvc2NyaXB0PlxuICAgKiBgYGBcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IHN0eWxlc1xuICAgKi9cbiAgc3RhdGljIHN0eWxlcz86IENTU1Jlc3VsdEdyb3VwO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhdHRyaWJ1dGVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IGF0dHJpYnV0ZXNcbiAgICovXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgIC8vIEVuc3VyZSB3ZSd2ZSBjcmVhdGVkIGFsbCBwcm9wZXJ0aWVzXG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgIC8vIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwIGlzIG9ubHkgdW5kZWZpbmVkIGFmdGVyIGZpbmFsaXplKCkgaW5cbiAgICAvLyBSZWFjdGl2ZUVsZW1lbnQgaXRzZWxmLiBSZWFjdGl2ZUVsZW1lbnQub2JzZXJ2ZWRBdHRyaWJ1dGVzIGlzIG9ubHlcbiAgICAvLyBhY2Nlc3NlZCB3aXRoIFJlYWN0aXZlRWxlbWVudCBhcyB0aGUgcmVjZWl2ZXIgd2hlbiBhIHN1YmNsYXNzIG9yIG1peGluXG4gICAgLy8gY2FsbHMgc3VwZXIub2JzZXJ2ZWRBdHRyaWJ1dGVzXG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwICYmIFsuLi50aGlzLl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5rZXlzKCldXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX19pbnN0YW5jZVByb3BlcnRpZXM/OiBQcm9wZXJ0eVZhbHVlcyA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHByb3BlcnR5IGFjY2Vzc29yIG9uIHRoZSBlbGVtZW50IHByb3RvdHlwZSBpZiBvbmUgZG9lcyBub3QgZXhpc3RcbiAgICogYW5kIHN0b3JlcyBhIHtAbGlua2NvZGUgUHJvcGVydHlEZWNsYXJhdGlvbn0gZm9yIHRoZSBwcm9wZXJ0eSB3aXRoIHRoZVxuICAgKiBnaXZlbiBvcHRpb25zLiBUaGUgcHJvcGVydHkgc2V0dGVyIGNhbGxzIHRoZSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYFxuICAgKiBwcm9wZXJ0eSBvcHRpb24gb3IgdXNlcyBhIHN0cmljdCBpZGVudGl0eSBjaGVjayB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3RcbiAgICogdG8gcmVxdWVzdCBhbiB1cGRhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIG1heSBiZSBvdmVycmlkZGVuIHRvIGN1c3RvbWl6ZSBwcm9wZXJ0aWVzOyBob3dldmVyLFxuICAgKiB3aGVuIGRvaW5nIHNvLCBpdCdzIGltcG9ydGFudCB0byBjYWxsIGBzdXBlci5jcmVhdGVQcm9wZXJ0eWAgdG8gZW5zdXJlXG4gICAqIHRoZSBwcm9wZXJ0eSBpcyBzZXR1cCBjb3JyZWN0bHkuIFRoaXMgbWV0aG9kIGNhbGxzXG4gICAqIGBnZXRQcm9wZXJ0eURlc2NyaXB0b3JgIGludGVybmFsbHkgdG8gZ2V0IGEgZGVzY3JpcHRvciB0byBpbnN0YWxsLlxuICAgKiBUbyBjdXN0b21pemUgd2hhdCBwcm9wZXJ0aWVzIGRvIHdoZW4gdGhleSBhcmUgZ2V0IG9yIHNldCwgb3ZlcnJpZGVcbiAgICogYGdldFByb3BlcnR5RGVzY3JpcHRvcmAuIFRvIGN1c3RvbWl6ZSB0aGUgb3B0aW9ucyBmb3IgYSBwcm9wZXJ0eSxcbiAgICogaW1wbGVtZW50IGBjcmVhdGVQcm9wZXJ0eWAgbGlrZSB0aGlzOlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBzdGF0aWMgY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucykge1xuICAgKiAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHtteU9wdGlvbjogdHJ1ZX0pO1xuICAgKiAgIHN1cGVyLmNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcHJvcGVydGllc1xuICAgKi9cbiAgc3RhdGljIGNyZWF0ZVByb3BlcnR5KFxuICAgIG5hbWU6IFByb3BlcnR5S2V5LFxuICAgIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24gPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvblxuICApIHtcbiAgICAvLyBJZiB0aGlzIGlzIGEgc3RhdGUgcHJvcGVydHksIGZvcmNlIHRoZSBhdHRyaWJ1dGUgdG8gZmFsc2UuXG4gICAgaWYgKG9wdGlvbnMuc3RhdGUpIHtcbiAgICAgIChvcHRpb25zIGFzIE11dGFibGU8UHJvcGVydHlEZWNsYXJhdGlvbiwgJ2F0dHJpYnV0ZSc+KS5hdHRyaWJ1dGUgPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5fX3ByZXBhcmUoKTtcbiAgICB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICBpZiAoIW9wdGlvbnMubm9BY2Nlc3Nvcikge1xuICAgICAgY29uc3Qga2V5ID0gREVWX01PREVcbiAgICAgICAgPyAvLyBVc2UgU3ltYm9sLmZvciBpbiBkZXYgbW9kZSB0byBtYWtlIGl0IGVhc2llciB0byBtYWludGFpbiBzdGF0ZVxuICAgICAgICAgIC8vIHdoZW4gZG9pbmcgSE1SLlxuICAgICAgICAgIFN5bWJvbC5mb3IoYCR7U3RyaW5nKG5hbWUpfSAoQHByb3BlcnR5KCkgY2FjaGUpYClcbiAgICAgICAgOiBTeW1ib2woKTtcbiAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0aGlzLmdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpO1xuICAgICAgaWYgKGRlc2NyaXB0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLnByb3RvdHlwZSwgbmFtZSwgZGVzY3JpcHRvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHRvIGJlIGRlZmluZWQgb24gdGhlIGdpdmVuIG5hbWVkIHByb3BlcnR5LlxuICAgKiBJZiBubyBkZXNjcmlwdG9yIGlzIHJldHVybmVkLCB0aGUgcHJvcGVydHkgd2lsbCBub3QgYmVjb21lIGFuIGFjY2Vzc29yLlxuICAgKiBGb3IgZXhhbXBsZSxcbiAgICpcbiAgICogYGBgdHNcbiAgICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAqICAgc3RhdGljIGdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpIHtcbiAgICogICAgIGNvbnN0IGRlZmF1bHREZXNjcmlwdG9yID1cbiAgICogICAgICAgICBzdXBlci5nZXRQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwga2V5LCBvcHRpb25zKTtcbiAgICogICAgIGNvbnN0IHNldHRlciA9IGRlZmF1bHREZXNjcmlwdG9yLnNldDtcbiAgICogICAgIHJldHVybiB7XG4gICAqICAgICAgIGdldDogZGVmYXVsdERlc2NyaXB0b3IuZ2V0LFxuICAgKiAgICAgICBzZXQodmFsdWUpIHtcbiAgICogICAgICAgICBzZXR0ZXIuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAqICAgICAgICAgLy8gY3VzdG9tIGFjdGlvbi5cbiAgICogICAgICAgfSxcbiAgICogICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgKiAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAqICAgICB9XG4gICAqICAgfVxuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcHJvcGVydGllc1xuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBnZXRQcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgbmFtZTogUHJvcGVydHlLZXksXG4gICAga2V5OiBzdHJpbmcgfCBzeW1ib2wsXG4gICAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvblxuICApOiBQcm9wZXJ0eURlc2NyaXB0b3IgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHtnZXQsIHNldH0gPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcy5wcm90b3R5cGUsIG5hbWUpID8/IHtcbiAgICAgIGdldCh0aGlzOiBSZWFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNba2V5IGFzIGtleW9mIHR5cGVvZiB0aGlzXTtcbiAgICAgIH0sXG4gICAgICBzZXQodGhpczogUmVhY3RpdmVFbGVtZW50LCB2OiB1bmtub3duKSB7XG4gICAgICAgICh0aGlzIGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgdW5rbm93bj4pW2tleV0gPSB2O1xuICAgICAgfSxcbiAgICB9O1xuICAgIGlmIChERVZfTU9ERSAmJiBnZXQgPT0gbnVsbCkge1xuICAgICAgaWYgKCd2YWx1ZScgaW4gKGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLnByb3RvdHlwZSwgbmFtZSkgPz8ge30pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgRmllbGQgJHtKU09OLnN0cmluZ2lmeShTdHJpbmcobmFtZSkpfSBvbiBgICtcbiAgICAgICAgICAgIGAke3RoaXMubmFtZX0gd2FzIGRlY2xhcmVkIGFzIGEgcmVhY3RpdmUgcHJvcGVydHkgYCArXG4gICAgICAgICAgICBgYnV0IGl0J3MgYWN0dWFsbHkgZGVjbGFyZWQgYXMgYSB2YWx1ZSBvbiB0aGUgcHJvdG90eXBlLiBgICtcbiAgICAgICAgICAgIGBVc3VhbGx5IHRoaXMgaXMgZHVlIHRvIHVzaW5nIEBwcm9wZXJ0eSBvciBAc3RhdGUgb24gYSBtZXRob2QuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaXNzdWVXYXJuaW5nKFxuICAgICAgICAncmVhY3RpdmUtcHJvcGVydHktd2l0aG91dC1nZXR0ZXInLFxuICAgICAgICBgRmllbGQgJHtKU09OLnN0cmluZ2lmeShTdHJpbmcobmFtZSkpfSBvbiBgICtcbiAgICAgICAgICBgJHt0aGlzLm5hbWV9IHdhcyBkZWNsYXJlZCBhcyBhIHJlYWN0aXZlIHByb3BlcnR5IGAgK1xuICAgICAgICAgIGBidXQgaXQgZG9lcyBub3QgaGF2ZSBhIGdldHRlci4gVGhpcyB3aWxsIGJlIGFuIGVycm9yIGluIGEgYCArXG4gICAgICAgICAgYGZ1dHVyZSB2ZXJzaW9uIG9mIExpdC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZ2V0KHRoaXM6IFJlYWN0aXZlRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZ2V0Py5jYWxsKHRoaXMpO1xuICAgICAgfSxcbiAgICAgIHNldCh0aGlzOiBSZWFjdGl2ZUVsZW1lbnQsIHZhbHVlOiB1bmtub3duKSB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0Py5jYWxsKHRoaXMpO1xuICAgICAgICBzZXQhLmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUsIG9wdGlvbnMpO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBvcHRpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAqIFRoZXNlIG9wdGlvbnMgYXJlIGRlZmluZWQgd2l0aCBhIGBQcm9wZXJ0eURlY2xhcmF0aW9uYCB2aWEgdGhlIGBwcm9wZXJ0aWVzYFxuICAgKiBvYmplY3Qgb3IgdGhlIGBAcHJvcGVydHlgIGRlY29yYXRvciBhbmQgYXJlIHJlZ2lzdGVyZWQgaW5cbiAgICogYGNyZWF0ZVByb3BlcnR5KC4uLilgLlxuICAgKlxuICAgKiBOb3RlLCB0aGlzIG1ldGhvZCBzaG91bGQgYmUgY29uc2lkZXJlZCBcImZpbmFsXCIgYW5kIG5vdCBvdmVycmlkZGVuLiBUb1xuICAgKiBjdXN0b21pemUgdGhlIG9wdGlvbnMgZm9yIGEgZ2l2ZW4gcHJvcGVydHksIG92ZXJyaWRlXG4gICAqIHtAbGlua2NvZGUgY3JlYXRlUHJvcGVydHl9LlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAZmluYWxcbiAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICovXG4gIHN0YXRpYyBnZXRQcm9wZXJ0eU9wdGlvbnMobmFtZTogUHJvcGVydHlLZXkpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50UHJvcGVydGllcy5nZXQobmFtZSkgPz8gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb247XG4gIH1cblxuICAvLyBUZW1wb3JhcnksIHVudGlsIGdvb2dsZTMgaXMgb24gVHlwZVNjcmlwdCA1LjJcbiAgZGVjbGFyZSBzdGF0aWMgW1N5bWJvbC5tZXRhZGF0YV06IG9iamVjdCAmIFJlY29yZDxQcm9wZXJ0eUtleSwgdW5rbm93bj47XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHN0YXRpYyBvd24gcHJvcGVydGllcyBvZiB0aGUgY2xhc3MgdXNlZCBpbiBib29ra2VlcGluZ1xuICAgKiBmb3IgZWxlbWVudCBwcm9wZXJ0aWVzLCBpbml0aWFsaXplcnMsIGV0Yy5cbiAgICpcbiAgICogQ2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBieSBjb2RlIHRoYXQgbmVlZHMgdG8gZW5zdXJlIHRoZXNlXG4gICAqIHByb3BlcnRpZXMgZXhpc3QgYmVmb3JlIHVzaW5nIHRoZW0uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGVuc3VyZXMgdGhlIHN1cGVyY2xhc3MgaXMgZmluYWxpemVkIHNvIHRoYXQgaW5oZXJpdGVkXG4gICAqIHByb3BlcnR5IG1ldGFkYXRhIGNhbiBiZSBjb3BpZWQgZG93bi5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9fcHJlcGFyZSgpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2VsZW1lbnRQcm9wZXJ0aWVzJywgdGhpcykpXG4gICAgKSB7XG4gICAgICAvLyBBbHJlYWR5IHByZXBhcmVkXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEZpbmFsaXplIGFueSBzdXBlcmNsYXNzZXNcbiAgICBjb25zdCBzdXBlckN0b3IgPSBnZXRQcm90b3R5cGVPZih0aGlzKSBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgIHN1cGVyQ3Rvci5maW5hbGl6ZSgpO1xuXG4gICAgLy8gQ3JlYXRlIG93biBzZXQgb2YgaW5pdGlhbGl6ZXJzIGZvciB0aGlzIGNsYXNzIGlmIGFueSBleGlzdCBvbiB0aGVcbiAgICAvLyBzdXBlcmNsYXNzIGFuZCBjb3B5IHRoZW0gZG93bi4gTm90ZSwgZm9yIGEgc21hbGwgcGVyZiBib29zdCwgYXZvaWRcbiAgICAvLyBjcmVhdGluZyBpbml0aWFsaXplcnMgdW5sZXNzIG5lZWRlZC5cbiAgICBpZiAoc3VwZXJDdG9yLl9pbml0aWFsaXplcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5faW5pdGlhbGl6ZXJzID0gWy4uLnN1cGVyQ3Rvci5faW5pdGlhbGl6ZXJzXTtcbiAgICB9XG4gICAgLy8gSW5pdGlhbGl6ZSBlbGVtZW50UHJvcGVydGllcyBmcm9tIHRoZSBzdXBlcmNsYXNzXG4gICAgdGhpcy5lbGVtZW50UHJvcGVydGllcyA9IG5ldyBNYXAoc3VwZXJDdG9yLmVsZW1lbnRQcm9wZXJ0aWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5pc2hlcyBzZXR0aW5nIHVwIHRoZSBjbGFzcyBzbyB0aGF0IGl0J3MgcmVhZHkgdG8gYmUgcmVnaXN0ZXJlZFxuICAgKiBhcyBhIGN1c3RvbSBlbGVtZW50IGFuZCBpbnN0YW50aWF0ZWQuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB0aGUgUmVhY3RpdmVFbGVtZW50Lm9ic2VydmVkQXR0cmlidXRlcyBnZXR0ZXIuXG4gICAqIElmIHlvdSBvdmVycmlkZSB0aGUgb2JzZXJ2ZWRBdHRyaWJ1dGVzIGdldHRlciwgeW91IG11c3QgZWl0aGVyIGNhbGxcbiAgICogc3VwZXIub2JzZXJ2ZWRBdHRyaWJ1dGVzIHRvIHRyaWdnZXIgZmluYWxpemF0aW9uLCBvciBjYWxsIGZpbmFsaXplKClcbiAgICogeW91cnNlbGYuXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGZpbmFsaXplKCkge1xuICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2ZpbmFsaXplZCcsIHRoaXMpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XG4gICAgdGhpcy5fX3ByZXBhcmUoKTtcblxuICAgIC8vIENyZWF0ZSBwcm9wZXJ0aWVzIGZyb20gdGhlIHN0YXRpYyBwcm9wZXJ0aWVzIGJsb2NrOlxuICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3Byb3BlcnRpZXMnLCB0aGlzKSkpIHtcbiAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgY29uc3QgcHJvcEtleXMgPSBbXG4gICAgICAgIC4uLmdldE93blByb3BlcnR5TmFtZXMocHJvcHMpLFxuICAgICAgICAuLi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocHJvcHMpLFxuICAgICAgXSBhcyBBcnJheTxrZXlvZiB0eXBlb2YgcHJvcHM+O1xuICAgICAgZm9yIChjb25zdCBwIG9mIHByb3BLZXlzKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUHJvcGVydHkocCwgcHJvcHNbcF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBwcm9wZXJ0aWVzIGZyb20gc3RhbmRhcmQgZGVjb3JhdG9yIG1ldGFkYXRhOlxuICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpc1tTeW1ib2wubWV0YWRhdGFdO1xuICAgIGlmIChtZXRhZGF0YSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IGxpdFByb3BlcnR5TWV0YWRhdGEuZ2V0KG1ldGFkYXRhKTtcbiAgICAgIGlmIChwcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBbcCwgb3B0aW9uc10gb2YgcHJvcGVydGllcykge1xuICAgICAgICAgIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuc2V0KHAsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBhdHRyaWJ1dGUtdG8tcHJvcGVydHkgbWFwXG4gICAgdGhpcy5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBbcCwgb3B0aW9uc10gb2YgdGhpcy5lbGVtZW50UHJvcGVydGllcykge1xuICAgICAgY29uc3QgYXR0ciA9IHRoaXMuX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocCwgb3B0aW9ucyk7XG4gICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLnNldChhdHRyLCBwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnRTdHlsZXMgPSB0aGlzLmZpbmFsaXplU3R5bGVzKHRoaXMuc3R5bGVzKTtcblxuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoJ2NyZWF0ZVByb3BlcnR5JykpIHtcbiAgICAgICAgaXNzdWVXYXJuaW5nKFxuICAgICAgICAgICduby1vdmVycmlkZS1jcmVhdGUtcHJvcGVydHknLFxuICAgICAgICAgICdPdmVycmlkaW5nIFJlYWN0aXZlRWxlbWVudC5jcmVhdGVQcm9wZXJ0eSgpIGlzIGRlcHJlY2F0ZWQuICcgK1xuICAgICAgICAgICAgJ1RoZSBvdmVycmlkZSB3aWxsIG5vdCBiZSBjYWxsZWQgd2l0aCBzdGFuZGFyZCBkZWNvcmF0b3JzJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoJ2dldFByb3BlcnR5RGVzY3JpcHRvcicpKSB7XG4gICAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgICAnbm8tb3ZlcnJpZGUtZ2V0LXByb3BlcnR5LWRlc2NyaXB0b3InLFxuICAgICAgICAgICdPdmVycmlkaW5nIFJlYWN0aXZlRWxlbWVudC5nZXRQcm9wZXJ0eURlc2NyaXB0b3IoKSBpcyBkZXByZWNhdGVkLiAnICtcbiAgICAgICAgICAgICdUaGUgb3ZlcnJpZGUgd2lsbCBub3QgYmUgY2FsbGVkIHdpdGggc3RhbmRhcmQgZGVjb3JhdG9ycydcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT3B0aW9ucyB1c2VkIHdoZW4gY2FsbGluZyBgYXR0YWNoU2hhZG93YC4gU2V0IHRoaXMgcHJvcGVydHkgdG8gY3VzdG9taXplXG4gICAqIHRoZSBvcHRpb25zIGZvciB0aGUgc2hhZG93Um9vdDsgZm9yIGV4YW1wbGUsIHRvIGNyZWF0ZSBhIGNsb3NlZFxuICAgKiBzaGFkb3dSb290OiBge21vZGU6ICdjbG9zZWQnfWAuXG4gICAqXG4gICAqIE5vdGUsIHRoZXNlIG9wdGlvbnMgYXJlIHVzZWQgaW4gYGNyZWF0ZVJlbmRlclJvb3RgLiBJZiB0aGlzIG1ldGhvZFxuICAgKiBpcyBjdXN0b21pemVkLCBvcHRpb25zIHNob3VsZCBiZSByZXNwZWN0ZWQgaWYgcG9zc2libGUuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHN0YXRpYyBzaGFkb3dSb290T3B0aW9uczogU2hhZG93Um9vdEluaXQgPSB7bW9kZTogJ29wZW4nfTtcblxuICAvKipcbiAgICogVGFrZXMgdGhlIHN0eWxlcyB0aGUgdXNlciBzdXBwbGllZCB2aWEgdGhlIGBzdGF0aWMgc3R5bGVzYCBwcm9wZXJ0eSBhbmRcbiAgICogcmV0dXJucyB0aGUgYXJyYXkgb2Ygc3R5bGVzIHRvIGFwcGx5IHRvIHRoZSBlbGVtZW50LlxuICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBpbnRlZ3JhdGUgaW50byBhIHN0eWxlIG1hbmFnZW1lbnQgc3lzdGVtLlxuICAgKlxuICAgKiBTdHlsZXMgYXJlIGRlZHVwbGljYXRlZCBwcmVzZXJ2aW5nIHRoZSBfbGFzdF8gaW5zdGFuY2UgaW4gdGhlIGxpc3QuIFRoaXNcbiAgICogaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdG8gYXZvaWQgZHVwbGljYXRlZCBzdHlsZXMgdGhhdCBjYW4gb2NjdXJcbiAgICogZXNwZWNpYWxseSB3aGVuIGNvbXBvc2luZyB2aWEgc3ViY2xhc3NpbmcuIFRoZSBsYXN0IGl0ZW0gaXMga2VwdCB0byB0cnlcbiAgICogdG8gcHJlc2VydmUgdGhlIGNhc2NhZGUgb3JkZXIgd2l0aCB0aGUgYXNzdW1wdGlvbiB0aGF0IGl0J3MgbW9zdCBpbXBvcnRhbnRcbiAgICogdGhhdCBsYXN0IGFkZGVkIHN0eWxlcyBvdmVycmlkZSBwcmV2aW91cyBzdHlsZXMuXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBzdHlsZXNcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemVTdHlsZXMoXG4gICAgc3R5bGVzPzogQ1NTUmVzdWx0R3JvdXBcbiAgKTogQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmU+IHtcbiAgICBjb25zdCBlbGVtZW50U3R5bGVzID0gW107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGVzKSkge1xuICAgICAgLy8gRGVkdXBlIHRoZSBmbGF0dGVuZWQgYXJyYXkgaW4gcmV2ZXJzZSBvcmRlciB0byBwcmVzZXJ2ZSB0aGUgbGFzdCBpdGVtcy5cbiAgICAgIC8vIENhc3RpbmcgdG8gQXJyYXk8dW5rbm93bj4gd29ya3MgYXJvdW5kIFRTIGVycm9yIHRoYXRcbiAgICAgIC8vIGFwcGVhcnMgdG8gY29tZSBmcm9tIHRyeWluZyB0byBmbGF0dGVuIGEgdHlwZSBDU1NSZXN1bHRBcnJheS5cbiAgICAgIGNvbnN0IHNldCA9IG5ldyBTZXQoKHN0eWxlcyBhcyBBcnJheTx1bmtub3duPikuZmxhdChJbmZpbml0eSkucmV2ZXJzZSgpKTtcbiAgICAgIC8vIFRoZW4gcHJlc2VydmUgb3JpZ2luYWwgb3JkZXIgYnkgYWRkaW5nIHRoZSBzZXQgaXRlbXMgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgIGZvciAoY29uc3QgcyBvZiBzZXQpIHtcbiAgICAgICAgZWxlbWVudFN0eWxlcy51bnNoaWZ0KGdldENvbXBhdGlibGVTdHlsZShzIGFzIENTU1Jlc3VsdE9yTmF0aXZlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdHlsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZWxlbWVudFN0eWxlcy5wdXNoKGdldENvbXBhdGlibGVTdHlsZShzdHlsZXMpKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnRTdHlsZXM7XG4gIH1cblxuICAvKipcbiAgICogTm9kZSBvciBTaGFkb3dSb290IGludG8gd2hpY2ggZWxlbWVudCBET00gc2hvdWxkIGJlIHJlbmRlcmVkLiBEZWZhdWx0c1xuICAgKiB0byBhbiBvcGVuIHNoYWRvd1Jvb3QuXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHJlYWRvbmx5IHJlbmRlclJvb3QhOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQ7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgYG5hbWVgLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkoXG4gICAgbmFtZTogUHJvcGVydHlLZXksXG4gICAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvblxuICApIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcbiAgICByZXR1cm4gYXR0cmlidXRlID09PSBmYWxzZVxuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDogdHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZydcbiAgICAgID8gYXR0cmlidXRlXG4gICAgICA6IHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJ1xuICAgICAgPyBuYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSB0byBhbiB1bnJlc29sdmVkIFByb21pc2Ugc28gd2UgY2FuIG1ha2Ugc3VyZSB0aGUgZWxlbWVudCBoYXNcbiAgLy8gY29ubmVjdGVkIGJlZm9yZSBmaXJzdCB1cGRhdGUuXG4gIHByaXZhdGUgX191cGRhdGVQcm9taXNlITogUHJvbWlzZTxib29sZWFuPjtcblxuICAvKipcbiAgICogVHJ1ZSBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgdXBkYXRlIGFzIGEgcmVzdWx0IG9mIGNhbGxpbmcgYHJlcXVlc3RVcGRhdGUoKWAuXG4gICAqIFNob3VsZCBvbmx5IGJlIHJlYWQuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBpc1VwZGF0ZVBlbmRpbmcgPSBmYWxzZTtcblxuICAvKipcbiAgICogSXMgc2V0IHRvIGB0cnVlYCBhZnRlciB0aGUgZmlyc3QgdXBkYXRlLiBUaGUgZWxlbWVudCBjb2RlIGNhbm5vdCBhc3N1bWVcbiAgICogdGhhdCBgcmVuZGVyUm9vdGAgZXhpc3RzIGJlZm9yZSB0aGUgZWxlbWVudCBgaGFzVXBkYXRlZGAuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBoYXNVcGRhdGVkID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIE1hcCB3aXRoIGtleXMgZm9yIGFueSBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0XG4gICAqIHVwZGF0ZSBjeWNsZSB3aXRoIHByZXZpb3VzIHZhbHVlcy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfJGNoYW5nZWRQcm9wZXJ0aWVzITogUHJvcGVydHlWYWx1ZXM7XG5cbiAgLyoqXG4gICAqIFByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgcmVmbGVjdGVkIHdoZW4gdXBkYXRlZC5cbiAgICovXG4gIHByaXZhdGUgX19yZWZsZWN0aW5nUHJvcGVydGllcz86IFNldDxQcm9wZXJ0eUtleT47XG5cbiAgLyoqXG4gICAqIE5hbWUgb2YgY3VycmVudGx5IHJlZmxlY3RpbmcgcHJvcGVydHlcbiAgICovXG4gIHByaXZhdGUgX19yZWZsZWN0aW5nUHJvcGVydHk6IFByb3BlcnR5S2V5IHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiBjb250cm9sbGVycy5cbiAgICovXG4gIHByaXZhdGUgX19jb250cm9sbGVycz86IFNldDxSZWFjdGl2ZUNvbnRyb2xsZXI+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX2luaXRpYWxpemUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm5hbCBvbmx5IG92ZXJyaWRlIHBvaW50IGZvciBjdXN0b21pemluZyB3b3JrIGRvbmUgd2hlbiBlbGVtZW50c1xuICAgKiBhcmUgY29uc3RydWN0ZWQuXG4gICAqL1xuICBwcml2YXRlIF9faW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLl9fdXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlPGJvb2xlYW4+KFxuICAgICAgKHJlcykgPT4gKHRoaXMuZW5hYmxlVXBkYXRpbmcgPSByZXMpXG4gICAgKTtcbiAgICB0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgLy8gVGhpcyBlbnF1ZXVlcyBhIG1pY3JvdGFzayB0aGF0IHVzdCBydW4gYmVmb3JlIHRoZSBmaXJzdCB1cGRhdGUsIHNvIGl0XG4gICAgLy8gbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHJlcXVlc3RVcGRhdGUoKVxuICAgIHRoaXMuX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCk7XG4gICAgLy8gZW5zdXJlcyBmaXJzdCB1cGRhdGUgd2lsbCBiZSBjYXVnaHQgYnkgYW4gZWFybHkgYWNjZXNzIG9mXG4gICAgLy8gYHVwZGF0ZUNvbXBsZXRlYFxuICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLl9pbml0aWFsaXplcnM/LmZvckVhY2goKGkpID0+XG4gICAgICBpKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGUgZWxlbWVudCdzIHJlYWN0aXZlXG4gICAqIHVwZGF0ZSBjeWNsZS4gVGhlIGVsZW1lbnQgYXV0b21hdGljYWxseSBjYWxscyBpbnRvIGFueSByZWdpc3RlcmVkXG4gICAqIGNvbnRyb2xsZXJzIGR1cmluZyBpdHMgbGlmZWN5Y2xlIGNhbGxiYWNrcy5cbiAgICpcbiAgICogSWYgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHdoZW4gYGFkZENvbnRyb2xsZXIoKWAgaXMgY2FsbGVkLCB0aGVcbiAgICogY29udHJvbGxlcidzIGBob3N0Q29ubmVjdGVkKClgIGNhbGxiYWNrIHdpbGwgYmUgaW1tZWRpYXRlbHkgY2FsbGVkLlxuICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICovXG4gIGFkZENvbnRyb2xsZXIoY29udHJvbGxlcjogUmVhY3RpdmVDb250cm9sbGVyKSB7XG4gICAgKHRoaXMuX19jb250cm9sbGVycyA/Pz0gbmV3IFNldCgpKS5hZGQoY29udHJvbGxlcik7XG4gICAgLy8gSWYgYSBjb250cm9sbGVyIGlzIGFkZGVkIGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIGNvbm5lY3RlZCxcbiAgICAvLyBjYWxsIGhvc3RDb25uZWN0ZWQuIE5vdGUsIHJlLXVzaW5nIGV4aXN0ZW5jZSBvZiBgcmVuZGVyUm9vdGAgaGVyZVxuICAgIC8vICh3aGljaCBpcyBzZXQgaW4gY29ubmVjdGVkQ2FsbGJhY2spIHRvIGF2b2lkIHRoZSBuZWVkIHRvIHRyYWNrIGFcbiAgICAvLyBmaXJzdCBjb25uZWN0ZWQgc3RhdGUuXG4gICAgaWYgKHRoaXMucmVuZGVyUm9vdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaXNDb25uZWN0ZWQpIHtcbiAgICAgIGNvbnRyb2xsZXIuaG9zdENvbm5lY3RlZD8uKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCBmcm9tIHRoZSBlbGVtZW50LlxuICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICovXG4gIHJlbW92ZUNvbnRyb2xsZXIoY29udHJvbGxlcjogUmVhY3RpdmVDb250cm9sbGVyKSB7XG4gICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5kZWxldGUoY29udHJvbGxlcik7XG4gIH1cblxuICAvKipcbiAgICogRml4ZXMgYW55IHByb3BlcnRpZXMgc2V0IG9uIHRoZSBpbnN0YW5jZSBiZWZvcmUgdXBncmFkZSB0aW1lLlxuICAgKiBPdGhlcndpc2UgdGhlc2Ugd291bGQgc2hhZG93IHRoZSBhY2Nlc3NvciBhbmQgYnJlYWsgdGhlc2UgcHJvcGVydGllcy5cbiAgICogVGhlIHByb3BlcnRpZXMgYXJlIHN0b3JlZCBpbiBhIE1hcCB3aGljaCBpcyBwbGF5ZWQgYmFjayBhZnRlciB0aGVcbiAgICogY29uc3RydWN0b3IgcnVucy4gTm90ZSwgb24gdmVyeSBvbGQgdmVyc2lvbnMgb2YgU2FmYXJpICg8PTkpIG9yIENocm9tZVxuICAgKiAoPD00MSksIHByb3BlcnRpZXMgY3JlYXRlZCBmb3IgbmF0aXZlIHBsYXRmb3JtIHByb3BlcnRpZXMgbGlrZSAoYGlkYCBvclxuICAgKiBgbmFtZWApIG1heSBub3QgaGF2ZSBkZWZhdWx0IHZhbHVlcyBzZXQgaW4gdGhlIGVsZW1lbnQgY29uc3RydWN0b3IuIE9uXG4gICAqIHRoZXNlIGJyb3dzZXJzIG5hdGl2ZSBwcm9wZXJ0aWVzIGFwcGVhciBvbiBpbnN0YW5jZXMgYW5kIHRoZXJlZm9yZSB0aGVpclxuICAgKiBkZWZhdWx0IHZhbHVlIHdpbGwgb3ZlcndyaXRlIGFueSBlbGVtZW50IGRlZmF1bHQgKGUuZy4gaWYgdGhlIGVsZW1lbnQgc2V0c1xuICAgKiB0aGlzLmlkID0gJ2lkJyBpbiB0aGUgY29uc3RydWN0b3IsIHRoZSAnaWQnIHdpbGwgYmVjb21lICcnIHNpbmNlIHRoaXMgaXNcbiAgICogdGhlIG5hdGl2ZSBwbGF0Zm9ybSBkZWZhdWx0KS5cbiAgICovXG4gIHByaXZhdGUgX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgIGNvbnN0IGluc3RhbmNlUHJvcGVydGllcyA9IG5ldyBNYXA8UHJvcGVydHlLZXksIHVua25vd24+KCk7XG4gICAgY29uc3QgZWxlbWVudFByb3BlcnRpZXMgPSAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KVxuICAgICAgLmVsZW1lbnRQcm9wZXJ0aWVzO1xuICAgIGZvciAoY29uc3QgcCBvZiBlbGVtZW50UHJvcGVydGllcy5rZXlzKCkgYXMgSXRlcmFibGVJdGVyYXRvcjxrZXlvZiB0aGlzPikge1xuICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgaW5zdGFuY2VQcm9wZXJ0aWVzLnNldChwLCB0aGlzW3BdKTtcbiAgICAgICAgZGVsZXRlIHRoaXNbcF07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZVByb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSBpbnN0YW5jZVByb3BlcnRpZXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG5vZGUgaW50byB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgcmVuZGVyIGFuZCBieSBkZWZhdWx0XG4gICAqIGNyZWF0ZXMgYW5kIHJldHVybnMgYW4gb3BlbiBzaGFkb3dSb290LiBJbXBsZW1lbnQgdG8gY3VzdG9taXplIHdoZXJlIHRoZVxuICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgKiBjaGlsZE5vZGVzLCByZXR1cm4gYHRoaXNgLlxuICAgKlxuICAgKiBAcmV0dXJuIFJldHVybnMgYSBub2RlIGludG8gd2hpY2ggdG8gcmVuZGVyLlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgY3JlYXRlUmVuZGVyUm9vdCgpOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQge1xuICAgIGNvbnN0IHJlbmRlclJvb3QgPVxuICAgICAgdGhpcy5zaGFkb3dSb290ID8/XG4gICAgICB0aGlzLmF0dGFjaFNoYWRvdyhcbiAgICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuc2hhZG93Um9vdE9wdGlvbnNcbiAgICAgICk7XG4gICAgYWRvcHRTdHlsZXMoXG4gICAgICByZW5kZXJSb290LFxuICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuZWxlbWVudFN0eWxlc1xuICAgICk7XG4gICAgcmV0dXJuIHJlbmRlclJvb3Q7XG4gIH1cblxuICAvKipcbiAgICogT24gZmlyc3QgY29ubmVjdGlvbiwgY3JlYXRlcyB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QsIHNldHMgdXBcbiAgICogZWxlbWVudCBzdHlsaW5nLCBhbmQgZW5hYmxlcyB1cGRhdGluZy5cbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgLy8gQ3JlYXRlIHJlbmRlclJvb3QgYmVmb3JlIGNvbnRyb2xsZXJzIGBob3N0Q29ubmVjdGVkYFxuICAgICh0aGlzIGFzIE11dGFibGU8dHlwZW9mIHRoaXMsICdyZW5kZXJSb290Jz4pLnJlbmRlclJvb3QgPz89XG4gICAgICB0aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICB0aGlzLmVuYWJsZVVwZGF0aW5nKHRydWUpO1xuICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0Q29ubmVjdGVkPy4oKSk7XG4gIH1cblxuICAvKipcbiAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZmluYWwgYW5kIG5vdCBvdmVycmlkZGVuLiBJdCBpc1xuICAgKiBvdmVycmlkZGVuIG9uIHRoZSBlbGVtZW50IGluc3RhbmNlIHdpdGggYSBmdW5jdGlvbiB0aGF0IHRyaWdnZXJzIHRoZSBmaXJzdFxuICAgKiB1cGRhdGUuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgZW5hYmxlVXBkYXRpbmcoX3JlcXVlc3RlZFVwZGF0ZTogYm9vbGVhbikge31cblxuICAvKipcbiAgICogQWxsb3dzIGZvciBgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgaW4gZXh0ZW5zaW9ucyB3aGlsZVxuICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5mb3JFYWNoKChjKSA9PiBjLmhvc3REaXNjb25uZWN0ZWQ/LigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTeW5jaHJvbml6ZXMgcHJvcGVydHkgdmFsdWVzIHdoZW4gYXR0cmlidXRlcyBjaGFuZ2UuXG4gICAqXG4gICAqIFNwZWNpZmljYWxseSwgd2hlbiBhbiBhdHRyaWJ1dGUgaXMgc2V0LCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpcyBzZXQuXG4gICAqIFlvdSBzaG91bGQgcmFyZWx5IG5lZWQgdG8gaW1wbGVtZW50IHRoaXMgY2FsbGJhY2suIElmIHRoaXMgbWV0aG9kIGlzXG4gICAqIG92ZXJyaWRkZW4sIGBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgX29sZCwgdmFsdWUpYCBtdXN0IGJlXG4gICAqIGNhbGxlZC5cbiAgICpcbiAgICogU2VlIFt1c2luZyB0aGUgbGlmZWN5Y2xlIGNhbGxiYWNrc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvV2ViX0NvbXBvbmVudHMvVXNpbmdfY3VzdG9tX2VsZW1lbnRzI3VzaW5nX3RoZV9saWZlY3ljbGVfY2FsbGJhY2tzKVxuICAgKiBvbiBNRE4gZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLlxuICAgKiBAY2F0ZWdvcnkgYXR0cmlidXRlc1xuICAgKi9cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBfb2xkOiBzdHJpbmcgfCBudWxsLFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudWxsXG4gICkge1xuICAgIHRoaXMuXyRhdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgX19wcm9wZXJ0eVRvQXR0cmlidXRlKG5hbWU6IFByb3BlcnR5S2V5LCB2YWx1ZTogdW5rbm93bikge1xuICAgIGNvbnN0IGVsZW1Qcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwID0gKFxuICAgICAgdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50XG4gICAgKS5lbGVtZW50UHJvcGVydGllcztcbiAgICBjb25zdCBvcHRpb25zID0gZWxlbVByb3BlcnRpZXMuZ2V0KG5hbWUpITtcbiAgICBjb25zdCBhdHRyID0gKFxuICAgICAgdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50XG4gICAgKS5fX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMucmVmbGVjdCA9PT0gdHJ1ZSkge1xuICAgICAgY29uc3QgY29udmVydGVyID1cbiAgICAgICAgKG9wdGlvbnMuY29udmVydGVyIGFzIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXIpPy50b0F0dHJpYnV0ZSAhPT1cbiAgICAgICAgdW5kZWZpbmVkXG4gICAgICAgICAgPyAob3B0aW9ucy5jb252ZXJ0ZXIgYXMgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcilcbiAgICAgICAgICA6IGRlZmF1bHRDb252ZXJ0ZXI7XG4gICAgICBjb25zdCBhdHRyVmFsdWUgPSBjb252ZXJ0ZXIudG9BdHRyaWJ1dGUhKHZhbHVlLCBvcHRpb25zLnR5cGUpO1xuICAgICAgaWYgKFxuICAgICAgICBERVZfTU9ERSAmJlxuICAgICAgICAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KS5lbmFibGVkV2FybmluZ3MhLmluY2x1ZGVzKFxuICAgICAgICAgICdtaWdyYXRpb24nXG4gICAgICAgICkgJiZcbiAgICAgICAgYXR0clZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgICkge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICAgJ3VuZGVmaW5lZC1hdHRyaWJ1dGUtdmFsdWUnLFxuICAgICAgICAgIGBUaGUgYXR0cmlidXRlIHZhbHVlIGZvciB0aGUgJHtuYW1lIGFzIHN0cmluZ30gcHJvcGVydHkgaXMgYCArXG4gICAgICAgICAgICBgdW5kZWZpbmVkIG9uIGVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0uIFRoZSBhdHRyaWJ1dGUgd2lsbCBiZSBgICtcbiAgICAgICAgICAgIGByZW1vdmVkLCBidXQgaW4gdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgXFxgUmVhY3RpdmVFbGVtZW50XFxgLCBgICtcbiAgICAgICAgICAgIGB0aGUgYXR0cmlidXRlIHdvdWxkIG5vdCBoYXZlIGNoYW5nZWQuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgLy8gVHJhY2sgaWYgdGhlIHByb3BlcnR5IGlzIGJlaW5nIHJlZmxlY3RlZCB0byBhdm9pZFxuICAgICAgLy8gc2V0dGluZyB0aGUgcHJvcGVydHkgYWdhaW4gdmlhIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLiBOb3RlOlxuICAgICAgLy8gMS4gdGhpcyB0YWtlcyBhZHZhbnRhZ2Ugb2YgdGhlIGZhY3QgdGhhdCB0aGUgY2FsbGJhY2sgaXMgc3luY2hyb25vdXMuXG4gICAgICAvLyAyLiB3aWxsIGJlaGF2ZSBpbmNvcnJlY3RseSBpZiBtdWx0aXBsZSBhdHRyaWJ1dGVzIGFyZSBpbiB0aGUgcmVhY3Rpb25cbiAgICAgIC8vIHN0YWNrIGF0IHRpbWUgb2YgY2FsbGluZy4gSG93ZXZlciwgc2luY2Ugd2UgcHJvY2VzcyBhdHRyaWJ1dGVzXG4gICAgICAvLyBpbiBgdXBkYXRlYCB0aGlzIHNob3VsZCBub3QgYmUgcG9zc2libGUgKG9yIGFuIGV4dHJlbWUgY29ybmVyIGNhc2VcbiAgICAgIC8vIHRoYXQgd2UnZCBsaWtlIHRvIGRpc2NvdmVyKS5cbiAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IG5hbWU7XG4gICAgICBpZiAoYXR0clZhbHVlID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyVmFsdWUgYXMgc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRhdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG51bGwpIHtcbiAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgIC8vIE5vdGUsIGhpbnQgdGhpcyBhcyBhbiBgQXR0cmlidXRlTWFwYCBzbyBjbG9zdXJlIGNsZWFybHkgdW5kZXJzdGFuZHNcbiAgICAvLyB0aGUgdHlwZTsgaXQgaGFzIGlzc3VlcyB3aXRoIHRyYWNraW5nIHR5cGVzIHRocm91Z2ggc3RhdGljc1xuICAgIGNvbnN0IHByb3BOYW1lID0gKGN0b3IuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwIGFzIEF0dHJpYnV0ZU1hcCkuZ2V0KG5hbWUpO1xuICAgIC8vIFVzZSB0cmFja2luZyBpbmZvIHRvIGF2b2lkIHJlZmxlY3RpbmcgYSBwcm9wZXJ0eSB2YWx1ZSB0byBhbiBhdHRyaWJ1dGVcbiAgICAvLyBpZiBpdCB3YXMganVzdCBzZXQgYmVjYXVzZSB0aGUgYXR0cmlidXRlIGNoYW5nZWQuXG4gICAgaWYgKHByb3BOYW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSAhPT0gcHJvcE5hbWUpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBjdG9yLmdldFByb3BlcnR5T3B0aW9ucyhwcm9wTmFtZSk7XG4gICAgICBjb25zdCBjb252ZXJ0ZXIgPVxuICAgICAgICB0eXBlb2Ygb3B0aW9ucy5jb252ZXJ0ZXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICA/IHtmcm9tQXR0cmlidXRlOiBvcHRpb25zLmNvbnZlcnRlcn1cbiAgICAgICAgICA6IG9wdGlvbnMuY29udmVydGVyPy5mcm9tQXR0cmlidXRlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IG9wdGlvbnMuY29udmVydGVyXG4gICAgICAgICAgOiBkZWZhdWx0Q29udmVydGVyO1xuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gcHJvcE5hbWU7XG4gICAgICB0aGlzW3Byb3BOYW1lIGFzIGtleW9mIHRoaXNdID0gY29udmVydGVyLmZyb21BdHRyaWJ1dGUhKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgb3B0aW9ucy50eXBlXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICApIGFzIGFueTtcbiAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0cyBhbiB1cGRhdGUgd2hpY2ggaXMgcHJvY2Vzc2VkIGFzeW5jaHJvbm91c2x5LiBUaGlzIHNob3VsZCBiZSBjYWxsZWRcbiAgICogd2hlbiBhbiBlbGVtZW50IHNob3VsZCB1cGRhdGUgYmFzZWQgb24gc29tZSBzdGF0ZSBub3QgdHJpZ2dlcmVkIGJ5IHNldHRpbmdcbiAgICogYSByZWFjdGl2ZSBwcm9wZXJ0eS4gSW4gdGhpcyBjYXNlLCBwYXNzIG5vIGFyZ3VtZW50cy4gSXQgc2hvdWxkIGFsc28gYmVcbiAgICogY2FsbGVkIHdoZW4gbWFudWFsbHkgaW1wbGVtZW50aW5nIGEgcHJvcGVydHkgc2V0dGVyLiBJbiB0aGlzIGNhc2UsIHBhc3MgdGhlXG4gICAqIHByb3BlcnR5IGBuYW1lYCBhbmQgYG9sZFZhbHVlYCB0byBlbnN1cmUgdGhhdCBhbnkgY29uZmlndXJlZCBwcm9wZXJ0eVxuICAgKiBvcHRpb25zIGFyZSBob25vcmVkLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICogQHBhcmFtIG9sZFZhbHVlIG9sZCB2YWx1ZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAqIEBwYXJhbSBvcHRpb25zIHByb3BlcnR5IG9wdGlvbnMgdG8gdXNlIGluc3RlYWQgb2YgdGhlIHByZXZpb3VzbHlcbiAgICogICAgIGNvbmZpZ3VyZWQgb3B0aW9uc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcmVxdWVzdFVwZGF0ZShcbiAgICBuYW1lPzogUHJvcGVydHlLZXksXG4gICAgb2xkVmFsdWU/OiB1bmtub3duLFxuICAgIG9wdGlvbnM/OiBQcm9wZXJ0eURlY2xhcmF0aW9uXG4gICk6IHZvaWQge1xuICAgIC8vIElmIHdlIGhhdmUgYSBwcm9wZXJ0eSBrZXksIHBlcmZvcm0gcHJvcGVydHkgdXBkYXRlIHN0ZXBzLlxuICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChERVZfTU9ERSAmJiAobmFtZSBhcyB1bmtub3duKSBpbnN0YW5jZW9mIEV2ZW50KSB7XG4gICAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgICBgYCxcbiAgICAgICAgICBgVGhlIHJlcXVlc3RVcGRhdGUoKSBtZXRob2Qgd2FzIGNhbGxlZCB3aXRoIGFuIEV2ZW50IGFzIHRoZSBwcm9wZXJ0eSBuYW1lLiBUaGlzIGlzIHByb2JhYmx5IGEgbWlzdGFrZSBjYXVzZWQgYnkgYmluZGluZyB0aGlzLnJlcXVlc3RVcGRhdGUgYXMgYW4gZXZlbnQgbGlzdGVuZXIuIEluc3RlYWQgYmluZCBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBjYWxsIGl0IHdpdGggbm8gYXJndW1lbnRzOiAoKSA9PiB0aGlzLnJlcXVlc3RVcGRhdGUoKWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMgPz89IChcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50XG4gICAgICApLmdldFByb3BlcnR5T3B0aW9ucyhuYW1lKTtcbiAgICAgIGNvbnN0IGhhc0NoYW5nZWQgPSBvcHRpb25zLmhhc0NoYW5nZWQgPz8gbm90RXF1YWw7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IHRoaXNbbmFtZSBhcyBrZXlvZiB0aGlzXTtcbiAgICAgIGlmIChoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgdGhpcy5fJGNoYW5nZVByb3BlcnR5KG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFib3J0IHRoZSByZXF1ZXN0IGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgY2hhbmdlZC5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5pc1VwZGF0ZVBlbmRpbmcgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLl9fdXBkYXRlUHJvbWlzZSA9IHRoaXMuX19lbnF1ZXVlVXBkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgXyRjaGFuZ2VQcm9wZXJ0eShcbiAgICBuYW1lOiBQcm9wZXJ0eUtleSxcbiAgICBvbGRWYWx1ZTogdW5rbm93bixcbiAgICBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uXG4gICkge1xuICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBDcmVhdGUgYSBiZW5jaG1hcmsgb2YgTWFwLmhhcygpICsgTWFwLnNldChcbiAgICAvLyB2cyBqdXN0IE1hcC5zZXQoKVxuICAgIGlmICghdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhuYW1lKSkge1xuICAgICAgdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzLnNldChuYW1lLCBvbGRWYWx1ZSk7XG4gICAgfVxuICAgIC8vIEFkZCB0byByZWZsZWN0aW5nIHByb3BlcnRpZXMgc2V0LlxuICAgIC8vIE5vdGUsIGl0J3MgaW1wb3J0YW50IHRoYXQgZXZlcnkgY2hhbmdlIGhhcyBhIGNoYW5jZSB0byBhZGQgdGhlXG4gICAgLy8gcHJvcGVydHkgdG8gYF9fcmVmbGVjdGluZ1Byb3BlcnRpZXNgLiBUaGlzIGVuc3VyZXMgc2V0dGluZ1xuICAgIC8vIGF0dHJpYnV0ZSArIHByb3BlcnR5IHJlZmxlY3RzIGNvcnJlY3RseS5cbiAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB0cnVlICYmIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgIT09IG5hbWUpIHtcbiAgICAgICh0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPz89IG5ldyBTZXQ8UHJvcGVydHlLZXk+KCkpLmFkZChuYW1lKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCB0aGUgZWxlbWVudCB0byBhc3luY2hyb25vdXNseSB1cGRhdGUuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIF9fZW5xdWV1ZVVwZGF0ZSgpIHtcbiAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEVuc3VyZSBhbnkgcHJldmlvdXMgdXBkYXRlIGhhcyByZXNvbHZlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgICAvLyBUaGlzIGBhd2FpdGAgYWxzbyBlbnN1cmVzIHRoYXQgcHJvcGVydHkgY2hhbmdlcyBhcmUgYmF0Y2hlZC5cbiAgICAgIGF3YWl0IHRoaXMuX191cGRhdGVQcm9taXNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFJlZmlyZSBhbnkgcHJldmlvdXMgZXJyb3JzIGFzeW5jIHNvIHRoZXkgZG8gbm90IGRpc3J1cHQgdGhlIHVwZGF0ZVxuICAgICAgLy8gY3ljbGUuIEVycm9ycyBhcmUgcmVmaXJlZCBzbyBkZXZlbG9wZXJzIGhhdmUgYSBjaGFuY2UgdG8gb2JzZXJ2ZVxuICAgICAgLy8gdGhlbSwgYW5kIHRoaXMgY2FuIGJlIGRvbmUgYnkgaW1wbGVtZW50aW5nXG4gICAgICAvLyBgd2luZG93Lm9udW5oYW5kbGVkcmVqZWN0aW9uYC5cbiAgICAgIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgLy8gSWYgYHNjaGVkdWxlVXBkYXRlYCByZXR1cm5zIGEgUHJvbWlzZSwgd2UgYXdhaXQgaXQuIFRoaXMgaXMgZG9uZSB0b1xuICAgIC8vIGVuYWJsZSBjb29yZGluYXRpbmcgdXBkYXRlcyB3aXRoIGEgc2NoZWR1bGVyLiBOb3RlLCB0aGUgcmVzdWx0IGlzXG4gICAgLy8gY2hlY2tlZCB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZCB0by5cbiAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgIGF3YWl0IHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuICF0aGlzLmlzVXBkYXRlUGVuZGluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYW4gZWxlbWVudCB1cGRhdGUuIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoZVxuICAgKiB0aW1pbmcgb2YgdXBkYXRlcyBieSByZXR1cm5pbmcgYSBQcm9taXNlLiBUaGUgdXBkYXRlIHdpbGwgYXdhaXQgdGhlXG4gICAqIHJldHVybmVkIFByb21pc2UsIGFuZCB5b3Ugc2hvdWxkIHJlc29sdmUgdGhlIFByb21pc2UgdG8gYWxsb3cgdGhlIHVwZGF0ZVxuICAgKiB0byBwcm9jZWVkLiBJZiB0aGlzIG1ldGhvZCBpcyBvdmVycmlkZGVuLCBgc3VwZXIuc2NoZWR1bGVVcGRhdGUoKWBcbiAgICogbXVzdCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEZvciBpbnN0YW5jZSwgdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICpcbiAgICogYGBgdHNcbiAgICogb3ZlcnJpZGUgcHJvdGVjdGVkIGFzeW5jIHNjaGVkdWxlVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAqICAgc3VwZXIuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBzY2hlZHVsZVVwZGF0ZSgpOiB2b2lkIHwgUHJvbWlzZTx1bmtub3duPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wZXJmb3JtVXBkYXRlKCk7XG4gICAgaWYgKFxuICAgICAgREVWX01PREUgJiZcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMoXG4gICAgICAgICdhc3luYy1wZXJmb3JtLXVwZGF0ZSdcbiAgICAgICkgJiZcbiAgICAgIHR5cGVvZiAocmVzdWx0IGFzIHVua25vd24gYXMgUHJvbWlzZTx1bmtub3duPiB8IHVuZGVmaW5lZCk/LnRoZW4gPT09XG4gICAgICAgICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgJ2FzeW5jLXBlcmZvcm0tdXBkYXRlJyxcbiAgICAgICAgYEVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0gcmV0dXJuZWQgYSBQcm9taXNlIGZyb20gcGVyZm9ybVVwZGF0ZSgpLiBgICtcbiAgICAgICAgICBgVGhpcyBiZWhhdmlvciBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgYCArXG4gICAgICAgICAgYHZlcnNpb24gb2YgUmVhY3RpdmVFbGVtZW50LmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYW4gZWxlbWVudCB1cGRhdGUuIE5vdGUsIGlmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZHVyaW5nIHRoZVxuICAgKiB1cGRhdGUsIGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgKlxuICAgKiBDYWxsIGBwZXJmb3JtVXBkYXRlKClgIHRvIGltbWVkaWF0ZWx5IHByb2Nlc3MgYSBwZW5kaW5nIHVwZGF0ZS4gVGhpcyBzaG91bGRcbiAgICogZ2VuZXJhbGx5IG5vdCBiZSBuZWVkZWQsIGJ1dCBpdCBjYW4gYmUgZG9uZSBpbiByYXJlIGNhc2VzIHdoZW4geW91IG5lZWQgdG9cbiAgICogdXBkYXRlIHN5bmNocm9ub3VzbHkuXG4gICAqXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgcGVyZm9ybVVwZGF0ZSgpOiB2b2lkIHtcbiAgICAvLyBBYm9ydCBhbnkgdXBkYXRlIGlmIG9uZSBpcyBub3QgcGVuZGluZyB3aGVuIHRoaXMgaXMgY2FsbGVkLlxuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiBgcGVyZm9ybVVwZGF0ZWAgaXMgY2FsbGVkIGVhcmx5IHRvIFwiZmx1c2hcIlxuICAgIC8vIHRoZSB1cGRhdGUuXG4gICAgaWYgKCF0aGlzLmlzVXBkYXRlUGVuZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWJ1Z0xvZ0V2ZW50Py4oe2tpbmQ6ICd1cGRhdGUnfSk7XG4gICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgIC8vIENyZWF0ZSByZW5kZXJSb290IGJlZm9yZSBmaXJzdCB1cGRhdGUuIFRoaXMgb2NjdXJzIGluIGBjb25uZWN0ZWRDYWxsYmFja2BcbiAgICAgIC8vIGJ1dCBpcyBkb25lIGhlcmUgdG8gc3VwcG9ydCBvdXQgb2YgdHJlZSBjYWxscyB0byBgZW5hYmxlVXBkYXRpbmdgL2BwZXJmb3JtVXBkYXRlYC5cbiAgICAgICh0aGlzIGFzIE11dGFibGU8dHlwZW9mIHRoaXMsICdyZW5kZXJSb290Jz4pLnJlbmRlclJvb3QgPz89XG4gICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgIC8vIFByb2R1Y2Ugd2FybmluZyBpZiBhbnkgcmVhY3RpdmUgcHJvcGVydGllcyBvbiB0aGUgcHJvdG90eXBlIGFyZVxuICAgICAgICAvLyBzaGFkb3dlZCBieSBjbGFzcyBmaWVsZHMuIEluc3RhbmNlIGZpZWxkcyBzZXQgYmVmb3JlIHVwZ3JhZGUgYXJlXG4gICAgICAgIC8vIGRlbGV0ZWQgYnkgdGhpcyBwb2ludCwgc28gYW55IG93biBwcm9wZXJ0eSBpcyBjYXVzZWQgYnkgY2xhc3MgZmllbGRcbiAgICAgICAgLy8gaW5pdGlhbGl6YXRpb24gaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgICAgICBjb25zdCBzaGFkb3dlZFByb3BlcnRpZXMgPSBbLi4uY3Rvci5lbGVtZW50UHJvcGVydGllcy5rZXlzKCldLmZpbHRlcihcbiAgICAgICAgICAocCkgPT4gdGhpcy5oYXNPd25Qcm9wZXJ0eShwKSAmJiBwIGluIGdldFByb3RvdHlwZU9mKHRoaXMpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzaGFkb3dlZFByb3BlcnRpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBvbiBlbGVtZW50ICR7dGhpcy5sb2NhbE5hbWV9IHdpbGwgbm90IGAgK1xuICAgICAgICAgICAgICBgdHJpZ2dlciB1cGRhdGVzIGFzIGV4cGVjdGVkIGJlY2F1c2UgdGhleSBhcmUgc2V0IHVzaW5nIGNsYXNzIGAgK1xuICAgICAgICAgICAgICBgZmllbGRzOiAke3NoYWRvd2VkUHJvcGVydGllcy5qb2luKCcsICcpfS4gYCArXG4gICAgICAgICAgICAgIGBOYXRpdmUgY2xhc3MgZmllbGRzIGFuZCBzb21lIGNvbXBpbGVkIG91dHB1dCB3aWxsIG92ZXJ3cml0ZSBgICtcbiAgICAgICAgICAgICAgYGFjY2Vzc29ycyB1c2VkIGZvciBkZXRlY3RpbmcgY2hhbmdlcy4gU2VlIGAgK1xuICAgICAgICAgICAgICBgaHR0cHM6Ly9saXQuZGV2L21zZy9jbGFzcy1maWVsZC1zaGFkb3dpbmcgYCArXG4gICAgICAgICAgICAgIGBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gTWl4aW4gaW5zdGFuY2UgcHJvcGVydGllcyBvbmNlLCBpZiB0aGV5IGV4aXN0LlxuICAgICAgaWYgKHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IHNob3VsZCB3ZSB1c2UgdGhlIHN0b3JlZCB2YWx1ZT8gQ291bGQgYSBuZXcgdmFsdWVcbiAgICAgICAgLy8gaGF2ZSBiZWVuIHNldCBzaW5jZSB3ZSBzdG9yZWQgdGhlIG93biBwcm9wZXJ0eSB2YWx1ZT9cbiAgICAgICAgZm9yIChjb25zdCBbcCwgdmFsdWVdIG9mIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICB0aGlzW3AgYXMga2V5b2YgdGhpc10gPSB2YWx1ZSBhcyB0aGlzW2tleW9mIHRoaXNdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICAvLyBUcmlnZ2VyIGluaXRpYWwgdmFsdWUgcmVmbGVjdGlvbiBhbmQgcG9wdWxhdGUgdGhlIGluaXRpYWxcbiAgICAgIC8vIGNoYW5nZWRQcm9wZXJ0aWVzIG1hcCwgYnV0IG9ubHkgZm9yIHRoZSBjYXNlIG9mIGV4cGVyaW1lbnRhbFxuICAgICAgLy8gZGVjb3JhdG9ycyBvbiBhY2Nlc3NvcnMsIHdoaWNoIHdpbGwgbm90IGhhdmUgYWxyZWFkeSBwb3B1bGF0ZWQgdGhlXG4gICAgICAvLyBjaGFuZ2VkUHJvcGVydGllcyBtYXAuIFdlIGNhbid0IGtub3cgaWYgdGhlc2UgYWNjZXNzb3JzIGhhZFxuICAgICAgLy8gaW5pdGlhbGl6ZXJzLCBzbyB3ZSBqdXN0IHNldCB0aGVtIGFueXdheSAtIGEgZGlmZmVyZW5jZSBmcm9tXG4gICAgICAvLyBleHBlcmltZW50YWwgZGVjb3JhdG9ycyBvbiBmaWVsZHMgYW5kIHN0YW5kYXJkIGRlY29yYXRvcnMgb25cbiAgICAgIC8vIGF1dG8tYWNjZXNzb3JzLlxuICAgICAgLy8gRm9yIGNvbnRleHQgd2h5IGV4cGVyaW1lbnRhbERlY29yYXRvcnMgd2l0aCBhdXRvIGFjY2Vzc29ycyBhcmUgaGFuZGxlZFxuICAgICAgLy8gc3BlY2lmaWNhbGx5IGFsc28gc2VlOlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xpdC9saXQvcHVsbC80MTgzI2lzc3VlY29tbWVudC0xNzExOTU5NjM1XG4gICAgICBjb25zdCBlbGVtZW50UHJvcGVydGllcyA9ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpXG4gICAgICAgIC5lbGVtZW50UHJvcGVydGllcztcbiAgICAgIGlmIChlbGVtZW50UHJvcGVydGllcy5zaXplID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IFtwLCBvcHRpb25zXSBvZiBlbGVtZW50UHJvcGVydGllcykge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG9wdGlvbnMud3JhcHBlZCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgIXRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcy5oYXMocCkgJiZcbiAgICAgICAgICAgIHRoaXNbcCBhcyBrZXlvZiB0aGlzXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl8kY2hhbmdlUHJvcGVydHkocCwgdGhpc1twIGFzIGtleW9mIHRoaXNdLCBvcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgIGNvbnN0IGNoYW5nZWRQcm9wZXJ0aWVzID0gdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzO1xuICAgIHRyeSB7XG4gICAgICBzaG91bGRVcGRhdGUgPSB0aGlzLnNob3VsZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgIHRoaXMud2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0VXBkYXRlPy4oKSk7XG4gICAgICAgIHRoaXMudXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX19tYXJrVXBkYXRlZCgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFByZXZlbnQgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCBmcm9tIHJ1bm5pbmcgd2hlbiB0aGVyZSdzIGFuXG4gICAgICAvLyB1cGRhdGUgZXhjZXB0aW9uLlxuICAgICAgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAvLyBFbnN1cmUgZWxlbWVudCBjYW4gYWNjZXB0IGFkZGl0aW9uYWwgdXBkYXRlcyBhZnRlciBhbiBleGNlcHRpb24uXG4gICAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIC8vIFRoZSB1cGRhdGUgaXMgbm8gbG9uZ2VyIGNvbnNpZGVyZWQgcGVuZGluZyBhbmQgZnVydGhlciB1cGRhdGVzIGFyZSBub3cgYWxsb3dlZC5cbiAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICB0aGlzLl8kZGlkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCBiZWZvcmUgYHVwZGF0ZSgpYCB0byBjb21wdXRlIHZhbHVlcyBuZWVkZWQgZHVyaW5nIHRoZSB1cGRhdGUuXG4gICAqXG4gICAqIEltcGxlbWVudCBgd2lsbFVwZGF0ZWAgdG8gY29tcHV0ZSBwcm9wZXJ0eSB2YWx1ZXMgdGhhdCBkZXBlbmQgb24gb3RoZXJcbiAgICogcHJvcGVydGllcyBhbmQgYXJlIHVzZWQgaW4gdGhlIHJlc3Qgb2YgdGhlIHVwZGF0ZSBwcm9jZXNzLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAqICAgLy8gb25seSBuZWVkIHRvIGNoZWNrIGNoYW5nZWQgcHJvcGVydGllcyBmb3IgYW4gZXhwZW5zaXZlIGNvbXB1dGF0aW9uLlxuICAgKiAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2ZpcnN0TmFtZScpIHx8IGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnbGFzdE5hbWUnKSkge1xuICAgKiAgICAgdGhpcy5zaGEgPSBjb21wdXRlU0hBKGAke3RoaXMuZmlyc3ROYW1lfSAke3RoaXMubGFzdE5hbWV9YCk7XG4gICAqICAgfVxuICAgKiB9XG4gICAqXG4gICAqIHJlbmRlcigpIHtcbiAgICogICByZXR1cm4gaHRtbGBTSEE6ICR7dGhpcy5zaGF9YDtcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCB3aWxsVXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpOiB2b2lkIHt9XG5cbiAgLy8gTm90ZSwgdGhpcyBpcyBhbiBvdmVycmlkZSBwb2ludCBmb3IgcG9seWZpbGwtc3VwcG9ydC5cbiAgLy8gQGludGVybmFsXG4gIF8kZGlkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0VXBkYXRlZD8uKCkpO1xuICAgIGlmICghdGhpcy5oYXNVcGRhdGVkKSB7XG4gICAgICB0aGlzLmhhc1VwZGF0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgIGlmIChcbiAgICAgIERFVl9NT0RFICYmXG4gICAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyAmJlxuICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuZW5hYmxlZFdhcm5pbmdzIS5pbmNsdWRlcyhcbiAgICAgICAgJ2NoYW5nZS1pbi11cGRhdGUnXG4gICAgICApXG4gICAgKSB7XG4gICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICdjaGFuZ2UtaW4tdXBkYXRlJyxcbiAgICAgICAgYEVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0gc2NoZWR1bGVkIGFuIHVwZGF0ZSBgICtcbiAgICAgICAgICBgKGdlbmVyYWxseSBiZWNhdXNlIGEgcHJvcGVydHkgd2FzIHNldCkgYCArXG4gICAgICAgICAgYGFmdGVyIGFuIHVwZGF0ZSBjb21wbGV0ZWQsIGNhdXNpbmcgYSBuZXcgdXBkYXRlIHRvIGJlIHNjaGVkdWxlZC4gYCArXG4gICAgICAgICAgYFRoaXMgaXMgaW5lZmZpY2llbnQgYW5kIHNob3VsZCBiZSBhdm9pZGVkIHVubGVzcyB0aGUgbmV4dCB1cGRhdGUgYCArXG4gICAgICAgICAgYGNhbiBvbmx5IGJlIHNjaGVkdWxlZCBhcyBhIHNpZGUgZWZmZWN0IG9mIHRoZSBwcmV2aW91cyB1cGRhdGUuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9fbWFya1VwZGF0ZWQoKSB7XG4gICAgdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuaXNVcGRhdGVQZW5kaW5nID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBlbGVtZW50IGhhcyBjb21wbGV0ZWQgdXBkYXRpbmcuXG4gICAqIFRoZSBQcm9taXNlIHZhbHVlIGlzIGEgYm9vbGVhbiB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgZWxlbWVudCBjb21wbGV0ZWQgdGhlXG4gICAqIHVwZGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuIFRoZSBQcm9taXNlIHJlc3VsdCBpcyBgZmFsc2VgIGlmXG4gICAqIGEgcHJvcGVydHkgd2FzIHNldCBpbnNpZGUgYHVwZGF0ZWQoKWAuIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBhblxuICAgKiBleGNlcHRpb24gd2FzIHRocm93biBkdXJpbmcgdGhlIHVwZGF0ZS5cbiAgICpcbiAgICogVG8gYXdhaXQgYWRkaXRpb25hbCBhc3luY2hyb25vdXMgd29yaywgb3ZlcnJpZGUgdGhlIGBnZXRVcGRhdGVDb21wbGV0ZWBcbiAgICogbWV0aG9kLiBGb3IgZXhhbXBsZSwgaXQgaXMgc29tZXRpbWVzIHVzZWZ1bCB0byBhd2FpdCBhIHJlbmRlcmVkIGVsZW1lbnRcbiAgICogYmVmb3JlIGZ1bGZpbGxpbmcgdGhpcyBQcm9taXNlLiBUbyBkbyB0aGlzLCBmaXJzdCBhd2FpdFxuICAgKiBgc3VwZXIuZ2V0VXBkYXRlQ29tcGxldGUoKWAsIHRoZW4gYW55IHN1YnNlcXVlbnQgc3RhdGUuXG4gICAqXG4gICAqIEByZXR1cm4gQSBwcm9taXNlIG9mIGEgYm9vbGVhbiB0aGF0IHJlc29sdmVzIHRvIHRydWUgaWYgdGhlIHVwZGF0ZSBjb21wbGV0ZWRcbiAgICogICAgIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIGdldCB1cGRhdGVDb21wbGV0ZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5nZXRVcGRhdGVDb21wbGV0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHBvaW50IGZvciB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBwcm9taXNlLlxuICAgKlxuICAgKiBJdCBpcyBub3Qgc2FmZSB0byBvdmVycmlkZSB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBnZXR0ZXIgZGlyZWN0bHkgZHVlIHRvIGFcbiAgICogbGltaXRhdGlvbiBpbiBUeXBlU2NyaXB0IHdoaWNoIG1lYW5zIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBjYWxsIGFcbiAgICogc3VwZXJjbGFzcyBnZXR0ZXIgKGUuZy4gYHN1cGVyLnVwZGF0ZUNvbXBsZXRlLnRoZW4oLi4uKWApIHdoZW4gdGhlIHRhcmdldFxuICAgKiBsYW5ndWFnZSBpcyBFUzUgKGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzM4KS5cbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIG92ZXJyaWRkZW4gaW5zdGVhZC4gRm9yIGV4YW1wbGU6XG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgKiAgIG92ZXJyaWRlIGFzeW5jIGdldFVwZGF0ZUNvbXBsZXRlKCkge1xuICAgKiAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3VwZXIuZ2V0VXBkYXRlQ29tcGxldGUoKTtcbiAgICogICAgIGF3YWl0IHRoaXMuX215Q2hpbGQudXBkYXRlQ29tcGxldGU7XG4gICAqICAgICByZXR1cm4gcmVzdWx0O1xuICAgKiAgIH1cbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiBBIHByb21pc2Ugb2YgYSBib29sZWFuIHRoYXQgcmVzb2x2ZXMgdG8gdHJ1ZSBpZiB0aGUgdXBkYXRlIGNvbXBsZXRlZFxuICAgKiAgICAgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLlxuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIGdldFVwZGF0ZUNvbXBsZXRlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLl9fdXBkYXRlUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBgdXBkYXRlKClgIHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCByZXF1ZXN0c1xuICAgKiBhbiB1cGRhdGUuIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm5zIGB0cnVlYCwgYnV0IHRoaXMgY2FuIGJlXG4gICAqIGN1c3RvbWl6ZWQgdG8gY29udHJvbCB3aGVuIHRvIHVwZGF0ZS5cbiAgICpcbiAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIHNob3VsZFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXMuXG4gICAqIEl0IGNhbiBiZSBvdmVycmlkZGVuIHRvIHJlbmRlciBhbmQga2VlcCB1cGRhdGVkIGVsZW1lbnQgRE9NLlxuICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgKiBhbm90aGVyIHVwZGF0ZS5cbiAgICpcbiAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIHVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgLy8gVGhlIGZvckVhY2goKSBleHByZXNzaW9uIHdpbGwgb25seSBydW4gd2hlbiB3aGVuIF9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgaXNcbiAgICAvLyBkZWZpbmVkLCBhbmQgaXQgcmV0dXJucyB1bmRlZmluZWQsIHNldHRpbmcgX19yZWZsZWN0aW5nUHJvcGVydGllcyB0b1xuICAgIC8vIHVuZGVmaW5lZFxuICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydGllcyAmJj0gdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLmZvckVhY2goKHApID0+XG4gICAgICB0aGlzLl9fcHJvcGVydHlUb0F0dHJpYnV0ZShwLCB0aGlzW3AgYXMga2V5b2YgdGhpc10pXG4gICAgKSBhcyB1bmRlZmluZWQ7XG4gICAgdGhpcy5fX21hcmtVcGRhdGVkKCk7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuZXZlciB0aGUgZWxlbWVudCBpcyB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybVxuICAgKiBwb3N0LXVwZGF0aW5nIHRhc2tzIHZpYSBET00gQVBJcywgZm9yIGV4YW1wbGUsIGZvY3VzaW5nIGFuIGVsZW1lbnQuXG4gICAqXG4gICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCB1cGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHt9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgZWxlbWVudCBpcyBmaXJzdCB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybSBvbmUgdGltZVxuICAgKiB3b3JrIG9uIHRoZSBlbGVtZW50IGFmdGVyIHVwZGF0ZS5cbiAgICpcbiAgICogYGBgdHNcbiAgICogZmlyc3RVcGRhdGVkKCkge1xuICAgKiAgIHRoaXMucmVuZGVyUm9vdC5nZXRFbGVtZW50QnlJZCgnbXktdGV4dC1hcmVhJykuZm9jdXMoKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICpcbiAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIGZpcnN0VXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7fVxufVxuLy8gQXNzaWduZWQgaGVyZSB0byB3b3JrIGFyb3VuZCBhIGpzY29tcGlsZXIgYnVnIHdpdGggc3RhdGljIGZpZWxkc1xuLy8gd2hlbiBjb21waWxpbmcgdG8gRVM1LlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMTc3XG4oUmVhY3RpdmVFbGVtZW50IGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW1xuICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdlbGVtZW50UHJvcGVydGllcycsIFJlYWN0aXZlRWxlbWVudClcbl0gPSBuZXcgTWFwKCk7XG4oUmVhY3RpdmVFbGVtZW50IGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW1xuICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCBSZWFjdGl2ZUVsZW1lbnQpXG5dID0gbmV3IE1hcCgpO1xuXG4vLyBBcHBseSBwb2x5ZmlsbHMgaWYgYXZhaWxhYmxlXG5wb2x5ZmlsbFN1cHBvcnQ/Lih7UmVhY3RpdmVFbGVtZW50fSk7XG5cbi8vIERldiBtb2RlIHdhcm5pbmdzLi4uXG5pZiAoREVWX01PREUpIHtcbiAgLy8gRGVmYXVsdCB3YXJuaW5nIHNldC5cbiAgUmVhY3RpdmVFbGVtZW50LmVuYWJsZWRXYXJuaW5ncyA9IFtcbiAgICAnY2hhbmdlLWluLXVwZGF0ZScsXG4gICAgJ2FzeW5jLXBlcmZvcm0tdXBkYXRlJyxcbiAgXTtcbiAgY29uc3QgZW5zdXJlT3duV2FybmluZ3MgPSBmdW5jdGlvbiAoY3RvcjogdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkge1xuICAgIGlmIChcbiAgICAgICFjdG9yLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2VuYWJsZWRXYXJuaW5ncycsIGN0b3IpKVxuICAgICkge1xuICAgICAgY3Rvci5lbmFibGVkV2FybmluZ3MgPSBjdG9yLmVuYWJsZWRXYXJuaW5ncyEuc2xpY2UoKTtcbiAgICB9XG4gIH07XG4gIFJlYWN0aXZlRWxlbWVudC5lbmFibGVXYXJuaW5nID0gZnVuY3Rpb24gKFxuICAgIHRoaXM6IHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQsXG4gICAgd2FybmluZzogV2FybmluZ0tpbmRcbiAgKSB7XG4gICAgZW5zdXJlT3duV2FybmluZ3ModGhpcyk7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMod2FybmluZykpIHtcbiAgICAgIHRoaXMuZW5hYmxlZFdhcm5pbmdzIS5wdXNoKHdhcm5pbmcpO1xuICAgIH1cbiAgfTtcbiAgUmVhY3RpdmVFbGVtZW50LmRpc2FibGVXYXJuaW5nID0gZnVuY3Rpb24gKFxuICAgIHRoaXM6IHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQsXG4gICAgd2FybmluZzogV2FybmluZ0tpbmRcbiAgKSB7XG4gICAgZW5zdXJlT3duV2FybmluZ3ModGhpcyk7XG4gICAgY29uc3QgaSA9IHRoaXMuZW5hYmxlZFdhcm5pbmdzIS5pbmRleE9mKHdhcm5pbmcpO1xuICAgIGlmIChpID49IDApIHtcbiAgICAgIHRoaXMuZW5hYmxlZFdhcm5pbmdzIS5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIFJlYWN0aXZlRWxlbWVudCB1c2FnZS5cbihnbG9iYWwucmVhY3RpdmVFbGVtZW50VmVyc2lvbnMgPz89IFtdKS5wdXNoKCcyLjAuNCcpO1xuaWYgKERFVl9NT0RFICYmIGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucy5sZW5ndGggPiAxKSB7XG4gIGlzc3VlV2FybmluZyEoXG4gICAgJ211bHRpcGxlLXZlcnNpb25zJyxcbiAgICBgTXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0IGxvYWRlZC4gTG9hZGluZyBtdWx0aXBsZSB2ZXJzaW9ucyBgICtcbiAgICAgIGBpcyBub3QgcmVjb21tZW5kZWQuYFxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG4vLyBJTVBPUlRBTlQ6IHRoZXNlIGltcG9ydHMgbXVzdCBiZSB0eXBlLW9ubHlcbmltcG9ydCB0eXBlIHtEaXJlY3RpdmUsIERpcmVjdGl2ZVJlc3VsdCwgUGFydEluZm99IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcblxuY29uc3QgREVWX01PREUgPSB0cnVlO1xuY29uc3QgRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTID0gdHJ1ZTtcbmNvbnN0IEVOQUJMRV9TSEFEWURPTV9OT1BBVENIID0gdHJ1ZTtcbmNvbnN0IE5PREVfTU9ERSA9IGZhbHNlO1xuXG4vLyBBbGxvd3MgbWluaWZpZXJzIHRvIHJlbmFtZSByZWZlcmVuY2VzIHRvIGdsb2JhbFRoaXNcbmNvbnN0IGdsb2JhbCA9IGdsb2JhbFRoaXM7XG5cbi8qKlxuICogQ29udGFpbnMgdHlwZXMgdGhhdCBhcmUgcGFydCBvZiB0aGUgdW5zdGFibGUgZGVidWcgQVBJLlxuICpcbiAqIEV2ZXJ5dGhpbmcgaW4gdGhpcyBBUEkgaXMgbm90IHN0YWJsZSBhbmQgbWF5IGNoYW5nZSBvciBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsXG4gKiBldmVuIG9uIHBhdGNoIHJlbGVhc2VzLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxuZXhwb3J0IG5hbWVzcGFjZSBMaXRVbnN0YWJsZSB7XG4gIC8qKlxuICAgKiBXaGVuIExpdCBpcyBydW5uaW5nIGluIGRldiBtb2RlIGFuZCBgd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50c2AgaXMgdHJ1ZSxcbiAgICogd2Ugd2lsbCBlbWl0ICdsaXQtZGVidWcnIGV2ZW50cyB0byB3aW5kb3csIHdpdGggbGl2ZSBkZXRhaWxzIGFib3V0IHRoZSB1cGRhdGUgYW5kIHJlbmRlclxuICAgKiBsaWZlY3ljbGUuIFRoZXNlIGNhbiBiZSB1c2VmdWwgZm9yIHdyaXRpbmcgZGVidWcgdG9vbGluZyBhbmQgdmlzdWFsaXphdGlvbnMuXG4gICAqXG4gICAqIFBsZWFzZSBiZSBhd2FyZSB0aGF0IHJ1bm5pbmcgd2l0aCB3aW5kb3cuZW1pdExpdERlYnVnTG9nRXZlbnRzIGhhcyBwZXJmb3JtYW5jZSBvdmVyaGVhZCxcbiAgICogbWFraW5nIGNlcnRhaW4gb3BlcmF0aW9ucyB0aGF0IGFyZSBub3JtYWxseSB2ZXJ5IGNoZWFwIChsaWtlIGEgbm8tb3AgcmVuZGVyKSBtdWNoIHNsb3dlcixcbiAgICogYmVjYXVzZSB3ZSBtdXN0IGNvcHkgZGF0YSBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbiAgZXhwb3J0IG5hbWVzcGFjZSBEZWJ1Z0xvZyB7XG4gICAgZXhwb3J0IHR5cGUgRW50cnkgPVxuICAgICAgfCBUZW1wbGF0ZVByZXBcbiAgICAgIHwgVGVtcGxhdGVJbnN0YW50aWF0ZWRcbiAgICAgIHwgVGVtcGxhdGVJbnN0YW50aWF0ZWRBbmRVcGRhdGVkXG4gICAgICB8IFRlbXBsYXRlVXBkYXRpbmdcbiAgICAgIHwgQmVnaW5SZW5kZXJcbiAgICAgIHwgRW5kUmVuZGVyXG4gICAgICB8IENvbW1pdFBhcnRFbnRyeVxuICAgICAgfCBTZXRQYXJ0VmFsdWU7XG4gICAgZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZVByZXAge1xuICAgICAga2luZDogJ3RlbXBsYXRlIHByZXAnO1xuICAgICAgdGVtcGxhdGU6IFRlbXBsYXRlO1xuICAgICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXk7XG4gICAgICBjbG9uYWJsZVRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50O1xuICAgICAgcGFydHM6IFRlbXBsYXRlUGFydFtdO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIEJlZ2luUmVuZGVyIHtcbiAgICAgIGtpbmQ6ICdiZWdpbiByZW5kZXInO1xuICAgICAgaWQ6IG51bWJlcjtcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQ7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgcGFydDogQ2hpbGRQYXJ0IHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIEVuZFJlbmRlciB7XG4gICAgICBraW5kOiAnZW5kIHJlbmRlcic7XG4gICAgICBpZDogbnVtYmVyO1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudDtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgICBwYXJ0OiBDaGlsZFBhcnQ7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVGVtcGxhdGVJbnN0YW50aWF0ZWQge1xuICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCc7XG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlO1xuICAgICAgaW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgZnJhZ21lbnQ6IE5vZGU7XG4gICAgICBwYXJ0czogQXJyYXk8UGFydCB8IHVuZGVmaW5lZD47XG4gICAgICB2YWx1ZXM6IHVua25vd25bXTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZUluc3RhbnRpYXRlZEFuZFVwZGF0ZWQge1xuICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCBhbmQgdXBkYXRlZCc7XG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlO1xuICAgICAgaW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgZnJhZ21lbnQ6IE5vZGU7XG4gICAgICBwYXJ0czogQXJyYXk8UGFydCB8IHVuZGVmaW5lZD47XG4gICAgICB2YWx1ZXM6IHVua25vd25bXTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZVVwZGF0aW5nIHtcbiAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSB1cGRhdGluZyc7XG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlO1xuICAgICAgaW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgcGFydHM6IEFycmF5PFBhcnQgfCB1bmRlZmluZWQ+O1xuICAgICAgdmFsdWVzOiB1bmtub3duW107XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU2V0UGFydFZhbHVlIHtcbiAgICAgIGtpbmQ6ICdzZXQgcGFydCc7XG4gICAgICBwYXJ0OiBQYXJ0O1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICB2YWx1ZUluZGV4OiBudW1iZXI7XG4gICAgICB2YWx1ZXM6IHVua25vd25bXTtcbiAgICAgIHRlbXBsYXRlSW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ29tbWl0UGFydEVudHJ5ID1cbiAgICAgIHwgQ29tbWl0Tm90aGluZ1RvQ2hpbGRFbnRyeVxuICAgICAgfCBDb21taXRUZXh0XG4gICAgICB8IENvbW1pdE5vZGVcbiAgICAgIHwgQ29tbWl0QXR0cmlidXRlXG4gICAgICB8IENvbW1pdFByb3BlcnR5XG4gICAgICB8IENvbW1pdEJvb2xlYW5BdHRyaWJ1dGVcbiAgICAgIHwgQ29tbWl0RXZlbnRMaXN0ZW5lclxuICAgICAgfCBDb21taXRUb0VsZW1lbnRCaW5kaW5nO1xuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXROb3RoaW5nVG9DaGlsZEVudHJ5IHtcbiAgICAgIGtpbmQ6ICdjb21taXQgbm90aGluZyB0byBjaGlsZCc7XG4gICAgICBzdGFydDogQ2hpbGROb2RlO1xuICAgICAgZW5kOiBDaGlsZE5vZGUgfCBudWxsO1xuICAgICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSB8IHVuZGVmaW5lZDtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRUZXh0IHtcbiAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCc7XG4gICAgICBub2RlOiBUZXh0O1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0Tm9kZSB7XG4gICAgICBraW5kOiAnY29tbWl0IG5vZGUnO1xuICAgICAgc3RhcnQ6IE5vZGU7XG4gICAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlIHwgdW5kZWZpbmVkO1xuICAgICAgdmFsdWU6IE5vZGU7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0QXR0cmlidXRlIHtcbiAgICAgIGtpbmQ6ICdjb21taXQgYXR0cmlidXRlJztcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICB2YWx1ZTogdW5rbm93bjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRQcm9wZXJ0eSB7XG4gICAgICBraW5kOiAnY29tbWl0IHByb3BlcnR5JztcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICB2YWx1ZTogdW5rbm93bjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRCb29sZWFuQXR0cmlidXRlIHtcbiAgICAgIGtpbmQ6ICdjb21taXQgYm9vbGVhbiBhdHRyaWJ1dGUnO1xuICAgICAgZWxlbWVudDogRWxlbWVudDtcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgIHZhbHVlOiBib29sZWFuO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIENvbW1pdEV2ZW50TGlzdGVuZXIge1xuICAgICAga2luZDogJ2NvbW1pdCBldmVudCBsaXN0ZW5lcic7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvbGRMaXN0ZW5lcjogdW5rbm93bjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgICAvLyBUcnVlIGlmIHdlJ3JlIHJlbW92aW5nIHRoZSBvbGQgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYmVjYXVzZSBzZXR0aW5ncyBjaGFuZ2VkLCBvciB2YWx1ZSBpcyBub3RoaW5nKVxuICAgICAgcmVtb3ZlTGlzdGVuZXI6IGJvb2xlYW47XG4gICAgICAvLyBUcnVlIGlmIHdlJ3JlIGFkZGluZyBhIG5ldyBldmVudCBsaXN0ZW5lciAoZS5nLiBiZWNhdXNlIGZpcnN0IHJlbmRlciwgb3Igc2V0dGluZ3MgY2hhbmdlZClcbiAgICAgIGFkZExpc3RlbmVyOiBib29sZWFuO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0VG9FbGVtZW50QmluZGluZyB7XG4gICAgICBraW5kOiAnY29tbWl0IHRvIGVsZW1lbnQgYmluZGluZyc7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufVxuXG5pbnRlcmZhY2UgRGVidWdMb2dnaW5nV2luZG93IHtcbiAgLy8gRXZlbiBpbiBkZXYgbW9kZSwgd2UgZ2VuZXJhbGx5IGRvbid0IHdhbnQgdG8gZW1pdCB0aGVzZSBldmVudHMsIGFzIHRoYXQnc1xuICAvLyBhbm90aGVyIGxldmVsIG9mIGNvc3QsIHNvIG9ubHkgZW1pdCB0aGVtIHdoZW4gREVWX01PREUgaXMgdHJ1ZSBfYW5kXyB3aGVuXG4gIC8vIHdpbmRvdy5lbWl0TGl0RGVidWdFdmVudHMgaXMgdHJ1ZS5cbiAgZW1pdExpdERlYnVnTG9nRXZlbnRzPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBVc2VmdWwgZm9yIHZpc3VhbGl6aW5nIGFuZCBsb2dnaW5nIGluc2lnaHRzIGludG8gd2hhdCB0aGUgTGl0IHRlbXBsYXRlIHN5c3RlbSBpcyBkb2luZy5cbiAqXG4gKiBDb21waWxlZCBvdXQgb2YgcHJvZCBtb2RlIGJ1aWxkcy5cbiAqL1xuY29uc3QgZGVidWdMb2dFdmVudCA9IERFVl9NT0RFXG4gID8gKGV2ZW50OiBMaXRVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeSkgPT4ge1xuICAgICAgY29uc3Qgc2hvdWxkRW1pdCA9IChnbG9iYWwgYXMgdW5rbm93biBhcyBEZWJ1Z0xvZ2dpbmdXaW5kb3cpXG4gICAgICAgIC5lbWl0TGl0RGVidWdMb2dFdmVudHM7XG4gICAgICBpZiAoIXNob3VsZEVtaXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZ2xvYmFsLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIG5ldyBDdXN0b21FdmVudDxMaXRVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeT4oJ2xpdC1kZWJ1ZycsIHtcbiAgICAgICAgICBkZXRhaWw6IGV2ZW50LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIDogdW5kZWZpbmVkO1xuLy8gVXNlZCBmb3IgY29ubmVjdGluZyBiZWdpblJlbmRlciBhbmQgZW5kUmVuZGVyIGV2ZW50cyB3aGVuIHRoZXJlIGFyZSBuZXN0ZWRcbi8vIHJlbmRlcnMgd2hlbiBlcnJvcnMgYXJlIHRocm93biBwcmV2ZW50aW5nIGFuIGVuZFJlbmRlciBldmVudCBmcm9tIGJlaW5nXG4vLyBjYWxsZWQuXG5sZXQgZGVidWdMb2dSZW5kZXJJZCA9IDA7XG5cbmxldCBpc3N1ZVdhcm5pbmc6IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4gdm9pZDtcblxuaWYgKERFVl9NT0RFKSB7XG4gIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpO1xuXG4gIC8vIElzc3VlIGEgd2FybmluZywgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LlxuICBpc3N1ZVdhcm5pbmcgPSAoY29kZTogc3RyaW5nLCB3YXJuaW5nOiBzdHJpbmcpID0+IHtcbiAgICB3YXJuaW5nICs9IGNvZGVcbiAgICAgID8gYCBTZWUgaHR0cHM6Ly9saXQuZGV2L21zZy8ke2NvZGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLmBcbiAgICAgIDogJyc7XG4gICAgaWYgKCFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmhhcyh3YXJuaW5nKSkge1xuICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5hZGQod2FybmluZyk7XG4gICAgfVxuICB9O1xuXG4gIGlzc3VlV2FybmluZyhcbiAgICAnZGV2LW1vZGUnLFxuICAgIGBMaXQgaXMgaW4gZGV2IG1vZGUuIE5vdCByZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbiFgXG4gICk7XG59XG5cbmNvbnN0IHdyYXAgPVxuICBFTkFCTEVfU0hBRFlET01fTk9QQVRDSCAmJlxuICBnbG9iYWwuU2hhZHlET00/LmluVXNlICYmXG4gIGdsb2JhbC5TaGFkeURPTT8ubm9QYXRjaCA9PT0gdHJ1ZVxuICAgID8gKGdsb2JhbC5TaGFkeURPTSEud3JhcCBhcyA8VCBleHRlbmRzIE5vZGU+KG5vZGU6IFQpID0+IFQpXG4gICAgOiA8VCBleHRlbmRzIE5vZGU+KG5vZGU6IFQpID0+IG5vZGU7XG5cbmNvbnN0IHRydXN0ZWRUeXBlcyA9IChnbG9iYWwgYXMgdW5rbm93biBhcyBXaW5kb3cpLnRydXN0ZWRUeXBlcztcblxuLyoqXG4gKiBPdXIgVHJ1c3RlZFR5cGVQb2xpY3kgZm9yIEhUTUwgd2hpY2ggaXMgZGVjbGFyZWQgdXNpbmcgdGhlIGh0bWwgdGVtcGxhdGVcbiAqIHRhZyBmdW5jdGlvbi5cbiAqXG4gKiBUaGF0IEhUTUwgaXMgYSBkZXZlbG9wZXItYXV0aG9yZWQgY29uc3RhbnQsIGFuZCBpcyBwYXJzZWQgd2l0aCBpbm5lckhUTUxcbiAqIGJlZm9yZSBhbnkgdW50cnVzdGVkIGV4cHJlc3Npb25zIGhhdmUgYmVlbiBtaXhlZCBpbi4gVGhlcmVmb3IgaXQgaXNcbiAqIGNvbnNpZGVyZWQgc2FmZSBieSBjb25zdHJ1Y3Rpb24uXG4gKi9cbmNvbnN0IHBvbGljeSA9IHRydXN0ZWRUeXBlc1xuICA/IHRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koJ2xpdC1odG1sJywge1xuICAgICAgY3JlYXRlSFRNTDogKHMpID0+IHMsXG4gICAgfSlcbiAgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVXNlZCB0byBzYW5pdGl6ZSBhbnkgdmFsdWUgYmVmb3JlIGl0IGlzIHdyaXR0ZW4gaW50byB0aGUgRE9NLiBUaGlzIGNhbiBiZVxuICogdXNlZCB0byBpbXBsZW1lbnQgYSBzZWN1cml0eSBwb2xpY3kgb2YgYWxsb3dlZCBhbmQgZGlzYWxsb3dlZCB2YWx1ZXMgaW5cbiAqIG9yZGVyIHRvIHByZXZlbnQgWFNTIGF0dGFja3MuXG4gKlxuICogT25lIHdheSBvZiB1c2luZyB0aGlzIGNhbGxiYWNrIHdvdWxkIGJlIHRvIGNoZWNrIGF0dHJpYnV0ZXMgYW5kIHByb3BlcnRpZXNcbiAqIGFnYWluc3QgYSBsaXN0IG9mIGhpZ2ggcmlzayBmaWVsZHMsIGFuZCByZXF1aXJlIHRoYXQgdmFsdWVzIHdyaXR0ZW4gdG8gc3VjaFxuICogZmllbGRzIGJlIGluc3RhbmNlcyBvZiBhIGNsYXNzIHdoaWNoIGlzIHNhZmUgYnkgY29uc3RydWN0aW9uLiBDbG9zdXJlJ3MgU2FmZVxuICogSFRNTCBUeXBlcyBpcyBvbmUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyB0ZWNobmlxdWUgKFxuICogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9zYWZlLWh0bWwtdHlwZXMvYmxvYi9tYXN0ZXIvZG9jL3NhZmVodG1sLXR5cGVzLm1kKS5cbiAqIFRoZSBUcnVzdGVkVHlwZXMgcG9seWZpbGwgaW4gQVBJLW9ubHkgbW9kZSBjb3VsZCBhbHNvIGJlIHVzZWQgYXMgYSBiYXNpc1xuICogZm9yIHRoaXMgdGVjaG5pcXVlIChodHRwczovL2dpdGh1Yi5jb20vV0lDRy90cnVzdGVkLXR5cGVzKS5cbiAqXG4gKiBAcGFyYW0gbm9kZSBUaGUgSFRNTCBub2RlICh1c3VhbGx5IGVpdGhlciBhICN0ZXh0IG5vZGUgb3IgYW4gRWxlbWVudCkgdGhhdFxuICogICAgIGlzIGJlaW5nIHdyaXR0ZW4gdG8uIE5vdGUgdGhhdCB0aGlzIGlzIGp1c3QgYW4gZXhlbXBsYXIgbm9kZSwgdGhlIHdyaXRlXG4gKiAgICAgbWF5IHRha2UgcGxhY2UgYWdhaW5zdCBhbm90aGVyIGluc3RhbmNlIG9mIHRoZSBzYW1lIGNsYXNzIG9mIG5vZGUuXG4gKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiBhbiBhdHRyaWJ1dGUgb3IgcHJvcGVydHkgKGZvciBleGFtcGxlLCAnaHJlZicpLlxuICogQHBhcmFtIHR5cGUgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHdyaXRlIHRoYXQncyBhYm91dCB0byBiZSBwZXJmb3JtZWQgd2lsbFxuICogICAgIGJlIHRvIGEgcHJvcGVydHkgb3IgYSBub2RlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBzYW5pdGl6ZSB0aGlzIGNsYXNzIG9mIHdyaXRlcy5cbiAqL1xuZXhwb3J0IHR5cGUgU2FuaXRpemVyRmFjdG9yeSA9IChcbiAgbm9kZTogTm9kZSxcbiAgbmFtZTogc3RyaW5nLFxuICB0eXBlOiAncHJvcGVydHknIHwgJ2F0dHJpYnV0ZSdcbikgPT4gVmFsdWVTYW5pdGl6ZXI7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB3aGljaCBjYW4gc2FuaXRpemUgdmFsdWVzIHRoYXQgd2lsbCBiZSB3cml0dGVuIHRvIGEgc3BlY2lmaWMga2luZFxuICogb2YgRE9NIHNpbmsuXG4gKlxuICogU2VlIFNhbml0aXplckZhY3RvcnkuXG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzYW5pdGl6ZS4gV2lsbCBiZSB0aGUgYWN0dWFsIHZhbHVlIHBhc3NlZCBpbnRvXG4gKiAgICAgdGhlIGxpdC1odG1sIHRlbXBsYXRlIGxpdGVyYWwsIHNvIHRoaXMgY291bGQgYmUgb2YgYW55IHR5cGUuXG4gKiBAcmV0dXJuIFRoZSB2YWx1ZSB0byB3cml0ZSB0byB0aGUgRE9NLiBVc3VhbGx5IHRoZSBzYW1lIGFzIHRoZSBpbnB1dCB2YWx1ZSxcbiAqICAgICB1bmxlc3Mgc2FuaXRpemF0aW9uIGlzIG5lZWRlZC5cbiAqL1xuZXhwb3J0IHR5cGUgVmFsdWVTYW5pdGl6ZXIgPSAodmFsdWU6IHVua25vd24pID0+IHVua25vd247XG5cbmNvbnN0IGlkZW50aXR5RnVuY3Rpb246IFZhbHVlU2FuaXRpemVyID0gKHZhbHVlOiB1bmtub3duKSA9PiB2YWx1ZTtcbmNvbnN0IG5vb3BTYW5pdGl6ZXI6IFNhbml0aXplckZhY3RvcnkgPSAoXG4gIF9ub2RlOiBOb2RlLFxuICBfbmFtZTogc3RyaW5nLFxuICBfdHlwZTogJ3Byb3BlcnR5JyB8ICdhdHRyaWJ1dGUnXG4pID0+IGlkZW50aXR5RnVuY3Rpb247XG5cbi8qKiBTZXRzIHRoZSBnbG9iYWwgc2FuaXRpemVyIGZhY3RvcnkuICovXG5jb25zdCBzZXRTYW5pdGl6ZXIgPSAobmV3U2FuaXRpemVyOiBTYW5pdGl6ZXJGYWN0b3J5KSA9PiB7XG4gIGlmICghRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwgIT09IG5vb3BTYW5pdGl6ZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQXR0ZW1wdGVkIHRvIG92ZXJ3cml0ZSBleGlzdGluZyBsaXQtaHRtbCBzZWN1cml0eSBwb2xpY3kuYCArXG4gICAgICAgIGAgc2V0U2FuaXRpemVET01WYWx1ZUZhY3Rvcnkgc2hvdWxkIGJlIGNhbGxlZCBhdCBtb3N0IG9uY2UuYFxuICAgICk7XG4gIH1cbiAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbmV3U2FuaXRpemVyO1xufTtcblxuLyoqXG4gKiBPbmx5IHVzZWQgaW4gaW50ZXJuYWwgdGVzdHMsIG5vdCBhIHBhcnQgb2YgdGhlIHB1YmxpYyBBUEkuXG4gKi9cbmNvbnN0IF90ZXN0T25seUNsZWFyU2FuaXRpemVyRmFjdG9yeURvTm90Q2FsbE9yRWxzZSA9ICgpID0+IHtcbiAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbm9vcFNhbml0aXplcjtcbn07XG5cbmNvbnN0IGNyZWF0ZVNhbml0aXplcjogU2FuaXRpemVyRmFjdG9yeSA9IChub2RlLCBuYW1lLCB0eXBlKSA9PiB7XG4gIHJldHVybiBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwobm9kZSwgbmFtZSwgdHlwZSk7XG59O1xuXG4vLyBBZGRlZCB0byBhbiBhdHRyaWJ1dGUgbmFtZSB0byBtYXJrIHRoZSBhdHRyaWJ1dGUgYXMgYm91bmQgc28gd2UgY2FuIGZpbmRcbi8vIGl0IGVhc2lseS5cbmNvbnN0IGJvdW5kQXR0cmlidXRlU3VmZml4ID0gJyRsaXQkJztcblxuLy8gVGhpcyBtYXJrZXIgaXMgdXNlZCBpbiBtYW55IHN5bnRhY3RpYyBwb3NpdGlvbnMgaW4gSFRNTCwgc28gaXQgbXVzdCBiZVxuLy8gYSB2YWxpZCBlbGVtZW50IG5hbWUgYW5kIGF0dHJpYnV0ZSBuYW1lLiBXZSBkb24ndCBzdXBwb3J0IGR5bmFtaWMgbmFtZXMgKHlldClcbi8vIGJ1dCB0aGlzIGF0IGxlYXN0IGVuc3VyZXMgdGhhdCB0aGUgcGFyc2UgdHJlZSBpcyBjbG9zZXIgdG8gdGhlIHRlbXBsYXRlXG4vLyBpbnRlbnRpb24uXG5jb25zdCBtYXJrZXIgPSBgbGl0JCR7U3RyaW5nKE1hdGgucmFuZG9tKCkpLnNsaWNlKDkpfSRgO1xuXG4vLyBTdHJpbmcgdXNlZCB0byB0ZWxsIGlmIGEgY29tbWVudCBpcyBhIG1hcmtlciBjb21tZW50XG5jb25zdCBtYXJrZXJNYXRjaCA9ICc/JyArIG1hcmtlcjtcblxuLy8gVGV4dCB1c2VkIHRvIGluc2VydCBhIGNvbW1lbnQgbWFya2VyIG5vZGUuIFdlIHVzZSBwcm9jZXNzaW5nIGluc3RydWN0aW9uXG4vLyBzeW50YXggYmVjYXVzZSBpdCdzIHNsaWdodGx5IHNtYWxsZXIsIGJ1dCBwYXJzZXMgYXMgYSBjb21tZW50IG5vZGUuXG5jb25zdCBub2RlTWFya2VyID0gYDwke21hcmtlck1hdGNofT5gO1xuXG5jb25zdCBkID1cbiAgTk9ERV9NT0RFICYmIGdsb2JhbC5kb2N1bWVudCA9PT0gdW5kZWZpbmVkXG4gICAgPyAoe1xuICAgICAgICBjcmVhdGVUcmVlV2Fsa2VyKCkge1xuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfSxcbiAgICAgIH0gYXMgdW5rbm93biBhcyBEb2N1bWVudClcbiAgICA6IGRvY3VtZW50O1xuXG4vLyBDcmVhdGVzIGEgZHluYW1pYyBtYXJrZXIuIFdlIG5ldmVyIGhhdmUgdG8gc2VhcmNoIGZvciB0aGVzZSBpbiB0aGUgRE9NLlxuY29uc3QgY3JlYXRlTWFya2VyID0gKCkgPT4gZC5jcmVhdGVDb21tZW50KCcnKTtcblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZW9mLW9wZXJhdG9yXG50eXBlIFByaW1pdGl2ZSA9IG51bGwgfCB1bmRlZmluZWQgfCBib29sZWFuIHwgbnVtYmVyIHwgc3RyaW5nIHwgc3ltYm9sIHwgYmlnaW50O1xuY29uc3QgaXNQcmltaXRpdmUgPSAodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBQcmltaXRpdmUgPT5cbiAgdmFsdWUgPT09IG51bGwgfHwgKHR5cGVvZiB2YWx1ZSAhPSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUgIT0gJ2Z1bmN0aW9uJyk7XG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IGlzSXRlcmFibGUgPSAodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBJdGVyYWJsZTx1bmtub3duPiA9PlxuICBpc0FycmF5KHZhbHVlKSB8fFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICB0eXBlb2YgKHZhbHVlIGFzIGFueSk/LltTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xuXG5jb25zdCBTUEFDRV9DSEFSID0gYFsgXFx0XFxuXFxmXFxyXWA7XG5jb25zdCBBVFRSX1ZBTFVFX0NIQVIgPSBgW14gXFx0XFxuXFxmXFxyXCInXFxgPD49XWA7XG5jb25zdCBOQU1FX0NIQVIgPSBgW15cXFxcc1wiJz49L11gO1xuXG4vLyBUaGVzZSByZWdleGVzIHJlcHJlc2VudCB0aGUgZml2ZSBwYXJzaW5nIHN0YXRlcyB0aGF0IHdlIGNhcmUgYWJvdXQgaW4gdGhlXG4vLyBUZW1wbGF0ZSdzIEhUTUwgc2Nhbm5lci4gVGhleSBtYXRjaCB0aGUgKmVuZCogb2YgdGhlIHN0YXRlIHRoZXkncmUgbmFtZWRcbi8vIGFmdGVyLlxuLy8gRGVwZW5kaW5nIG9uIHRoZSBtYXRjaCwgd2UgdHJhbnNpdGlvbiB0byBhIG5ldyBzdGF0ZS4gSWYgdGhlcmUncyBubyBtYXRjaCxcbi8vIHdlIHN0YXkgaW4gdGhlIHNhbWUgc3RhdGUuXG4vLyBOb3RlIHRoYXQgdGhlIHJlZ2V4ZXMgYXJlIHN0YXRlZnVsLiBXZSB1dGlsaXplIGxhc3RJbmRleCBhbmQgc3luYyBpdFxuLy8gYWNyb3NzIHRoZSBtdWx0aXBsZSByZWdleGVzIHVzZWQuIEluIGFkZGl0aW9uIHRvIHRoZSBmaXZlIHJlZ2V4ZXMgYmVsb3dcbi8vIHdlIGFsc28gZHluYW1pY2FsbHkgY3JlYXRlIGEgcmVnZXggdG8gZmluZCB0aGUgbWF0Y2hpbmcgZW5kIHRhZ3MgZm9yIHJhd1xuLy8gdGV4dCBlbGVtZW50cy5cblxuLyoqXG4gKiBFbmQgb2YgdGV4dCBpczogYDxgIGZvbGxvd2VkIGJ5OlxuICogICAoY29tbWVudCBzdGFydCkgb3IgKHRhZykgb3IgKGR5bmFtaWMgdGFnIGJpbmRpbmcpXG4gKi9cbmNvbnN0IHRleHRFbmRSZWdleCA9IC88KD86KCEtLXxcXC9bXmEtekEtWl0pfChcXC8/W2EtekEtWl1bXj5cXHNdKil8KFxcLz8kKSkvZztcbmNvbnN0IENPTU1FTlRfU1RBUlQgPSAxO1xuY29uc3QgVEFHX05BTUUgPSAyO1xuY29uc3QgRFlOQU1JQ19UQUdfTkFNRSA9IDM7XG5cbmNvbnN0IGNvbW1lbnRFbmRSZWdleCA9IC8tLT4vZztcbi8qKlxuICogQ29tbWVudHMgbm90IHN0YXJ0ZWQgd2l0aCA8IS0tLCBsaWtlIDwveywgY2FuIGJlIGVuZGVkIGJ5IGEgc2luZ2xlIGA+YFxuICovXG5jb25zdCBjb21tZW50MkVuZFJlZ2V4ID0gLz4vZztcblxuLyoqXG4gKiBUaGUgdGFnRW5kIHJlZ2V4IG1hdGNoZXMgdGhlIGVuZCBvZiB0aGUgXCJpbnNpZGUgYW4gb3BlbmluZ1wiIHRhZyBzeW50YXhcbiAqIHBvc2l0aW9uLiBJdCBlaXRoZXIgbWF0Y2hlcyBhIGA+YCwgYW4gYXR0cmlidXRlLWxpa2Ugc2VxdWVuY2UsIG9yIHRoZSBlbmRcbiAqIG9mIHRoZSBzdHJpbmcgYWZ0ZXIgYSBzcGFjZSAoYXR0cmlidXRlLW5hbWUgcG9zaXRpb24gZW5kaW5nKS5cbiAqXG4gKiBTZWUgYXR0cmlidXRlcyBpbiB0aGUgSFRNTCBzcGVjOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L3N5bnRheC5odG1sI2VsZW1lbnRzLWF0dHJpYnV0ZXNcbiAqXG4gKiBcIiBcXHRcXG5cXGZcXHJcIiBhcmUgSFRNTCBzcGFjZSBjaGFyYWN0ZXJzOlxuICogaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI2FzY2lpLXdoaXRlc3BhY2VcbiAqXG4gKiBTbyBhbiBhdHRyaWJ1dGUgaXM6XG4gKiAgKiBUaGUgbmFtZTogYW55IGNoYXJhY3RlciBleGNlcHQgYSB3aGl0ZXNwYWNlIGNoYXJhY3RlciwgKFwiKSwgKCcpLCBcIj5cIixcbiAqICAgIFwiPVwiLCBvciBcIi9cIi4gTm90ZTogdGhpcyBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgSFRNTCBzcGVjIHdoaWNoIGFsc28gZXhjbHVkZXMgY29udHJvbCBjaGFyYWN0ZXJzLlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5IFwiPVwiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnk6XG4gKiAgICAqIEFueSBjaGFyYWN0ZXIgZXhjZXB0IHNwYWNlLCAoJyksIChcIiksIFwiPFwiLCBcIj5cIiwgXCI9XCIsIChgKSwgb3JcbiAqICAgICogKFwiKSB0aGVuIGFueSBub24tKFwiKSwgb3JcbiAqICAgICogKCcpIHRoZW4gYW55IG5vbi0oJylcbiAqL1xuY29uc3QgdGFnRW5kUmVnZXggPSBuZXcgUmVnRXhwKFxuICBgPnwke1NQQUNFX0NIQVJ9KD86KCR7TkFNRV9DSEFSfSspKCR7U1BBQ0VfQ0hBUn0qPSR7U1BBQ0VfQ0hBUn0qKD86JHtBVFRSX1ZBTFVFX0NIQVJ9fChcInwnKXwpKXwkKWAsXG4gICdnJ1xuKTtcbmNvbnN0IEVOVElSRV9NQVRDSCA9IDA7XG5jb25zdCBBVFRSSUJVVEVfTkFNRSA9IDE7XG5jb25zdCBTUEFDRVNfQU5EX0VRVUFMUyA9IDI7XG5jb25zdCBRVU9URV9DSEFSID0gMztcblxuY29uc3Qgc2luZ2xlUXVvdGVBdHRyRW5kUmVnZXggPSAvJy9nO1xuY29uc3QgZG91YmxlUXVvdGVBdHRyRW5kUmVnZXggPSAvXCIvZztcbi8qKlxuICogTWF0Y2hlcyB0aGUgcmF3IHRleHQgZWxlbWVudHMuXG4gKlxuICogQ29tbWVudHMgYXJlIG5vdCBwYXJzZWQgd2l0aGluIHJhdyB0ZXh0IGVsZW1lbnRzLCBzbyB3ZSBuZWVkIHRvIHNlYXJjaCB0aGVpclxuICogdGV4dCBjb250ZW50IGZvciBtYXJrZXIgc3RyaW5ncy5cbiAqL1xuY29uc3QgcmF3VGV4dEVsZW1lbnQgPSAvXig/OnNjcmlwdHxzdHlsZXx0ZXh0YXJlYXx0aXRsZSkkL2k7XG5cbi8qKiBUZW1wbGF0ZVJlc3VsdCB0eXBlcyAqL1xuY29uc3QgSFRNTF9SRVNVTFQgPSAxO1xuY29uc3QgU1ZHX1JFU1VMVCA9IDI7XG5cbnR5cGUgUmVzdWx0VHlwZSA9IHR5cGVvZiBIVE1MX1JFU1VMVCB8IHR5cGVvZiBTVkdfUkVTVUxUO1xuXG4vLyBUZW1wbGF0ZVBhcnQgdHlwZXNcbi8vIElNUE9SVEFOVDogdGhlc2UgbXVzdCBtYXRjaCB0aGUgdmFsdWVzIGluIFBhcnRUeXBlXG5jb25zdCBBVFRSSUJVVEVfUEFSVCA9IDE7XG5jb25zdCBDSElMRF9QQVJUID0gMjtcbmNvbnN0IFBST1BFUlRZX1BBUlQgPSAzO1xuY29uc3QgQk9PTEVBTl9BVFRSSUJVVEVfUEFSVCA9IDQ7XG5jb25zdCBFVkVOVF9QQVJUID0gNTtcbmNvbnN0IEVMRU1FTlRfUEFSVCA9IDY7XG5jb25zdCBDT01NRU5UX1BBUlQgPSA3O1xuXG4vKipcbiAqIFRoZSByZXR1cm4gdHlwZSBvZiB0aGUgdGVtcGxhdGUgdGFnIGZ1bmN0aW9ucywge0BsaW5rY29kZSBodG1sfSBhbmRcbiAqIHtAbGlua2NvZGUgc3ZnfSB3aGVuIGl0IGhhc24ndCBiZWVuIGNvbXBpbGVkIGJ5IEBsaXQtbGFicy9jb21waWxlci5cbiAqXG4gKiBBIGBUZW1wbGF0ZVJlc3VsdGAgb2JqZWN0IGhvbGRzIGFsbCB0aGUgaW5mb3JtYXRpb24gYWJvdXQgYSB0ZW1wbGF0ZVxuICogZXhwcmVzc2lvbiByZXF1aXJlZCB0byByZW5kZXIgaXQ6IHRoZSB0ZW1wbGF0ZSBzdHJpbmdzLCBleHByZXNzaW9uIHZhbHVlcyxcbiAqIGFuZCB0eXBlIG9mIHRlbXBsYXRlIChodG1sIG9yIHN2ZykuXG4gKlxuICogYFRlbXBsYXRlUmVzdWx0YCBvYmplY3RzIGRvIG5vdCBjcmVhdGUgYW55IERPTSBvbiB0aGVpciBvd24uIFRvIGNyZWF0ZSBvclxuICogdXBkYXRlIERPTSB5b3UgbmVlZCB0byByZW5kZXIgdGhlIGBUZW1wbGF0ZVJlc3VsdGAuIFNlZVxuICogW1JlbmRlcmluZ10oaHR0cHM6Ly9saXQuZGV2L2RvY3MvY29tcG9uZW50cy9yZW5kZXJpbmcpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqL1xuZXhwb3J0IHR5cGUgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0PFQgZXh0ZW5kcyBSZXN1bHRUeXBlID0gUmVzdWx0VHlwZT4gPSB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIFsnXyRsaXRUeXBlJCddOiBUO1xuICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheTtcbiAgdmFsdWVzOiB1bmtub3duW107XG59O1xuXG4vKipcbiAqIFRoaXMgaXMgYSB0ZW1wbGF0ZSByZXN1bHQgdGhhdCBtYXkgYmUgZWl0aGVyIHVuY29tcGlsZWQgb3IgY29tcGlsZWQuXG4gKlxuICogSW4gdGhlIGZ1dHVyZSwgVGVtcGxhdGVSZXN1bHQgd2lsbCBiZSB0aGlzIHR5cGUuIElmIHlvdSB3YW50IHRvIGV4cGxpY2l0bHlcbiAqIG5vdGUgdGhhdCBhIHRlbXBsYXRlIHJlc3VsdCBpcyBwb3RlbnRpYWxseSBjb21waWxlZCwgeW91IGNhbiByZWZlcmVuY2UgdGhpc1xuICogdHlwZSBhbmQgaXQgd2lsbCBjb250aW51ZSB0byBiZWhhdmUgdGhlIHNhbWUgdGhyb3VnaCB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uXG4gKiBvZiBMaXQuIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3IgY29kZSB0aGF0IHdhbnRzIHRvIHByZXBhcmUgZm9yIHRoZSBuZXh0XG4gKiBtYWpvciB2ZXJzaW9uIG9mIExpdC5cbiAqL1xuZXhwb3J0IHR5cGUgTWF5YmVDb21waWxlZFRlbXBsYXRlUmVzdWx0PFQgZXh0ZW5kcyBSZXN1bHRUeXBlID0gUmVzdWx0VHlwZT4gPVxuICB8IFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdDxUPlxuICB8IENvbXBpbGVkVGVtcGxhdGVSZXN1bHQ7XG5cbi8qKlxuICogVGhlIHJldHVybiB0eXBlIG9mIHRoZSB0ZW1wbGF0ZSB0YWcgZnVuY3Rpb25zLCB7QGxpbmtjb2RlIGh0bWx9IGFuZFxuICoge0BsaW5rY29kZSBzdmd9LlxuICpcbiAqIEEgYFRlbXBsYXRlUmVzdWx0YCBvYmplY3QgaG9sZHMgYWxsIHRoZSBpbmZvcm1hdGlvbiBhYm91dCBhIHRlbXBsYXRlXG4gKiBleHByZXNzaW9uIHJlcXVpcmVkIHRvIHJlbmRlciBpdDogdGhlIHRlbXBsYXRlIHN0cmluZ3MsIGV4cHJlc3Npb24gdmFsdWVzLFxuICogYW5kIHR5cGUgb2YgdGVtcGxhdGUgKGh0bWwgb3Igc3ZnKS5cbiAqXG4gKiBgVGVtcGxhdGVSZXN1bHRgIG9iamVjdHMgZG8gbm90IGNyZWF0ZSBhbnkgRE9NIG9uIHRoZWlyIG93bi4gVG8gY3JlYXRlIG9yXG4gKiB1cGRhdGUgRE9NIHlvdSBuZWVkIHRvIHJlbmRlciB0aGUgYFRlbXBsYXRlUmVzdWx0YC4gU2VlXG4gKiBbUmVuZGVyaW5nXShodHRwczovL2xpdC5kZXYvZG9jcy9jb21wb25lbnRzL3JlbmRlcmluZykgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogSW4gTGl0IDQsIHRoaXMgdHlwZSB3aWxsIGJlIGFuIGFsaWFzIG9mXG4gKiBNYXliZUNvbXBpbGVkVGVtcGxhdGVSZXN1bHQsIHNvIHRoYXQgY29kZSB3aWxsIGdldCB0eXBlIGVycm9ycyBpZiBpdCBhc3N1bWVzXG4gKiB0aGF0IExpdCB0ZW1wbGF0ZXMgYXJlIG5vdCBjb21waWxlZC4gV2hlbiBkZWxpYmVyYXRlbHkgd29ya2luZyB3aXRoIG9ubHlcbiAqIG9uZSwgdXNlIGVpdGhlciB7QGxpbmtjb2RlIENvbXBpbGVkVGVtcGxhdGVSZXN1bHR9IG9yXG4gKiB7QGxpbmtjb2RlIFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdH0gZXhwbGljaXRseS5cbiAqL1xuZXhwb3J0IHR5cGUgVGVtcGxhdGVSZXN1bHQ8VCBleHRlbmRzIFJlc3VsdFR5cGUgPSBSZXN1bHRUeXBlPiA9XG4gIFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdDxUPjtcblxuZXhwb3J0IHR5cGUgSFRNTFRlbXBsYXRlUmVzdWx0ID0gVGVtcGxhdGVSZXN1bHQ8dHlwZW9mIEhUTUxfUkVTVUxUPjtcblxuZXhwb3J0IHR5cGUgU1ZHVGVtcGxhdGVSZXN1bHQgPSBUZW1wbGF0ZVJlc3VsdDx0eXBlb2YgU1ZHX1JFU1VMVD47XG5cbi8qKlxuICogQSBUZW1wbGF0ZVJlc3VsdCB0aGF0IGhhcyBiZWVuIGNvbXBpbGVkIGJ5IEBsaXQtbGFicy9jb21waWxlciwgc2tpcHBpbmcgdGhlXG4gKiBwcmVwYXJlIHN0ZXAuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdCB7XG4gIC8vIFRoaXMgaXMgYSBmYWN0b3J5IGluIG9yZGVyIHRvIG1ha2UgdGVtcGxhdGUgaW5pdGlhbGl6YXRpb24gbGF6eVxuICAvLyBhbmQgYWxsb3cgU2hhZHlSZW5kZXJPcHRpb25zIHNjb3BlIHRvIGJlIHBhc3NlZCBpbi5cbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgWydfJGxpdFR5cGUkJ106IENvbXBpbGVkVGVtcGxhdGU7XG4gIHZhbHVlczogdW5rbm93bltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkVGVtcGxhdGUgZXh0ZW5kcyBPbWl0PFRlbXBsYXRlLCAnZWwnPiB7XG4gIC8vIGVsIGlzIG92ZXJyaWRkZW4gdG8gYmUgb3B0aW9uYWwuIFdlIGluaXRpYWxpemUgaXQgb24gZmlyc3QgcmVuZGVyXG4gIGVsPzogSFRNTFRlbXBsYXRlRWxlbWVudDtcblxuICAvLyBUaGUgcHJlcGFyZWQgSFRNTCBzdHJpbmcgdG8gY3JlYXRlIGEgdGVtcGxhdGUgZWxlbWVudCBmcm9tLlxuICAvLyBUaGUgdHlwZSBpcyBhIFRlbXBsYXRlU3RyaW5nc0FycmF5IHRvIGd1YXJhbnRlZSB0aGF0IHRoZSB2YWx1ZSBjYW1lIGZyb21cbiAgLy8gc291cmNlIGNvZGUsIHByZXZlbnRpbmcgYSBKU09OIGluamVjdGlvbiBhdHRhY2suXG4gIGg6IFRlbXBsYXRlU3RyaW5nc0FycmF5O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHRlbXBsYXRlIGxpdGVyYWwgdGFnIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFRlbXBsYXRlUmVzdWx0IHdpdGhcbiAqIHRoZSBnaXZlbiByZXN1bHQgdHlwZS5cbiAqL1xuY29uc3QgdGFnID1cbiAgPFQgZXh0ZW5kcyBSZXN1bHRUeXBlPih0eXBlOiBUKSA9PlxuICAoc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLnZhbHVlczogdW5rbm93bltdKTogVGVtcGxhdGVSZXN1bHQ8VD4gPT4ge1xuICAgIC8vIFdhcm4gYWdhaW5zdCB0ZW1wbGF0ZXMgb2N0YWwgZXNjYXBlIHNlcXVlbmNlc1xuICAgIC8vIFdlIGRvIHRoaXMgaGVyZSByYXRoZXIgdGhhbiBpbiByZW5kZXIgc28gdGhhdCB0aGUgd2FybmluZyBpcyBjbG9zZXIgdG8gdGhlXG4gICAgLy8gdGVtcGxhdGUgZGVmaW5pdGlvbi5cbiAgICBpZiAoREVWX01PREUgJiYgc3RyaW5ncy5zb21lKChzKSA9PiBzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdTb21lIHRlbXBsYXRlIHN0cmluZ3MgYXJlIHVuZGVmaW5lZC5cXG4nICtcbiAgICAgICAgICAnVGhpcyBpcyBwcm9iYWJseSBjYXVzZWQgYnkgaWxsZWdhbCBvY3RhbCBlc2NhcGUgc2VxdWVuY2VzLidcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgLy8gSW1wb3J0IHN0YXRpYy1odG1sLmpzIHJlc3VsdHMgaW4gYSBjaXJjdWxhciBkZXBlbmRlbmN5IHdoaWNoIGczIGRvZXNuJ3RcbiAgICAgIC8vIGhhbmRsZS4gSW5zdGVhZCB3ZSBrbm93IHRoYXQgc3RhdGljIHZhbHVlcyBtdXN0IGhhdmUgdGhlIGZpZWxkXG4gICAgICAvLyBgXyRsaXRTdGF0aWMkYC5cbiAgICAgIGlmIChcbiAgICAgICAgdmFsdWVzLnNvbWUoKHZhbCkgPT4gKHZhbCBhcyB7XyRsaXRTdGF0aWMkOiB1bmtub3dufSk/LlsnXyRsaXRTdGF0aWMkJ10pXG4gICAgICApIHtcbiAgICAgICAgaXNzdWVXYXJuaW5nKFxuICAgICAgICAgICcnLFxuICAgICAgICAgIGBTdGF0aWMgdmFsdWVzICdsaXRlcmFsJyBvciAndW5zYWZlU3RhdGljJyBjYW5ub3QgYmUgdXNlZCBhcyB2YWx1ZXMgdG8gbm9uLXN0YXRpYyB0ZW1wbGF0ZXMuXFxuYCArXG4gICAgICAgICAgICBgUGxlYXNlIHVzZSB0aGUgc3RhdGljICdodG1sJyB0YWcgZnVuY3Rpb24uIFNlZSBodHRwczovL2xpdC5kZXYvZG9jcy90ZW1wbGF0ZXMvZXhwcmVzc2lvbnMvI3N0YXRpYy1leHByZXNzaW9uc2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICBbJ18kbGl0VHlwZSQnXTogdHlwZSxcbiAgICAgIHN0cmluZ3MsXG4gICAgICB2YWx1ZXMsXG4gICAgfTtcbiAgfTtcblxuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgaGVhZGVyID0gKHRpdGxlOiBzdHJpbmcpID0+IGh0bWxgPGgxPiR7dGl0bGV9PC9oMT5gO1xuICogYGBgXG4gKlxuICogVGhlIGBodG1sYCB0YWcgcmV0dXJucyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBET00gdG8gcmVuZGVyIGFzIGEgdmFsdWUuIEl0IGlzXG4gKiBsYXp5LCBtZWFuaW5nIG5vIHdvcmsgaXMgZG9uZSB1bnRpbCB0aGUgdGVtcGxhdGUgaXMgcmVuZGVyZWQuIFdoZW4gcmVuZGVyaW5nLFxuICogaWYgYSB0ZW1wbGF0ZSBjb21lcyBmcm9tIHRoZSBzYW1lIGV4cHJlc3Npb24gYXMgYSBwcmV2aW91c2x5IHJlbmRlcmVkIHJlc3VsdCxcbiAqIGl0J3MgZWZmaWNpZW50bHkgdXBkYXRlZCBpbnN0ZWFkIG9mIHJlcGxhY2VkLlxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IHRhZyhIVE1MX1JFU1VMVCk7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIGZyYWdtZW50IHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgcmVjdCA9IHN2Z2A8cmVjdCB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMTBcIj48L3JlY3Q+YDtcbiAqXG4gKiBjb25zdCBteUltYWdlID0gaHRtbGBcbiAqICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICogICAgICR7cmVjdH1cbiAqICAgPC9zdmc+YDtcbiAqIGBgYFxuICpcbiAqIFRoZSBgc3ZnYCAqdGFnIGZ1bmN0aW9uKiBzaG91bGQgb25seSBiZSB1c2VkIGZvciBTVkcgZnJhZ21lbnRzLCBvciBlbGVtZW50c1xuICogdGhhdCB3b3VsZCBiZSBjb250YWluZWQgKippbnNpZGUqKiBhbiBgPHN2Zz5gIEhUTUwgZWxlbWVudC4gQSBjb21tb24gZXJyb3IgaXNcbiAqIHBsYWNpbmcgYW4gYDxzdmc+YCAqZWxlbWVudCogaW4gYSB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUgYHN2Z2AgdGFnXG4gKiBmdW5jdGlvbi4gVGhlIGA8c3ZnPmAgZWxlbWVudCBpcyBhbiBIVE1MIGVsZW1lbnQgYW5kIHNob3VsZCBiZSB1c2VkIHdpdGhpbiBhXG4gKiB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUge0BsaW5rY29kZSBodG1sfSB0YWcgZnVuY3Rpb24uXG4gKlxuICogSW4gTGl0RWxlbWVudCB1c2FnZSwgaXQncyBpbnZhbGlkIHRvIHJldHVybiBhbiBTVkcgZnJhZ21lbnQgZnJvbSB0aGVcbiAqIGByZW5kZXIoKWAgbWV0aG9kLCBhcyB0aGUgU1ZHIGZyYWdtZW50IHdpbGwgYmUgY29udGFpbmVkIHdpdGhpbiB0aGUgZWxlbWVudCdzXG4gKiBzaGFkb3cgcm9vdCBhbmQgdGh1cyBjYW5ub3QgYmUgdXNlZCB3aXRoaW4gYW4gYDxzdmc+YCBIVE1MIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBzdmcgPSB0YWcoU1ZHX1JFU1VMVCk7XG5cbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCBub0NoYW5nZSA9IFN5bWJvbC5mb3IoJ2xpdC1ub0NoYW5nZScpO1xuXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIGEgQ2hpbGRQYXJ0IHRvIGZ1bGx5IGNsZWFyIGl0cyBjb250ZW50LlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBidXR0b24gPSBodG1sYCR7XG4gKiAgdXNlci5pc0FkbWluXG4gKiAgICA/IGh0bWxgPGJ1dHRvbj5ERUxFVEU8L2J1dHRvbj5gXG4gKiAgICA6IG5vdGhpbmdcbiAqIH1gO1xuICogYGBgXG4gKlxuICogUHJlZmVyIHVzaW5nIGBub3RoaW5nYCBvdmVyIG90aGVyIGZhbHN5IHZhbHVlcyBhcyBpdCBwcm92aWRlcyBhIGNvbnNpc3RlbnRcbiAqIGJlaGF2aW9yIGJldHdlZW4gdmFyaW91cyBleHByZXNzaW9uIGJpbmRpbmcgY29udGV4dHMuXG4gKlxuICogSW4gY2hpbGQgZXhwcmVzc2lvbnMsIGB1bmRlZmluZWRgLCBgbnVsbGAsIGAnJ2AsIGFuZCBgbm90aGluZ2AgYWxsIGJlaGF2ZSB0aGVcbiAqIHNhbWUgYW5kIHJlbmRlciBubyBub2Rlcy4gSW4gYXR0cmlidXRlIGV4cHJlc3Npb25zLCBgbm90aGluZ2AgX3JlbW92ZXNfIHRoZVxuICogYXR0cmlidXRlLCB3aGlsZSBgdW5kZWZpbmVkYCBhbmQgYG51bGxgIHdpbGwgcmVuZGVyIGFuIGVtcHR5IHN0cmluZy4gSW5cbiAqIHByb3BlcnR5IGV4cHJlc3Npb25zIGBub3RoaW5nYCBiZWNvbWVzIGB1bmRlZmluZWRgLlxuICovXG5leHBvcnQgY29uc3Qgbm90aGluZyA9IFN5bWJvbC5mb3IoJ2xpdC1ub3RoaW5nJyk7XG5cbi8qKlxuICogVGhlIGNhY2hlIG9mIHByZXBhcmVkIHRlbXBsYXRlcywga2V5ZWQgYnkgdGhlIHRhZ2dlZCBUZW1wbGF0ZVN0cmluZ3NBcnJheVxuICogYW5kIF9ub3RfIGFjY291bnRpbmcgZm9yIHRoZSBzcGVjaWZpYyB0ZW1wbGF0ZSB0YWcgdXNlZC4gVGhpcyBtZWFucyB0aGF0XG4gKiB0ZW1wbGF0ZSB0YWdzIGNhbm5vdCBiZSBkeW5hbWljIC0gdGhlIG11c3Qgc3RhdGljYWxseSBiZSBvbmUgb2YgaHRtbCwgc3ZnLFxuICogb3IgYXR0ci4gVGhpcyByZXN0cmljdGlvbiBzaW1wbGlmaWVzIHRoZSBjYWNoZSBsb29rdXAsIHdoaWNoIGlzIG9uIHRoZSBob3RcbiAqIHBhdGggZm9yIHJlbmRlcmluZy5cbiAqL1xuY29uc3QgdGVtcGxhdGVDYWNoZSA9IG5ldyBXZWFrTWFwPFRlbXBsYXRlU3RyaW5nc0FycmF5LCBUZW1wbGF0ZT4oKTtcblxuLyoqXG4gKiBPYmplY3Qgc3BlY2lmeWluZyBvcHRpb25zIGZvciBjb250cm9sbGluZyBsaXQtaHRtbCByZW5kZXJpbmcuIE5vdGUgdGhhdFxuICogd2hpbGUgYHJlbmRlcmAgbWF5IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBvbiB0aGUgc2FtZSBgY29udGFpbmVyYCAoYW5kXG4gKiBgcmVuZGVyQmVmb3JlYCByZWZlcmVuY2Ugbm9kZSkgdG8gZWZmaWNpZW50bHkgdXBkYXRlIHRoZSByZW5kZXJlZCBjb250ZW50LFxuICogb25seSB0aGUgb3B0aW9ucyBwYXNzZWQgaW4gZHVyaW5nIHRoZSBmaXJzdCByZW5kZXIgYXJlIHJlc3BlY3RlZCBkdXJpbmdcbiAqIHRoZSBsaWZldGltZSBvZiByZW5kZXJzIHRvIHRoYXQgdW5pcXVlIGBjb250YWluZXJgICsgYHJlbmRlckJlZm9yZWBcbiAqIGNvbWJpbmF0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlck9wdGlvbnMge1xuICAvKipcbiAgICogQW4gb2JqZWN0IHRvIHVzZSBhcyB0aGUgYHRoaXNgIHZhbHVlIGZvciBldmVudCBsaXN0ZW5lcnMuIEl0J3Mgb2Z0ZW5cbiAgICogdXNlZnVsIHRvIHNldCB0aGlzIHRvIHRoZSBob3N0IGNvbXBvbmVudCByZW5kZXJpbmcgYSB0ZW1wbGF0ZS5cbiAgICovXG4gIGhvc3Q/OiBvYmplY3Q7XG4gIC8qKlxuICAgKiBBIERPTSBub2RlIGJlZm9yZSB3aGljaCB0byByZW5kZXIgY29udGVudCBpbiB0aGUgY29udGFpbmVyLlxuICAgKi9cbiAgcmVuZGVyQmVmb3JlPzogQ2hpbGROb2RlIHwgbnVsbDtcbiAgLyoqXG4gICAqIE5vZGUgdXNlZCBmb3IgY2xvbmluZyB0aGUgdGVtcGxhdGUgKGBpbXBvcnROb2RlYCB3aWxsIGJlIGNhbGxlZCBvbiB0aGlzXG4gICAqIG5vZGUpLiBUaGlzIGNvbnRyb2xzIHRoZSBgb3duZXJEb2N1bWVudGAgb2YgdGhlIHJlbmRlcmVkIERPTSwgYWxvbmcgd2l0aFxuICAgKiBhbnkgaW5oZXJpdGVkIGNvbnRleHQuIERlZmF1bHRzIHRvIHRoZSBnbG9iYWwgYGRvY3VtZW50YC5cbiAgICovXG4gIGNyZWF0aW9uU2NvcGU/OiB7aW1wb3J0Tm9kZShub2RlOiBOb2RlLCBkZWVwPzogYm9vbGVhbik6IE5vZGV9O1xuICAvKipcbiAgICogVGhlIGluaXRpYWwgY29ubmVjdGVkIHN0YXRlIGZvciB0aGUgdG9wLWxldmVsIHBhcnQgYmVpbmcgcmVuZGVyZWQuIElmIG5vXG4gICAqIGBpc0Nvbm5lY3RlZGAgb3B0aW9uIGlzIHNldCwgYEFzeW5jRGlyZWN0aXZlYHMgd2lsbCBiZSBjb25uZWN0ZWQgYnlcbiAgICogZGVmYXVsdC4gU2V0IHRvIGBmYWxzZWAgaWYgdGhlIGluaXRpYWwgcmVuZGVyIG9jY3VycyBpbiBhIGRpc2Nvbm5lY3RlZCB0cmVlXG4gICAqIGFuZCBgQXN5bmNEaXJlY3RpdmVgcyBzaG91bGQgc2VlIGBpc0Nvbm5lY3RlZCA9PT0gZmFsc2VgIGZvciB0aGVpciBpbml0aWFsXG4gICAqIHJlbmRlci4gVGhlIGBwYXJ0LnNldENvbm5lY3RlZCgpYCBtZXRob2QgbXVzdCBiZSB1c2VkIHN1YnNlcXVlbnQgdG8gaW5pdGlhbFxuICAgKiByZW5kZXIgdG8gY2hhbmdlIHRoZSBjb25uZWN0ZWQgc3RhdGUgb2YgdGhlIHBhcnQuXG4gICAqL1xuICBpc0Nvbm5lY3RlZD86IGJvb2xlYW47XG59XG5cbmNvbnN0IHdhbGtlciA9IGQuY3JlYXRlVHJlZVdhbGtlcihcbiAgZCxcbiAgMTI5IC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfSAqL1xuKTtcblxubGV0IHNhbml0aXplckZhY3RvcnlJbnRlcm5hbDogU2FuaXRpemVyRmFjdG9yeSA9IG5vb3BTYW5pdGl6ZXI7XG5cbi8vXG4vLyBDbGFzc2VzIG9ubHkgYmVsb3cgaGVyZSwgY29uc3QgdmFyaWFibGUgZGVjbGFyYXRpb25zIG9ubHkgYWJvdmUgaGVyZS4uLlxuLy9cbi8vIEtlZXBpbmcgdmFyaWFibGUgZGVjbGFyYXRpb25zIGFuZCBjbGFzc2VzIHRvZ2V0aGVyIGltcHJvdmVzIG1pbmlmaWNhdGlvbi5cbi8vIEludGVyZmFjZXMgYW5kIHR5cGUgYWxpYXNlcyBjYW4gYmUgaW50ZXJsZWF2ZWQgZnJlZWx5LlxuLy9cblxuLy8gVHlwZSBmb3IgY2xhc3NlcyB0aGF0IGhhdmUgYSBgX2RpcmVjdGl2ZWAgb3IgYF9kaXJlY3RpdmVzW11gIGZpZWxkLCB1c2VkIGJ5XG4vLyBgcmVzb2x2ZURpcmVjdGl2ZWBcbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0aXZlUGFyZW50IHtcbiAgXyRwYXJlbnQ/OiBEaXJlY3RpdmVQYXJlbnQ7XG4gIF8kaXNDb25uZWN0ZWQ6IGJvb2xlYW47XG4gIF9fZGlyZWN0aXZlPzogRGlyZWN0aXZlO1xuICBfX2RpcmVjdGl2ZXM/OiBBcnJheTxEaXJlY3RpdmUgfCB1bmRlZmluZWQ+O1xufVxuXG5mdW5jdGlvbiB0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyhcbiAgdHNhOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSxcbiAgc3RyaW5nRnJvbVRTQTogc3RyaW5nXG4pOiBUcnVzdGVkSFRNTCB7XG4gIC8vIEEgc2VjdXJpdHkgY2hlY2sgdG8gcHJldmVudCBzcG9vZmluZyBvZiBMaXQgdGVtcGxhdGUgcmVzdWx0cy5cbiAgLy8gSW4gdGhlIGZ1dHVyZSwgd2UgbWF5IGJlIGFibGUgdG8gcmVwbGFjZSB0aGlzIHdpdGggQXJyYXkuaXNUZW1wbGF0ZU9iamVjdCxcbiAgLy8gdGhvdWdoIHdlIG1pZ2h0IG5lZWQgdG8gbWFrZSB0aGF0IGNoZWNrIGluc2lkZSBvZiB0aGUgaHRtbCBhbmQgc3ZnXG4gIC8vIGZ1bmN0aW9ucywgYmVjYXVzZSBwcmVjb21waWxlZCB0ZW1wbGF0ZXMgZG9uJ3QgY29tZSBpbiBhc1xuICAvLyBUZW1wbGF0ZVN0cmluZ0FycmF5IG9iamVjdHMuXG4gIGlmICghQXJyYXkuaXNBcnJheSh0c2EpIHx8ICF0c2EuaGFzT3duUHJvcGVydHkoJ3JhdycpKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSAnaW52YWxpZCB0ZW1wbGF0ZSBzdHJpbmdzIGFycmF5JztcbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIG1lc3NhZ2UgPSBgXG4gICAgICAgICAgSW50ZXJuYWwgRXJyb3I6IGV4cGVjdGVkIHRlbXBsYXRlIHN0cmluZ3MgdG8gYmUgYW4gYXJyYXlcbiAgICAgICAgICB3aXRoIGEgJ3JhdycgZmllbGQuIEZha2luZyBhIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXkgYnlcbiAgICAgICAgICBjYWxsaW5nIGh0bWwgb3Igc3ZnIGxpa2UgYW4gb3JkaW5hcnkgZnVuY3Rpb24gaXMgZWZmZWN0aXZlbHlcbiAgICAgICAgICB0aGUgc2FtZSBhcyBjYWxsaW5nIHVuc2FmZUh0bWwgYW5kIGNhbiBsZWFkIHRvIG1ham9yIHNlY3VyaXR5XG4gICAgICAgICAgaXNzdWVzLCBlLmcuIG9wZW5pbmcgeW91ciBjb2RlIHVwIHRvIFhTUyBhdHRhY2tzLlxuICAgICAgICAgIElmIHlvdSdyZSB1c2luZyB0aGUgaHRtbCBvciBzdmcgdGFnZ2VkIHRlbXBsYXRlIGZ1bmN0aW9ucyBub3JtYWxseVxuICAgICAgICAgIGFuZCBzdGlsbCBzZWVpbmcgdGhpcyBlcnJvciwgcGxlYXNlIGZpbGUgYSBidWcgYXRcbiAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbGl0L2xpdC9pc3N1ZXMvbmV3P3RlbXBsYXRlPWJ1Z19yZXBvcnQubWRcbiAgICAgICAgICBhbmQgaW5jbHVkZSBpbmZvcm1hdGlvbiBhYm91dCB5b3VyIGJ1aWxkIHRvb2xpbmcsIGlmIGFueS5cbiAgICAgICAgYFxuICAgICAgICAudHJpbSgpXG4gICAgICAgIC5yZXBsYWNlKC9cXG4gKi9nLCAnXFxuJyk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxuICByZXR1cm4gcG9saWN5ICE9PSB1bmRlZmluZWRcbiAgICA/IHBvbGljeS5jcmVhdGVIVE1MKHN0cmluZ0Zyb21UU0EpXG4gICAgOiAoc3RyaW5nRnJvbVRTQSBhcyB1bmtub3duIGFzIFRydXN0ZWRIVE1MKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIEhUTUwgc3RyaW5nIGZvciB0aGUgZ2l2ZW4gVGVtcGxhdGVTdHJpbmdzQXJyYXkgYW5kIHJlc3VsdCB0eXBlXG4gKiAoSFRNTCBvciBTVkcpLCBhbG9uZyB3aXRoIHRoZSBjYXNlLXNlbnNpdGl2ZSBib3VuZCBhdHRyaWJ1dGUgbmFtZXMgaW5cbiAqIHRlbXBsYXRlIG9yZGVyLiBUaGUgSFRNTCBjb250YWlucyBjb21tZW50IG1hcmtlcnMgZGVub3RpbmcgdGhlIGBDaGlsZFBhcnRgc1xuICogYW5kIHN1ZmZpeGVzIG9uIGJvdW5kIGF0dHJpYnV0ZXMgZGVub3RpbmcgdGhlIGBBdHRyaWJ1dGVQYXJ0c2AuXG4gKlxuICogQHBhcmFtIHN0cmluZ3MgdGVtcGxhdGUgc3RyaW5ncyBhcnJheVxuICogQHBhcmFtIHR5cGUgSFRNTCBvciBTVkdcbiAqIEByZXR1cm4gQXJyYXkgY29udGFpbmluZyBgW2h0bWwsIGF0dHJOYW1lc11gIChhcnJheSByZXR1cm5lZCBmb3IgdGVyc2VuZXNzLFxuICogICAgIHRvIGF2b2lkIG9iamVjdCBmaWVsZHMgc2luY2UgdGhpcyBjb2RlIGlzIHNoYXJlZCB3aXRoIG5vbi1taW5pZmllZCBTU1JcbiAqICAgICBjb2RlKVxuICovXG5jb25zdCBnZXRUZW1wbGF0ZUh0bWwgPSAoXG4gIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LFxuICB0eXBlOiBSZXN1bHRUeXBlXG4pOiBbVHJ1c3RlZEhUTUwsIEFycmF5PHN0cmluZz5dID0+IHtcbiAgLy8gSW5zZXJ0IG1ha2VycyBpbnRvIHRoZSB0ZW1wbGF0ZSBIVE1MIHRvIHJlcHJlc2VudCB0aGUgcG9zaXRpb24gb2ZcbiAgLy8gYmluZGluZ3MuIFRoZSBmb2xsb3dpbmcgY29kZSBzY2FucyB0aGUgdGVtcGxhdGUgc3RyaW5ncyB0byBkZXRlcm1pbmUgdGhlXG4gIC8vIHN5bnRhY3RpYyBwb3NpdGlvbiBvZiB0aGUgYmluZGluZ3MuIFRoZXkgY2FuIGJlIGluIHRleHQgcG9zaXRpb24sIHdoZXJlXG4gIC8vIHdlIGluc2VydCBhbiBIVE1MIGNvbW1lbnQsIGF0dHJpYnV0ZSB2YWx1ZSBwb3NpdGlvbiwgd2hlcmUgd2UgaW5zZXJ0IGFcbiAgLy8gc2VudGluZWwgc3RyaW5nIGFuZCByZS13cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUsIG9yIGluc2lkZSBhIHRhZyB3aGVyZVxuICAvLyB3ZSBpbnNlcnQgdGhlIHNlbnRpbmVsIHN0cmluZy5cbiAgY29uc3QgbCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgLy8gU3RvcmVzIHRoZSBjYXNlLXNlbnNpdGl2ZSBib3VuZCBhdHRyaWJ1dGUgbmFtZXMgaW4gdGhlIG9yZGVyIG9mIHRoZWlyXG4gIC8vIHBhcnRzLiBFbGVtZW50UGFydHMgYXJlIGFsc28gcmVmbGVjdGVkIGluIHRoaXMgYXJyYXkgYXMgdW5kZWZpbmVkXG4gIC8vIHJhdGhlciB0aGFuIGEgc3RyaW5nLCB0byBkaXNhbWJpZ3VhdGUgZnJvbSBhdHRyaWJ1dGUgYmluZGluZ3MuXG4gIGNvbnN0IGF0dHJOYW1lczogQXJyYXk8c3RyaW5nPiA9IFtdO1xuICBsZXQgaHRtbCA9IHR5cGUgPT09IFNWR19SRVNVTFQgPyAnPHN2Zz4nIDogJyc7XG5cbiAgLy8gV2hlbiB3ZSdyZSBpbnNpZGUgYSByYXcgdGV4dCB0YWcgKG5vdCBpdCdzIHRleHQgY29udGVudCksIHRoZSByZWdleFxuICAvLyB3aWxsIHN0aWxsIGJlIHRhZ1JlZ2V4IHNvIHdlIGNhbiBmaW5kIGF0dHJpYnV0ZXMsIGJ1dCB3aWxsIHN3aXRjaCB0b1xuICAvLyB0aGlzIHJlZ2V4IHdoZW4gdGhlIHRhZyBlbmRzLlxuICBsZXQgcmF3VGV4dEVuZFJlZ2V4OiBSZWdFeHAgfCB1bmRlZmluZWQ7XG5cbiAgLy8gVGhlIGN1cnJlbnQgcGFyc2luZyBzdGF0ZSwgcmVwcmVzZW50ZWQgYXMgYSByZWZlcmVuY2UgdG8gb25lIG9mIHRoZVxuICAvLyByZWdleGVzXG4gIGxldCByZWdleCA9IHRleHRFbmRSZWdleDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IHMgPSBzdHJpbmdzW2ldO1xuICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgZW5kIG9mIHRoZSBsYXN0IGF0dHJpYnV0ZSBuYW1lLiBXaGVuIHRoaXMgaXNcbiAgICAvLyBwb3NpdGl2ZSBhdCBlbmQgb2YgYSBzdHJpbmcsIGl0IG1lYW5zIHdlJ3JlIGluIGFuIGF0dHJpYnV0ZSB2YWx1ZVxuICAgIC8vIHBvc2l0aW9uIGFuZCBuZWVkIHRvIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lLlxuICAgIC8vIFdlIGFsc28gdXNlIGEgc3BlY2lhbCB2YWx1ZSBvZiAtMiB0byBpbmRpY2F0ZSB0aGF0IHdlIGVuY291bnRlcmVkXG4gICAgLy8gdGhlIGVuZCBvZiBhIHN0cmluZyBpbiBhdHRyaWJ1dGUgbmFtZSBwb3NpdGlvbi5cbiAgICBsZXQgYXR0ck5hbWVFbmRJbmRleCA9IC0xO1xuICAgIGxldCBhdHRyTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIGxldCBsYXN0SW5kZXggPSAwO1xuICAgIGxldCBtYXRjaCE6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG5cbiAgICAvLyBUaGUgY29uZGl0aW9ucyBpbiB0aGlzIGxvb3AgaGFuZGxlIHRoZSBjdXJyZW50IHBhcnNlIHN0YXRlLCBhbmQgdGhlXG4gICAgLy8gYXNzaWdubWVudHMgdG8gdGhlIGByZWdleGAgdmFyaWFibGUgYXJlIHRoZSBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAgICB3aGlsZSAobGFzdEluZGV4IDwgcy5sZW5ndGgpIHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBzdGFydCBzZWFyY2hpbmcgZnJvbSB3aGVyZSB3ZSBwcmV2aW91c2x5IGxlZnQgb2ZmXG4gICAgICByZWdleC5sYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gICAgICBtYXRjaCA9IHJlZ2V4LmV4ZWMocyk7XG4gICAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsYXN0SW5kZXggPSByZWdleC5sYXN0SW5kZXg7XG4gICAgICBpZiAocmVnZXggPT09IHRleHRFbmRSZWdleCkge1xuICAgICAgICBpZiAobWF0Y2hbQ09NTUVOVF9TVEFSVF0gPT09ICchLS0nKSB7XG4gICAgICAgICAgcmVnZXggPSBjb21tZW50RW5kUmVnZXg7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbQ09NTUVOVF9TVEFSVF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIFdlIHN0YXJ0ZWQgYSB3ZWlyZCBjb21tZW50LCBsaWtlIDwve1xuICAgICAgICAgIHJlZ2V4ID0gY29tbWVudDJFbmRSZWdleDtcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaFtUQUdfTkFNRV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyYXdUZXh0RWxlbWVudC50ZXN0KG1hdGNoW1RBR19OQU1FXSkpIHtcbiAgICAgICAgICAgIC8vIFJlY29yZCBpZiB3ZSBlbmNvdW50ZXIgYSByYXctdGV4dCBlbGVtZW50LiBXZSdsbCBzd2l0Y2ggdG9cbiAgICAgICAgICAgIC8vIHRoaXMgcmVnZXggYXQgdGhlIGVuZCBvZiB0aGUgdGFnLlxuICAgICAgICAgICAgcmF3VGV4dEVuZFJlZ2V4ID0gbmV3IFJlZ0V4cChgPC8ke21hdGNoW1RBR19OQU1FXX1gLCAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoW0RZTkFNSUNfVEFHX05BTUVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgJ0JpbmRpbmdzIGluIHRhZyBuYW1lcyBhcmUgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHVzZSBzdGF0aWMgdGVtcGxhdGVzIGluc3RlYWQuICcgK1xuICAgICAgICAgICAgICAgICdTZWUgaHR0cHM6Ly9saXQuZGV2L2RvY3MvdGVtcGxhdGVzL2V4cHJlc3Npb25zLyNzdGF0aWMtZXhwcmVzc2lvbnMnXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlZ2V4ID09PSB0YWdFbmRSZWdleCkge1xuICAgICAgICBpZiAobWF0Y2hbRU5USVJFX01BVENIXSA9PT0gJz4nKSB7XG4gICAgICAgICAgLy8gRW5kIG9mIGEgdGFnLiBJZiB3ZSBoYWQgc3RhcnRlZCBhIHJhdy10ZXh0IGVsZW1lbnQsIHVzZSB0aGF0XG4gICAgICAgICAgLy8gcmVnZXhcbiAgICAgICAgICByZWdleCA9IHJhd1RleHRFbmRSZWdleCA/PyB0ZXh0RW5kUmVnZXg7XG4gICAgICAgICAgLy8gV2UgbWF5IGJlIGVuZGluZyBhbiB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUsIHNvIG1ha2Ugc3VyZSB3ZVxuICAgICAgICAgIC8vIGNsZWFyIGFueSBwZW5kaW5nIGF0dHJOYW1lRW5kSW5kZXhcbiAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gLTE7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbQVRUUklCVVRFX05BTUVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBBdHRyaWJ1dGUgbmFtZSBwb3NpdGlvblxuICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSAtMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gcmVnZXgubGFzdEluZGV4IC0gbWF0Y2hbU1BBQ0VTX0FORF9FUVVBTFNdLmxlbmd0aDtcbiAgICAgICAgICBhdHRyTmFtZSA9IG1hdGNoW0FUVFJJQlVURV9OQU1FXTtcbiAgICAgICAgICByZWdleCA9XG4gICAgICAgICAgICBtYXRjaFtRVU9URV9DSEFSXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gdGFnRW5kUmVnZXhcbiAgICAgICAgICAgICAgOiBtYXRjaFtRVU9URV9DSEFSXSA9PT0gJ1wiJ1xuICAgICAgICAgICAgICA/IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4XG4gICAgICAgICAgICAgIDogc2luZ2xlUXVvdGVBdHRyRW5kUmVnZXg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHJlZ2V4ID09PSBkb3VibGVRdW90ZUF0dHJFbmRSZWdleCB8fFxuICAgICAgICByZWdleCA9PT0gc2luZ2xlUXVvdGVBdHRyRW5kUmVnZXhcbiAgICAgICkge1xuICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgfSBlbHNlIGlmIChyZWdleCA9PT0gY29tbWVudEVuZFJlZ2V4IHx8IHJlZ2V4ID09PSBjb21tZW50MkVuZFJlZ2V4KSB7XG4gICAgICAgIHJlZ2V4ID0gdGV4dEVuZFJlZ2V4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm90IG9uZSBvZiB0aGUgZml2ZSBzdGF0ZSByZWdleGVzLCBzbyBpdCBtdXN0IGJlIHRoZSBkeW5hbWljYWxseVxuICAgICAgICAvLyBjcmVhdGVkIHJhdyB0ZXh0IHJlZ2V4IGFuZCB3ZSdyZSBhdCB0aGUgY2xvc2Ugb2YgdGhhdCBlbGVtZW50LlxuICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICByYXdUZXh0RW5kUmVnZXggPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgYXR0ck5hbWVFbmRJbmRleCwgd2hpY2ggaW5kaWNhdGVzIHRoYXQgd2Ugc2hvdWxkXG4gICAgICAvLyByZXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZSwgYXNzZXJ0IHRoYXQgd2UncmUgaW4gYSB2YWxpZCBhdHRyaWJ1dGVcbiAgICAgIC8vIHBvc2l0aW9uIC0gZWl0aGVyIGluIGEgdGFnLCBvciBhIHF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICBjb25zb2xlLmFzc2VydChcbiAgICAgICAgYXR0ck5hbWVFbmRJbmRleCA9PT0gLTEgfHxcbiAgICAgICAgICByZWdleCA9PT0gdGFnRW5kUmVnZXggfHxcbiAgICAgICAgICByZWdleCA9PT0gc2luZ2xlUXVvdGVBdHRyRW5kUmVnZXggfHxcbiAgICAgICAgICByZWdleCA9PT0gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXgsXG4gICAgICAgICd1bmV4cGVjdGVkIHBhcnNlIHN0YXRlIEInXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFdlIGhhdmUgZm91ciBjYXNlczpcbiAgICAvLyAgMS4gV2UncmUgaW4gdGV4dCBwb3NpdGlvbiwgYW5kIG5vdCBpbiBhIHJhdyB0ZXh0IGVsZW1lbnRcbiAgICAvLyAgICAgKHJlZ2V4ID09PSB0ZXh0RW5kUmVnZXgpOiBpbnNlcnQgYSBjb21tZW50IG1hcmtlci5cbiAgICAvLyAgMi4gV2UgaGF2ZSBhIG5vbi1uZWdhdGl2ZSBhdHRyTmFtZUVuZEluZGV4IHdoaWNoIG1lYW5zIHdlIG5lZWQgdG9cbiAgICAvLyAgICAgcmV3cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUgdG8gYWRkIGEgYm91bmQgYXR0cmlidXRlIHN1ZmZpeC5cbiAgICAvLyAgMy4gV2UncmUgYXQgdGhlIG5vbi1maXJzdCBiaW5kaW5nIGluIGEgbXVsdGktYmluZGluZyBhdHRyaWJ1dGUsIHVzZSBhXG4gICAgLy8gICAgIHBsYWluIG1hcmtlci5cbiAgICAvLyAgNC4gV2UncmUgc29tZXdoZXJlIGVsc2UgaW5zaWRlIHRoZSB0YWcuIElmIHdlJ3JlIGluIGF0dHJpYnV0ZSBuYW1lXG4gICAgLy8gICAgIHBvc2l0aW9uIChhdHRyTmFtZUVuZEluZGV4ID09PSAtMiksIGFkZCBhIHNlcXVlbnRpYWwgc3VmZml4IHRvXG4gICAgLy8gICAgIGdlbmVyYXRlIGEgdW5pcXVlIGF0dHJpYnV0ZSBuYW1lLlxuXG4gICAgLy8gRGV0ZWN0IGEgYmluZGluZyBuZXh0IHRvIHNlbGYtY2xvc2luZyB0YWcgZW5kIGFuZCBpbnNlcnQgYSBzcGFjZSB0b1xuICAgIC8vIHNlcGFyYXRlIHRoZSBtYXJrZXIgZnJvbSB0aGUgdGFnIGVuZDpcbiAgICBjb25zdCBlbmQgPVxuICAgICAgcmVnZXggPT09IHRhZ0VuZFJlZ2V4ICYmIHN0cmluZ3NbaSArIDFdLnN0YXJ0c1dpdGgoJy8+JykgPyAnICcgOiAnJztcbiAgICBodG1sICs9XG4gICAgICByZWdleCA9PT0gdGV4dEVuZFJlZ2V4XG4gICAgICAgID8gcyArIG5vZGVNYXJrZXJcbiAgICAgICAgOiBhdHRyTmFtZUVuZEluZGV4ID49IDBcbiAgICAgICAgPyAoYXR0ck5hbWVzLnB1c2goYXR0ck5hbWUhKSxcbiAgICAgICAgICBzLnNsaWNlKDAsIGF0dHJOYW1lRW5kSW5kZXgpICtcbiAgICAgICAgICAgIGJvdW5kQXR0cmlidXRlU3VmZml4ICtcbiAgICAgICAgICAgIHMuc2xpY2UoYXR0ck5hbWVFbmRJbmRleCkpICtcbiAgICAgICAgICBtYXJrZXIgK1xuICAgICAgICAgIGVuZFxuICAgICAgICA6IHMgKyBtYXJrZXIgKyAoYXR0ck5hbWVFbmRJbmRleCA9PT0gLTIgPyBpIDogZW5kKTtcbiAgfVxuXG4gIGNvbnN0IGh0bWxSZXN1bHQ6IHN0cmluZyB8IFRydXN0ZWRIVE1MID1cbiAgICBodG1sICsgKHN0cmluZ3NbbF0gfHwgJzw/PicpICsgKHR5cGUgPT09IFNWR19SRVNVTFQgPyAnPC9zdmc+JyA6ICcnKTtcblxuICAvLyBSZXR1cm5lZCBhcyBhbiBhcnJheSBmb3IgdGVyc2VuZXNzXG4gIHJldHVybiBbdHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmcoc3RyaW5ncywgaHRtbFJlc3VsdCksIGF0dHJOYW1lc107XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgdHlwZSB7VGVtcGxhdGV9O1xuY2xhc3MgVGVtcGxhdGUge1xuICAvKiogQGludGVybmFsICovXG4gIGVsITogSFRNTFRlbXBsYXRlRWxlbWVudDtcblxuICBwYXJ0czogQXJyYXk8VGVtcGxhdGVQYXJ0PiA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAge3N0cmluZ3MsIFsnXyRsaXRUeXBlJCddOiB0eXBlfTogVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0LFxuICAgIG9wdGlvbnM/OiBSZW5kZXJPcHRpb25zXG4gICkge1xuICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbDtcbiAgICBsZXQgbm9kZUluZGV4ID0gMDtcbiAgICBsZXQgYXR0ck5hbWVJbmRleCA9IDA7XG4gICAgY29uc3QgcGFydENvdW50ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgIGNvbnN0IHBhcnRzID0gdGhpcy5wYXJ0cztcblxuICAgIC8vIENyZWF0ZSB0ZW1wbGF0ZSBlbGVtZW50XG4gICAgY29uc3QgW2h0bWwsIGF0dHJOYW1lc10gPSBnZXRUZW1wbGF0ZUh0bWwoc3RyaW5ncywgdHlwZSk7XG4gICAgdGhpcy5lbCA9IFRlbXBsYXRlLmNyZWF0ZUVsZW1lbnQoaHRtbCwgb3B0aW9ucyk7XG4gICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gdGhpcy5lbC5jb250ZW50O1xuXG4gICAgLy8gUmUtcGFyZW50IFNWRyBub2RlcyBpbnRvIHRlbXBsYXRlIHJvb3RcbiAgICBpZiAodHlwZSA9PT0gU1ZHX1JFU1VMVCkge1xuICAgICAgY29uc3Qgc3ZnRWxlbWVudCA9IHRoaXMuZWwuY29udGVudC5maXJzdENoaWxkITtcbiAgICAgIHN2Z0VsZW1lbnQucmVwbGFjZVdpdGgoLi4uc3ZnRWxlbWVudC5jaGlsZE5vZGVzKTtcbiAgICB9XG5cbiAgICAvLyBXYWxrIHRoZSB0ZW1wbGF0ZSB0byBmaW5kIGJpbmRpbmcgbWFya2VycyBhbmQgY3JlYXRlIFRlbXBsYXRlUGFydHNcbiAgICB3aGlsZSAoKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkgIT09IG51bGwgJiYgcGFydHMubGVuZ3RoIDwgcGFydENvdW50KSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICBjb25zdCB0YWcgPSAobm9kZSBhcyBFbGVtZW50KS5sb2NhbE5hbWU7XG4gICAgICAgICAgLy8gV2FybiBpZiBgdGV4dGFyZWFgIGluY2x1ZGVzIGFuIGV4cHJlc3Npb24gYW5kIHRocm93IGlmIGB0ZW1wbGF0ZWBcbiAgICAgICAgICAvLyBkb2VzIHNpbmNlIHRoZXNlIGFyZSBub3Qgc3VwcG9ydGVkLiBXZSBkbyB0aGlzIGJ5IGNoZWNraW5nXG4gICAgICAgICAgLy8gaW5uZXJIVE1MIGZvciBhbnl0aGluZyB0aGF0IGxvb2tzIGxpa2UgYSBtYXJrZXIuIFRoaXMgY2F0Y2hlc1xuICAgICAgICAgIC8vIGNhc2VzIGxpa2UgYmluZGluZ3MgaW4gdGV4dGFyZWEgdGhlcmUgbWFya2VycyB0dXJuIGludG8gdGV4dCBub2Rlcy5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAvXig/OnRleHRhcmVhfHRlbXBsYXRlKSQvaSEudGVzdCh0YWcpICYmXG4gICAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5pbm5lckhUTUwuaW5jbHVkZXMobWFya2VyKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgbSA9XG4gICAgICAgICAgICAgIGBFeHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCBpbnNpZGUgXFxgJHt0YWd9XFxgIGAgK1xuICAgICAgICAgICAgICBgZWxlbWVudHMuIFNlZSBodHRwczovL2xpdC5kZXYvbXNnL2V4cHJlc3Npb24taW4tJHt0YWd9IGZvciBtb3JlIGAgK1xuICAgICAgICAgICAgICBgaW5mb3JtYXRpb24uYDtcbiAgICAgICAgICAgIGlmICh0YWcgPT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG0pO1xuICAgICAgICAgICAgfSBlbHNlIGlzc3VlV2FybmluZygnJywgbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBmb3IgYXR0ZW1wdGVkIGR5bmFtaWMgdGFnIG5hbWVzLCB3ZSBkb24ndFxuICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIGJpbmRpbmdJbmRleCwgYW5kIGl0J2xsIGJlIG9mZiBieSAxIGluIHRoZSBlbGVtZW50XG4gICAgICAgIC8vIGFuZCBvZmYgYnkgdHdvIGFmdGVyIGl0LlxuICAgICAgICBpZiAoKG5vZGUgYXMgRWxlbWVudCkuaGFzQXR0cmlidXRlcygpKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZU5hbWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChuYW1lLmVuZHNXaXRoKGJvdW5kQXR0cmlidXRlU3VmZml4KSkge1xuICAgICAgICAgICAgICBjb25zdCByZWFsTmFtZSA9IGF0dHJOYW1lc1thdHRyTmFtZUluZGV4KytdO1xuICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZShuYW1lKSE7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXRpY3MgPSB2YWx1ZS5zcGxpdChtYXJrZXIpO1xuICAgICAgICAgICAgICBjb25zdCBtID0gLyhbLj9AXSk/KC4qKS8uZXhlYyhyZWFsTmFtZSkhO1xuICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBBVFRSSUJVVEVfUEFSVCxcbiAgICAgICAgICAgICAgICBpbmRleDogbm9kZUluZGV4LFxuICAgICAgICAgICAgICAgIG5hbWU6IG1bMl0sXG4gICAgICAgICAgICAgICAgc3RyaW5nczogc3RhdGljcyxcbiAgICAgICAgICAgICAgICBjdG9yOlxuICAgICAgICAgICAgICAgICAgbVsxXSA9PT0gJy4nXG4gICAgICAgICAgICAgICAgICAgID8gUHJvcGVydHlQYXJ0XG4gICAgICAgICAgICAgICAgICAgIDogbVsxXSA9PT0gJz8nXG4gICAgICAgICAgICAgICAgICAgID8gQm9vbGVhbkF0dHJpYnV0ZVBhcnRcbiAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnQCdcbiAgICAgICAgICAgICAgICAgICAgPyBFdmVudFBhcnRcbiAgICAgICAgICAgICAgICAgICAgOiBBdHRyaWJ1dGVQYXJ0LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lLnN0YXJ0c1dpdGgobWFya2VyKSkge1xuICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFTEVNRU5UX1BBUlQsXG4gICAgICAgICAgICAgICAgaW5kZXg6IG5vZGVJbmRleCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGJlbmNobWFyayB0aGUgcmVnZXggYWdhaW5zdCB0ZXN0aW5nIGZvciBlYWNoXG4gICAgICAgIC8vIG9mIHRoZSAzIHJhdyB0ZXh0IGVsZW1lbnQgbmFtZXMuXG4gICAgICAgIGlmIChyYXdUZXh0RWxlbWVudC50ZXN0KChub2RlIGFzIEVsZW1lbnQpLnRhZ05hbWUpKSB7XG4gICAgICAgICAgLy8gRm9yIHJhdyB0ZXh0IGVsZW1lbnRzIHdlIG5lZWQgdG8gc3BsaXQgdGhlIHRleHQgY29udGVudCBvblxuICAgICAgICAgIC8vIG1hcmtlcnMsIGNyZWF0ZSBhIFRleHQgbm9kZSBmb3IgZWFjaCBzZWdtZW50LCBhbmQgY3JlYXRlXG4gICAgICAgICAgLy8gYSBUZW1wbGF0ZVBhcnQgZm9yIGVhY2ggbWFya2VyLlxuICAgICAgICAgIGNvbnN0IHN0cmluZ3MgPSAobm9kZSBhcyBFbGVtZW50KS50ZXh0Q29udGVudCEuc3BsaXQobWFya2VyKTtcbiAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgaWYgKGxhc3RJbmRleCA+IDApIHtcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLnRleHRDb250ZW50ID0gdHJ1c3RlZFR5cGVzXG4gICAgICAgICAgICAgID8gKHRydXN0ZWRUeXBlcy5lbXB0eVNjcmlwdCBhcyB1bmtub3duIGFzICcnKVxuICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdGV4dCBub2RlIGZvciBlYWNoIGxpdGVyYWwgc2VjdGlvblxuICAgICAgICAgICAgLy8gVGhlc2Ugbm9kZXMgYXJlIGFsc28gdXNlZCBhcyB0aGUgbWFya2VycyBmb3Igbm9kZSBwYXJ0c1xuICAgICAgICAgICAgLy8gV2UgY2FuJ3QgdXNlIGVtcHR5IHRleHQgbm9kZXMgYXMgbWFya2VycyBiZWNhdXNlIHRoZXkncmVcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZWQgd2hlbiBjbG9uaW5nIGluIElFIChjb3VsZCBzaW1wbGlmeSB3aGVuXG4gICAgICAgICAgICAvLyBJRSBpcyBubyBsb25nZXIgc3VwcG9ydGVkKVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXN0SW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5hcHBlbmQoc3RyaW5nc1tpXSwgY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICAgICAgICAvLyBXYWxrIHBhc3QgdGhlIG1hcmtlciBub2RlIHdlIGp1c3QgYWRkZWRcbiAgICAgICAgICAgICAgd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICAgIHBhcnRzLnB1c2goe3R5cGU6IENISUxEX1BBUlQsIGluZGV4OiArK25vZGVJbmRleH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm90ZSBiZWNhdXNlIHRoaXMgbWFya2VyIGlzIGFkZGVkIGFmdGVyIHRoZSB3YWxrZXIncyBjdXJyZW50XG4gICAgICAgICAgICAvLyBub2RlLCBpdCB3aWxsIGJlIHdhbGtlZCB0byBpbiB0aGUgb3V0ZXIgbG9vcCAoYW5kIGlnbm9yZWQpLCBzb1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBhZGp1c3Qgbm9kZUluZGV4IGhlcmVcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmFwcGVuZChzdHJpbmdzW2xhc3RJbmRleF0sIGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCkge1xuICAgICAgICBjb25zdCBkYXRhID0gKG5vZGUgYXMgQ29tbWVudCkuZGF0YTtcbiAgICAgICAgaWYgKGRhdGEgPT09IG1hcmtlck1hdGNoKSB7XG4gICAgICAgICAgcGFydHMucHVzaCh7dHlwZTogQ0hJTERfUEFSVCwgaW5kZXg6IG5vZGVJbmRleH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBpID0gLTE7XG4gICAgICAgICAgd2hpbGUgKChpID0gKG5vZGUgYXMgQ29tbWVudCkuZGF0YS5pbmRleE9mKG1hcmtlciwgaSArIDEpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIENvbW1lbnQgbm9kZSBoYXMgYSBiaW5kaW5nIG1hcmtlciBpbnNpZGUsIG1ha2UgYW4gaW5hY3RpdmUgcGFydFxuICAgICAgICAgICAgLy8gVGhlIGJpbmRpbmcgd29uJ3Qgd29yaywgYnV0IHN1YnNlcXVlbnQgYmluZGluZ3Mgd2lsbFxuICAgICAgICAgICAgcGFydHMucHVzaCh7dHlwZTogQ09NTUVOVF9QQVJULCBpbmRleDogbm9kZUluZGV4fSk7XG4gICAgICAgICAgICAvLyBNb3ZlIHRvIHRoZSBlbmQgb2YgdGhlIG1hdGNoXG4gICAgICAgICAgICBpICs9IG1hcmtlci5sZW5ndGggLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbm9kZUluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAvLyBJZiB0aGVyZSB3YXMgYSBkdXBsaWNhdGUgYXR0cmlidXRlIG9uIGEgdGFnLCB0aGVuIHdoZW4gdGhlIHRhZyBpc1xuICAgICAgLy8gcGFyc2VkIGludG8gYW4gZWxlbWVudCB0aGUgYXR0cmlidXRlIGdldHMgZGUtZHVwbGljYXRlZC4gV2UgY2FuIGRldGVjdFxuICAgICAgLy8gdGhpcyBtaXNtYXRjaCBpZiB3ZSBoYXZlbid0IHByZWNpc2VseSBjb25zdW1lZCBldmVyeSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgLy8gd2hlbiBwcmVwYXJpbmcgdGhlIHRlbXBsYXRlLiBUaGlzIHdvcmtzIGJlY2F1c2UgYGF0dHJOYW1lc2AgaXMgYnVpbHRcbiAgICAgIC8vIGZyb20gdGhlIHRlbXBsYXRlIHN0cmluZyBhbmQgYGF0dHJOYW1lSW5kZXhgIGNvbWVzIGZyb20gcHJvY2Vzc2luZyB0aGVcbiAgICAgIC8vIHJlc3VsdGluZyBET00uXG4gICAgICBpZiAoYXR0ck5hbWVzLmxlbmd0aCAhPT0gYXR0ck5hbWVJbmRleCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYERldGVjdGVkIGR1cGxpY2F0ZSBhdHRyaWJ1dGUgYmluZGluZ3MuIFRoaXMgb2NjdXJzIGlmIHlvdXIgdGVtcGxhdGUgYCArXG4gICAgICAgICAgICBgaGFzIGR1cGxpY2F0ZSBhdHRyaWJ1dGVzIG9uIGFuIGVsZW1lbnQgdGFnLiBGb3IgZXhhbXBsZSBgICtcbiAgICAgICAgICAgIGBcIjxpbnB1dCA/ZGlzYWJsZWQ9XFwke3RydWV9ID9kaXNhYmxlZD1cXCR7ZmFsc2V9PlwiIGNvbnRhaW5zIGEgYCArXG4gICAgICAgICAgICBgZHVwbGljYXRlIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUuIFRoZSBlcnJvciB3YXMgZGV0ZWN0ZWQgaW4gYCArXG4gICAgICAgICAgICBgdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZTogXFxuYCArXG4gICAgICAgICAgICAnYCcgK1xuICAgICAgICAgICAgc3RyaW5ncy5qb2luKCckey4uLn0nKSArXG4gICAgICAgICAgICAnYCdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSBjb3VsZCBzZXQgd2Fsa2VyLmN1cnJlbnROb2RlIHRvIGFub3RoZXIgbm9kZSBoZXJlIHRvIHByZXZlbnQgYSBtZW1vcnlcbiAgICAvLyBsZWFrLCBidXQgZXZlcnkgdGltZSB3ZSBwcmVwYXJlIGEgdGVtcGxhdGUsIHdlIGltbWVkaWF0ZWx5IHJlbmRlciBpdFxuICAgIC8vIGFuZCByZS11c2UgdGhlIHdhbGtlciBpbiBuZXcgVGVtcGxhdGVJbnN0YW5jZS5fY2xvbmUoKS5cbiAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAga2luZDogJ3RlbXBsYXRlIHByZXAnLFxuICAgICAgICB0ZW1wbGF0ZTogdGhpcyxcbiAgICAgICAgY2xvbmFibGVUZW1wbGF0ZTogdGhpcy5lbCxcbiAgICAgICAgcGFydHM6IHRoaXMucGFydHMsXG4gICAgICAgIHN0cmluZ3MsXG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIE92ZXJyaWRkZW4gdmlhIGBsaXRIdG1sUG9seWZpbGxTdXBwb3J0YCB0byBwcm92aWRlIHBsYXRmb3JtIHN1cHBvcnQuXG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBzdGF0aWMgY3JlYXRlRWxlbWVudChodG1sOiBUcnVzdGVkSFRNTCwgX29wdGlvbnM/OiBSZW5kZXJPcHRpb25zKSB7XG4gICAgY29uc3QgZWwgPSBkLmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgZWwuaW5uZXJIVE1MID0gaHRtbCBhcyB1bmtub3duIGFzIHN0cmluZztcbiAgICByZXR1cm4gZWw7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaXNjb25uZWN0YWJsZSB7XG4gIF8kcGFyZW50PzogRGlzY29ubmVjdGFibGU7XG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT47XG4gIC8vIFJhdGhlciB0aGFuIGhvbGQgY29ubmVjdGlvbiBzdGF0ZSBvbiBpbnN0YW5jZXMsIERpc2Nvbm5lY3RhYmxlcyByZWN1cnNpdmVseVxuICAvLyBmZXRjaCB0aGUgY29ubmVjdGlvbiBzdGF0ZSBmcm9tIHRoZSBSb290UGFydCB0aGV5IGFyZSBjb25uZWN0ZWQgaW4gdmlhXG4gIC8vIGdldHRlcnMgdXAgdGhlIERpc2Nvbm5lY3RhYmxlIHRyZWUgdmlhIF8kcGFyZW50IHJlZmVyZW5jZXMuIFRoaXMgcHVzaGVzIHRoZVxuICAvLyBjb3N0IG9mIHRyYWNraW5nIHRoZSBpc0Nvbm5lY3RlZCBzdGF0ZSB0byBgQXN5bmNEaXJlY3RpdmVzYCwgYW5kIGF2b2lkc1xuICAvLyBuZWVkaW5nIHRvIHBhc3MgYWxsIERpc2Nvbm5lY3RhYmxlcyAocGFydHMsIHRlbXBsYXRlIGluc3RhbmNlcywgYW5kXG4gIC8vIGRpcmVjdGl2ZXMpIHRoZWlyIGNvbm5lY3Rpb24gc3RhdGUgZWFjaCB0aW1lIGl0IGNoYW5nZXMsIHdoaWNoIHdvdWxkIGJlXG4gIC8vIGNvc3RseSBmb3IgdHJlZXMgdGhhdCBoYXZlIG5vIEFzeW5jRGlyZWN0aXZlcy5cbiAgXyRpc0Nvbm5lY3RlZDogYm9vbGVhbjtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZShcbiAgcGFydDogQ2hpbGRQYXJ0IHwgQXR0cmlidXRlUGFydCB8IEVsZW1lbnRQYXJ0LFxuICB2YWx1ZTogdW5rbm93bixcbiAgcGFyZW50OiBEaXJlY3RpdmVQYXJlbnQgPSBwYXJ0LFxuICBhdHRyaWJ1dGVJbmRleD86IG51bWJlclxuKTogdW5rbm93biB7XG4gIC8vIEJhaWwgZWFybHkgaWYgdGhlIHZhbHVlIGlzIGV4cGxpY2l0bHkgbm9DaGFuZ2UuIE5vdGUsIHRoaXMgbWVhbnMgYW55XG4gIC8vIG5lc3RlZCBkaXJlY3RpdmUgaXMgc3RpbGwgYXR0YWNoZWQgYW5kIGlzIG5vdCBydW4uXG4gIGlmICh2YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgbGV0IGN1cnJlbnREaXJlY3RpdmUgPVxuICAgIGF0dHJpYnV0ZUluZGV4ICE9PSB1bmRlZmluZWRcbiAgICAgID8gKHBhcmVudCBhcyBBdHRyaWJ1dGVQYXJ0KS5fX2RpcmVjdGl2ZXM/LlthdHRyaWJ1dGVJbmRleF1cbiAgICAgIDogKHBhcmVudCBhcyBDaGlsZFBhcnQgfCBFbGVtZW50UGFydCB8IERpcmVjdGl2ZSkuX19kaXJlY3RpdmU7XG4gIGNvbnN0IG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvciA9IGlzUHJpbWl0aXZlKHZhbHVlKVxuICAgID8gdW5kZWZpbmVkXG4gICAgOiAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgKHZhbHVlIGFzIERpcmVjdGl2ZVJlc3VsdClbJ18kbGl0RGlyZWN0aXZlJCddO1xuICBpZiAoY3VycmVudERpcmVjdGl2ZT8uY29uc3RydWN0b3IgIT09IG5leHREaXJlY3RpdmVDb25zdHJ1Y3Rvcikge1xuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgY3VycmVudERpcmVjdGl2ZT8uWydfJG5vdGlmeURpcmVjdGl2ZUNvbm5lY3Rpb25DaGFuZ2VkJ10/LihmYWxzZSk7XG4gICAgaWYgKG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjdXJyZW50RGlyZWN0aXZlID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50RGlyZWN0aXZlID0gbmV3IG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvcihwYXJ0IGFzIFBhcnRJbmZvKTtcbiAgICAgIGN1cnJlbnREaXJlY3RpdmUuXyRpbml0aWFsaXplKHBhcnQsIHBhcmVudCwgYXR0cmlidXRlSW5kZXgpO1xuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgKChwYXJlbnQgYXMgQXR0cmlidXRlUGFydCkuX19kaXJlY3RpdmVzID8/PSBbXSlbYXR0cmlidXRlSW5kZXhdID1cbiAgICAgICAgY3VycmVudERpcmVjdGl2ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgKHBhcmVudCBhcyBDaGlsZFBhcnQgfCBEaXJlY3RpdmUpLl9fZGlyZWN0aXZlID0gY3VycmVudERpcmVjdGl2ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGN1cnJlbnREaXJlY3RpdmUgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhbHVlID0gcmVzb2x2ZURpcmVjdGl2ZShcbiAgICAgIHBhcnQsXG4gICAgICBjdXJyZW50RGlyZWN0aXZlLl8kcmVzb2x2ZShwYXJ0LCAodmFsdWUgYXMgRGlyZWN0aXZlUmVzdWx0KS52YWx1ZXMpLFxuICAgICAgY3VycmVudERpcmVjdGl2ZSxcbiAgICAgIGF0dHJpYnV0ZUluZGV4XG4gICAgKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCB0eXBlIHtUZW1wbGF0ZUluc3RhbmNlfTtcbi8qKlxuICogQW4gdXBkYXRlYWJsZSBpbnN0YW5jZSBvZiBhIFRlbXBsYXRlLiBIb2xkcyByZWZlcmVuY2VzIHRvIHRoZSBQYXJ0cyB1c2VkIHRvXG4gKiB1cGRhdGUgdGhlIHRlbXBsYXRlIGluc3RhbmNlLlxuICovXG5jbGFzcyBUZW1wbGF0ZUluc3RhbmNlIGltcGxlbWVudHMgRGlzY29ubmVjdGFibGUge1xuICBfJHRlbXBsYXRlOiBUZW1wbGF0ZTtcbiAgXyRwYXJ0czogQXJyYXk8UGFydCB8IHVuZGVmaW5lZD4gPSBbXTtcblxuICAvKiogQGludGVybmFsICovXG4gIF8kcGFyZW50OiBDaGlsZFBhcnQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuPzogU2V0PERpc2Nvbm5lY3RhYmxlPiA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZTogVGVtcGxhdGUsIHBhcmVudDogQ2hpbGRQYXJ0KSB7XG4gICAgdGhpcy5fJHRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgfVxuXG4gIC8vIENhbGxlZCBieSBDaGlsZFBhcnQgcGFyZW50Tm9kZSBnZXR0ZXJcbiAgZ2V0IHBhcmVudE5vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQucGFyZW50Tm9kZTtcbiAgfVxuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQuXyRpc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIC8vIFRoaXMgbWV0aG9kIGlzIHNlcGFyYXRlIGZyb20gdGhlIGNvbnN0cnVjdG9yIGJlY2F1c2Ugd2UgbmVlZCB0byByZXR1cm4gYVxuICAvLyBEb2N1bWVudEZyYWdtZW50IGFuZCB3ZSBkb24ndCB3YW50IHRvIGhvbGQgb250byBpdCB3aXRoIGFuIGluc3RhbmNlIGZpZWxkLlxuICBfY2xvbmUob3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVsOiB7Y29udGVudH0sXG4gICAgICBwYXJ0czogcGFydHMsXG4gICAgfSA9IHRoaXMuXyR0ZW1wbGF0ZTtcbiAgICBjb25zdCBmcmFnbWVudCA9IChvcHRpb25zPy5jcmVhdGlvblNjb3BlID8/IGQpLmltcG9ydE5vZGUoY29udGVudCwgdHJ1ZSk7XG4gICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZnJhZ21lbnQ7XG5cbiAgICBsZXQgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpITtcbiAgICBsZXQgbm9kZUluZGV4ID0gMDtcbiAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICBsZXQgdGVtcGxhdGVQYXJ0ID0gcGFydHNbMF07XG5cbiAgICB3aGlsZSAodGVtcGxhdGVQYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChub2RlSW5kZXggPT09IHRlbXBsYXRlUGFydC5pbmRleCkge1xuICAgICAgICBsZXQgcGFydDogUGFydCB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRlbXBsYXRlUGFydC50eXBlID09PSBDSElMRF9QQVJUKSB7XG4gICAgICAgICAgcGFydCA9IG5ldyBDaGlsZFBhcnQoXG4gICAgICAgICAgICBub2RlIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgbm9kZS5uZXh0U2libGluZyxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICh0ZW1wbGF0ZVBhcnQudHlwZSA9PT0gQVRUUklCVVRFX1BBUlQpIHtcbiAgICAgICAgICBwYXJ0ID0gbmV3IHRlbXBsYXRlUGFydC5jdG9yKFxuICAgICAgICAgICAgbm9kZSBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgIHRlbXBsYXRlUGFydC5uYW1lLFxuICAgICAgICAgICAgdGVtcGxhdGVQYXJ0LnN0cmluZ3MsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEVMRU1FTlRfUEFSVCkge1xuICAgICAgICAgIHBhcnQgPSBuZXcgRWxlbWVudFBhcnQobm9kZSBhcyBIVE1MRWxlbWVudCwgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fJHBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgIHRlbXBsYXRlUGFydCA9IHBhcnRzWysrcGFydEluZGV4XTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlSW5kZXggIT09IHRlbXBsYXRlUGFydD8uaW5kZXgpIHtcbiAgICAgICAgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpITtcbiAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoZSBjdXJyZW50Tm9kZSBhd2F5IGZyb20gdGhlIGNsb25lZCB0cmVlIHNvIHRoYXQgd2VcbiAgICAvLyBkb24ndCBob2xkIG9udG8gdGhlIHRyZWUgZXZlbiBpZiB0aGUgdHJlZSBpcyBkZXRhY2hlZCBhbmQgc2hvdWxkIGJlXG4gICAgLy8gZnJlZWQuXG4gICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZDtcbiAgICByZXR1cm4gZnJhZ21lbnQ7XG4gIH1cblxuICBfdXBkYXRlKHZhbHVlczogQXJyYXk8dW5rbm93bj4pIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuXyRwYXJ0cykge1xuICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICBraW5kOiAnc2V0IHBhcnQnLFxuICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNbaV0sXG4gICAgICAgICAgICB2YWx1ZUluZGV4OiBpLFxuICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgdGVtcGxhdGVJbnN0YW5jZTogdGhpcyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKChwYXJ0IGFzIEF0dHJpYnV0ZVBhcnQpLnN0cmluZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIChwYXJ0IGFzIEF0dHJpYnV0ZVBhcnQpLl8kc2V0VmFsdWUodmFsdWVzLCBwYXJ0IGFzIEF0dHJpYnV0ZVBhcnQsIGkpO1xuICAgICAgICAgIC8vIFRoZSBudW1iZXIgb2YgdmFsdWVzIHRoZSBwYXJ0IGNvbnN1bWVzIGlzIHBhcnQuc3RyaW5ncy5sZW5ndGggLSAxXG4gICAgICAgICAgLy8gc2luY2UgdmFsdWVzIGFyZSBpbiBiZXR3ZWVuIHRlbXBsYXRlIHNwYW5zLiBXZSBpbmNyZW1lbnQgaSBieSAxXG4gICAgICAgICAgLy8gbGF0ZXIgaW4gdGhlIGxvb3AsIHNvIGluY3JlbWVudCBpdCBieSBwYXJ0LnN0cmluZ3MubGVuZ3RoIC0gMiBoZXJlXG4gICAgICAgICAgaSArPSAocGFydCBhcyBBdHRyaWJ1dGVQYXJ0KS5zdHJpbmdzIS5sZW5ndGggLSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnQuXyRzZXRWYWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICB9XG59XG5cbi8qXG4gKiBQYXJ0c1xuICovXG50eXBlIEF0dHJpYnV0ZVRlbXBsYXRlUGFydCA9IHtcbiAgcmVhZG9ubHkgdHlwZTogdHlwZW9mIEFUVFJJQlVURV9QQVJUO1xuICByZWFkb25seSBpbmRleDogbnVtYmVyO1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGN0b3I6IHR5cGVvZiBBdHRyaWJ1dGVQYXJ0O1xuICByZWFkb25seSBzdHJpbmdzOiBSZWFkb25seUFycmF5PHN0cmluZz47XG59O1xudHlwZSBDaGlsZFRlbXBsYXRlUGFydCA9IHtcbiAgcmVhZG9ubHkgdHlwZTogdHlwZW9mIENISUxEX1BBUlQ7XG4gIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XG59O1xudHlwZSBFbGVtZW50VGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiB0eXBlb2YgRUxFTUVOVF9QQVJUO1xuICByZWFkb25seSBpbmRleDogbnVtYmVyO1xufTtcbnR5cGUgQ29tbWVudFRlbXBsYXRlUGFydCA9IHtcbiAgcmVhZG9ubHkgdHlwZTogdHlwZW9mIENPTU1FTlRfUEFSVDtcbiAgcmVhZG9ubHkgaW5kZXg6IG51bWJlcjtcbn07XG5cbi8qKlxuICogQSBUZW1wbGF0ZVBhcnQgcmVwcmVzZW50cyBhIGR5bmFtaWMgcGFydCBpbiBhIHRlbXBsYXRlLCBiZWZvcmUgdGhlIHRlbXBsYXRlXG4gKiBpcyBpbnN0YW50aWF0ZWQuIFdoZW4gYSB0ZW1wbGF0ZSBpcyBpbnN0YW50aWF0ZWQgUGFydHMgYXJlIGNyZWF0ZWQgZnJvbVxuICogVGVtcGxhdGVQYXJ0cy5cbiAqL1xudHlwZSBUZW1wbGF0ZVBhcnQgPVxuICB8IENoaWxkVGVtcGxhdGVQYXJ0XG4gIHwgQXR0cmlidXRlVGVtcGxhdGVQYXJ0XG4gIHwgRWxlbWVudFRlbXBsYXRlUGFydFxuICB8IENvbW1lbnRUZW1wbGF0ZVBhcnQ7XG5cbmV4cG9ydCB0eXBlIFBhcnQgPVxuICB8IENoaWxkUGFydFxuICB8IEF0dHJpYnV0ZVBhcnRcbiAgfCBQcm9wZXJ0eVBhcnRcbiAgfCBCb29sZWFuQXR0cmlidXRlUGFydFxuICB8IEVsZW1lbnRQYXJ0XG4gIHwgRXZlbnRQYXJ0O1xuXG5leHBvcnQgdHlwZSB7Q2hpbGRQYXJ0fTtcbmNsYXNzIENoaWxkUGFydCBpbXBsZW1lbnRzIERpc2Nvbm5lY3RhYmxlIHtcbiAgcmVhZG9ubHkgdHlwZSA9IENISUxEX1BBUlQ7XG4gIHJlYWRvbmx5IG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gIF8kY29tbWl0dGVkVmFsdWU6IHVua25vd24gPSBub3RoaW5nO1xuICAvKiogQGludGVybmFsICovXG4gIF9fZGlyZWN0aXZlPzogRGlyZWN0aXZlO1xuICAvKiogQGludGVybmFsICovXG4gIF8kc3RhcnROb2RlOiBDaGlsZE5vZGU7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRlbmROb2RlOiBDaGlsZE5vZGUgfCBudWxsO1xuICBwcml2YXRlIF90ZXh0U2FuaXRpemVyOiBWYWx1ZVNhbml0aXplciB8IHVuZGVmaW5lZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJHBhcmVudDogRGlzY29ubmVjdGFibGUgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBDb25uZWN0aW9uIHN0YXRlIGZvciBSb290UGFydHMgb25seSAoaS5lLiBDaGlsZFBhcnQgd2l0aG91dCBfJHBhcmVudFxuICAgKiByZXR1cm5lZCBmcm9tIHRvcC1sZXZlbCBgcmVuZGVyYCkuIFRoaXMgZmllbGQgaXMgdW5zZWQgb3RoZXJ3aXNlLiBUaGVcbiAgICogaW50ZW50aW9uIHdvdWxkIGNsZWFyZXIgaWYgd2UgbWFkZSBgUm9vdFBhcnRgIGEgc3ViY2xhc3Mgb2YgYENoaWxkUGFydGBcbiAgICogd2l0aCB0aGlzIGZpZWxkIChhbmQgYSBkaWZmZXJlbnQgXyRpc0Nvbm5lY3RlZCBnZXR0ZXIpLCBidXQgdGhlIHN1YmNsYXNzXG4gICAqIGNhdXNlZCBhIHBlcmYgcmVncmVzc2lvbiwgcG9zc2libHkgZHVlIHRvIG1ha2luZyBjYWxsIHNpdGVzIHBvbHltb3JwaGljLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9faXNDb25uZWN0ZWQ6IGJvb2xlYW47XG5cbiAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICBnZXQgXyRpc0Nvbm5lY3RlZCgpIHtcbiAgICAvLyBDaGlsZFBhcnRzIHRoYXQgYXJlIG5vdCBhdCB0aGUgcm9vdCBzaG91bGQgYWx3YXlzIGJlIGNyZWF0ZWQgd2l0aCBhXG4gICAgLy8gcGFyZW50OyBvbmx5IFJvb3RDaGlsZE5vZGUncyB3b24ndCwgc28gdGhleSByZXR1cm4gdGhlIGxvY2FsIGlzQ29ubmVjdGVkXG4gICAgLy8gc3RhdGVcbiAgICByZXR1cm4gdGhpcy5fJHBhcmVudD8uXyRpc0Nvbm5lY3RlZCA/PyB0aGlzLl9faXNDb25uZWN0ZWQ7XG4gIH1cblxuICAvLyBUaGUgZm9sbG93aW5nIGZpZWxkcyB3aWxsIGJlIHBhdGNoZWQgb250byBDaGlsZFBhcnRzIHdoZW4gcmVxdWlyZWQgYnlcbiAgLy8gQXN5bmNEaXJlY3RpdmVcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4/OiBTZXQ8RGlzY29ubmVjdGFibGU+ID0gdW5kZWZpbmVkO1xuICAvKiogQGludGVybmFsICovXG4gIF8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQ/KFxuICAgIGlzQ29ubmVjdGVkOiBib29sZWFuLFxuICAgIHJlbW92ZUZyb21QYXJlbnQ/OiBib29sZWFuLFxuICAgIGZyb20/OiBudW1iZXJcbiAgKTogdm9pZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJHJlcGFyZW50RGlzY29ubmVjdGFibGVzPyhwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlKTogdm9pZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzdGFydE5vZGU6IENoaWxkTm9kZSxcbiAgICBlbmROb2RlOiBDaGlsZE5vZGUgfCBudWxsLFxuICAgIHBhcmVudDogVGVtcGxhdGVJbnN0YW5jZSB8IENoaWxkUGFydCB8IHVuZGVmaW5lZCxcbiAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHRoaXMuXyRzdGFydE5vZGUgPSBzdGFydE5vZGU7XG4gICAgdGhpcy5fJGVuZE5vZGUgPSBlbmROb2RlO1xuICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAvLyBOb3RlIF9faXNDb25uZWN0ZWQgaXMgb25seSBldmVyIGFjY2Vzc2VkIG9uIFJvb3RQYXJ0cyAoaS5lLiB3aGVuIHRoZXJlIGlzXG4gICAgLy8gbm8gXyRwYXJlbnQpOyB0aGUgdmFsdWUgb24gYSBub24tcm9vdC1wYXJ0IGlzIFwiZG9uJ3QgY2FyZVwiLCBidXQgY2hlY2tpbmdcbiAgICAvLyBmb3IgcGFyZW50IHdvdWxkIGJlIG1vcmUgY29kZVxuICAgIHRoaXMuX19pc0Nvbm5lY3RlZCA9IG9wdGlvbnM/LmlzQ29ubmVjdGVkID8/IHRydWU7XG4gICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgLy8gRXhwbGljaXRseSBpbml0aWFsaXplIGZvciBjb25zaXN0ZW50IGNsYXNzIHNoYXBlLlxuICAgICAgdGhpcy5fdGV4dFNhbml0aXplciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIHBhcmVudCBub2RlIGludG8gd2hpY2ggdGhlIHBhcnQgcmVuZGVycyBpdHMgY29udGVudC5cbiAgICpcbiAgICogQSBDaGlsZFBhcnQncyBjb250ZW50IGNvbnNpc3RzIG9mIGEgcmFuZ2Ugb2YgYWRqYWNlbnQgY2hpbGQgbm9kZXMgb2ZcbiAgICogYC5wYXJlbnROb2RlYCwgcG9zc2libHkgYm9yZGVyZWQgYnkgJ21hcmtlciBub2RlcycgKGAuc3RhcnROb2RlYCBhbmRcbiAgICogYC5lbmROb2RlYCkuXG4gICAqXG4gICAqIC0gSWYgYm90aCBgLnN0YXJ0Tm9kZWAgYW5kIGAuZW5kTm9kZWAgYXJlIG5vbi1udWxsLCB0aGVuIHRoZSBwYXJ0J3MgY29udGVudFxuICAgKiBjb25zaXN0cyBvZiBhbGwgc2libGluZ3MgYmV0d2VlbiBgLnN0YXJ0Tm9kZWAgYW5kIGAuZW5kTm9kZWAsIGV4Y2x1c2l2ZWx5LlxuICAgKlxuICAgKiAtIElmIGAuc3RhcnROb2RlYCBpcyBub24tbnVsbCBidXQgYC5lbmROb2RlYCBpcyBudWxsLCB0aGVuIHRoZSBwYXJ0J3NcbiAgICogY29udGVudCBjb25zaXN0cyBvZiBhbGwgc2libGluZ3MgZm9sbG93aW5nIGAuc3RhcnROb2RlYCwgdXAgdG8gYW5kXG4gICAqIGluY2x1ZGluZyB0aGUgbGFzdCBjaGlsZCBvZiBgLnBhcmVudE5vZGVgLiBJZiBgLmVuZE5vZGVgIGlzIG5vbi1udWxsLCB0aGVuXG4gICAqIGAuc3RhcnROb2RlYCB3aWxsIGFsd2F5cyBiZSBub24tbnVsbC5cbiAgICpcbiAgICogLSBJZiBib3RoIGAuZW5kTm9kZWAgYW5kIGAuc3RhcnROb2RlYCBhcmUgbnVsbCwgdGhlbiB0aGUgcGFydCdzIGNvbnRlbnRcbiAgICogY29uc2lzdHMgb2YgYWxsIGNoaWxkIG5vZGVzIG9mIGAucGFyZW50Tm9kZWAuXG4gICAqL1xuICBnZXQgcGFyZW50Tm9kZSgpOiBOb2RlIHtcbiAgICBsZXQgcGFyZW50Tm9kZTogTm9kZSA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkucGFyZW50Tm9kZSE7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5fJHBhcmVudDtcbiAgICBpZiAoXG4gICAgICBwYXJlbnQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgcGFyZW50Tm9kZT8ubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlQgKi9cbiAgICApIHtcbiAgICAgIC8vIElmIHRoZSBwYXJlbnROb2RlIGlzIGEgRG9jdW1lbnRGcmFnbWVudCwgaXQgbWF5IGJlIGJlY2F1c2UgdGhlIERPTSBpc1xuICAgICAgLy8gc3RpbGwgaW4gdGhlIGNsb25lZCBmcmFnbWVudCBkdXJpbmcgaW5pdGlhbCByZW5kZXI7IGlmIHNvLCBnZXQgdGhlIHJlYWxcbiAgICAgIC8vIHBhcmVudE5vZGUgdGhlIHBhcnQgd2lsbCBiZSBjb21taXR0ZWQgaW50byBieSBhc2tpbmcgdGhlIHBhcmVudC5cbiAgICAgIHBhcmVudE5vZGUgPSAocGFyZW50IGFzIENoaWxkUGFydCB8IFRlbXBsYXRlSW5zdGFuY2UpLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnROb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0J3MgbGVhZGluZyBtYXJrZXIgbm9kZSwgaWYgYW55LiBTZWUgYC5wYXJlbnROb2RlYCBmb3IgbW9yZVxuICAgKiBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGdldCBzdGFydE5vZGUoKTogTm9kZSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLl8kc3RhcnROb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0J3MgdHJhaWxpbmcgbWFya2VyIG5vZGUsIGlmIGFueS4gU2VlIGAucGFyZW50Tm9kZWAgZm9yIG1vcmVcbiAgICogaW5mb3JtYXRpb24uXG4gICAqL1xuICBnZXQgZW5kTm9kZSgpOiBOb2RlIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuXyRlbmROb2RlO1xuICB9XG5cbiAgXyRzZXRWYWx1ZSh2YWx1ZTogdW5rbm93biwgZGlyZWN0aXZlUGFyZW50OiBEaXJlY3RpdmVQYXJlbnQgPSB0aGlzKTogdm9pZCB7XG4gICAgaWYgKERFVl9NT0RFICYmIHRoaXMucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVGhpcyBcXGBDaGlsZFBhcnRcXGAgaGFzIG5vIFxcYHBhcmVudE5vZGVcXGAgYW5kIHRoZXJlZm9yZSBjYW5ub3QgYWNjZXB0IGEgdmFsdWUuIFRoaXMgbGlrZWx5IG1lYW5zIHRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIHBhcnQgd2FzIG1hbmlwdWxhdGVkIGluIGFuIHVuc3VwcG9ydGVkIHdheSBvdXRzaWRlIG9mIExpdCdzIGNvbnRyb2wgc3VjaCB0aGF0IHRoZSBwYXJ0J3MgbWFya2VyIG5vZGVzIHdlcmUgZWplY3RlZCBmcm9tIERPTS4gRm9yIGV4YW1wbGUsIHNldHRpbmcgdGhlIGVsZW1lbnQncyBcXGBpbm5lckhUTUxcXGAgb3IgXFxgdGV4dENvbnRlbnRcXGAgY2FuIGRvIHRoaXMuYFxuICAgICAgKTtcbiAgICB9XG4gICAgdmFsdWUgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQpO1xuICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgIC8vIE5vbi1yZW5kZXJpbmcgY2hpbGQgdmFsdWVzLiBJdCdzIGltcG9ydGFudCB0aGF0IHRoZXNlIGRvIG5vdCByZW5kZXJcbiAgICAgIC8vIGVtcHR5IHRleHQgbm9kZXMgdG8gYXZvaWQgaXNzdWVzIHdpdGggcHJldmVudGluZyBkZWZhdWx0IDxzbG90PlxuICAgICAgLy8gZmFsbGJhY2sgY29udGVudC5cbiAgICAgIGlmICh2YWx1ZSA9PT0gbm90aGluZyB8fCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICBpZiAodGhpcy5fJGNvbW1pdHRlZFZhbHVlICE9PSBub3RoaW5nKSB7XG4gICAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgbm90aGluZyB0byBjaGlsZCcsXG4gICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLl8kc3RhcnROb2RlLFxuICAgICAgICAgICAgICBlbmQ6IHRoaXMuXyRlbmROb2RlLFxuICAgICAgICAgICAgICBwYXJlbnQ6IHRoaXMuXyRwYXJlbnQsXG4gICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuXyRjbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5vdGhpbmc7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB0aGlzLl8kY29tbWl0dGVkVmFsdWUgJiYgdmFsdWUgIT09IG5vQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMuX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICB9IGVsc2UgaWYgKCh2YWx1ZSBhcyBUZW1wbGF0ZVJlc3VsdClbJ18kbGl0VHlwZSQnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZSBhcyBUZW1wbGF0ZVJlc3VsdCk7XG4gICAgfSBlbHNlIGlmICgodmFsdWUgYXMgTm9kZSkubm9kZVR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKERFVl9NT0RFICYmIHRoaXMub3B0aW9ucz8uaG9zdCA9PT0gdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fY29tbWl0VGV4dChcbiAgICAgICAgICBgW3Byb2JhYmxlIG1pc3Rha2U6IHJlbmRlcmVkIGEgdGVtcGxhdGUncyBob3N0IGluIGl0c2VsZiBgICtcbiAgICAgICAgICAgIGAoY29tbW9ubHkgY2F1c2VkIGJ5IHdyaXRpbmcgXFwke3RoaXN9IGluIGEgdGVtcGxhdGVdYFxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYEF0dGVtcHRlZCB0byByZW5kZXIgdGhlIHRlbXBsYXRlIGhvc3RgLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIGBpbnNpZGUgaXRzZWxmLiBUaGlzIGlzIGFsbW9zdCBhbHdheXMgYSBtaXN0YWtlLCBhbmQgaW4gZGV2IG1vZGUgYCxcbiAgICAgICAgICBgd2UgcmVuZGVyIHNvbWUgd2FybmluZyB0ZXh0LiBJbiBwcm9kdWN0aW9uIGhvd2V2ZXIsIHdlJ2xsIGAsXG4gICAgICAgICAgYHJlbmRlciBpdCwgd2hpY2ggd2lsbCB1c3VhbGx5IHJlc3VsdCBpbiBhbiBlcnJvciwgYW5kIHNvbWV0aW1lcyBgLFxuICAgICAgICAgIGBpbiB0aGUgZWxlbWVudCBkaXNhcHBlYXJpbmcgZnJvbSB0aGUgRE9NLmBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fY29tbWl0Tm9kZSh2YWx1ZSBhcyBOb2RlKTtcbiAgICB9IGVsc2UgaWYgKGlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICB0aGlzLl9jb21taXRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZhbGxiYWNrLCB3aWxsIHJlbmRlciB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAgICB0aGlzLl9jb21taXRUZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9pbnNlcnQ8VCBleHRlbmRzIE5vZGU+KG5vZGU6IFQpIHtcbiAgICByZXR1cm4gd3JhcCh3cmFwKHRoaXMuXyRzdGFydE5vZGUpLnBhcmVudE5vZGUhKS5pbnNlcnRCZWZvcmUoXG4gICAgICBub2RlLFxuICAgICAgdGhpcy5fJGVuZE5vZGVcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29tbWl0Tm9kZSh2YWx1ZTogTm9kZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl8kY2xlYXIoKTtcbiAgICAgIGlmIChcbiAgICAgICAgRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTICYmXG4gICAgICAgIHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCAhPT0gbm9vcFNhbml0aXplclxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudE5vZGVOYW1lID0gdGhpcy5fJHN0YXJ0Tm9kZS5wYXJlbnROb2RlPy5ub2RlTmFtZTtcbiAgICAgICAgaWYgKHBhcmVudE5vZGVOYW1lID09PSAnU1RZTEUnIHx8IHBhcmVudE5vZGVOYW1lID09PSAnU0NSSVBUJykge1xuICAgICAgICAgIGxldCBtZXNzYWdlID0gJ0ZvcmJpZGRlbic7XG4gICAgICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50Tm9kZU5hbWUgPT09ICdTVFlMRScpIHtcbiAgICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgYExpdCBkb2VzIG5vdCBzdXBwb3J0IGJpbmRpbmcgaW5zaWRlIHN0eWxlIG5vZGVzLiBgICtcbiAgICAgICAgICAgICAgICBgVGhpcyBpcyBhIHNlY3VyaXR5IHJpc2ssIGFzIHN0eWxlIGluamVjdGlvbiBhdHRhY2tzIGNhbiBgICtcbiAgICAgICAgICAgICAgICBgZXhmaWx0cmF0ZSBkYXRhIGFuZCBzcG9vZiBVSXMuIGAgK1xuICAgICAgICAgICAgICAgIGBDb25zaWRlciBpbnN0ZWFkIHVzaW5nIGNzc1xcYC4uLlxcYCBsaXRlcmFscyBgICtcbiAgICAgICAgICAgICAgICBgdG8gY29tcG9zZSBzdHlsZXMsIGFuZCBtYWtlIGRvIGR5bmFtaWMgc3R5bGluZyB3aXRoIGAgK1xuICAgICAgICAgICAgICAgIGBjc3MgY3VzdG9tIHByb3BlcnRpZXMsIDo6cGFydHMsIDxzbG90PnMsIGAgK1xuICAgICAgICAgICAgICAgIGBhbmQgYnkgbXV0YXRpbmcgdGhlIERPTSByYXRoZXIgdGhhbiBzdHlsZXNoZWV0cy5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgYExpdCBkb2VzIG5vdCBzdXBwb3J0IGJpbmRpbmcgaW5zaWRlIHNjcmlwdCBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgYFRoaXMgaXMgYSBzZWN1cml0eSByaXNrLCBhcyBpdCBjb3VsZCBhbGxvdyBhcmJpdHJhcnkgYCArXG4gICAgICAgICAgICAgICAgYGNvZGUgZXhlY3V0aW9uLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICBraW5kOiAnY29tbWl0IG5vZGUnLFxuICAgICAgICAgIHN0YXJ0OiB0aGlzLl8kc3RhcnROb2RlLFxuICAgICAgICAgIHBhcmVudDogdGhpcy5fJHBhcmVudCxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IHRoaXMuX2luc2VydCh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfY29tbWl0VGV4dCh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIC8vIElmIHRoZSBjb21taXR0ZWQgdmFsdWUgaXMgYSBwcmltaXRpdmUgaXQgbWVhbnMgd2UgY2FsbGVkIF9jb21taXRUZXh0IG9uXG4gICAgLy8gdGhlIHByZXZpb3VzIHJlbmRlciwgYW5kIHdlIGtub3cgdGhhdCB0aGlzLl8kc3RhcnROb2RlLm5leHRTaWJsaW5nIGlzIGFcbiAgICAvLyBUZXh0IG5vZGUuIFdlIGNhbiBub3cganVzdCByZXBsYWNlIHRoZSB0ZXh0IGNvbnRlbnQgKC5kYXRhKSBvZiB0aGUgbm9kZS5cbiAgICBpZiAoXG4gICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgIT09IG5vdGhpbmcgJiZcbiAgICAgIGlzUHJpbWl0aXZlKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSlcbiAgICApIHtcbiAgICAgIGNvbnN0IG5vZGUgPSB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLm5leHRTaWJsaW5nIGFzIFRleHQ7XG4gICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0U2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLl90ZXh0U2FuaXRpemVyID0gY3JlYXRlU2FuaXRpemVyKG5vZGUsICdkYXRhJywgJ3Byb3BlcnR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB0aGlzLl90ZXh0U2FuaXRpemVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAga2luZDogJ2NvbW1pdCB0ZXh0JyxcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgICAobm9kZSBhcyBUZXh0KS5kYXRhID0gdmFsdWUgYXMgc3RyaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgIGNvbnN0IHRleHROb2RlID0gZC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICAgIHRoaXMuX2NvbW1pdE5vZGUodGV4dE5vZGUpO1xuICAgICAgICAvLyBXaGVuIHNldHRpbmcgdGV4dCBjb250ZW50LCBmb3Igc2VjdXJpdHkgcHVycG9zZXMgaXQgbWF0dGVycyBhIGxvdFxuICAgICAgICAvLyB3aGF0IHRoZSBwYXJlbnQgaXMuIEZvciBleGFtcGxlLCA8c3R5bGU+IGFuZCA8c2NyaXB0PiBuZWVkIHRvIGJlXG4gICAgICAgIC8vIGhhbmRsZWQgd2l0aCBjYXJlLCB3aGlsZSA8c3Bhbj4gZG9lcyBub3QuIFNvIGZpcnN0IHdlIG5lZWQgdG8gcHV0IGFcbiAgICAgICAgLy8gdGV4dCBub2RlIGludG8gdGhlIGRvY3VtZW50LCB0aGVuIHdlIGNhbiBzYW5pdGl6ZSBpdHMgY29udGVudC5cbiAgICAgICAgaWYgKHRoaXMuX3RleHRTYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMuX3RleHRTYW5pdGl6ZXIgPSBjcmVhdGVTYW5pdGl6ZXIodGV4dE5vZGUsICdkYXRhJywgJ3Byb3BlcnR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB0aGlzLl90ZXh0U2FuaXRpemVyKHZhbHVlKTtcbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAga2luZDogJ2NvbW1pdCB0ZXh0JyxcbiAgICAgICAgICAgIG5vZGU6IHRleHROb2RlLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIHRleHROb2RlLmRhdGEgPSB2YWx1ZSBhcyBzdHJpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jb21taXROb2RlKGQuY3JlYXRlVGV4dE5vZGUodmFsdWUgYXMgc3RyaW5nKSk7XG4gICAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCcsXG4gICAgICAgICAgICBub2RlOiB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLm5leHRTaWJsaW5nIGFzIFRleHQsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIF9jb21taXRUZW1wbGF0ZVJlc3VsdChcbiAgICByZXN1bHQ6IFRlbXBsYXRlUmVzdWx0IHwgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdFxuICApOiB2b2lkIHtcbiAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgIGNvbnN0IHt2YWx1ZXMsIFsnXyRsaXRUeXBlJCddOiB0eXBlfSA9IHJlc3VsdDtcbiAgICAvLyBJZiAkbGl0VHlwZSQgaXMgYSBudW1iZXIsIHJlc3VsdCBpcyBhIHBsYWluIFRlbXBsYXRlUmVzdWx0IGFuZCB3ZSBnZXRcbiAgICAvLyB0aGUgdGVtcGxhdGUgZnJvbSB0aGUgdGVtcGxhdGUgY2FjaGUuIElmIG5vdCwgcmVzdWx0IGlzIGFcbiAgICAvLyBDb21waWxlZFRlbXBsYXRlUmVzdWx0IGFuZCBfJGxpdFR5cGUkIGlzIGEgQ29tcGlsZWRUZW1wbGF0ZSBhbmQgd2UgbmVlZFxuICAgIC8vIHRvIGNyZWF0ZSB0aGUgPHRlbXBsYXRlPiBlbGVtZW50IHRoZSBmaXJzdCB0aW1lIHdlIHNlZSBpdC5cbiAgICBjb25zdCB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlID1cbiAgICAgIHR5cGVvZiB0eXBlID09PSAnbnVtYmVyJ1xuICAgICAgICA/IHRoaXMuXyRnZXRUZW1wbGF0ZShyZXN1bHQgYXMgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0KVxuICAgICAgICA6ICh0eXBlLmVsID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICh0eXBlLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgdHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmcodHlwZS5oLCB0eXBlLmhbMF0pLFxuICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgIHR5cGUpO1xuXG4gICAgaWYgKCh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgVGVtcGxhdGVJbnN0YW5jZSk/Ll8kdGVtcGxhdGUgPT09IHRlbXBsYXRlKSB7XG4gICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSB1cGRhdGluZycsXG4gICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgaW5zdGFuY2U6IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBUZW1wbGF0ZUluc3RhbmNlLFxuICAgICAgICAgIHBhcnRzOiAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIFRlbXBsYXRlSW5zdGFuY2UpLl8kcGFydHMsXG4gICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgfSk7XG4gICAgICAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIFRlbXBsYXRlSW5zdGFuY2UpLl91cGRhdGUodmFsdWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSBhcyBUZW1wbGF0ZSwgdGhpcyk7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IGluc3RhbmNlLl9jbG9uZSh0aGlzLm9wdGlvbnMpO1xuICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICBraW5kOiAndGVtcGxhdGUgaW5zdGFudGlhdGVkJyxcbiAgICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBwYXJ0czogaW5zdGFuY2UuXyRwYXJ0cyxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgICAgdmFsdWVzLFxuICAgICAgICB9KTtcbiAgICAgIGluc3RhbmNlLl91cGRhdGUodmFsdWVzKTtcbiAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCBhbmQgdXBkYXRlZCcsXG4gICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgcGFydHM6IGluc3RhbmNlLl8kcGFydHMsXG4gICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGZyYWdtZW50LFxuICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgfSk7XG4gICAgICB0aGlzLl9jb21taXROb2RlKGZyYWdtZW50KTtcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IGluc3RhbmNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIE92ZXJyaWRkZW4gdmlhIGBsaXRIdG1sUG9seWZpbGxTdXBwb3J0YCB0byBwcm92aWRlIHBsYXRmb3JtIHN1cHBvcnQuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRnZXRUZW1wbGF0ZShyZXN1bHQ6IFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdCkge1xuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuZ2V0KHJlc3VsdC5zdHJpbmdzKTtcbiAgICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGVtcGxhdGVDYWNoZS5zZXQocmVzdWx0LnN0cmluZ3MsICh0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQpKSk7XG4gICAgfVxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfVxuXG4gIHByaXZhdGUgX2NvbW1pdEl0ZXJhYmxlKHZhbHVlOiBJdGVyYWJsZTx1bmtub3duPik6IHZvaWQge1xuICAgIC8vIEZvciBhbiBJdGVyYWJsZSwgd2UgY3JlYXRlIGEgbmV3IEluc3RhbmNlUGFydCBwZXIgaXRlbSwgdGhlbiBzZXQgaXRzXG4gICAgLy8gdmFsdWUgdG8gdGhlIGl0ZW0uIFRoaXMgaXMgYSBsaXR0bGUgYml0IG9mIG92ZXJoZWFkIGZvciBldmVyeSBpdGVtIGluXG4gICAgLy8gYW4gSXRlcmFibGUsIGJ1dCBpdCBsZXRzIHVzIHJlY3Vyc2UgZWFzaWx5IGFuZCBlZmZpY2llbnRseSB1cGRhdGUgQXJyYXlzXG4gICAgLy8gb2YgVGVtcGxhdGVSZXN1bHRzIHRoYXQgd2lsbCBiZSBjb21tb25seSByZXR1cm5lZCBmcm9tIGV4cHJlc3Npb25zIGxpa2U6XG4gICAgLy8gYXJyYXkubWFwKChpKSA9PiBodG1sYCR7aX1gKSwgYnkgcmV1c2luZyBleGlzdGluZyBUZW1wbGF0ZUluc3RhbmNlcy5cblxuICAgIC8vIElmIHZhbHVlIGlzIGFuIGFycmF5LCB0aGVuIHRoZSBwcmV2aW91cyByZW5kZXIgd2FzIG9mIGFuXG4gICAgLy8gaXRlcmFibGUgYW5kIHZhbHVlIHdpbGwgY29udGFpbiB0aGUgQ2hpbGRQYXJ0cyBmcm9tIHRoZSBwcmV2aW91c1xuICAgIC8vIHJlbmRlci4gSWYgdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAvLyBhcnJheSBmb3IgQ2hpbGRQYXJ0cy5cbiAgICBpZiAoIWlzQXJyYXkodGhpcy5fJGNvbW1pdHRlZFZhbHVlKSkge1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gW107XG4gICAgICB0aGlzLl8kY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvLyBMZXRzIHVzIGtlZXAgdHJhY2sgb2YgaG93IG1hbnkgaXRlbXMgd2Ugc3RhbXBlZCBzbyB3ZSBjYW4gY2xlYXIgbGVmdG92ZXJcbiAgICAvLyBpdGVtcyBmcm9tIGEgcHJldmlvdXMgcmVuZGVyXG4gICAgY29uc3QgaXRlbVBhcnRzID0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIENoaWxkUGFydFtdO1xuICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgIGxldCBpdGVtUGFydDogQ2hpbGRQYXJ0IHwgdW5kZWZpbmVkO1xuXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICBpZiAocGFydEluZGV4ID09PSBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAgIC8vIElmIG5vIGV4aXN0aW5nIHBhcnQsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IHRlc3QgcGVyZiBpbXBhY3Qgb2YgYWx3YXlzIGNyZWF0aW5nIHR3byBwYXJ0c1xuICAgICAgICAvLyBpbnN0ZWFkIG9mIHNoYXJpbmcgcGFydHMgYmV0d2VlbiBub2Rlc1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbGl0L2xpdC9pc3N1ZXMvMTI2NlxuICAgICAgICBpdGVtUGFydHMucHVzaChcbiAgICAgICAgICAoaXRlbVBhcnQgPSBuZXcgQ2hpbGRQYXJ0KFxuICAgICAgICAgICAgdGhpcy5faW5zZXJ0KGNyZWF0ZU1hcmtlcigpKSxcbiAgICAgICAgICAgIHRoaXMuX2luc2VydChjcmVhdGVNYXJrZXIoKSksXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgdGhpcy5vcHRpb25zXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldXNlIGFuIGV4aXN0aW5nIHBhcnRcbiAgICAgICAgaXRlbVBhcnQgPSBpdGVtUGFydHNbcGFydEluZGV4XTtcbiAgICAgIH1cbiAgICAgIGl0ZW1QYXJ0Ll8kc2V0VmFsdWUoaXRlbSk7XG4gICAgICBwYXJ0SW5kZXgrKztcbiAgICB9XG5cbiAgICBpZiAocGFydEluZGV4IDwgaXRlbVBhcnRzLmxlbmd0aCkge1xuICAgICAgLy8gaXRlbVBhcnRzIGFsd2F5cyBoYXZlIGVuZCBub2Rlc1xuICAgICAgdGhpcy5fJGNsZWFyKFxuICAgICAgICBpdGVtUGFydCAmJiB3cmFwKGl0ZW1QYXJ0Ll8kZW5kTm9kZSEpLm5leHRTaWJsaW5nLFxuICAgICAgICBwYXJ0SW5kZXhcbiAgICAgICk7XG4gICAgICAvLyBUcnVuY2F0ZSB0aGUgcGFydHMgYXJyYXkgc28gX3ZhbHVlIHJlZmxlY3RzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICBpdGVtUGFydHMubGVuZ3RoID0gcGFydEluZGV4O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBub2RlcyBjb250YWluZWQgd2l0aGluIHRoaXMgUGFydCBmcm9tIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSBzdGFydCBTdGFydCBub2RlIHRvIGNsZWFyIGZyb20sIGZvciBjbGVhcmluZyBhIHN1YnNldCBvZiB0aGUgcGFydCdzXG4gICAqICAgICBET00gKHVzZWQgd2hlbiB0cnVuY2F0aW5nIGl0ZXJhYmxlcylcbiAgICogQHBhcmFtIGZyb20gIFdoZW4gYHN0YXJ0YCBpcyBzcGVjaWZpZWQsIHRoZSBpbmRleCB3aXRoaW4gdGhlIGl0ZXJhYmxlIGZyb21cbiAgICogICAgIHdoaWNoIENoaWxkUGFydHMgYXJlIGJlaW5nIHJlbW92ZWQsIHVzZWQgZm9yIGRpc2Nvbm5lY3RpbmcgZGlyZWN0aXZlcyBpblxuICAgKiAgICAgdGhvc2UgUGFydHMuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgXyRjbGVhcihcbiAgICBzdGFydDogQ2hpbGROb2RlIHwgbnVsbCA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkubmV4dFNpYmxpbmcsXG4gICAgZnJvbT86IG51bWJlclxuICApIHtcbiAgICB0aGlzLl8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQ/LihmYWxzZSwgdHJ1ZSwgZnJvbSk7XG4gICAgd2hpbGUgKHN0YXJ0ICYmIHN0YXJ0ICE9PSB0aGlzLl8kZW5kTm9kZSkge1xuICAgICAgY29uc3QgbiA9IHdyYXAoc3RhcnQhKS5uZXh0U2libGluZztcbiAgICAgICh3cmFwKHN0YXJ0ISkgYXMgRWxlbWVudCkucmVtb3ZlKCk7XG4gICAgICBzdGFydCA9IG47XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBJbXBsZW1lbnRhdGlvbiBvZiBSb290UGFydCdzIGBpc0Nvbm5lY3RlZGAuIE5vdGUgdGhhdCB0aGlzIG1ldG9kXG4gICAqIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBgUm9vdFBhcnRgcyAodGhlIGBDaGlsZFBhcnRgIHJldHVybmVkIGZyb20gYVxuICAgKiB0b3AtbGV2ZWwgYHJlbmRlcigpYCBjYWxsKS4gSXQgaGFzIG5vIGVmZmVjdCBvbiBub24tcm9vdCBDaGlsZFBhcnRzLlxuICAgKiBAcGFyYW0gaXNDb25uZWN0ZWQgV2hldGhlciB0byBzZXRcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRDb25uZWN0ZWQoaXNDb25uZWN0ZWQ6IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5fJHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9faXNDb25uZWN0ZWQgPSBpc0Nvbm5lY3RlZDtcbiAgICAgIHRoaXMuXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZD8uKGlzQ29ubmVjdGVkKTtcbiAgICB9IGVsc2UgaWYgKERFVl9NT0RFKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdwYXJ0LnNldENvbm5lY3RlZCgpIG1heSBvbmx5IGJlIGNhbGxlZCBvbiBhICcgK1xuICAgICAgICAgICdSb290UGFydCByZXR1cm5lZCBmcm9tIHJlbmRlcigpLidcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQSB0b3AtbGV2ZWwgYENoaWxkUGFydGAgcmV0dXJuZWQgZnJvbSBgcmVuZGVyYCB0aGF0IG1hbmFnZXMgdGhlIGNvbm5lY3RlZFxuICogc3RhdGUgb2YgYEFzeW5jRGlyZWN0aXZlYHMgY3JlYXRlZCB0aHJvdWdob3V0IHRoZSB0cmVlIGJlbG93IGl0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJvb3RQYXJ0IGV4dGVuZHMgQ2hpbGRQYXJ0IHtcbiAgLyoqXG4gICAqIFNldHMgdGhlIGNvbm5lY3Rpb24gc3RhdGUgZm9yIGBBc3luY0RpcmVjdGl2ZWBzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyByb290XG4gICAqIENoaWxkUGFydC5cbiAgICpcbiAgICogbGl0LWh0bWwgZG9lcyBub3QgYXV0b21hdGljYWxseSBtb25pdG9yIHRoZSBjb25uZWN0ZWRuZXNzIG9mIERPTSByZW5kZXJlZDtcbiAgICogYXMgc3VjaCwgaXQgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSBjYWxsZXIgdG8gYHJlbmRlcmAgdG8gZW5zdXJlIHRoYXRcbiAgICogYHBhcnQuc2V0Q29ubmVjdGVkKGZhbHNlKWAgaXMgY2FsbGVkIGJlZm9yZSB0aGUgcGFydCBvYmplY3QgaXMgcG90ZW50aWFsbHlcbiAgICogZGlzY2FyZGVkLCB0byBlbnN1cmUgdGhhdCBgQXN5bmNEaXJlY3RpdmVgcyBoYXZlIGEgY2hhbmNlIHRvIGRpc3Bvc2Ugb2ZcbiAgICogYW55IHJlc291cmNlcyBiZWluZyBoZWxkLiBJZiBhIGBSb290UGFydGAgdGhhdCB3YXMgcHJldmlvdXNseVxuICAgKiBkaXNjb25uZWN0ZWQgaXMgc3Vic2VxdWVudGx5IHJlLWNvbm5lY3RlZCAoYW5kIGl0cyBgQXN5bmNEaXJlY3RpdmVgcyBzaG91bGRcbiAgICogcmUtY29ubmVjdCksIGBzZXRDb25uZWN0ZWQodHJ1ZSlgIHNob3VsZCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEBwYXJhbSBpc0Nvbm5lY3RlZCBXaGV0aGVyIGRpcmVjdGl2ZXMgd2l0aGluIHRoaXMgdHJlZSBzaG91bGQgYmUgY29ubmVjdGVkXG4gICAqIG9yIG5vdFxuICAgKi9cbiAgc2V0Q29ubmVjdGVkKGlzQ29ubmVjdGVkOiBib29sZWFuKTogdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUge0F0dHJpYnV0ZVBhcnR9O1xuY2xhc3MgQXR0cmlidXRlUGFydCBpbXBsZW1lbnRzIERpc2Nvbm5lY3RhYmxlIHtcbiAgcmVhZG9ubHkgdHlwZSA9IEFUVFJJQlVURV9QQVJUIGFzXG4gICAgfCB0eXBlb2YgQVRUUklCVVRFX1BBUlRcbiAgICB8IHR5cGVvZiBQUk9QRVJUWV9QQVJUXG4gICAgfCB0eXBlb2YgQk9PTEVBTl9BVFRSSUJVVEVfUEFSVFxuICAgIHwgdHlwZW9mIEVWRU5UX1BBUlQ7XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIElmIHRoaXMgYXR0cmlidXRlIHBhcnQgcmVwcmVzZW50cyBhbiBpbnRlcnBvbGF0aW9uLCB0aGlzIGNvbnRhaW5zIHRoZVxuICAgKiBzdGF0aWMgc3RyaW5ncyBvZiB0aGUgaW50ZXJwb2xhdGlvbi4gRm9yIHNpbmdsZS12YWx1ZSwgY29tcGxldGUgYmluZGluZ3MsXG4gICAqIHRoaXMgaXMgdW5kZWZpbmVkLlxuICAgKi9cbiAgcmVhZG9ubHkgc3RyaW5ncz86IFJlYWRvbmx5QXJyYXk8c3RyaW5nPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGNvbW1pdHRlZFZhbHVlOiB1bmtub3duIHwgQXJyYXk8dW5rbm93bj4gPSBub3RoaW5nO1xuICAvKiogQGludGVybmFsICovXG4gIF9fZGlyZWN0aXZlcz86IEFycmF5PERpcmVjdGl2ZSB8IHVuZGVmaW5lZD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlO1xuICAvKiogQGludGVybmFsICovXG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT4gPSB1bmRlZmluZWQ7XG5cbiAgcHJvdGVjdGVkIF9zYW5pdGl6ZXI6IFZhbHVlU2FuaXRpemVyIHwgdW5kZWZpbmVkO1xuXG4gIGdldCB0YWdOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQudGFnTmFtZTtcbiAgfVxuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQuXyRpc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBzdHJpbmdzOiBSZWFkb25seUFycmF5PHN0cmluZz4sXG4gICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSxcbiAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKHN0cmluZ3MubGVuZ3RoID4gMiB8fCBzdHJpbmdzWzBdICE9PSAnJyB8fCBzdHJpbmdzWzFdICE9PSAnJykge1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbmV3IEFycmF5KHN0cmluZ3MubGVuZ3RoIC0gMSkuZmlsbChuZXcgU3RyaW5nKCkpO1xuICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbm90aGluZztcbiAgICB9XG4gICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgdGhpcy5fc2FuaXRpemVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiB0aGlzIHBhcnQgYnkgcmVzb2x2aW5nIHRoZSB2YWx1ZSBmcm9tIHBvc3NpYmx5IG11bHRpcGxlXG4gICAqIHZhbHVlcyBhbmQgc3RhdGljIHN0cmluZ3MgYW5kIGNvbW1pdHRpbmcgaXQgdG8gdGhlIERPTS5cbiAgICogSWYgdGhpcyBwYXJ0IGlzIHNpbmdsZS12YWx1ZWQsIGB0aGlzLl9zdHJpbmdzYCB3aWxsIGJlIHVuZGVmaW5lZCwgYW5kIHRoZVxuICAgKiBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIHNpbmdsZSB2YWx1ZSBhcmd1bWVudC4gSWYgdGhpcyBwYXJ0IGlzXG4gICAqIG11bHRpLXZhbHVlLCBgdGhpcy5fc3RyaW5nc2Agd2lsbCBiZSBkZWZpbmVkLCBhbmQgdGhlIG1ldGhvZCBpcyBjYWxsZWRcbiAgICogd2l0aCB0aGUgdmFsdWUgYXJyYXkgb2YgdGhlIHBhcnQncyBvd25pbmcgVGVtcGxhdGVJbnN0YW5jZSwgYW5kIGFuIG9mZnNldFxuICAgKiBpbnRvIHRoZSB2YWx1ZSBhcnJheSBmcm9tIHdoaWNoIHRoZSB2YWx1ZXMgc2hvdWxkIGJlIHJlYWQuXG4gICAqIFRoaXMgbWV0aG9kIGlzIG92ZXJsb2FkZWQgdGhpcyB3YXkgdG8gZWxpbWluYXRlIHNob3J0LWxpdmVkIGFycmF5IHNsaWNlc1xuICAgKiBvZiB0aGUgdGVtcGxhdGUgaW5zdGFuY2UgdmFsdWVzLCBhbmQgYWxsb3cgYSBmYXN0LXBhdGggZm9yIHNpbmdsZS12YWx1ZWRcbiAgICogcGFydHMuXG4gICAqXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgcGFydCB2YWx1ZSwgb3IgYW4gYXJyYXkgb2YgdmFsdWVzIGZvciBtdWx0aS12YWx1ZWQgcGFydHNcbiAgICogQHBhcmFtIHZhbHVlSW5kZXggdGhlIGluZGV4IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzIGZyb20uIGB1bmRlZmluZWRgIGZvclxuICAgKiAgIHNpbmdsZS12YWx1ZWQgcGFydHNcbiAgICogQHBhcmFtIG5vQ29tbWl0IGNhdXNlcyB0aGUgcGFydCB0byBub3QgY29tbWl0IGl0cyB2YWx1ZSB0byB0aGUgRE9NLiBVc2VkXG4gICAqICAgaW4gaHlkcmF0aW9uIHRvIHByaW1lIGF0dHJpYnV0ZSBwYXJ0cyB3aXRoIHRoZWlyIGZpcnN0LXJlbmRlcmVkIHZhbHVlLFxuICAgKiAgIGJ1dCBub3Qgc2V0IHRoZSBhdHRyaWJ1dGUsIGFuZCBpbiBTU1IgdG8gbm8tb3AgdGhlIERPTSBvcGVyYXRpb24gYW5kXG4gICAqICAgY2FwdHVyZSB0aGUgdmFsdWUgZm9yIHNlcmlhbGl6YXRpb24uXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgXyRzZXRWYWx1ZShcbiAgICB2YWx1ZTogdW5rbm93biB8IEFycmF5PHVua25vd24+LFxuICAgIGRpcmVjdGl2ZVBhcmVudDogRGlyZWN0aXZlUGFyZW50ID0gdGhpcyxcbiAgICB2YWx1ZUluZGV4PzogbnVtYmVyLFxuICAgIG5vQ29tbWl0PzogYm9vbGVhblxuICApIHtcbiAgICBjb25zdCBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuXG4gICAgLy8gV2hldGhlciBhbnkgb2YgdGhlIHZhbHVlcyBoYXMgY2hhbmdlZCwgZm9yIGRpcnR5LWNoZWNraW5nXG4gICAgbGV0IGNoYW5nZSA9IGZhbHNlO1xuXG4gICAgaWYgKHN0cmluZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gU2luZ2xlLXZhbHVlIGJpbmRpbmcgY2FzZVxuICAgICAgdmFsdWUgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQsIDApO1xuICAgICAgY2hhbmdlID1cbiAgICAgICAgIWlzUHJpbWl0aXZlKHZhbHVlKSB8fFxuICAgICAgICAodmFsdWUgIT09IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAmJiB2YWx1ZSAhPT0gbm9DaGFuZ2UpO1xuICAgICAgaWYgKGNoYW5nZSkge1xuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSW50ZXJwb2xhdGlvbiBjYXNlXG4gICAgICBjb25zdCB2YWx1ZXMgPSB2YWx1ZSBhcyBBcnJheTx1bmtub3duPjtcbiAgICAgIHZhbHVlID0gc3RyaW5nc1swXTtcblxuICAgICAgbGV0IGksIHY7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgdiA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWVzW3ZhbHVlSW5kZXghICsgaV0sIGRpcmVjdGl2ZVBhcmVudCwgaSk7XG5cbiAgICAgICAgaWYgKHYgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIHVzZXItcHJvdmlkZWQgdmFsdWUgaXMgYG5vQ2hhbmdlYCwgdXNlIHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgICAgICAgIHYgPSAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIEFycmF5PHVua25vd24+KVtpXTtcbiAgICAgICAgfVxuICAgICAgICBjaGFuZ2UgfHw9XG4gICAgICAgICAgIWlzUHJpbWl0aXZlKHYpIHx8IHYgIT09ICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgQXJyYXk8dW5rbm93bj4pW2ldO1xuICAgICAgICBpZiAodiA9PT0gbm90aGluZykge1xuICAgICAgICAgIHZhbHVlID0gbm90aGluZztcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gbm90aGluZykge1xuICAgICAgICAgIHZhbHVlICs9ICh2ID8/ICcnKSArIHN0cmluZ3NbaSArIDFdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGFsd2F5cyByZWNvcmQgZWFjaCB2YWx1ZSwgZXZlbiBpZiBvbmUgaXMgYG5vdGhpbmdgLCBmb3IgZnV0dXJlXG4gICAgICAgIC8vIGNoYW5nZSBkZXRlY3Rpb24uXG4gICAgICAgICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgQXJyYXk8dW5rbm93bj4pW2ldID0gdjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoYW5nZSAmJiAhbm9Db21taXQpIHtcbiAgICAgIHRoaXMuX2NvbW1pdFZhbHVlKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9jb21taXRWYWx1ZSh2YWx1ZTogdW5rbm93bikge1xuICAgIGlmICh2YWx1ZSA9PT0gbm90aGluZykge1xuICAgICAgKHdyYXAodGhpcy5lbGVtZW50KSBhcyBFbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgICBpZiAodGhpcy5fc2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLl9zYW5pdGl6ZXIgPSBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwoXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgICAgICAnYXR0cmlidXRlJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB0aGlzLl9zYW5pdGl6ZXIodmFsdWUgPz8gJycpO1xuICAgICAgfVxuICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICBraW5kOiAnY29tbWl0IGF0dHJpYnV0ZScsXG4gICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgKHdyYXAodGhpcy5lbGVtZW50KSBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIHRoaXMubmFtZSxcbiAgICAgICAgKHZhbHVlID8/ICcnKSBhcyBzdHJpbmdcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIHtQcm9wZXJ0eVBhcnR9O1xuY2xhc3MgUHJvcGVydHlQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG4gIG92ZXJyaWRlIHJlYWRvbmx5IHR5cGUgPSBQUk9QRVJUWV9QQVJUO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgb3ZlcnJpZGUgX2NvbW1pdFZhbHVlKHZhbHVlOiB1bmtub3duKSB7XG4gICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgaWYgKHRoaXMuX3Nhbml0aXplciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3Nhbml0aXplciA9IHNhbml0aXplckZhY3RvcnlJbnRlcm5hbChcbiAgICAgICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgICAgICdwcm9wZXJ0eSdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdGhpcy5fc2FuaXRpemVyKHZhbHVlKTtcbiAgICB9XG4gICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgIGtpbmQ6ICdjb21taXQgcHJvcGVydHknLFxuICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIH0pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgKHRoaXMuZWxlbWVudCBhcyBhbnkpW3RoaXMubmFtZV0gPSB2YWx1ZSA9PT0gbm90aGluZyA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIHtCb29sZWFuQXR0cmlidXRlUGFydH07XG5jbGFzcyBCb29sZWFuQXR0cmlidXRlUGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xuICBvdmVycmlkZSByZWFkb25seSB0eXBlID0gQk9PTEVBTl9BVFRSSUJVVEVfUEFSVDtcblxuICAvKiogQGludGVybmFsICovXG4gIG92ZXJyaWRlIF9jb21taXRWYWx1ZSh2YWx1ZTogdW5rbm93bikge1xuICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICBraW5kOiAnY29tbWl0IGJvb2xlYW4gYXR0cmlidXRlJyxcbiAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIHZhbHVlOiAhISh2YWx1ZSAmJiB2YWx1ZSAhPT0gbm90aGluZyksXG4gICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIH0pO1xuICAgICh3cmFwKHRoaXMuZWxlbWVudCkgYXMgRWxlbWVudCkudG9nZ2xlQXR0cmlidXRlKFxuICAgICAgdGhpcy5uYW1lLFxuICAgICAgISF2YWx1ZSAmJiB2YWx1ZSAhPT0gbm90aGluZ1xuICAgICk7XG4gIH1cbn1cblxudHlwZSBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMgPSBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0ICZcbiAgUGFydGlhbDxBZGRFdmVudExpc3RlbmVyT3B0aW9ucz47XG5cbi8qKlxuICogQW4gQXR0cmlidXRlUGFydCB0aGF0IG1hbmFnZXMgYW4gZXZlbnQgbGlzdGVuZXIgdmlhIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyLlxuICpcbiAqIFRoaXMgcGFydCB3b3JrcyBieSBhZGRpbmcgaXRzZWxmIGFzIHRoZSBldmVudCBsaXN0ZW5lciBvbiBhbiBlbGVtZW50LCB0aGVuXG4gKiBkZWxlZ2F0aW5nIHRvIHRoZSB2YWx1ZSBwYXNzZWQgdG8gaXQuIFRoaXMgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIGNhbGxzIHRvXG4gKiBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lciBpZiB0aGUgbGlzdGVuZXIgY2hhbmdlcyBmcmVxdWVudGx5LCBzdWNoIGFzIHdoZW4gYW5cbiAqIGlubGluZSBmdW5jdGlvbiBpcyB1c2VkIGFzIGEgbGlzdGVuZXIuXG4gKlxuICogQmVjYXVzZSBldmVudCBvcHRpb25zIGFyZSBwYXNzZWQgd2hlbiBhZGRpbmcgbGlzdGVuZXJzLCB3ZSBtdXN0IHRha2UgY2FzZVxuICogdG8gYWRkIGFuZCByZW1vdmUgdGhlIHBhcnQgYXMgYSBsaXN0ZW5lciB3aGVuIHRoZSBldmVudCBvcHRpb25zIGNoYW5nZS5cbiAqL1xuZXhwb3J0IHR5cGUge0V2ZW50UGFydH07XG5jbGFzcyBFdmVudFBhcnQgZXh0ZW5kcyBBdHRyaWJ1dGVQYXJ0IHtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgdHlwZSA9IEVWRU5UX1BBUlQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgZWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPixcbiAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlLFxuICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgc3VwZXIoZWxlbWVudCwgbmFtZSwgc3RyaW5ncywgcGFyZW50LCBvcHRpb25zKTtcblxuICAgIGlmIChERVZfTU9ERSAmJiB0aGlzLnN0cmluZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQSBcXGA8JHtlbGVtZW50LmxvY2FsTmFtZX0+XFxgIGhhcyBhIFxcYEAke25hbWV9PS4uLlxcYCBsaXN0ZW5lciB3aXRoIGAgK1xuICAgICAgICAgICdpbnZhbGlkIGNvbnRlbnQuIEV2ZW50IGxpc3RlbmVycyBpbiB0ZW1wbGF0ZXMgbXVzdCBoYXZlIGV4YWN0bHkgJyArXG4gICAgICAgICAgJ29uZSBleHByZXNzaW9uIGFuZCBubyBzdXJyb3VuZGluZyB0ZXh0LidcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLy8gRXZlbnRQYXJ0IGRvZXMgbm90IHVzZSB0aGUgYmFzZSBfJHNldFZhbHVlL19yZXNvbHZlVmFsdWUgaW1wbGVtZW50YXRpb25cbiAgLy8gc2luY2UgdGhlIGRpcnR5IGNoZWNraW5nIGlzIG1vcmUgY29tcGxleFxuICAvKiogQGludGVybmFsICovXG4gIG92ZXJyaWRlIF8kc2V0VmFsdWUoXG4gICAgbmV3TGlzdGVuZXI6IHVua25vd24sXG4gICAgZGlyZWN0aXZlUGFyZW50OiBEaXJlY3RpdmVQYXJlbnQgPSB0aGlzXG4gICkge1xuICAgIG5ld0xpc3RlbmVyID1cbiAgICAgIHJlc29sdmVEaXJlY3RpdmUodGhpcywgbmV3TGlzdGVuZXIsIGRpcmVjdGl2ZVBhcmVudCwgMCkgPz8gbm90aGluZztcbiAgICBpZiAobmV3TGlzdGVuZXIgPT09IG5vQ2hhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9sZExpc3RlbmVyID0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlO1xuXG4gICAgLy8gSWYgdGhlIG5ldyB2YWx1ZSBpcyBub3RoaW5nIG9yIGFueSBvcHRpb25zIGNoYW5nZSB3ZSBoYXZlIHRvIHJlbW92ZSB0aGVcbiAgICAvLyBwYXJ0IGFzIGEgbGlzdGVuZXIuXG4gICAgY29uc3Qgc2hvdWxkUmVtb3ZlTGlzdGVuZXIgPVxuICAgICAgKG5ld0xpc3RlbmVyID09PSBub3RoaW5nICYmIG9sZExpc3RlbmVyICE9PSBub3RoaW5nKSB8fFxuICAgICAgKG5ld0xpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucykuY2FwdHVyZSAhPT1cbiAgICAgICAgKG9sZExpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucykuY2FwdHVyZSB8fFxuICAgICAgKG5ld0xpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucykub25jZSAhPT1cbiAgICAgICAgKG9sZExpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucykub25jZSB8fFxuICAgICAgKG5ld0xpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucykucGFzc2l2ZSAhPT1cbiAgICAgICAgKG9sZExpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucykucGFzc2l2ZTtcblxuICAgIC8vIElmIHRoZSBuZXcgdmFsdWUgaXMgbm90IG5vdGhpbmcgYW5kIHdlIHJlbW92ZWQgdGhlIGxpc3RlbmVyLCB3ZSBoYXZlXG4gICAgLy8gdG8gYWRkIHRoZSBwYXJ0IGFzIGEgbGlzdGVuZXIuXG4gICAgY29uc3Qgc2hvdWxkQWRkTGlzdGVuZXIgPVxuICAgICAgbmV3TGlzdGVuZXIgIT09IG5vdGhpbmcgJiZcbiAgICAgIChvbGRMaXN0ZW5lciA9PT0gbm90aGluZyB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG5cbiAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAga2luZDogJ2NvbW1pdCBldmVudCBsaXN0ZW5lcicsXG4gICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICB2YWx1ZTogbmV3TGlzdGVuZXIsXG4gICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXI6IHNob3VsZFJlbW92ZUxpc3RlbmVyLFxuICAgICAgICBhZGRMaXN0ZW5lcjogc2hvdWxkQWRkTGlzdGVuZXIsXG4gICAgICAgIG9sZExpc3RlbmVyLFxuICAgICAgfSk7XG4gICAgaWYgKHNob3VsZFJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgICB0aGlzLFxuICAgICAgICBvbGRMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnNcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChzaG91bGRBZGRMaXN0ZW5lcikge1xuICAgICAgLy8gQmV3YXJlOiBJRTExIGFuZCBDaHJvbWUgNDEgZG9uJ3QgbGlrZSB1c2luZyB0aGUgbGlzdGVuZXIgYXMgdGhlXG4gICAgICAvLyBvcHRpb25zIG9iamVjdC4gRmlndXJlIG91dCBob3cgdG8gZGVhbCB3LyB0aGlzIGluIElFMTEgLSBtYXliZVxuICAgICAgLy8gcGF0Y2ggYWRkRXZlbnRMaXN0ZW5lcj9cbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgIHRoaXMsXG4gICAgICAgIG5ld0xpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbmV3TGlzdGVuZXI7XG4gIH1cblxuICBoYW5kbGVFdmVudChldmVudDogRXZlbnQpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlLmNhbGwodGhpcy5vcHRpb25zPy5ob3N0ID8/IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIEV2ZW50TGlzdGVuZXJPYmplY3QpLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUge0VsZW1lbnRQYXJ0fTtcbmNsYXNzIEVsZW1lbnRQYXJ0IGltcGxlbWVudHMgRGlzY29ubmVjdGFibGUge1xuICByZWFkb25seSB0eXBlID0gRUxFTUVOVF9QQVJUO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX19kaXJlY3RpdmU/OiBEaXJlY3RpdmU7XG5cbiAgLy8gVGhpcyBpcyB0byBlbnN1cmUgdGhhdCBldmVyeSBQYXJ0IGhhcyBhIF8kY29tbWl0dGVkVmFsdWVcbiAgXyRjb21taXR0ZWRWYWx1ZTogdW5kZWZpbmVkO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRwYXJlbnQhOiBEaXNjb25uZWN0YWJsZTtcblxuICAvKiogQGludGVybmFsICovXG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT4gPSB1bmRlZmluZWQ7XG5cbiAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgZWxlbWVudDogRWxlbWVudCxcbiAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlLFxuICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICBnZXQgXyRpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICB9XG5cbiAgXyRzZXRWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICBraW5kOiAnY29tbWl0IHRvIGVsZW1lbnQgYmluZGluZycsXG4gICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIH0pO1xuICAgIHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogRU5EIFVTRVJTIFNIT1VMRCBOT1QgUkVMWSBPTiBUSElTIE9CSkVDVC5cbiAqXG4gKiBQcml2YXRlIGV4cG9ydHMgZm9yIHVzZSBieSBvdGhlciBMaXQgcGFja2FnZXMsIG5vdCBpbnRlbmRlZCBmb3IgdXNlIGJ5XG4gKiBleHRlcm5hbCB1c2Vycy5cbiAqXG4gKiBXZSBjdXJyZW50bHkgZG8gbm90IG1ha2UgYSBtYW5nbGVkIHJvbGx1cCBidWlsZCBvZiB0aGUgbGl0LXNzciBjb2RlLiBJbiBvcmRlclxuICogdG8ga2VlcCBhIG51bWJlciBvZiAob3RoZXJ3aXNlIHByaXZhdGUpIHRvcC1sZXZlbCBleHBvcnRzICBtYW5nbGVkIGluIHRoZVxuICogY2xpZW50IHNpZGUgY29kZSwgd2UgZXhwb3J0IGEgXyRMSCBvYmplY3QgY29udGFpbmluZyB0aG9zZSBtZW1iZXJzIChvclxuICogaGVscGVyIG1ldGhvZHMgZm9yIGFjY2Vzc2luZyBwcml2YXRlIGZpZWxkcyBvZiB0aG9zZSBtZW1iZXJzKSwgYW5kIHRoZW5cbiAqIHJlLWV4cG9ydCB0aGVtIGZvciB1c2UgaW4gbGl0LXNzci4gVGhpcyBrZWVwcyBsaXQtc3NyIGFnbm9zdGljIHRvIHdoZXRoZXIgdGhlXG4gKiBjbGllbnQtc2lkZSBjb2RlIGlzIGJlaW5nIHVzZWQgaW4gYGRldmAgbW9kZSBvciBgcHJvZGAgbW9kZS5cbiAqXG4gKiBUaGlzIGhhcyBhIHVuaXF1ZSBuYW1lLCB0byBkaXNhbWJpZ3VhdGUgaXQgZnJvbSBwcml2YXRlIGV4cG9ydHMgaW5cbiAqIGxpdC1lbGVtZW50LCB3aGljaCByZS1leHBvcnRzIGFsbCBvZiBsaXQtaHRtbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3QgXyRMSCA9IHtcbiAgLy8gVXNlZCBpbiBsaXQtc3NyXG4gIF9ib3VuZEF0dHJpYnV0ZVN1ZmZpeDogYm91bmRBdHRyaWJ1dGVTdWZmaXgsXG4gIF9tYXJrZXI6IG1hcmtlcixcbiAgX21hcmtlck1hdGNoOiBtYXJrZXJNYXRjaCxcbiAgX0hUTUxfUkVTVUxUOiBIVE1MX1JFU1VMVCxcbiAgX2dldFRlbXBsYXRlSHRtbDogZ2V0VGVtcGxhdGVIdG1sLFxuICAvLyBVc2VkIGluIHRlc3RzIGFuZCBwcml2YXRlLXNzci1zdXBwb3J0XG4gIF9UZW1wbGF0ZUluc3RhbmNlOiBUZW1wbGF0ZUluc3RhbmNlLFxuICBfaXNJdGVyYWJsZTogaXNJdGVyYWJsZSxcbiAgX3Jlc29sdmVEaXJlY3RpdmU6IHJlc29sdmVEaXJlY3RpdmUsXG4gIF9DaGlsZFBhcnQ6IENoaWxkUGFydCxcbiAgX0F0dHJpYnV0ZVBhcnQ6IEF0dHJpYnV0ZVBhcnQsXG4gIF9Cb29sZWFuQXR0cmlidXRlUGFydDogQm9vbGVhbkF0dHJpYnV0ZVBhcnQsXG4gIF9FdmVudFBhcnQ6IEV2ZW50UGFydCxcbiAgX1Byb3BlcnR5UGFydDogUHJvcGVydHlQYXJ0LFxuICBfRWxlbWVudFBhcnQ6IEVsZW1lbnRQYXJ0LFxufTtcblxuLy8gQXBwbHkgcG9seWZpbGxzIGlmIGF2YWlsYWJsZVxuY29uc3QgcG9seWZpbGxTdXBwb3J0ID0gREVWX01PREVcbiAgPyBnbG9iYWwubGl0SHRtbFBvbHlmaWxsU3VwcG9ydERldk1vZGVcbiAgOiBnbG9iYWwubGl0SHRtbFBvbHlmaWxsU3VwcG9ydDtcbnBvbHlmaWxsU3VwcG9ydD8uKFRlbXBsYXRlLCBDaGlsZFBhcnQpO1xuXG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIGxpdC1odG1sIHVzYWdlLlxuKGdsb2JhbC5saXRIdG1sVmVyc2lvbnMgPz89IFtdKS5wdXNoKCczLjEuMicpO1xuaWYgKERFVl9NT0RFICYmIGdsb2JhbC5saXRIdG1sVmVyc2lvbnMubGVuZ3RoID4gMSkge1xuICBpc3N1ZVdhcm5pbmchKFxuICAgICdtdWx0aXBsZS12ZXJzaW9ucycsXG4gICAgYE11bHRpcGxlIHZlcnNpb25zIG9mIExpdCBsb2FkZWQuIGAgK1xuICAgICAgYExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgaXMgbm90IHJlY29tbWVuZGVkLmBcbiAgKTtcbn1cblxuLyoqXG4gKiBSZW5kZXJzIGEgdmFsdWUsIHVzdWFsbHkgYSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdCwgdG8gdGhlIGNvbnRhaW5lci5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgcmVuZGVycyB0aGUgdGV4dCBcIkhlbGxvLCBab2UhXCIgaW5zaWRlIGEgcGFyYWdyYXBoIHRhZywgYXBwZW5kaW5nXG4gKiBpdCB0byB0aGUgY29udGFpbmVyIGBkb2N1bWVudC5ib2R5YC5cbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHtodG1sLCByZW5kZXJ9IGZyb20gJ2xpdCc7XG4gKlxuICogY29uc3QgbmFtZSA9IFwiWm9lXCI7XG4gKiByZW5kZXIoaHRtbGA8cD5IZWxsbywgJHtuYW1lfSE8L3A+YCwgZG9jdW1lbnQuYm9keSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWUgQW55IFtyZW5kZXJhYmxlXG4gKiAgIHZhbHVlXShodHRwczovL2xpdC5kZXYvZG9jcy90ZW1wbGF0ZXMvZXhwcmVzc2lvbnMvI2NoaWxkLWV4cHJlc3Npb25zKSxcbiAqICAgdHlwaWNhbGx5IGEge0BsaW5rY29kZSBUZW1wbGF0ZVJlc3VsdH0gY3JlYXRlZCBieSBldmFsdWF0aW5nIGEgdGVtcGxhdGUgdGFnXG4gKiAgIGxpa2Uge0BsaW5rY29kZSBodG1sfSBvciB7QGxpbmtjb2RlIHN2Z30uXG4gKiBAcGFyYW0gY29udGFpbmVyIEEgRE9NIGNvbnRhaW5lciB0byByZW5kZXIgdG8uIFRoZSBmaXJzdCByZW5kZXIgd2lsbCBhcHBlbmRcbiAqICAgdGhlIHJlbmRlcmVkIHZhbHVlIHRvIHRoZSBjb250YWluZXIsIGFuZCBzdWJzZXF1ZW50IHJlbmRlcnMgd2lsbFxuICogICBlZmZpY2llbnRseSB1cGRhdGUgdGhlIHJlbmRlcmVkIHZhbHVlIGlmIHRoZSBzYW1lIHJlc3VsdCB0eXBlIHdhc1xuICogICBwcmV2aW91c2x5IHJlbmRlcmVkIHRoZXJlLlxuICogQHBhcmFtIG9wdGlvbnMgU2VlIHtAbGlua2NvZGUgUmVuZGVyT3B0aW9uc30gZm9yIG9wdGlvbnMgZG9jdW1lbnRhdGlvbi5cbiAqIEBzZWVcbiAqIHtAbGluayBodHRwczovL2xpdC5kZXYvZG9jcy9saWJyYXJpZXMvc3RhbmRhbG9uZS10ZW1wbGF0ZXMvI3JlbmRlcmluZy1saXQtaHRtbC10ZW1wbGF0ZXN8IFJlbmRlcmluZyBMaXQgSFRNTCBUZW1wbGF0ZXN9XG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSAoXG4gIHZhbHVlOiB1bmtub3duLFxuICBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudCxcbiAgb3B0aW9ucz86IFJlbmRlck9wdGlvbnNcbik6IFJvb3RQYXJ0ID0+IHtcbiAgaWYgKERFVl9NT0RFICYmIGNvbnRhaW5lciA9PSBudWxsKSB7XG4gICAgLy8gR2l2ZSBhIGNsZWFyZXIgZXJyb3IgbWVzc2FnZSB0aGFuXG4gICAgLy8gICAgIFVuY2F1Z2h0IFR5cGVFcnJvcjogQ2Fubm90IHJlYWQgcHJvcGVydGllcyBvZiBudWxsIChyZWFkaW5nXG4gICAgLy8gICAgICdfJGxpdFBhcnQkJylcbiAgICAvLyB3aGljaCByZWFkcyBsaWtlIGFuIGludGVybmFsIExpdCBlcnJvci5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgY29udGFpbmVyIHRvIHJlbmRlciBpbnRvIG1heSBub3QgYmUgJHtjb250YWluZXJ9YCk7XG4gIH1cbiAgY29uc3QgcmVuZGVySWQgPSBERVZfTU9ERSA/IGRlYnVnTG9nUmVuZGVySWQrKyA6IDA7XG4gIGNvbnN0IHBhcnRPd25lck5vZGUgPSBvcHRpb25zPy5yZW5kZXJCZWZvcmUgPz8gY29udGFpbmVyO1xuICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBsZXQgcGFydDogQ2hpbGRQYXJ0ID0gKHBhcnRPd25lck5vZGUgYXMgYW55KVsnXyRsaXRQYXJ0JCddO1xuICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgZGVidWdMb2dFdmVudCh7XG4gICAgICBraW5kOiAnYmVnaW4gcmVuZGVyJyxcbiAgICAgIGlkOiByZW5kZXJJZCxcbiAgICAgIHZhbHVlLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIHBhcnQsXG4gICAgfSk7XG4gIGlmIChwYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBlbmROb2RlID0gb3B0aW9ucz8ucmVuZGVyQmVmb3JlID8/IG51bGw7XG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIChwYXJ0T3duZXJOb2RlIGFzIGFueSlbJ18kbGl0UGFydCQnXSA9IHBhcnQgPSBuZXcgQ2hpbGRQYXJ0KFxuICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShjcmVhdGVNYXJrZXIoKSwgZW5kTm9kZSksXG4gICAgICBlbmROb2RlLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgb3B0aW9ucyA/PyB7fVxuICAgICk7XG4gIH1cbiAgcGFydC5fJHNldFZhbHVlKHZhbHVlKTtcbiAgZGVidWdMb2dFdmVudCAmJlxuICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAga2luZDogJ2VuZCByZW5kZXInLFxuICAgICAgaWQ6IHJlbmRlcklkLFxuICAgICAgdmFsdWUsXG4gICAgICBjb250YWluZXIsXG4gICAgICBvcHRpb25zLFxuICAgICAgcGFydCxcbiAgICB9KTtcbiAgcmV0dXJuIHBhcnQgYXMgUm9vdFBhcnQ7XG59O1xuXG5pZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gIHJlbmRlci5zZXRTYW5pdGl6ZXIgPSBzZXRTYW5pdGl6ZXI7XG4gIHJlbmRlci5jcmVhdGVTYW5pdGl6ZXIgPSBjcmVhdGVTYW5pdGl6ZXI7XG4gIGlmIChERVZfTU9ERSkge1xuICAgIHJlbmRlci5fdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2UgPVxuICAgICAgX3Rlc3RPbmx5Q2xlYXJTYW5pdGl6ZXJGYWN0b3J5RG9Ob3RDYWxsT3JFbHNlO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8qKlxuICogVGhlIG1haW4gTGl0RWxlbWVudCBtb2R1bGUsIHdoaWNoIGRlZmluZXMgdGhlIHtAbGlua2NvZGUgTGl0RWxlbWVudH0gYmFzZVxuICogY2xhc3MgYW5kIHJlbGF0ZWQgQVBJcy5cbiAqXG4gKiAgTGl0RWxlbWVudCBjb21wb25lbnRzIGNhbiBkZWZpbmUgYSB0ZW1wbGF0ZSBhbmQgYSBzZXQgb2Ygb2JzZXJ2ZWRcbiAqIHByb3BlcnRpZXMuIENoYW5naW5nIGFuIG9ic2VydmVkIHByb3BlcnR5IHRyaWdnZXJzIGEgcmUtcmVuZGVyIG9mIHRoZVxuICogZWxlbWVudC5cbiAqXG4gKiAgSW1wb3J0IHtAbGlua2NvZGUgTGl0RWxlbWVudH0gYW5kIHtAbGlua2NvZGUgaHRtbH0gZnJvbSB0aGlzIG1vZHVsZSB0b1xuICogY3JlYXRlIGEgY29tcG9uZW50OlxuICpcbiAqICBgYGBqc1xuICogaW1wb3J0IHtMaXRFbGVtZW50LCBodG1sfSBmcm9tICdsaXQtZWxlbWVudCc7XG4gKlxuICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gKlxuICogICAvLyBEZWNsYXJlIG9ic2VydmVkIHByb3BlcnRpZXNcbiAqICAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICogICAgIHJldHVybiB7XG4gKiAgICAgICBhZGplY3RpdmU6IHt9XG4gKiAgICAgfVxuICogICB9XG4gKlxuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICB0aGlzLmFkamVjdGl2ZSA9ICdhd2Vzb21lJztcbiAqICAgfVxuICpcbiAqICAgLy8gRGVmaW5lIHRoZSBlbGVtZW50J3MgdGVtcGxhdGVcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYDxwPnlvdXIgJHthZGplY3RpdmV9IHRlbXBsYXRlIGhlcmU8L3A+YDtcbiAqICAgfVxuICogfVxuICpcbiAqIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktZWxlbWVudCcsIE15RWxlbWVudCk7XG4gKiBgYGBcbiAqXG4gKiBgTGl0RWxlbWVudGAgZXh0ZW5kcyB7QGxpbmtjb2RlIFJlYWN0aXZlRWxlbWVudH0gYW5kIGFkZHMgbGl0LWh0bWxcbiAqIHRlbXBsYXRpbmcuIFRoZSBgUmVhY3RpdmVFbGVtZW50YCBjbGFzcyBpcyBwcm92aWRlZCBmb3IgdXNlcnMgdGhhdCB3YW50IHRvXG4gKiBidWlsZCB0aGVpciBvd24gY3VzdG9tIGVsZW1lbnQgYmFzZSBjbGFzc2VzIHRoYXQgZG9uJ3QgdXNlIGxpdC1odG1sLlxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovXG5pbXBvcnQge1Byb3BlcnR5VmFsdWVzLCBSZWFjdGl2ZUVsZW1lbnR9IGZyb20gJ0BsaXQvcmVhY3RpdmUtZWxlbWVudCc7XG5pbXBvcnQge3JlbmRlciwgUmVuZGVyT3B0aW9ucywgbm9DaGFuZ2UsIFJvb3RQYXJ0fSBmcm9tICdsaXQtaHRtbCc7XG5leHBvcnQgKiBmcm9tICdAbGl0L3JlYWN0aXZlLWVsZW1lbnQnO1xuZXhwb3J0ICogZnJvbSAnbGl0LWh0bWwnO1xuXG5pbXBvcnQge0xpdFVuc3RhYmxlfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQge1JlYWN0aXZlVW5zdGFibGV9IGZyb20gJ0BsaXQvcmVhY3RpdmUtZWxlbWVudCc7XG5cbi8qKlxuICogQ29udGFpbnMgdHlwZXMgdGhhdCBhcmUgcGFydCBvZiB0aGUgdW5zdGFibGUgZGVidWcgQVBJLlxuICpcbiAqIEV2ZXJ5dGhpbmcgaW4gdGhpcyBBUEkgaXMgbm90IHN0YWJsZSBhbmQgbWF5IGNoYW5nZSBvciBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsXG4gKiBldmVuIG9uIHBhdGNoIHJlbGVhc2VzLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxuZXhwb3J0IG5hbWVzcGFjZSBVbnN0YWJsZSB7XG4gIC8qKlxuICAgKiBXaGVuIExpdCBpcyBydW5uaW5nIGluIGRldiBtb2RlIGFuZCBgd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50c2AgaXMgdHJ1ZSxcbiAgICogd2Ugd2lsbCBlbWl0ICdsaXQtZGVidWcnIGV2ZW50cyB0byB3aW5kb3csIHdpdGggbGl2ZSBkZXRhaWxzIGFib3V0IHRoZSB1cGRhdGUgYW5kIHJlbmRlclxuICAgKiBsaWZlY3ljbGUuIFRoZXNlIGNhbiBiZSB1c2VmdWwgZm9yIHdyaXRpbmcgZGVidWcgdG9vbGluZyBhbmQgdmlzdWFsaXphdGlvbnMuXG4gICAqXG4gICAqIFBsZWFzZSBiZSBhd2FyZSB0aGF0IHJ1bm5pbmcgd2l0aCB3aW5kb3cuZW1pdExpdERlYnVnTG9nRXZlbnRzIGhhcyBwZXJmb3JtYW5jZSBvdmVyaGVhZCxcbiAgICogbWFraW5nIGNlcnRhaW4gb3BlcmF0aW9ucyB0aGF0IGFyZSBub3JtYWxseSB2ZXJ5IGNoZWFwIChsaWtlIGEgbm8tb3AgcmVuZGVyKSBtdWNoIHNsb3dlcixcbiAgICogYmVjYXVzZSB3ZSBtdXN0IGNvcHkgZGF0YSBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbiAgZXhwb3J0IG5hbWVzcGFjZSBEZWJ1Z0xvZyB7XG4gICAgZXhwb3J0IHR5cGUgRW50cnkgPVxuICAgICAgfCBMaXRVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeVxuICAgICAgfCBSZWFjdGl2ZVVuc3RhYmxlLkRlYnVnTG9nLkVudHJ5O1xuICB9XG59XG4vKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzXG4gKiByZXBsYWNlZCBhdCBjb21waWxlIHRpbWUgYnkgdGhlIG11bmdlZCBuYW1lIGZvciBvYmplY3RbcHJvcGVydHldLiBXZSBjYW5ub3RcbiAqIGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZVxuICogYmVoYXZpb3Igd2hlbiBub3QgY29tcGlsaW5nLlxuICovXG4vKkBfX0lOTElORV9fKi9cbmNvbnN0IEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPSA8UCBleHRlbmRzIFByb3BlcnR5S2V5PihcbiAgcHJvcDogUCxcbiAgX29iajogdW5rbm93blxuKTogUCA9PiBwcm9wO1xuXG5jb25zdCBERVZfTU9ERSA9IHRydWU7XG5cbmxldCBpc3N1ZVdhcm5pbmc6IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4gdm9pZDtcblxuaWYgKERFVl9NT0RFKSB7XG4gIC8vIEVuc3VyZSB3YXJuaW5ncyBhcmUgaXNzdWVkIG9ubHkgMXgsIGV2ZW4gaWYgbXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0XG4gIC8vIGFyZSBsb2FkZWQuXG4gIGNvbnN0IGlzc3VlZFdhcm5pbmdzOiBTZXQ8c3RyaW5nIHwgdW5kZWZpbmVkPiA9XG4gICAgKGdsb2JhbFRoaXMubGl0SXNzdWVkV2FybmluZ3MgPz89IG5ldyBTZXQoKSk7XG5cbiAgLy8gSXNzdWUgYSB3YXJuaW5nLCBpZiB3ZSBoYXZlbid0IGFscmVhZHkuXG4gIGlzc3VlV2FybmluZyA9IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4ge1xuICAgIHdhcm5pbmcgKz0gYCBTZWUgaHR0cHM6Ly9saXQuZGV2L21zZy8ke2NvZGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLmA7XG4gICAgaWYgKCFpc3N1ZWRXYXJuaW5ncy5oYXMod2FybmluZykpIHtcbiAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgIGlzc3VlZFdhcm5pbmdzLmFkZCh3YXJuaW5nKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHRoYXQgbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMsIGFuZFxuICogcmVuZGVycyBhIGxpdC1odG1sIHRlbXBsYXRlLlxuICpcbiAqIFRvIGRlZmluZSBhIGNvbXBvbmVudCwgc3ViY2xhc3MgYExpdEVsZW1lbnRgIGFuZCBpbXBsZW1lbnQgYVxuICogYHJlbmRlcmAgbWV0aG9kIHRvIHByb3ZpZGUgdGhlIGNvbXBvbmVudCdzIHRlbXBsYXRlLiBEZWZpbmUgcHJvcGVydGllc1xuICogdXNpbmcgdGhlIHtAbGlua2NvZGUgTGl0RWxlbWVudC5wcm9wZXJ0aWVzIHByb3BlcnRpZXN9IHByb3BlcnR5IG9yIHRoZVxuICoge0BsaW5rY29kZSBwcm9wZXJ0eX0gZGVjb3JhdG9yLlxuICovXG5leHBvcnQgY2xhc3MgTGl0RWxlbWVudCBleHRlbmRzIFJlYWN0aXZlRWxlbWVudCB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIHN0YXRpYyBbJ18kbGl0RWxlbWVudCQnXSA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHJlYWRvbmx5IHJlbmRlck9wdGlvbnM6IFJlbmRlck9wdGlvbnMgPSB7aG9zdDogdGhpc307XG5cbiAgcHJpdmF0ZSBfX2NoaWxkUGFydDogUm9vdFBhcnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHByb3RlY3RlZCBvdmVycmlkZSBjcmVhdGVSZW5kZXJSb290KCkge1xuICAgIGNvbnN0IHJlbmRlclJvb3QgPSBzdXBlci5jcmVhdGVSZW5kZXJSb290KCk7XG4gICAgLy8gV2hlbiBhZG9wdGVkU3R5bGVTaGVldHMgYXJlIHNoaW1tZWQsIHRoZXkgYXJlIGluc2VydGVkIGludG8gdGhlXG4gICAgLy8gc2hhZG93Um9vdCBieSBjcmVhdGVSZW5kZXJSb290LiBBZGp1c3QgdGhlIHJlbmRlckJlZm9yZSBub2RlIHNvIHRoYXRcbiAgICAvLyBhbnkgc3R5bGVzIGluIExpdCBjb250ZW50IHJlbmRlciBiZWZvcmUgYWRvcHRlZFN0eWxlU2hlZXRzLiBUaGlzIGlzXG4gICAgLy8gaW1wb3J0YW50IHNvIHRoYXQgYWRvcHRlZFN0eWxlU2hlZXRzIGhhdmUgcHJlY2VkZW5jZSBvdmVyIHN0eWxlcyBpblxuICAgIC8vIHRoZSBzaGFkb3dSb290LlxuICAgIHRoaXMucmVuZGVyT3B0aW9ucy5yZW5kZXJCZWZvcmUgPz89IHJlbmRlclJvb3QhLmZpcnN0Q2hpbGQgYXMgQ2hpbGROb2RlO1xuICAgIHJldHVybiByZW5kZXJSb290O1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGVsZW1lbnQuIFRoaXMgbWV0aG9kIHJlZmxlY3RzIHByb3BlcnR5IHZhbHVlcyB0byBhdHRyaWJ1dGVzXG4gICAqIGFuZCBjYWxscyBgcmVuZGVyYCB0byByZW5kZXIgRE9NIHZpYSBsaXQtaHRtbC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZVxuICAgKiB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXIgYW5vdGhlciB1cGRhdGUuXG4gICAqIEBwYXJhbSBjaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIHVwZGF0ZShjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICAvLyBTZXR0aW5nIHByb3BlcnRpZXMgaW4gYHJlbmRlcmAgc2hvdWxkIG5vdCB0cmlnZ2VyIGFuIHVwZGF0ZS4gU2luY2VcbiAgICAvLyB1cGRhdGVzIGFyZSBhbGxvd2VkIGFmdGVyIHN1cGVyLnVwZGF0ZSwgaXQncyBpbXBvcnRhbnQgdG8gY2FsbCBgcmVuZGVyYFxuICAgIC8vIGJlZm9yZSB0aGF0LlxuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5yZW5kZXIoKTtcbiAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgdGhpcy5yZW5kZXJPcHRpb25zLmlzQ29ubmVjdGVkID0gdGhpcy5pc0Nvbm5lY3RlZDtcbiAgICB9XG4gICAgc3VwZXIudXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICB0aGlzLl9fY2hpbGRQYXJ0ID0gcmVuZGVyKHZhbHVlLCB0aGlzLnJlbmRlclJvb3QsIHRoaXMucmVuZGVyT3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgYWRkZWQgdG8gdGhlIGRvY3VtZW50J3MgRE9NLlxuICAgKlxuICAgKiBJbiBgY29ubmVjdGVkQ2FsbGJhY2soKWAgeW91IHNob3VsZCBzZXR1cCB0YXNrcyB0aGF0IHNob3VsZCBvbmx5IG9jY3VyIHdoZW5cbiAgICogdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHRvIHRoZSBkb2N1bWVudC4gVGhlIG1vc3QgY29tbW9uIG9mIHRoZXNlIGlzXG4gICAqIGFkZGluZyBldmVudCBsaXN0ZW5lcnMgdG8gbm9kZXMgZXh0ZXJuYWwgdG8gdGhlIGVsZW1lbnQsIGxpa2UgYSBrZXlkb3duXG4gICAqIGV2ZW50IGhhbmRsZXIgYWRkZWQgdG8gdGhlIHdpbmRvdy5cbiAgICpcbiAgICogYGBgdHNcbiAgICogY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAqICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICogICBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bik7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIFR5cGljYWxseSwgYW55dGhpbmcgZG9uZSBpbiBgY29ubmVjdGVkQ2FsbGJhY2soKWAgc2hvdWxkIGJlIHVuZG9uZSB3aGVuIHRoZVxuICAgKiBlbGVtZW50IGlzIGRpc2Nvbm5lY3RlZCwgaW4gYGRpc2Nvbm5lY3RlZENhbGxiYWNrKClgLlxuICAgKlxuICAgKiBAY2F0ZWdvcnkgbGlmZWN5Y2xlXG4gICAqL1xuICBvdmVycmlkZSBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuX19jaGlsZFBhcnQ/LnNldENvbm5lY3RlZCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZW1vdmVkIGZyb20gdGhlIGRvY3VtZW50J3MgRE9NLlxuICAgKlxuICAgKiBUaGlzIGNhbGxiYWNrIGlzIHRoZSBtYWluIHNpZ25hbCB0byB0aGUgZWxlbWVudCB0aGF0IGl0IG1heSBubyBsb25nZXIgYmVcbiAgICogdXNlZC4gYGRpc2Nvbm5lY3RlZENhbGxiYWNrKClgIHNob3VsZCBlbnN1cmUgdGhhdCBub3RoaW5nIGlzIGhvbGRpbmcgYVxuICAgKiByZWZlcmVuY2UgdG8gdGhlIGVsZW1lbnQgKHN1Y2ggYXMgZXZlbnQgbGlzdGVuZXJzIGFkZGVkIHRvIG5vZGVzIGV4dGVybmFsXG4gICAqIHRvIHRoZSBlbGVtZW50KSwgc28gdGhhdCBpdCBpcyBmcmVlIHRvIGJlIGdhcmJhZ2UgY29sbGVjdGVkLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICogICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgKiAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlS2V5ZG93bik7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEFuIGVsZW1lbnQgbWF5IGJlIHJlLWNvbm5lY3RlZCBhZnRlciBiZWluZyBkaXNjb25uZWN0ZWQuXG4gICAqXG4gICAqIEBjYXRlZ29yeSBsaWZlY3ljbGVcbiAgICovXG4gIG92ZXJyaWRlIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5fX2NoaWxkUGFydD8uc2V0Q29ubmVjdGVkKGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIG9uIGVhY2ggdXBkYXRlIHRvIHBlcmZvcm0gcmVuZGVyaW5nIHRhc2tzLiBUaGlzIG1ldGhvZCBtYXkgcmV0dXJuXG4gICAqIGFueSB2YWx1ZSByZW5kZXJhYmxlIGJ5IGxpdC1odG1sJ3MgYENoaWxkUGFydGAgLSB0eXBpY2FsbHkgYVxuICAgKiBgVGVtcGxhdGVSZXN1bHRgLiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgKiB0aGUgZWxlbWVudCB0byB1cGRhdGUuXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHByb3RlY3RlZCByZW5kZXIoKTogdW5rbm93biB7XG4gICAgcmV0dXJuIG5vQ2hhbmdlO1xuICB9XG59XG5cbi8qKlxuICogRW5zdXJlIHRoaXMgY2xhc3MgaXMgbWFya2VkIGFzIGBmaW5hbGl6ZWRgIGFzIGFuIG9wdGltaXphdGlvbiBlbnN1cmluZ1xuICogaXQgd2lsbCBub3QgbmVlZGxlc3NseSB0cnkgdG8gYGZpbmFsaXplYC5cbiAqXG4gKiBOb3RlIHRoaXMgcHJvcGVydHkgbmFtZSBpcyBhIHN0cmluZyB0byBwcmV2ZW50IGJyZWFraW5nIENsb3N1cmUgSlMgQ29tcGlsZXJcbiAqIG9wdGltaXphdGlvbnMuIFNlZSBAbGl0L3JlYWN0aXZlLWVsZW1lbnQgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbihMaXRFbGVtZW50IGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW1xuICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCBMaXRFbGVtZW50KVxuXSA9IHRydWU7XG5cbi8vIEluc3RhbGwgaHlkcmF0aW9uIGlmIGF2YWlsYWJsZVxuZ2xvYmFsVGhpcy5saXRFbGVtZW50SHlkcmF0ZVN1cHBvcnQ/Lih7TGl0RWxlbWVudH0pO1xuXG4vLyBBcHBseSBwb2x5ZmlsbHMgaWYgYXZhaWxhYmxlXG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBERVZfTU9ERVxuICA/IGdsb2JhbFRoaXMubGl0RWxlbWVudFBvbHlmaWxsU3VwcG9ydERldk1vZGVcbiAgOiBnbG9iYWxUaGlzLmxpdEVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQ7XG5wb2x5ZmlsbFN1cHBvcnQ/Lih7TGl0RWxlbWVudH0pO1xuXG4vKipcbiAqIEVORCBVU0VSUyBTSE9VTEQgTk9UIFJFTFkgT04gVEhJUyBPQkpFQ1QuXG4gKlxuICogUHJpdmF0ZSBleHBvcnRzIGZvciB1c2UgYnkgb3RoZXIgTGl0IHBhY2thZ2VzLCBub3QgaW50ZW5kZWQgZm9yIHVzZSBieVxuICogZXh0ZXJuYWwgdXNlcnMuXG4gKlxuICogV2UgY3VycmVudGx5IGRvIG5vdCBtYWtlIGEgbWFuZ2xlZCByb2xsdXAgYnVpbGQgb2YgdGhlIGxpdC1zc3IgY29kZS4gSW4gb3JkZXJcbiAqIHRvIGtlZXAgYSBudW1iZXIgb2YgKG90aGVyd2lzZSBwcml2YXRlKSB0b3AtbGV2ZWwgZXhwb3J0cyAgbWFuZ2xlZCBpbiB0aGVcbiAqIGNsaWVudCBzaWRlIGNvZGUsIHdlIGV4cG9ydCBhIF8kTEUgb2JqZWN0IGNvbnRhaW5pbmcgdGhvc2UgbWVtYmVycyAob3JcbiAqIGhlbHBlciBtZXRob2RzIGZvciBhY2Nlc3NpbmcgcHJpdmF0ZSBmaWVsZHMgb2YgdGhvc2UgbWVtYmVycyksIGFuZCB0aGVuXG4gKiByZS1leHBvcnQgdGhlbSBmb3IgdXNlIGluIGxpdC1zc3IuIFRoaXMga2VlcHMgbGl0LXNzciBhZ25vc3RpYyB0byB3aGV0aGVyIHRoZVxuICogY2xpZW50LXNpZGUgY29kZSBpcyBiZWluZyB1c2VkIGluIGBkZXZgIG1vZGUgb3IgYHByb2RgIG1vZGUuXG4gKlxuICogVGhpcyBoYXMgYSB1bmlxdWUgbmFtZSwgdG8gZGlzYW1iaWd1YXRlIGl0IGZyb20gcHJpdmF0ZSBleHBvcnRzIGluXG4gKiBsaXQtaHRtbCwgc2luY2UgdGhpcyBtb2R1bGUgcmUtZXhwb3J0cyBhbGwgb2YgbGl0LWh0bWwuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IF8kTEUgPSB7XG4gIF8kYXR0cmlidXRlVG9Qcm9wZXJ0eTogKFxuICAgIGVsOiBMaXRFbGVtZW50LFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB2YWx1ZTogc3RyaW5nIHwgbnVsbFxuICApID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAoZWwgYXMgYW55KS5fJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICB9LFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgXyRjaGFuZ2VkUHJvcGVydGllczogKGVsOiBMaXRFbGVtZW50KSA9PiAoZWwgYXMgYW55KS5fJGNoYW5nZWRQcm9wZXJ0aWVzLFxufTtcblxuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBMaXRFbGVtZW50IHVzYWdlLlxuKGdsb2JhbFRoaXMubGl0RWxlbWVudFZlcnNpb25zID8/PSBbXSkucHVzaCgnNC4wLjQnKTtcbmlmIChERVZfTU9ERSAmJiBnbG9iYWxUaGlzLmxpdEVsZW1lbnRWZXJzaW9ucy5sZW5ndGggPiAxKSB7XG4gIGlzc3VlV2FybmluZyEoXG4gICAgJ211bHRpcGxlLXZlcnNpb25zJyxcbiAgICBgTXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0IGxvYWRlZC4gTG9hZGluZyBtdWx0aXBsZSB2ZXJzaW9ucyBgICtcbiAgICAgIGBpcyBub3QgcmVjb21tZW5kZWQuYFxuICApO1xufVxuIiwgIi8vIHNyYy9jb21wb25lbnRzL3NwaW5uZXIvc3Bpbm5lci5zdHlsZXMudHNcbmltcG9ydCB7IGNzcyB9IGZyb20gXCJsaXRcIjtcbnZhciBzcGlubmVyX3N0eWxlc19kZWZhdWx0ID0gY3NzYFxuICA6aG9zdCB7XG4gICAgLS10cmFjay13aWR0aDogMnB4O1xuICAgIC0tdHJhY2stY29sb3I6IHJnYigxMjggMTI4IDEyOCAvIDI1JSk7XG4gICAgLS1pbmRpY2F0b3ItY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNjAwKTtcbiAgICAtLXNwZWVkOiAycztcblxuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgIHdpZHRoOiAxZW07XG4gICAgaGVpZ2h0OiAxZW07XG4gICAgZmxleDogbm9uZTtcbiAgfVxuXG4gIC5zcGlubmVyIHtcbiAgICBmbGV4OiAxIDEgYXV0bztcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAuc3Bpbm5lcl9fdHJhY2ssXG4gIC5zcGlubmVyX19pbmRpY2F0b3Ige1xuICAgIGZpbGw6IG5vbmU7XG4gICAgc3Ryb2tlLXdpZHRoOiB2YXIoLS10cmFjay13aWR0aCk7XG4gICAgcjogY2FsYygwLjVlbSAtIHZhcigtLXRyYWNrLXdpZHRoKSAvIDIpO1xuICAgIGN4OiAwLjVlbTtcbiAgICBjeTogMC41ZW07XG4gICAgdHJhbnNmb3JtLW9yaWdpbjogNTAlIDUwJTtcbiAgfVxuXG4gIC5zcGlubmVyX190cmFjayB7XG4gICAgc3Ryb2tlOiB2YXIoLS10cmFjay1jb2xvcik7XG4gICAgdHJhbnNmb3JtLW9yaWdpbjogMCUgMCU7XG4gIH1cblxuICAuc3Bpbm5lcl9faW5kaWNhdG9yIHtcbiAgICBzdHJva2U6IHZhcigtLWluZGljYXRvci1jb2xvcik7XG4gICAgc3Ryb2tlLWxpbmVjYXA6IHJvdW5kO1xuICAgIHN0cm9rZS1kYXNoYXJyYXk6IDE1MCUgNzUlO1xuICAgIGFuaW1hdGlvbjogc3BpbiB2YXIoLS1zcGVlZCkgbGluZWFyIGluZmluaXRlO1xuICB9XG5cbiAgQGtleWZyYW1lcyBzcGluIHtcbiAgICAwJSB7XG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDAuMDVlbSwgM2VtO1xuICAgIH1cblxuICAgIDUwJSB7XG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg0NTBkZWcpO1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogMS4zNzVlbSwgMS4zNzVlbTtcbiAgICB9XG5cbiAgICAxMDAlIHtcbiAgICAgIHRyYW5zZm9ybTogcm90YXRlKDEwODBkZWcpO1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogMC4wNWVtLCAzZW07XG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQge1xuICBzcGlubmVyX3N0eWxlc19kZWZhdWx0XG59O1xuIiwgImNvbnN0IGNvbm5lY3RlZEVsZW1lbnRzID0gbmV3IFNldCgpO1xuY29uc3QgZG9jdW1lbnRFbGVtZW50T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih1cGRhdGUpO1xuY29uc3QgdHJhbnNsYXRpb25zID0gbmV3IE1hcCgpO1xubGV0IGRvY3VtZW50RGlyZWN0aW9uID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRpciB8fCAnbHRyJztcbmxldCBkb2N1bWVudExhbmd1YWdlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcgfHwgbmF2aWdhdG9yLmxhbmd1YWdlO1xubGV0IGZhbGxiYWNrO1xuZG9jdW1lbnRFbGVtZW50T2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHtcbiAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgIGF0dHJpYnV0ZUZpbHRlcjogWydkaXInLCAnbGFuZyddXG59KTtcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclRyYW5zbGF0aW9uKC4uLnRyYW5zbGF0aW9uKSB7XG4gICAgdHJhbnNsYXRpb24ubWFwKHQgPT4ge1xuICAgICAgICBjb25zdCBjb2RlID0gdC4kY29kZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAodHJhbnNsYXRpb25zLmhhcyhjb2RlKSkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25zLnNldChjb2RlLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRyYW5zbGF0aW9ucy5nZXQoY29kZSkpLCB0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnMuc2V0KGNvZGUsIHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZmFsbGJhY2spIHtcbiAgICAgICAgICAgIGZhbGxiYWNrID0gdDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVwZGF0ZSgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICBkb2N1bWVudERpcmVjdGlvbiA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kaXIgfHwgJ2x0cic7XG4gICAgZG9jdW1lbnRMYW5ndWFnZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nIHx8IG5hdmlnYXRvci5sYW5ndWFnZTtcbiAgICBbLi4uY29ubmVjdGVkRWxlbWVudHMua2V5cygpXS5tYXAoKGVsKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgZWwucmVxdWVzdFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZWwucmVxdWVzdFVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgY2xhc3MgTG9jYWxpemVDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihob3N0KSB7XG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgICAgIHRoaXMuaG9zdC5hZGRDb250cm9sbGVyKHRoaXMpO1xuICAgIH1cbiAgICBob3N0Q29ubmVjdGVkKCkge1xuICAgICAgICBjb25uZWN0ZWRFbGVtZW50cy5hZGQodGhpcy5ob3N0KTtcbiAgICB9XG4gICAgaG9zdERpc2Nvbm5lY3RlZCgpIHtcbiAgICAgICAgY29ubmVjdGVkRWxlbWVudHMuZGVsZXRlKHRoaXMuaG9zdCk7XG4gICAgfVxuICAgIGRpcigpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuaG9zdC5kaXIgfHwgZG9jdW1lbnREaXJlY3Rpb259YC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICBsYW5nKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5ob3N0LmxhbmcgfHwgZG9jdW1lbnRMYW5ndWFnZX1gLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGdldFRyYW5zbGF0aW9uRGF0YShsYW5nKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGxvY2FsZSA9IG5ldyBJbnRsLkxvY2FsZShsYW5nLnJlcGxhY2UoL18vZywgJy0nKSk7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gbG9jYWxlID09PSBudWxsIHx8IGxvY2FsZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbG9jYWxlLmxhbmd1YWdlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IChfYiA9IChfYSA9IGxvY2FsZSA9PT0gbnVsbCB8fCBsb2NhbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxvY2FsZS5yZWdpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0xvd2VyQ2FzZSgpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJztcbiAgICAgICAgY29uc3QgcHJpbWFyeSA9IHRyYW5zbGF0aW9ucy5nZXQoYCR7bGFuZ3VhZ2V9LSR7cmVnaW9ufWApO1xuICAgICAgICBjb25zdCBzZWNvbmRhcnkgPSB0cmFuc2xhdGlvbnMuZ2V0KGxhbmd1YWdlKTtcbiAgICAgICAgcmV0dXJuIHsgbG9jYWxlLCBsYW5ndWFnZSwgcmVnaW9uLCBwcmltYXJ5LCBzZWNvbmRhcnkgfTtcbiAgICB9XG4gICAgZXhpc3RzKGtleSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHsgcHJpbWFyeSwgc2Vjb25kYXJ5IH0gPSB0aGlzLmdldFRyYW5zbGF0aW9uRGF0YSgoX2EgPSBvcHRpb25zLmxhbmcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMubGFuZygpKTtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBpbmNsdWRlRmFsbGJhY2s6IGZhbHNlIH0sIG9wdGlvbnMpO1xuICAgICAgICBpZiAoKHByaW1hcnkgJiYgcHJpbWFyeVtrZXldKSB8fFxuICAgICAgICAgICAgKHNlY29uZGFyeSAmJiBzZWNvbmRhcnlba2V5XSkgfHxcbiAgICAgICAgICAgIChvcHRpb25zLmluY2x1ZGVGYWxsYmFjayAmJiBmYWxsYmFjayAmJiBmYWxsYmFja1trZXldKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0ZXJtKGtleSwgLi4uYXJncykge1xuICAgICAgICBjb25zdCB7IHByaW1hcnksIHNlY29uZGFyeSB9ID0gdGhpcy5nZXRUcmFuc2xhdGlvbkRhdGEodGhpcy5sYW5nKCkpO1xuICAgICAgICBsZXQgdGVybTtcbiAgICAgICAgaWYgKHByaW1hcnkgJiYgcHJpbWFyeVtrZXldKSB7XG4gICAgICAgICAgICB0ZXJtID0gcHJpbWFyeVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNlY29uZGFyeSAmJiBzZWNvbmRhcnlba2V5XSkge1xuICAgICAgICAgICAgdGVybSA9IHNlY29uZGFyeVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZhbGxiYWNrICYmIGZhbGxiYWNrW2tleV0pIHtcbiAgICAgICAgICAgIHRlcm0gPSBmYWxsYmFja1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgTm8gdHJhbnNsYXRpb24gZm91bmQgZm9yOiAke1N0cmluZyhrZXkpfWApO1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGVybSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRlcm0oLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRlcm07XG4gICAgfVxuICAgIGRhdGUoZGF0ZVRvRm9ybWF0LCBvcHRpb25zKSB7XG4gICAgICAgIGRhdGVUb0Zvcm1hdCA9IG5ldyBEYXRlKGRhdGVUb0Zvcm1hdCk7XG4gICAgICAgIHJldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCh0aGlzLmxhbmcoKSwgb3B0aW9ucykuZm9ybWF0KGRhdGVUb0Zvcm1hdCk7XG4gICAgfVxuICAgIG51bWJlcihudW1iZXJUb0Zvcm1hdCwgb3B0aW9ucykge1xuICAgICAgICBudW1iZXJUb0Zvcm1hdCA9IE51bWJlcihudW1iZXJUb0Zvcm1hdCk7XG4gICAgICAgIHJldHVybiBpc05hTihudW1iZXJUb0Zvcm1hdCkgPyAnJyA6IG5ldyBJbnRsLk51bWJlckZvcm1hdCh0aGlzLmxhbmcoKSwgb3B0aW9ucykuZm9ybWF0KG51bWJlclRvRm9ybWF0KTtcbiAgICB9XG4gICAgcmVsYXRpdmVUaW1lKHZhbHVlLCB1bml0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQodGhpcy5sYW5nKCksIG9wdGlvbnMpLmZvcm1hdCh2YWx1ZSwgdW5pdCk7XG4gICAgfVxufVxuIiwgIi8vIHNyYy90cmFuc2xhdGlvbnMvZW4udHNcbmltcG9ydCB7IHJlZ2lzdGVyVHJhbnNsYXRpb24gfSBmcm9tIFwiQHNob2VsYWNlLXN0eWxlL2xvY2FsaXplXCI7XG52YXIgdHJhbnNsYXRpb24gPSB7XG4gICRjb2RlOiBcImVuXCIsXG4gICRuYW1lOiBcIkVuZ2xpc2hcIixcbiAgJGRpcjogXCJsdHJcIixcbiAgY2Fyb3VzZWw6IFwiQ2Fyb3VzZWxcIixcbiAgY2xlYXJFbnRyeTogXCJDbGVhciBlbnRyeVwiLFxuICBjbG9zZTogXCJDbG9zZVwiLFxuICBjb3BpZWQ6IFwiQ29waWVkXCIsXG4gIGNvcHk6IFwiQ29weVwiLFxuICBjdXJyZW50VmFsdWU6IFwiQ3VycmVudCB2YWx1ZVwiLFxuICBlcnJvcjogXCJFcnJvclwiLFxuICBnb1RvU2xpZGU6IChzbGlkZSwgY291bnQpID0+IGBHbyB0byBzbGlkZSAke3NsaWRlfSBvZiAke2NvdW50fWAsXG4gIGhpZGVQYXNzd29yZDogXCJIaWRlIHBhc3N3b3JkXCIsXG4gIGxvYWRpbmc6IFwiTG9hZGluZ1wiLFxuICBuZXh0U2xpZGU6IFwiTmV4dCBzbGlkZVwiLFxuICBudW1PcHRpb25zU2VsZWN0ZWQ6IChudW0pID0+IHtcbiAgICBpZiAobnVtID09PSAwKVxuICAgICAgcmV0dXJuIFwiTm8gb3B0aW9ucyBzZWxlY3RlZFwiO1xuICAgIGlmIChudW0gPT09IDEpXG4gICAgICByZXR1cm4gXCIxIG9wdGlvbiBzZWxlY3RlZFwiO1xuICAgIHJldHVybiBgJHtudW19IG9wdGlvbnMgc2VsZWN0ZWRgO1xuICB9LFxuICBwcmV2aW91c1NsaWRlOiBcIlByZXZpb3VzIHNsaWRlXCIsXG4gIHByb2dyZXNzOiBcIlByb2dyZXNzXCIsXG4gIHJlbW92ZTogXCJSZW1vdmVcIixcbiAgcmVzaXplOiBcIlJlc2l6ZVwiLFxuICBzY3JvbGxUb0VuZDogXCJTY3JvbGwgdG8gZW5kXCIsXG4gIHNjcm9sbFRvU3RhcnQ6IFwiU2Nyb2xsIHRvIHN0YXJ0XCIsXG4gIHNlbGVjdEFDb2xvckZyb21UaGVTY3JlZW46IFwiU2VsZWN0IGEgY29sb3IgZnJvbSB0aGUgc2NyZWVuXCIsXG4gIHNob3dQYXNzd29yZDogXCJTaG93IHBhc3N3b3JkXCIsXG4gIHNsaWRlTnVtOiAoc2xpZGUpID0+IGBTbGlkZSAke3NsaWRlfWAsXG4gIHRvZ2dsZUNvbG9yRm9ybWF0OiBcIlRvZ2dsZSBjb2xvciBmb3JtYXRcIlxufTtcbnJlZ2lzdGVyVHJhbnNsYXRpb24odHJhbnNsYXRpb24pO1xudmFyIGVuX2RlZmF1bHQgPSB0cmFuc2xhdGlvbjtcblxuZXhwb3J0IHtcbiAgZW5fZGVmYXVsdFxufTtcbiIsICJpbXBvcnQge1xuICBlbl9kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLk1BUzJTSFlELmpzXCI7XG5cbi8vIHNyYy91dGlsaXRpZXMvbG9jYWxpemUudHNcbmltcG9ydCB7IExvY2FsaXplQ29udHJvbGxlciBhcyBEZWZhdWx0TG9jYWxpemF0aW9uQ29udHJvbGxlciwgcmVnaXN0ZXJUcmFuc2xhdGlvbiB9IGZyb20gXCJAc2hvZWxhY2Utc3R5bGUvbG9jYWxpemVcIjtcbmltcG9ydCB7IHJlZ2lzdGVyVHJhbnNsYXRpb24gYXMgcmVnaXN0ZXJUcmFuc2xhdGlvbjIgfSBmcm9tIFwiQHNob2VsYWNlLXN0eWxlL2xvY2FsaXplXCI7XG52YXIgTG9jYWxpemVDb250cm9sbGVyID0gY2xhc3MgZXh0ZW5kcyBEZWZhdWx0TG9jYWxpemF0aW9uQ29udHJvbGxlciB7XG59O1xucmVnaXN0ZXJUcmFuc2xhdGlvbihlbl9kZWZhdWx0KTtcblxuZXhwb3J0IHtcbiAgTG9jYWxpemVDb250cm9sbGVyLFxuICByZWdpc3RlclRyYW5zbGF0aW9uMiBhcyByZWdpc3RlclRyYW5zbGF0aW9uXG59O1xuIiwgIi8vIHNyYy9zdHlsZXMvY29tcG9uZW50LnN0eWxlcy50c1xuaW1wb3J0IHsgY3NzIH0gZnJvbSBcImxpdFwiO1xudmFyIGNvbXBvbmVudF9zdHlsZXNfZGVmYXVsdCA9IGNzc2BcbiAgOmhvc3Qge1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIH1cblxuICA6aG9zdCAqLFxuICA6aG9zdCAqOjpiZWZvcmUsXG4gIDpob3N0ICo6OmFmdGVyIHtcbiAgICBib3gtc2l6aW5nOiBpbmhlcml0O1xuICB9XG5cbiAgW2hpZGRlbl0ge1xuICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgfVxuYDtcblxuZXhwb3J0IHtcbiAgY29tcG9uZW50X3N0eWxlc19kZWZhdWx0XG59O1xuIiwgInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fa25vd25TeW1ib2wgPSAobmFtZSwgc3ltYm9sKSA9PiB7XG4gIHJldHVybiAoc3ltYm9sID0gU3ltYm9sW25hbWVdKSA/IHN5bWJvbCA6IFN5bWJvbC5mb3IoXCJTeW1ib2wuXCIgKyBuYW1lKTtcbn07XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyhhLCBfX2dldE93blByb3BEZXNjcyhiKSk7XG52YXIgX19kZWNvcmF0ZUNsYXNzID0gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBraW5kKSA9PiB7XG4gIHZhciByZXN1bHQgPSBraW5kID4gMSA/IHZvaWQgMCA6IGtpbmQgPyBfX2dldE93blByb3BEZXNjKHRhcmdldCwga2V5KSA6IHRhcmdldDtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMSwgZGVjb3JhdG9yOyBpID49IDA7IGktLSlcbiAgICBpZiAoZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgIHJlc3VsdCA9IChraW5kID8gZGVjb3JhdG9yKHRhcmdldCwga2V5LCByZXN1bHQpIDogZGVjb3JhdG9yKHJlc3VsdCkpIHx8IHJlc3VsdDtcbiAgaWYgKGtpbmQgJiYgcmVzdWx0KVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIGtleSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19hd2FpdCA9IGZ1bmN0aW9uKHByb21pc2UsIGlzWWllbGRTdGFyKSB7XG4gIHRoaXNbMF0gPSBwcm9taXNlO1xuICB0aGlzWzFdID0gaXNZaWVsZFN0YXI7XG59O1xudmFyIF9feWllbGRTdGFyID0gKHZhbHVlKSA9PiB7XG4gIHZhciBvYmogPSB2YWx1ZVtfX2tub3duU3ltYm9sKFwiYXN5bmNJdGVyYXRvclwiKV07XG4gIHZhciBpc0F3YWl0ID0gZmFsc2U7XG4gIHZhciBtZXRob2Q7XG4gIHZhciBpdCA9IHt9O1xuICBpZiAob2JqID09IG51bGwpIHtcbiAgICBvYmogPSB2YWx1ZVtfX2tub3duU3ltYm9sKFwiaXRlcmF0b3JcIildKCk7XG4gICAgbWV0aG9kID0gKGspID0+IGl0W2tdID0gKHgpID0+IG9ialtrXSh4KTtcbiAgfSBlbHNlIHtcbiAgICBvYmogPSBvYmouY2FsbCh2YWx1ZSk7XG4gICAgbWV0aG9kID0gKGspID0+IGl0W2tdID0gKHYpID0+IHtcbiAgICAgIGlmIChpc0F3YWl0KSB7XG4gICAgICAgIGlzQXdhaXQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGsgPT09IFwidGhyb3dcIilcbiAgICAgICAgICB0aHJvdyB2O1xuICAgICAgICByZXR1cm4gdjtcbiAgICAgIH1cbiAgICAgIGlzQXdhaXQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBuZXcgX19hd2FpdChuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgIHZhciB4ID0gb2JqW2tdKHYpO1xuICAgICAgICAgIGlmICghKHggaW5zdGFuY2VvZiBPYmplY3QpKVxuICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgIHJlc29sdmUoeCk7XG4gICAgICAgIH0pLCAxKVxuICAgICAgfTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBpdFtfX2tub3duU3ltYm9sKFwiaXRlcmF0b3JcIildID0gKCkgPT4gaXQsIG1ldGhvZChcIm5leHRcIiksIFwidGhyb3dcIiBpbiBvYmogPyBtZXRob2QoXCJ0aHJvd1wiKSA6IGl0LnRocm93ID0gKHgpID0+IHtcbiAgICB0aHJvdyB4O1xuICB9LCBcInJldHVyblwiIGluIG9iaiAmJiBtZXRob2QoXCJyZXR1cm5cIiksIGl0O1xufTtcblxuZXhwb3J0IHtcbiAgX19zcHJlYWRWYWx1ZXMsXG4gIF9fc3ByZWFkUHJvcHMsXG4gIF9fZGVjb3JhdGVDbGFzcyxcbiAgX195aWVsZFN0YXJcbn07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8qXG4gKiBJTVBPUlRBTlQ6IEZvciBjb21wYXRpYmlsaXR5IHdpdGggdHNpY2tsZSBhbmQgdGhlIENsb3N1cmUgSlMgY29tcGlsZXIsIGFsbFxuICogcHJvcGVydHkgZGVjb3JhdG9ycyAoYnV0IG5vdCBjbGFzcyBkZWNvcmF0b3JzKSBpbiB0aGlzIGZpbGUgdGhhdCBoYXZlXG4gKiBhbiBARXhwb3J0RGVjb3JhdGVkSXRlbXMgYW5ub3RhdGlvbiBtdXN0IGJlIGRlZmluZWQgYXMgYSByZWd1bGFyIGZ1bmN0aW9uLFxuICogbm90IGFuIGFycm93IGZ1bmN0aW9uLlxuICovXG5cbmltcG9ydCB7XG4gIHR5cGUgUHJvcGVydHlEZWNsYXJhdGlvbixcbiAgdHlwZSBSZWFjdGl2ZUVsZW1lbnQsXG4gIGRlZmF1bHRDb252ZXJ0ZXIsXG4gIG5vdEVxdWFsLFxufSBmcm9tICcuLi9yZWFjdGl2ZS1lbGVtZW50LmpzJztcbmltcG9ydCB0eXBlIHtJbnRlcmZhY2V9IGZyb20gJy4vYmFzZS5qcyc7XG5cbmNvbnN0IERFVl9NT0RFID0gdHJ1ZTtcblxubGV0IGlzc3VlV2FybmluZzogKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB2b2lkO1xuXG5pZiAoREVWX01PREUpIHtcbiAgLy8gRW5zdXJlIHdhcm5pbmdzIGFyZSBpc3N1ZWQgb25seSAxeCwgZXZlbiBpZiBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXRcbiAgLy8gYXJlIGxvYWRlZC5cbiAgY29uc3QgaXNzdWVkV2FybmluZ3M6IFNldDxzdHJpbmcgfCB1bmRlZmluZWQ+ID1cbiAgICAoZ2xvYmFsVGhpcy5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpKTtcblxuICAvLyBJc3N1ZSBhIHdhcm5pbmcsIGlmIHdlIGhhdmVuJ3QgYWxyZWFkeS5cbiAgaXNzdWVXYXJuaW5nID0gKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB7XG4gICAgd2FybmluZyArPSBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYDtcbiAgICBpZiAoIWlzc3VlZFdhcm5pbmdzLmhhcyh3YXJuaW5nKSkge1xuICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgaXNzdWVkV2FybmluZ3MuYWRkKHdhcm5pbmcpO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gT3ZlcmxvYWRzIGZvciBwcm9wZXJ0eSBkZWNvcmF0b3Igc28gdGhhdCBUeXBlU2NyaXB0IGNhbiBpbmZlciB0aGUgY29ycmVjdFxuLy8gcmV0dXJuIHR5cGUgd2hlbiBhIGRlY29yYXRvciBpcyB1c2VkIGFzIGFuIGFjY2Vzc29yIGRlY29yYXRvciBvciBhIHNldHRlclxuLy8gZGVjb3JhdG9yLlxuZXhwb3J0IHR5cGUgUHJvcGVydHlEZWNvcmF0b3IgPSB7XG4gIC8vIGFjY2Vzc29yIGRlY29yYXRvciBzaWduYXR1cmVcbiAgPEMgZXh0ZW5kcyBJbnRlcmZhY2U8UmVhY3RpdmVFbGVtZW50PiwgVj4oXG4gICAgdGFyZ2V0OiBDbGFzc0FjY2Vzc29yRGVjb3JhdG9yVGFyZ2V0PEMsIFY+LFxuICAgIGNvbnRleHQ6IENsYXNzQWNjZXNzb3JEZWNvcmF0b3JDb250ZXh0PEMsIFY+XG4gICk6IENsYXNzQWNjZXNzb3JEZWNvcmF0b3JSZXN1bHQ8QywgVj47XG5cbiAgLy8gc2V0dGVyIGRlY29yYXRvciBzaWduYXR1cmVcbiAgPEMgZXh0ZW5kcyBJbnRlcmZhY2U8UmVhY3RpdmVFbGVtZW50PiwgVj4oXG4gICAgdGFyZ2V0OiAodmFsdWU6IFYpID0+IHZvaWQsXG4gICAgY29udGV4dDogQ2xhc3NTZXR0ZXJEZWNvcmF0b3JDb250ZXh0PEMsIFY+XG4gICk6ICh0aGlzOiBDLCB2YWx1ZTogVikgPT4gdm9pZDtcblxuICAvLyBsZWdhY3kgZGVjb3JhdG9yIHNpZ25hdHVyZVxuICAoXG4gICAgcHJvdG9PckRlc2NyaXB0b3I6IE9iamVjdCxcbiAgICBuYW1lOiBQcm9wZXJ0eUtleSxcbiAgICBkZXNjcmlwdG9yPzogUHJvcGVydHlEZXNjcmlwdG9yXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgKTogYW55O1xufTtcblxuY29uc3QgbGVnYWN5UHJvcGVydHkgPSAoXG4gIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24gfCB1bmRlZmluZWQsXG4gIHByb3RvOiBPYmplY3QsXG4gIG5hbWU6IFByb3BlcnR5S2V5XG4pID0+IHtcbiAgY29uc3QgaGFzT3duUHJvcGVydHkgPSBwcm90by5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgKHByb3RvLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmNyZWF0ZVByb3BlcnR5KFxuICAgIG5hbWUsXG4gICAgaGFzT3duUHJvcGVydHkgPyB7Li4ub3B0aW9ucywgd3JhcHBlZDogdHJ1ZX0gOiBvcHRpb25zXG4gICk7XG4gIC8vIEZvciBhY2Nlc3NvcnMgKHdoaWNoIGhhdmUgYSBkZXNjcmlwdG9yIG9uIHRoZSBwcm90b3R5cGUpIHdlIG5lZWQgdG9cbiAgLy8gcmV0dXJuIGEgZGVzY3JpcHRvciwgb3RoZXJ3aXNlIFR5cGVTY3JpcHQgb3ZlcndyaXRlcyB0aGUgZGVzY3JpcHRvciB3ZVxuICAvLyBkZWZpbmUgaW4gY3JlYXRlUHJvcGVydHkoKSB3aXRoIHRoZSBvcmlnaW5hbCBkZXNjcmlwdG9yLiBXZSBkb24ndCBkbyB0aGlzXG4gIC8vIGZvciBmaWVsZHMsIHdoaWNoIGRvbid0IGhhdmUgYSBkZXNjcmlwdG9yLCBiZWNhdXNlIHRoaXMgY291bGQgb3ZlcndyaXRlXG4gIC8vIGRlc2NyaXB0b3IgZGVmaW5lZCBieSBvdGhlciBkZWNvcmF0b3JzLlxuICByZXR1cm4gaGFzT3duUHJvcGVydHlcbiAgICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sIG5hbWUpXG4gICAgOiB1bmRlZmluZWQ7XG59O1xuXG4vLyBUaGlzIGlzIGR1cGxpY2F0ZWQgZnJvbSBhIHNpbWlsYXIgdmFyaWFibGUgaW4gcmVhY3RpdmUtZWxlbWVudC50cywgYnV0XG4vLyBhY3R1YWxseSBtYWtlcyBzZW5zZSB0byBoYXZlIHRoaXMgZGVmYXVsdCBkZWZpbmVkIHdpdGggdGhlIGRlY29yYXRvciwgc29cbi8vIHRoYXQgZGlmZmVyZW50IGRlY29yYXRvcnMgY291bGQgaGF2ZSBkaWZmZXJlbnQgZGVmYXVsdHMuXG5jb25zdCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjogUHJvcGVydHlEZWNsYXJhdGlvbiA9IHtcbiAgYXR0cmlidXRlOiB0cnVlLFxuICB0eXBlOiBTdHJpbmcsXG4gIGNvbnZlcnRlcjogZGVmYXVsdENvbnZlcnRlcixcbiAgcmVmbGVjdDogZmFsc2UsXG4gIGhhc0NoYW5nZWQ6IG5vdEVxdWFsLFxufTtcblxuLy8gVGVtcG9yYXJ5IHR5cGUsIHVudGlsIGdvb2dsZTMgaXMgb24gVHlwZVNjcmlwdCA1LjJcbnR5cGUgU3RhbmRhcmRQcm9wZXJ0eUNvbnRleHQ8QywgVj4gPSAoXG4gIHwgQ2xhc3NBY2Nlc3NvckRlY29yYXRvckNvbnRleHQ8QywgVj5cbiAgfCBDbGFzc1NldHRlckRlY29yYXRvckNvbnRleHQ8QywgVj5cbikgJiB7bWV0YWRhdGE6IG9iamVjdH07XG5cbi8qKlxuICogV3JhcHMgYSBjbGFzcyBhY2Nlc3NvciBvciBzZXR0ZXIgc28gdGhhdCBgcmVxdWVzdFVwZGF0ZSgpYCBpcyBjYWxsZWQgd2l0aCB0aGVcbiAqIHByb3BlcnR5IG5hbWUgYW5kIG9sZCB2YWx1ZSB3aGVuIHRoZSBhY2Nlc3NvciBpcyBzZXQuXG4gKi9cbmV4cG9ydCBjb25zdCBzdGFuZGFyZFByb3BlcnR5ID0gPEMgZXh0ZW5kcyBJbnRlcmZhY2U8UmVhY3RpdmVFbGVtZW50PiwgVj4oXG4gIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24gPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbixcbiAgdGFyZ2V0OiBDbGFzc0FjY2Vzc29yRGVjb3JhdG9yVGFyZ2V0PEMsIFY+IHwgKCh2YWx1ZTogVikgPT4gdm9pZCksXG4gIGNvbnRleHQ6IFN0YW5kYXJkUHJvcGVydHlDb250ZXh0PEMsIFY+XG4pOiBDbGFzc0FjY2Vzc29yRGVjb3JhdG9yUmVzdWx0PEMsIFY+IHwgKCh0aGlzOiBDLCB2YWx1ZTogVikgPT4gdm9pZCkgPT4ge1xuICBjb25zdCB7a2luZCwgbWV0YWRhdGF9ID0gY29udGV4dDtcblxuICBpZiAoREVWX01PREUgJiYgbWV0YWRhdGEgPT0gbnVsbCkge1xuICAgIGlzc3VlV2FybmluZyhcbiAgICAgICdtaXNzaW5nLWNsYXNzLW1ldGFkYXRhJyxcbiAgICAgIGBUaGUgY2xhc3MgJHt0YXJnZXR9IGlzIG1pc3NpbmcgZGVjb3JhdG9yIG1ldGFkYXRhLiBUaGlzIGAgK1xuICAgICAgICBgY291bGQgbWVhbiB0aGF0IHlvdSdyZSB1c2luZyBhIGNvbXBpbGVyIHRoYXQgc3VwcG9ydHMgZGVjb3JhdG9ycyBgICtcbiAgICAgICAgYGJ1dCBkb2Vzbid0IHN1cHBvcnQgZGVjb3JhdG9yIG1ldGFkYXRhLCBzdWNoIGFzIFR5cGVTY3JpcHQgNS4xLiBgICtcbiAgICAgICAgYFBsZWFzZSB1cGRhdGUgeW91ciBjb21waWxlci5gXG4gICAgKTtcbiAgfVxuXG4gIC8vIFN0b3JlIHRoZSBwcm9wZXJ0eSBvcHRpb25zXG4gIGxldCBwcm9wZXJ0aWVzID0gZ2xvYmFsVGhpcy5saXRQcm9wZXJ0eU1ldGFkYXRhLmdldChtZXRhZGF0YSk7XG4gIGlmIChwcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICBnbG9iYWxUaGlzLmxpdFByb3BlcnR5TWV0YWRhdGEuc2V0KG1ldGFkYXRhLCAocHJvcGVydGllcyA9IG5ldyBNYXAoKSkpO1xuICB9XG4gIHByb3BlcnRpZXMuc2V0KGNvbnRleHQubmFtZSwgb3B0aW9ucyk7XG5cbiAgaWYgKGtpbmQgPT09ICdhY2Nlc3NvcicpIHtcbiAgICAvLyBTdGFuZGFyZCBkZWNvcmF0b3JzIGNhbm5vdCBkeW5hbWljYWxseSBtb2RpZnkgdGhlIGNsYXNzLCBzbyB3ZSBjYW4ndFxuICAgIC8vIHJlcGxhY2UgYSBmaWVsZCB3aXRoIGFjY2Vzc29ycy4gVGhlIHVzZXIgbXVzdCB1c2UgdGhlIG5ldyBgYWNjZXNzb3JgXG4gICAgLy8ga2V5d29yZCBpbnN0ZWFkLlxuICAgIGNvbnN0IHtuYW1lfSA9IGNvbnRleHQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNldCh0aGlzOiBSZWFjdGl2ZUVsZW1lbnQsIHY6IFYpIHtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSAoXG4gICAgICAgICAgdGFyZ2V0IGFzIENsYXNzQWNjZXNzb3JEZWNvcmF0b3JUYXJnZXQ8QywgVj5cbiAgICAgICAgKS5nZXQuY2FsbCh0aGlzIGFzIHVua25vd24gYXMgQyk7XG4gICAgICAgICh0YXJnZXQgYXMgQ2xhc3NBY2Nlc3NvckRlY29yYXRvclRhcmdldDxDLCBWPikuc2V0LmNhbGwoXG4gICAgICAgICAgdGhpcyBhcyB1bmtub3duIGFzIEMsXG4gICAgICAgICAgdlxuICAgICAgICApO1xuICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUsIG9wdGlvbnMpO1xuICAgICAgfSxcbiAgICAgIGluaXQodGhpczogUmVhY3RpdmVFbGVtZW50LCB2OiBWKTogViB7XG4gICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLl8kY2hhbmdlUHJvcGVydHkobmFtZSwgdW5kZWZpbmVkLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdjtcbiAgICAgIH0sXG4gICAgfSBhcyB1bmtub3duIGFzIENsYXNzQWNjZXNzb3JEZWNvcmF0b3JSZXN1bHQ8QywgVj47XG4gIH0gZWxzZSBpZiAoa2luZCA9PT0gJ3NldHRlcicpIHtcbiAgICBjb25zdCB7bmFtZX0gPSBjb250ZXh0O1xuICAgIHJldHVybiBmdW5jdGlvbiAodGhpczogUmVhY3RpdmVFbGVtZW50LCB2YWx1ZTogVikge1xuICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzW25hbWUgYXMga2V5b2YgUmVhY3RpdmVFbGVtZW50XTtcbiAgICAgICh0YXJnZXQgYXMgKHZhbHVlOiBWKSA9PiB2b2lkKS5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSwgb3B0aW9ucyk7XG4gICAgfSBhcyB1bmtub3duIGFzICh0aGlzOiBDLCB2YWx1ZTogVikgPT4gdm9pZDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRlY29yYXRvciBsb2NhdGlvbjogJHtraW5kfWApO1xufTtcblxuLyoqXG4gKiBBIGNsYXNzIGZpZWxkIG9yIGFjY2Vzc29yIGRlY29yYXRvciB3aGljaCBjcmVhdGVzIGEgcmVhY3RpdmUgcHJvcGVydHkgdGhhdFxuICogcmVmbGVjdHMgYSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZSB2YWx1ZS4gV2hlbiBhIGRlY29yYXRlZCBwcm9wZXJ0eSBpcyBzZXRcbiAqIHRoZSBlbGVtZW50IHdpbGwgdXBkYXRlIGFuZCByZW5kZXIuIEEge0BsaW5rY29kZSBQcm9wZXJ0eURlY2xhcmF0aW9ufSBtYXlcbiAqIG9wdGlvbmFsbHkgYmUgc3VwcGxpZWQgdG8gY29uZmlndXJlIHByb3BlcnR5IGZlYXR1cmVzLlxuICpcbiAqIFRoaXMgZGVjb3JhdG9yIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIHB1YmxpYyBmaWVsZHMuIEFzIHB1YmxpYyBmaWVsZHMsXG4gKiBwcm9wZXJ0aWVzIHNob3VsZCBiZSBjb25zaWRlcmVkIGFzIHByaW1hcmlseSBzZXR0YWJsZSBieSBlbGVtZW50IHVzZXJzLFxuICogZWl0aGVyIHZpYSBhdHRyaWJ1dGUgb3IgdGhlIHByb3BlcnR5IGl0c2VsZi5cbiAqXG4gKiBHZW5lcmFsbHksIHByb3BlcnRpZXMgdGhhdCBhcmUgY2hhbmdlZCBieSB0aGUgZWxlbWVudCBzaG91bGQgYmUgcHJpdmF0ZSBvclxuICogcHJvdGVjdGVkIGZpZWxkcyBhbmQgc2hvdWxkIHVzZSB0aGUge0BsaW5rY29kZSBzdGF0ZX0gZGVjb3JhdG9yLlxuICpcbiAqIEhvd2V2ZXIsIHNvbWV0aW1lcyBlbGVtZW50IGNvZGUgZG9lcyBuZWVkIHRvIHNldCBhIHB1YmxpYyBwcm9wZXJ0eS4gVGhpc1xuICogc2hvdWxkIHR5cGljYWxseSBvbmx5IGJlIGRvbmUgaW4gcmVzcG9uc2UgdG8gdXNlciBpbnRlcmFjdGlvbiwgYW5kIGFuIGV2ZW50XG4gKiBzaG91bGQgYmUgZmlyZWQgaW5mb3JtaW5nIHRoZSB1c2VyOyBmb3IgZXhhbXBsZSwgYSBjaGVja2JveCBzZXRzIGl0c1xuICogYGNoZWNrZWRgIHByb3BlcnR5IHdoZW4gY2xpY2tlZCBhbmQgZmlyZXMgYSBgY2hhbmdlZGAgZXZlbnQuIE11dGF0aW5nIHB1YmxpY1xuICogcHJvcGVydGllcyBzaG91bGQgdHlwaWNhbGx5IG5vdCBiZSBkb25lIGZvciBub24tcHJpbWl0aXZlIChvYmplY3Qgb3IgYXJyYXkpXG4gKiBwcm9wZXJ0aWVzLiBJbiBvdGhlciBjYXNlcyB3aGVuIGFuIGVsZW1lbnQgbmVlZHMgdG8gbWFuYWdlIHN0YXRlLCBhIHByaXZhdGVcbiAqIHByb3BlcnR5IGRlY29yYXRlZCB2aWEgdGhlIHtAbGlua2NvZGUgc3RhdGV9IGRlY29yYXRvciBzaG91bGQgYmUgdXNlZC4gV2hlblxuICogbmVlZGVkLCBzdGF0ZSBwcm9wZXJ0aWVzIGNhbiBiZSBpbml0aWFsaXplZCB2aWEgcHVibGljIHByb3BlcnRpZXMgdG9cbiAqIGZhY2lsaXRhdGUgY29tcGxleCBpbnRlcmFjdGlvbnMuXG4gKlxuICogYGBgdHNcbiAqIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbiAqICAgY2xpY2tlZCA9IGZhbHNlO1xuICogfVxuICogYGBgXG4gKiBAY2F0ZWdvcnkgRGVjb3JhdG9yXG4gKiBARXhwb3J0RGVjb3JhdGVkSXRlbXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3BlcnR5KG9wdGlvbnM/OiBQcm9wZXJ0eURlY2xhcmF0aW9uKTogUHJvcGVydHlEZWNvcmF0b3Ige1xuICByZXR1cm4gPEMgZXh0ZW5kcyBJbnRlcmZhY2U8UmVhY3RpdmVFbGVtZW50PiwgVj4oXG4gICAgcHJvdG9PclRhcmdldDpcbiAgICAgIHwgb2JqZWN0XG4gICAgICB8IENsYXNzQWNjZXNzb3JEZWNvcmF0b3JUYXJnZXQ8QywgVj5cbiAgICAgIHwgKCh2YWx1ZTogVikgPT4gdm9pZCksXG4gICAgbmFtZU9yQ29udGV4dDpcbiAgICAgIHwgUHJvcGVydHlLZXlcbiAgICAgIHwgQ2xhc3NBY2Nlc3NvckRlY29yYXRvckNvbnRleHQ8QywgVj5cbiAgICAgIHwgQ2xhc3NTZXR0ZXJEZWNvcmF0b3JDb250ZXh0PEMsIFY+XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgKTogYW55ID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgdHlwZW9mIG5hbWVPckNvbnRleHQgPT09ICdvYmplY3QnXG4gICAgICAgID8gc3RhbmRhcmRQcm9wZXJ0eTxDLCBWPihcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBwcm90b09yVGFyZ2V0IGFzXG4gICAgICAgICAgICAgIHwgQ2xhc3NBY2Nlc3NvckRlY29yYXRvclRhcmdldDxDLCBWPlxuICAgICAgICAgICAgICB8ICgodmFsdWU6IFYpID0+IHZvaWQpLFxuICAgICAgICAgICAgbmFtZU9yQ29udGV4dCBhcyBTdGFuZGFyZFByb3BlcnR5Q29udGV4dDxDLCBWPlxuICAgICAgICAgIClcbiAgICAgICAgOiBsZWdhY3lQcm9wZXJ0eShcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBwcm90b09yVGFyZ2V0IGFzIE9iamVjdCxcbiAgICAgICAgICAgIG5hbWVPckNvbnRleHQgYXMgUHJvcGVydHlLZXlcbiAgICAgICAgICApXG4gICAgKSBhcyBQcm9wZXJ0eURlY29yYXRvcjtcbiAgfTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLypcbiAqIElNUE9SVEFOVDogRm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0c2lja2xlIGFuZCB0aGUgQ2xvc3VyZSBKUyBjb21waWxlciwgYWxsXG4gKiBwcm9wZXJ0eSBkZWNvcmF0b3JzIChidXQgbm90IGNsYXNzIGRlY29yYXRvcnMpIGluIHRoaXMgZmlsZSB0aGF0IGhhdmVcbiAqIGFuIEBFeHBvcnREZWNvcmF0ZWRJdGVtcyBhbm5vdGF0aW9uIG11c3QgYmUgZGVmaW5lZCBhcyBhIHJlZ3VsYXIgZnVuY3Rpb24sXG4gKiBub3QgYW4gYXJyb3cgZnVuY3Rpb24uXG4gKi9cblxuaW1wb3J0IHtwcm9wZXJ0eX0gZnJvbSAnLi9wcm9wZXJ0eS5qcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGVEZWNsYXJhdGlvbjxUeXBlID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogQSBmdW5jdGlvbiB0aGF0IGluZGljYXRlcyBpZiBhIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGNoYW5nZWQgd2hlblxuICAgKiBpdCBpcyBzZXQuIFRoZSBmdW5jdGlvbiBzaG91bGQgdGFrZSB0aGUgYG5ld1ZhbHVlYCBhbmQgYG9sZFZhbHVlYCBhbmRcbiAgICogcmV0dXJuIGB0cnVlYCBpZiBhbiB1cGRhdGUgc2hvdWxkIGJlIHJlcXVlc3RlZC5cbiAgICovXG4gIGhhc0NoYW5nZWQ/KHZhbHVlOiBUeXBlLCBvbGRWYWx1ZTogVHlwZSk6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIFN0YXRlRGVjbGFyYXRpb25cbiAqL1xuZXhwb3J0IHR5cGUgSW50ZXJuYWxQcm9wZXJ0eURlY2xhcmF0aW9uPFR5cGUgPSB1bmtub3duPiA9XG4gIFN0YXRlRGVjbGFyYXRpb248VHlwZT47XG5cbi8qKlxuICogRGVjbGFyZXMgYSBwcml2YXRlIG9yIHByb3RlY3RlZCByZWFjdGl2ZSBwcm9wZXJ0eSB0aGF0IHN0aWxsIHRyaWdnZXJzXG4gKiB1cGRhdGVzIHRvIHRoZSBlbGVtZW50IHdoZW4gaXQgY2hhbmdlcy4gSXQgZG9lcyBub3QgcmVmbGVjdCBmcm9tIHRoZVxuICogY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUuXG4gKlxuICogUHJvcGVydGllcyBkZWNsYXJlZCB0aGlzIHdheSBtdXN0IG5vdCBiZSB1c2VkIGZyb20gSFRNTCBvciBIVE1MIHRlbXBsYXRpbmdcbiAqIHN5c3RlbXMsIHRoZXkncmUgc29sZWx5IGZvciBwcm9wZXJ0aWVzIGludGVybmFsIHRvIHRoZSBlbGVtZW50LiBUaGVzZVxuICogcHJvcGVydGllcyBtYXkgYmUgcmVuYW1lZCBieSBvcHRpbWl6YXRpb24gdG9vbHMgbGlrZSBjbG9zdXJlIGNvbXBpbGVyLlxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhdGUob3B0aW9ucz86IFN0YXRlRGVjbGFyYXRpb24pIHtcbiAgcmV0dXJuIHByb3BlcnR5KHtcbiAgICAuLi5vcHRpb25zLFxuICAgIC8vIEFkZCBib3RoIGBzdGF0ZWAgYW5kIGBhdHRyaWJ1dGVgIGJlY2F1c2Ugd2UgZm91bmQgYSB0aGlyZCBwYXJ0eVxuICAgIC8vIGNvbnRyb2xsZXIgdGhhdCBpcyBrZXlpbmcgb2ZmIG9mIFByb3BlcnR5T3B0aW9ucy5zdGF0ZSB0byBkZXRlcm1pbmVcbiAgICAvLyB3aGV0aGVyIGEgZmllbGQgaXMgYSBwcml2YXRlIGludGVybmFsIHByb3BlcnR5IG9yIG5vdC5cbiAgICBzdGF0ZTogdHJ1ZSxcbiAgICBhdHRyaWJ1dGU6IGZhbHNlLFxuICB9KTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLypcbiAqIElNUE9SVEFOVDogRm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0c2lja2xlIGFuZCB0aGUgQ2xvc3VyZSBKUyBjb21waWxlciwgYWxsXG4gKiBwcm9wZXJ0eSBkZWNvcmF0b3JzIChidXQgbm90IGNsYXNzIGRlY29yYXRvcnMpIGluIHRoaXMgZmlsZSB0aGF0IGhhdmVcbiAqIGFuIEBFeHBvcnREZWNvcmF0ZWRJdGVtcyBhbm5vdGF0aW9uIG11c3QgYmUgZGVmaW5lZCBhcyBhIHJlZ3VsYXIgZnVuY3Rpb24sXG4gKiBub3QgYW4gYXJyb3cgZnVuY3Rpb24uXG4gKi9cblxuaW1wb3J0IHR5cGUge1JlYWN0aXZlRWxlbWVudH0gZnJvbSAnLi4vcmVhY3RpdmUtZWxlbWVudC5qcyc7XG5pbXBvcnQgdHlwZSB7SW50ZXJmYWNlfSBmcm9tICcuL2Jhc2UuanMnO1xuXG5leHBvcnQgdHlwZSBFdmVudE9wdGlvbnNEZWNvcmF0b3IgPSB7XG4gIC8vIGxlZ2FjeVxuICAoXG4gICAgcHJvdG86IEludGVyZmFjZTxSZWFjdGl2ZUVsZW1lbnQ+LFxuICAgIG5hbWU6IFByb3BlcnR5S2V5XG4gICAgLy8gTm90ZSBUeXBlU2NyaXB0IHJlcXVpcmVzIHRoZSByZXR1cm4gdHlwZSB0byBiZSBgdm9pZHxhbnlgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgKTogdm9pZCB8IGFueTtcblxuICAvLyBzdGFuZGFyZFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICA8QywgViBleHRlbmRzICh0aGlzOiBDLCAuLi5hcmdzOiBhbnkpID0+IGFueT4oXG4gICAgdmFsdWU6IFYsXG4gICAgX2NvbnRleHQ6IENsYXNzTWV0aG9kRGVjb3JhdG9yQ29udGV4dDxDLCBWPlxuICApOiB2b2lkO1xufTtcblxuLyoqXG4gKiBBZGRzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgdG8gYSBtZXRob2QgdXNlZCBhcyBhbiBldmVudCBsaXN0ZW5lciBpbiBhXG4gKiBsaXQtaHRtbCB0ZW1wbGF0ZS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBBbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyBhcyBhY2NlcHRlZCBieVxuICogYEV2ZW50VGFyZ2V0I2FkZEV2ZW50TGlzdGVuZXJgIGFuZCBgRXZlbnRUYXJnZXQjcmVtb3ZlRXZlbnRMaXN0ZW5lcmAuXG4gKlxuICogQ3VycmVudCBicm93c2VycyBzdXBwb3J0IHRoZSBgY2FwdHVyZWAsIGBwYXNzaXZlYCwgYW5kIGBvbmNlYCBvcHRpb25zLiBTZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRXZlbnRUYXJnZXQvYWRkRXZlbnRMaXN0ZW5lciNQYXJhbWV0ZXJzXG4gKlxuICogYGBgdHNcbiAqIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgIGNsaWNrZWQgPSBmYWxzZTtcbiAqXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgIDxkaXYgQGNsaWNrPSR7dGhpcy5fb25DbGlja30+XG4gKiAgICAgICAgIDxidXR0b24+PC9idXR0b24+XG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICBgO1xuICogICB9XG4gKlxuICogICBAZXZlbnRPcHRpb25zKHtjYXB0dXJlOiB0cnVlfSlcbiAqICAgX29uQ2xpY2soZSkge1xuICogICAgIHRoaXMuY2xpY2tlZCA9IHRydWU7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRPcHRpb25zKFxuICBvcHRpb25zOiBBZGRFdmVudExpc3RlbmVyT3B0aW9uc1xuKTogRXZlbnRPcHRpb25zRGVjb3JhdG9yIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgcmV0dXJuICg8QywgViBleHRlbmRzICh0aGlzOiBDLCAuLi5hcmdzOiBhbnkpID0+IGFueT4oXG4gICAgcHJvdG9PclZhbHVlOiBWLFxuICAgIG5hbWVPckNvbnRleHQ6IFByb3BlcnR5S2V5IHwgQ2xhc3NNZXRob2REZWNvcmF0b3JDb250ZXh0PEMsIFY+XG4gICkgPT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9XG4gICAgICB0eXBlb2YgcHJvdG9PclZhbHVlID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gcHJvdG9PclZhbHVlXG4gICAgICAgIDogcHJvdG9PclZhbHVlW25hbWVPckNvbnRleHQgYXMga2V5b2YgUmVhY3RpdmVFbGVtZW50XTtcbiAgICBPYmplY3QuYXNzaWduKG1ldGhvZCwgb3B0aW9ucyk7XG4gIH0pIGFzIEV2ZW50T3B0aW9uc0RlY29yYXRvcjtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwdWJsaWMgaW50ZXJmYWNlIHR5cGUgdGhhdCByZW1vdmVzIHByaXZhdGUgYW5kIHByb3RlY3RlZCBmaWVsZHMuXG4gKiBUaGlzIGFsbG93cyBhY2NlcHRpbmcgb3RoZXJ3aXNlIGluY29tcGF0aWJsZSB2ZXJzaW9ucyBvZiB0aGUgdHlwZSAoZS5nLiBmcm9tXG4gKiBtdWx0aXBsZSBjb3BpZXMgb2YgdGhlIHNhbWUgcGFja2FnZSBpbiBgbm9kZV9tb2R1bGVzYCkuXG4gKi9cbmV4cG9ydCB0eXBlIEludGVyZmFjZTxUPiA9IHtcbiAgW0sgaW4ga2V5b2YgVF06IFRbS107XG59O1xuXG5leHBvcnQgdHlwZSBDb25zdHJ1Y3RvcjxUPiA9IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgbmV3ICguLi5hcmdzOiBhbnlbXSk6IFQ7XG59O1xuXG4vKipcbiAqIFdyYXBzIHVwIGEgZmV3IGJlc3QgcHJhY3RpY2VzIHdoZW4gcmV0dXJuaW5nIGEgcHJvcGVydHkgZGVzY3JpcHRvciBmcm9tIGFcbiAqIGRlY29yYXRvci5cbiAqXG4gKiBNYXJrcyB0aGUgZGVmaW5lZCBwcm9wZXJ0eSBhcyBjb25maWd1cmFibGUsIGFuZCBlbnVtZXJhYmxlLCBhbmQgaGFuZGxlc1xuICogdGhlIGNhc2Ugd2hlcmUgd2UgaGF2ZSBhIGJ1c3RlZCBSZWZsZWN0LmRlY29yYXRlIHpvbWJpZWZpbGwgKGUuZy4gaW4gQW5ndWxhclxuICogYXBwcykuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBkZXNjID0gKFxuICBvYmo6IG9iamVjdCxcbiAgbmFtZTogUHJvcGVydHlLZXkgfCBDbGFzc0FjY2Vzc29yRGVjb3JhdG9yQ29udGV4dDx1bmtub3duLCB1bmtub3duPixcbiAgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yXG4pID0+IHtcbiAgLy8gRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCB3ZSBrZWVwIHRoZW0gY29uZmlndXJhYmxlIGFuZCBlbnVtZXJhYmxlLlxuICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IHRydWU7XG4gIGlmIChcbiAgICAvLyBXZSBjaGVjayBmb3IgUmVmbGVjdC5kZWNvcmF0ZSBlYWNoIHRpbWUsIGluIGNhc2UgdGhlIHpvbWJpZWZpbGxcbiAgICAvLyBpcyBhcHBsaWVkIHZpYSBsYXp5IGxvYWRpbmcgc29tZSBBbmd1bGFyIGNvZGUuXG4gICAgKFJlZmxlY3QgYXMgdHlwZW9mIFJlZmxlY3QgJiB7ZGVjb3JhdGU/OiB1bmtub3dufSkuZGVjb3JhdGUgJiZcbiAgICB0eXBlb2YgbmFtZSAhPT0gJ29iamVjdCdcbiAgKSB7XG4gICAgLy8gSWYgd2UncmUgY2FsbGVkIGFzIGEgbGVnYWN5IGRlY29yYXRvciwgYW5kIFJlZmxlY3QuZGVjb3JhdGUgaXMgcHJlc2VudFxuICAgIC8vIHRoZW4gd2UgaGF2ZSBubyBndWFyYW50ZWVzIHRoYXQgdGhlIHJldHVybmVkIGRlc2NyaXB0b3Igd2lsbCBiZVxuICAgIC8vIGRlZmluZWQgb24gdGhlIGNsYXNzLCBzbyB3ZSBtdXN0IGFwcGx5IGl0IGRpcmVjdGx5IG91cnNlbHZlcy5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIGRlc2NyaXB0b3IpO1xuICB9XG4gIHJldHVybiBkZXNjcmlwdG9yO1xufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLypcbiAqIElNUE9SVEFOVDogRm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0c2lja2xlIGFuZCB0aGUgQ2xvc3VyZSBKUyBjb21waWxlciwgYWxsXG4gKiBwcm9wZXJ0eSBkZWNvcmF0b3JzIChidXQgbm90IGNsYXNzIGRlY29yYXRvcnMpIGluIHRoaXMgZmlsZSB0aGF0IGhhdmVcbiAqIGFuIEBFeHBvcnREZWNvcmF0ZWRJdGVtcyBhbm5vdGF0aW9uIG11c3QgYmUgZGVmaW5lZCBhcyBhIHJlZ3VsYXIgZnVuY3Rpb24sXG4gKiBub3QgYW4gYXJyb3cgZnVuY3Rpb24uXG4gKi9cbmltcG9ydCB0eXBlIHtSZWFjdGl2ZUVsZW1lbnR9IGZyb20gJy4uL3JlYWN0aXZlLWVsZW1lbnQuanMnO1xuaW1wb3J0IHtkZXNjLCB0eXBlIEludGVyZmFjZX0gZnJvbSAnLi9iYXNlLmpzJztcblxuY29uc3QgREVWX01PREUgPSB0cnVlO1xuXG5sZXQgaXNzdWVXYXJuaW5nOiAoY29kZTogc3RyaW5nLCB3YXJuaW5nOiBzdHJpbmcpID0+IHZvaWQ7XG5cbmlmIChERVZfTU9ERSkge1xuICAvLyBFbnN1cmUgd2FybmluZ3MgYXJlIGlzc3VlZCBvbmx5IDF4LCBldmVuIGlmIG11bHRpcGxlIHZlcnNpb25zIG9mIExpdFxuICAvLyBhcmUgbG9hZGVkLlxuICBjb25zdCBpc3N1ZWRXYXJuaW5nczogU2V0PHN0cmluZyB8IHVuZGVmaW5lZD4gPVxuICAgIChnbG9iYWxUaGlzLmxpdElzc3VlZFdhcm5pbmdzID8/PSBuZXcgU2V0KCkpO1xuXG4gIC8vIElzc3VlIGEgd2FybmluZywgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LlxuICBpc3N1ZVdhcm5pbmcgPSAoY29kZTogc3RyaW5nLCB3YXJuaW5nOiBzdHJpbmcpID0+IHtcbiAgICB3YXJuaW5nICs9IGNvZGVcbiAgICAgID8gYCBTZWUgaHR0cHM6Ly9saXQuZGV2L21zZy8ke2NvZGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLmBcbiAgICAgIDogJyc7XG4gICAgaWYgKCFpc3N1ZWRXYXJuaW5ncy5oYXMod2FybmluZykpIHtcbiAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgIGlzc3VlZFdhcm5pbmdzLmFkZCh3YXJuaW5nKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5RGVjb3JhdG9yID0ge1xuICAvLyBsZWdhY3lcbiAgKFxuICAgIHByb3RvOiBJbnRlcmZhY2U8UmVhY3RpdmVFbGVtZW50PixcbiAgICBuYW1lOiBQcm9wZXJ0eUtleSxcbiAgICBkZXNjcmlwdG9yPzogUHJvcGVydHlEZXNjcmlwdG9yXG4gICAgLy8gTm90ZSBUeXBlU2NyaXB0IHJlcXVpcmVzIHRoZSByZXR1cm4gdHlwZSB0byBiZSBgdm9pZHxhbnlgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgKTogdm9pZCB8IGFueTtcblxuICAvLyBzdGFuZGFyZFxuICA8QyBleHRlbmRzIEludGVyZmFjZTxSZWFjdGl2ZUVsZW1lbnQ+LCBWIGV4dGVuZHMgRWxlbWVudCB8IG51bGw+KFxuICAgIHZhbHVlOiBDbGFzc0FjY2Vzc29yRGVjb3JhdG9yVGFyZ2V0PEMsIFY+LFxuICAgIGNvbnRleHQ6IENsYXNzQWNjZXNzb3JEZWNvcmF0b3JDb250ZXh0PEMsIFY+XG4gICk6IENsYXNzQWNjZXNzb3JEZWNvcmF0b3JSZXN1bHQ8QywgVj47XG59O1xuXG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyIHRoYXRcbiAqIGV4ZWN1dGVzIGEgcXVlcnlTZWxlY3RvciBvbiB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QuXG4gKlxuICogQHBhcmFtIHNlbGVjdG9yIEEgRE9NU3RyaW5nIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgc2VsZWN0b3JzIHRvIG1hdGNoLlxuICogQHBhcmFtIGNhY2hlIEFuIG9wdGlvbmFsIGJvb2xlYW4gd2hpY2ggd2hlbiB0cnVlIHBlcmZvcm1zIHRoZSBET00gcXVlcnkgb25seVxuICogICAgIG9uY2UgYW5kIGNhY2hlcyB0aGUgcmVzdWx0LlxuICpcbiAqIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RvY3VtZW50L3F1ZXJ5U2VsZWN0b3JcbiAqXG4gKiBgYGB0c1xuICogY2xhc3MgTXlFbGVtZW50IHtcbiAqICAgQHF1ZXJ5KCcjZmlyc3QnKVxuICogICBmaXJzdDogSFRNTERpdkVsZW1lbnQ7XG4gKlxuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgICA8ZGl2IGlkPVwiZmlyc3RcIj48L2Rpdj5cbiAqICAgICAgIDxkaXYgaWQ9XCJzZWNvbmRcIj48L2Rpdj5cbiAqICAgICBgO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqIEBjYXRlZ29yeSBEZWNvcmF0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5KHNlbGVjdG9yOiBzdHJpbmcsIGNhY2hlPzogYm9vbGVhbik6IFF1ZXJ5RGVjb3JhdG9yIHtcbiAgcmV0dXJuICg8QyBleHRlbmRzIEludGVyZmFjZTxSZWFjdGl2ZUVsZW1lbnQ+LCBWIGV4dGVuZHMgRWxlbWVudCB8IG51bGw+KFxuICAgIHByb3RvT3JUYXJnZXQ6IENsYXNzQWNjZXNzb3JEZWNvcmF0b3JUYXJnZXQ8QywgVj4sXG4gICAgbmFtZU9yQ29udGV4dDogUHJvcGVydHlLZXkgfCBDbGFzc0FjY2Vzc29yRGVjb3JhdG9yQ29udGV4dDxDLCBWPixcbiAgICBkZXNjcmlwdG9yPzogUHJvcGVydHlEZXNjcmlwdG9yXG4gICkgPT4ge1xuICAgIGNvbnN0IGRvUXVlcnkgPSAoZWw6IEludGVyZmFjZTxSZWFjdGl2ZUVsZW1lbnQ+KTogViA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSAoZWwucmVuZGVyUm9vdD8ucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgPz8gbnVsbCkgYXMgVjtcbiAgICAgIGlmIChERVZfTU9ERSAmJiByZXN1bHQgPT09IG51bGwgJiYgY2FjaGUgJiYgIWVsLmhhc1VwZGF0ZWQpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9XG4gICAgICAgICAgdHlwZW9mIG5hbWVPckNvbnRleHQgPT09ICdvYmplY3QnXG4gICAgICAgICAgICA/IG5hbWVPckNvbnRleHQubmFtZVxuICAgICAgICAgICAgOiBuYW1lT3JDb250ZXh0O1xuICAgICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICAgJycsXG4gICAgICAgICAgYEBxdWVyeSdkIGZpZWxkICR7SlNPTi5zdHJpbmdpZnkoU3RyaW5nKG5hbWUpKX0gd2l0aCB0aGUgJ2NhY2hlJyBgICtcbiAgICAgICAgICAgIGBmbGFnIHNldCBmb3Igc2VsZWN0b3IgJyR7c2VsZWN0b3J9JyBoYXMgYmVlbiBhY2Nlc3NlZCBiZWZvcmUgYCArXG4gICAgICAgICAgICBgdGhlIGZpcnN0IHVwZGF0ZSBhbmQgcmV0dXJuZWQgbnVsbC4gVGhpcyBpcyBleHBlY3RlZCBpZiB0aGUgYCArXG4gICAgICAgICAgICBgcmVuZGVyUm9vdCB0cmVlIGhhcyBub3QgYmVlbiBwcm92aWRlZCBiZWZvcmVoYW5kIChlLmcuIHZpYSBgICtcbiAgICAgICAgICAgIGBEZWNsYXJhdGl2ZSBTaGFkb3cgRE9NKS4gVGhlcmVmb3JlIHRoZSB2YWx1ZSBoYXNuJ3QgYmVlbiBjYWNoZWQuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgLy8gVE9ETzogaWYgd2Ugd2FudCB0byBhbGxvdyB1c2VycyB0byBhc3NlcnQgdGhhdCB0aGUgcXVlcnkgd2lsbCBuZXZlclxuICAgICAgLy8gcmV0dXJuIG51bGwsIHdlIG5lZWQgYSBuZXcgb3B0aW9uIGFuZCB0byB0aHJvdyBoZXJlIGlmIHRoZSByZXN1bHRcbiAgICAgIC8vIGlzIG51bGwuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICAvLyBBY2Nlc3NvcnMgdG8gd3JhcCBmcm9tIGVpdGhlcjpcbiAgICAgIC8vICAgMS4gVGhlIGRlY29yYXRvciB0YXJnZXQsIGluIHRoZSBjYXNlIG9mIHN0YW5kYXJkIGRlY29yYXRvcnNcbiAgICAgIC8vICAgMi4gVGhlIHByb3BlcnR5IGRlc2NyaXB0b3IsIGluIHRoZSBjYXNlIG9mIGV4cGVyaW1lbnRhbCBkZWNvcmF0b3JzXG4gICAgICAvLyAgICAgIG9uIGF1dG8tYWNjZXNzb3JzLlxuICAgICAgLy8gICAzLiBGdW5jdGlvbnMgdGhhdCBhY2Nlc3Mgb3VyIG93biBjYWNoZS1rZXkgcHJvcGVydHkgb24gdGhlIGluc3RhbmNlLFxuICAgICAgLy8gICAgICBpbiB0aGUgY2FzZSBvZiBleHBlcmltZW50YWwgZGVjb3JhdG9ycyBvbiBmaWVsZHMuXG4gICAgICBjb25zdCB7Z2V0LCBzZXR9ID1cbiAgICAgICAgdHlwZW9mIG5hbWVPckNvbnRleHQgPT09ICdvYmplY3QnXG4gICAgICAgICAgPyBwcm90b09yVGFyZ2V0XG4gICAgICAgICAgOiBkZXNjcmlwdG9yID8/XG4gICAgICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBrZXkgPSBERVZfTU9ERVxuICAgICAgICAgICAgICAgID8gU3ltYm9sKGAke1N0cmluZyhuYW1lT3JDb250ZXh0KX0gKEBxdWVyeSgpIGNhY2hlKWApXG4gICAgICAgICAgICAgICAgOiBTeW1ib2woKTtcbiAgICAgICAgICAgICAgdHlwZSBXaXRoQ2FjaGUgPSBSZWFjdGl2ZUVsZW1lbnQgJiB7XG4gICAgICAgICAgICAgICAgW2tleTogc3ltYm9sXTogRWxlbWVudCB8IG51bGw7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzIGFzIFdpdGhDYWNoZSlba2V5XTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldCh2KSB7XG4gICAgICAgICAgICAgICAgICAodGhpcyBhcyBXaXRoQ2FjaGUpW2tleV0gPSB2O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgcmV0dXJuIGRlc2MocHJvdG9PclRhcmdldCwgbmFtZU9yQ29udGV4dCwge1xuICAgICAgICBnZXQodGhpczogUmVhY3RpdmVFbGVtZW50KTogViB7XG4gICAgICAgICAgbGV0IHJlc3VsdDogViA9IGdldCEuY2FsbCh0aGlzKTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGRvUXVlcnkodGhpcyk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9PSBudWxsIHx8IHRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgICAgICAgICBzZXQhLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIG9iamVjdCB3b3JrcyBhcyB0aGUgcmV0dXJuIHR5cGUgZm9yIGJvdGggc3RhbmRhcmQgYW5kXG4gICAgICAvLyBleHBlcmltZW50YWwgZGVjb3JhdG9ycy5cbiAgICAgIHJldHVybiBkZXNjKHByb3RvT3JUYXJnZXQsIG5hbWVPckNvbnRleHQsIHtcbiAgICAgICAgZ2V0KHRoaXM6IFJlYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiBkb1F1ZXJ5KHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9KSBhcyBRdWVyeURlY29yYXRvcjtcbn1cbiIsICJpbXBvcnQge1xuICBfX2RlY29yYXRlQ2xhc3MsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLklGRFdNNlA0LmpzXCI7XG5cbi8vIHNyYy9pbnRlcm5hbC9zaG9lbGFjZS1lbGVtZW50LnRzXG5pbXBvcnQgeyBMaXRFbGVtZW50IH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnMuanNcIjtcbnZhciBTaG9lbGFjZUVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuY29uc3RydWN0b3IuZGVwZW5kZW5jaWVzKS5mb3JFYWNoKChbbmFtZSwgY29tcG9uZW50XSkgPT4ge1xuICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5kZWZpbmUobmFtZSwgY29tcG9uZW50KTtcbiAgICB9KTtcbiAgfVxuICBlbWl0KG5hbWUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudChuYW1lLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgY2FuY2VsYWJsZTogZmFsc2UsXG4gICAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICAgIGRldGFpbDoge31cbiAgICB9LCBvcHRpb25zKSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSAqL1xuICBzdGF0aWMgZGVmaW5lKG5hbWUsIGVsZW1lbnRDb25zdHJ1Y3RvciA9IHRoaXMsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGN1cnJlbnRseVJlZ2lzdGVyZWRDb25zdHJ1Y3RvciA9IGN1c3RvbUVsZW1lbnRzLmdldChuYW1lKTtcbiAgICBpZiAoIWN1cnJlbnRseVJlZ2lzdGVyZWRDb25zdHJ1Y3Rvcikge1xuICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKG5hbWUsIGNsYXNzIGV4dGVuZHMgZWxlbWVudENvbnN0cnVjdG9yIHtcbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbmV3VmVyc2lvbiA9IFwiICh1bmtub3duIHZlcnNpb24pXCI7XG4gICAgbGV0IGV4aXN0aW5nVmVyc2lvbiA9IG5ld1ZlcnNpb247XG4gICAgaWYgKFwidmVyc2lvblwiIGluIGVsZW1lbnRDb25zdHJ1Y3RvciAmJiBlbGVtZW50Q29uc3RydWN0b3IudmVyc2lvbikge1xuICAgICAgbmV3VmVyc2lvbiA9IFwiIHZcIiArIGVsZW1lbnRDb25zdHJ1Y3Rvci52ZXJzaW9uO1xuICAgIH1cbiAgICBpZiAoXCJ2ZXJzaW9uXCIgaW4gY3VycmVudGx5UmVnaXN0ZXJlZENvbnN0cnVjdG9yICYmIGN1cnJlbnRseVJlZ2lzdGVyZWRDb25zdHJ1Y3Rvci52ZXJzaW9uKSB7XG4gICAgICBleGlzdGluZ1ZlcnNpb24gPSBcIiB2XCIgKyBjdXJyZW50bHlSZWdpc3RlcmVkQ29uc3RydWN0b3IudmVyc2lvbjtcbiAgICB9XG4gICAgaWYgKG5ld1ZlcnNpb24gJiYgZXhpc3RpbmdWZXJzaW9uICYmIG5ld1ZlcnNpb24gPT09IGV4aXN0aW5nVmVyc2lvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBgQXR0ZW1wdGVkIHRvIHJlZ2lzdGVyIDwke25hbWV9PiR7bmV3VmVyc2lvbn0sIGJ1dCA8JHtuYW1lfT4ke2V4aXN0aW5nVmVyc2lvbn0gaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkLmBcbiAgICApO1xuICB9XG59O1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIEB0cy1leHBlY3QtZXJyb3IgVGhpcyBpcyBhdXRvLWluamVjdGVkIGF0IGJ1aWxkIHRpbWUuXG5TaG9lbGFjZUVsZW1lbnQudmVyc2lvbiA9IFwiMi4xNS4wXCI7XG5TaG9lbGFjZUVsZW1lbnQuZGVwZW5kZW5jaWVzID0ge307XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTaG9lbGFjZUVsZW1lbnQucHJvdG90eXBlLCBcImRpclwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNob2VsYWNlRWxlbWVudC5wcm90b3R5cGUsIFwibGFuZ1wiLCAyKTtcblxuZXhwb3J0IHtcbiAgU2hvZWxhY2VFbGVtZW50XG59O1xuIiwgImltcG9ydCB7XG4gIHNwaW5uZXJfc3R5bGVzX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmsuN0RVQ0k1UzQuanNcIjtcbmltcG9ydCB7XG4gIExvY2FsaXplQ29udHJvbGxlclxufSBmcm9tIFwiLi9jaHVuay5XTFYzRlZCUi5qc1wiO1xuaW1wb3J0IHtcbiAgY29tcG9uZW50X3N0eWxlc19kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLlRVVkpLWTdTLmpzXCI7XG5pbXBvcnQge1xuICBTaG9lbGFjZUVsZW1lbnRcbn0gZnJvbSBcIi4vY2h1bmsuU0ZTVFhDWEMuanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvc3Bpbm5lci9zcGlubmVyLmNvbXBvbmVudC50c1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gXCJsaXRcIjtcbnZhciBTbFNwaW5uZXIgPSBjbGFzcyBleHRlbmRzIFNob2VsYWNlRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5sb2NhbGl6ZSA9IG5ldyBMb2NhbGl6ZUNvbnRyb2xsZXIodGhpcyk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPHN2ZyBwYXJ0PVwiYmFzZVwiIGNsYXNzPVwic3Bpbm5lclwiIHJvbGU9XCJwcm9ncmVzc2JhclwiIGFyaWEtbGFiZWw9JHt0aGlzLmxvY2FsaXplLnRlcm0oXCJsb2FkaW5nXCIpfT5cbiAgICAgICAgPGNpcmNsZSBjbGFzcz1cInNwaW5uZXJfX3RyYWNrXCI+PC9jaXJjbGU+XG4gICAgICAgIDxjaXJjbGUgY2xhc3M9XCJzcGlubmVyX19pbmRpY2F0b3JcIj48L2NpcmNsZT5cbiAgICAgIDwvc3ZnPlxuICAgIGA7XG4gIH1cbn07XG5TbFNwaW5uZXIuc3R5bGVzID0gW2NvbXBvbmVudF9zdHlsZXNfZGVmYXVsdCwgc3Bpbm5lcl9zdHlsZXNfZGVmYXVsdF07XG5cbmV4cG9ydCB7XG4gIFNsU3Bpbm5lclxufTtcbiIsICJpbXBvcnQge1xuICBfX3NwcmVhZFByb3BzLFxuICBfX3NwcmVhZFZhbHVlc1xufSBmcm9tIFwiLi9jaHVuay5JRkRXTTZQNC5qc1wiO1xuXG4vLyBzcmMvaW50ZXJuYWwvZm9ybS50c1xudmFyIGZvcm1Db2xsZWN0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIHJlcG9ydFZhbGlkaXR5T3ZlcmxvYWRzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG52YXIgY2hlY2tWYWxpZGl0eU92ZXJsb2FkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIHVzZXJJbnRlcmFjdGVkQ29udHJvbHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbnZhciBpbnRlcmFjdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbnZhciBGb3JtQ29udHJvbENvbnRyb2xsZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3QsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmhhbmRsZUZvcm1EYXRhID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBkaXNhYmxlZCA9IHRoaXMub3B0aW9ucy5kaXNhYmxlZCh0aGlzLmhvc3QpO1xuICAgICAgY29uc3QgbmFtZSA9IHRoaXMub3B0aW9ucy5uYW1lKHRoaXMuaG9zdCk7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMub3B0aW9ucy52YWx1ZSh0aGlzLmhvc3QpO1xuICAgICAgY29uc3QgaXNCdXR0b24gPSB0aGlzLmhvc3QudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInNsLWJ1dHRvblwiO1xuICAgICAgaWYgKHRoaXMuaG9zdC5pc0Nvbm5lY3RlZCAmJiAhZGlzYWJsZWQgJiYgIWlzQnV0dG9uICYmIHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICYmIG5hbWUubGVuZ3RoID4gMCAmJiB0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgICAgICAgICBldmVudC5mb3JtRGF0YS5hcHBlbmQobmFtZSwgdmFsLnRvU3RyaW5nKCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV2ZW50LmZvcm1EYXRhLmFwcGVuZChuYW1lLCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5oYW5kbGVGb3JtU3VibWl0ID0gKGV2ZW50KSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCBkaXNhYmxlZCA9IHRoaXMub3B0aW9ucy5kaXNhYmxlZCh0aGlzLmhvc3QpO1xuICAgICAgY29uc3QgcmVwb3J0VmFsaWRpdHkgPSB0aGlzLm9wdGlvbnMucmVwb3J0VmFsaWRpdHk7XG4gICAgICBpZiAodGhpcy5mb3JtICYmICF0aGlzLmZvcm0ubm9WYWxpZGF0ZSkge1xuICAgICAgICAoX2EgPSBmb3JtQ29sbGVjdGlvbnMuZ2V0KHRoaXMuZm9ybSkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChjb250cm9sKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRVc2VySW50ZXJhY3RlZChjb250cm9sLCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5mb3JtICYmICF0aGlzLmZvcm0ubm9WYWxpZGF0ZSAmJiAhZGlzYWJsZWQgJiYgIXJlcG9ydFZhbGlkaXR5KHRoaXMuaG9zdCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZUZvcm1SZXNldCA9ICgpID0+IHtcbiAgICAgIHRoaXMub3B0aW9ucy5zZXRWYWx1ZSh0aGlzLmhvc3QsIHRoaXMub3B0aW9ucy5kZWZhdWx0VmFsdWUodGhpcy5ob3N0KSk7XG4gICAgICB0aGlzLnNldFVzZXJJbnRlcmFjdGVkKHRoaXMuaG9zdCwgZmFsc2UpO1xuICAgICAgaW50ZXJhY3Rpb25zLnNldCh0aGlzLmhvc3QsIFtdKTtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlSW50ZXJhY3Rpb24gPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGVtaXR0ZWRFdmVudHMgPSBpbnRlcmFjdGlvbnMuZ2V0KHRoaXMuaG9zdCk7XG4gICAgICBpZiAoIWVtaXR0ZWRFdmVudHMuaW5jbHVkZXMoZXZlbnQudHlwZSkpIHtcbiAgICAgICAgZW1pdHRlZEV2ZW50cy5wdXNoKGV2ZW50LnR5cGUpO1xuICAgICAgfVxuICAgICAgaWYgKGVtaXR0ZWRFdmVudHMubGVuZ3RoID09PSB0aGlzLm9wdGlvbnMuYXNzdW1lSW50ZXJhY3Rpb25Pbi5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zZXRVc2VySW50ZXJhY3RlZCh0aGlzLmhvc3QsIHRydWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jaGVja0Zvcm1WYWxpZGl0eSA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmZvcm0gJiYgIXRoaXMuZm9ybS5ub1ZhbGlkYXRlKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2hlY2tWYWxpZGl0eSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQuY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgdGhpcy5yZXBvcnRGb3JtVmFsaWRpdHkgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5mb3JtICYmICF0aGlzLmZvcm0ubm9WYWxpZGF0ZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKTtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LnJlcG9ydFZhbGlkaXR5ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGlmICghZWxlbWVudC5yZXBvcnRWYWxpZGl0eSgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgKHRoaXMuaG9zdCA9IGhvc3QpLmFkZENvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5vcHRpb25zID0gX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgZm9ybTogKGlucHV0KSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1JZCA9IGlucHV0LmZvcm07XG4gICAgICAgIGlmIChmb3JtSWQpIHtcbiAgICAgICAgICBjb25zdCByb290ID0gaW5wdXQuZ2V0Um9vdE5vZGUoKTtcbiAgICAgICAgICBjb25zdCBmb3JtID0gcm9vdC5xdWVyeVNlbGVjdG9yKGAjJHtmb3JtSWR9YCk7XG4gICAgICAgICAgaWYgKGZvcm0pIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5wdXQuY2xvc2VzdChcImZvcm1cIik7XG4gICAgICB9LFxuICAgICAgbmFtZTogKGlucHV0KSA9PiBpbnB1dC5uYW1lLFxuICAgICAgdmFsdWU6IChpbnB1dCkgPT4gaW5wdXQudmFsdWUsXG4gICAgICBkZWZhdWx0VmFsdWU6IChpbnB1dCkgPT4gaW5wdXQuZGVmYXVsdFZhbHVlLFxuICAgICAgZGlzYWJsZWQ6IChpbnB1dCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSBpbnB1dC5kaXNhYmxlZCkgIT0gbnVsbCA/IF9hIDogZmFsc2U7XG4gICAgICB9LFxuICAgICAgcmVwb3J0VmFsaWRpdHk6IChpbnB1dCkgPT4gdHlwZW9mIGlucHV0LnJlcG9ydFZhbGlkaXR5ID09PSBcImZ1bmN0aW9uXCIgPyBpbnB1dC5yZXBvcnRWYWxpZGl0eSgpIDogdHJ1ZSxcbiAgICAgIGNoZWNrVmFsaWRpdHk6IChpbnB1dCkgPT4gdHlwZW9mIGlucHV0LmNoZWNrVmFsaWRpdHkgPT09IFwiZnVuY3Rpb25cIiA/IGlucHV0LmNoZWNrVmFsaWRpdHkoKSA6IHRydWUsXG4gICAgICBzZXRWYWx1ZTogKGlucHV0LCB2YWx1ZSkgPT4gaW5wdXQudmFsdWUgPSB2YWx1ZSxcbiAgICAgIGFzc3VtZUludGVyYWN0aW9uT246IFtcInNsLWlucHV0XCJdXG4gICAgfSwgb3B0aW9ucyk7XG4gIH1cbiAgaG9zdENvbm5lY3RlZCgpIHtcbiAgICBjb25zdCBmb3JtID0gdGhpcy5vcHRpb25zLmZvcm0odGhpcy5ob3N0KTtcbiAgICBpZiAoZm9ybSkge1xuICAgICAgdGhpcy5hdHRhY2hGb3JtKGZvcm0pO1xuICAgIH1cbiAgICBpbnRlcmFjdGlvbnMuc2V0KHRoaXMuaG9zdCwgW10pO1xuICAgIHRoaXMub3B0aW9ucy5hc3N1bWVJbnRlcmFjdGlvbk9uLmZvckVhY2goKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmhvc3QuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcy5oYW5kbGVJbnRlcmFjdGlvbik7XG4gICAgfSk7XG4gIH1cbiAgaG9zdERpc2Nvbm5lY3RlZCgpIHtcbiAgICB0aGlzLmRldGFjaEZvcm0oKTtcbiAgICBpbnRlcmFjdGlvbnMuZGVsZXRlKHRoaXMuaG9zdCk7XG4gICAgdGhpcy5vcHRpb25zLmFzc3VtZUludGVyYWN0aW9uT24uZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuaG9zdC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLmhhbmRsZUludGVyYWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuICBob3N0VXBkYXRlZCgpIHtcbiAgICBjb25zdCBmb3JtID0gdGhpcy5vcHRpb25zLmZvcm0odGhpcy5ob3N0KTtcbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIHRoaXMuZGV0YWNoRm9ybSgpO1xuICAgIH1cbiAgICBpZiAoZm9ybSAmJiB0aGlzLmZvcm0gIT09IGZvcm0pIHtcbiAgICAgIHRoaXMuZGV0YWNoRm9ybSgpO1xuICAgICAgdGhpcy5hdHRhY2hGb3JtKGZvcm0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5ob3N0Lmhhc1VwZGF0ZWQpIHtcbiAgICAgIHRoaXMuc2V0VmFsaWRpdHkodGhpcy5ob3N0LnZhbGlkaXR5LnZhbGlkKTtcbiAgICB9XG4gIH1cbiAgYXR0YWNoRm9ybShmb3JtKSB7XG4gICAgaWYgKGZvcm0pIHtcbiAgICAgIHRoaXMuZm9ybSA9IGZvcm07XG4gICAgICBpZiAoZm9ybUNvbGxlY3Rpb25zLmhhcyh0aGlzLmZvcm0pKSB7XG4gICAgICAgIGZvcm1Db2xsZWN0aW9ucy5nZXQodGhpcy5mb3JtKS5hZGQodGhpcy5ob3N0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1Db2xsZWN0aW9ucy5zZXQodGhpcy5mb3JtLCAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbdGhpcy5ob3N0XSkpO1xuICAgICAgfVxuICAgICAgdGhpcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJmb3JtZGF0YVwiLCB0aGlzLmhhbmRsZUZvcm1EYXRhKTtcbiAgICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuaGFuZGxlRm9ybVN1Ym1pdCk7XG4gICAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsIHRoaXMuaGFuZGxlRm9ybVJlc2V0KTtcbiAgICAgIGlmICghcmVwb3J0VmFsaWRpdHlPdmVybG9hZHMuaGFzKHRoaXMuZm9ybSkpIHtcbiAgICAgICAgcmVwb3J0VmFsaWRpdHlPdmVybG9hZHMuc2V0KHRoaXMuZm9ybSwgdGhpcy5mb3JtLnJlcG9ydFZhbGlkaXR5KTtcbiAgICAgICAgdGhpcy5mb3JtLnJlcG9ydFZhbGlkaXR5ID0gKCkgPT4gdGhpcy5yZXBvcnRGb3JtVmFsaWRpdHkoKTtcbiAgICAgIH1cbiAgICAgIGlmICghY2hlY2tWYWxpZGl0eU92ZXJsb2Fkcy5oYXModGhpcy5mb3JtKSkge1xuICAgICAgICBjaGVja1ZhbGlkaXR5T3ZlcmxvYWRzLnNldCh0aGlzLmZvcm0sIHRoaXMuZm9ybS5jaGVja1ZhbGlkaXR5KTtcbiAgICAgICAgdGhpcy5mb3JtLmNoZWNrVmFsaWRpdHkgPSAoKSA9PiB0aGlzLmNoZWNrRm9ybVZhbGlkaXR5KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZm9ybSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgZGV0YWNoRm9ybSgpIHtcbiAgICBpZiAoIXRoaXMuZm9ybSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBmb3JtQ29sbGVjdGlvbiA9IGZvcm1Db2xsZWN0aW9ucy5nZXQodGhpcy5mb3JtKTtcbiAgICBpZiAoIWZvcm1Db2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvcm1Db2xsZWN0aW9uLmRlbGV0ZSh0aGlzLmhvc3QpO1xuICAgIGlmIChmb3JtQ29sbGVjdGlvbi5zaXplIDw9IDApIHtcbiAgICAgIHRoaXMuZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9ybWRhdGFcIiwgdGhpcy5oYW5kbGVGb3JtRGF0YSk7XG4gICAgICB0aGlzLmZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLmhhbmRsZUZvcm1TdWJtaXQpO1xuICAgICAgdGhpcy5mb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLCB0aGlzLmhhbmRsZUZvcm1SZXNldCk7XG4gICAgICBpZiAocmVwb3J0VmFsaWRpdHlPdmVybG9hZHMuaGFzKHRoaXMuZm9ybSkpIHtcbiAgICAgICAgdGhpcy5mb3JtLnJlcG9ydFZhbGlkaXR5ID0gcmVwb3J0VmFsaWRpdHlPdmVybG9hZHMuZ2V0KHRoaXMuZm9ybSk7XG4gICAgICAgIHJlcG9ydFZhbGlkaXR5T3ZlcmxvYWRzLmRlbGV0ZSh0aGlzLmZvcm0pO1xuICAgICAgfVxuICAgICAgaWYgKGNoZWNrVmFsaWRpdHlPdmVybG9hZHMuaGFzKHRoaXMuZm9ybSkpIHtcbiAgICAgICAgdGhpcy5mb3JtLmNoZWNrVmFsaWRpdHkgPSBjaGVja1ZhbGlkaXR5T3ZlcmxvYWRzLmdldCh0aGlzLmZvcm0pO1xuICAgICAgICBjaGVja1ZhbGlkaXR5T3ZlcmxvYWRzLmRlbGV0ZSh0aGlzLmZvcm0pO1xuICAgICAgfVxuICAgICAgdGhpcy5mb3JtID0gdm9pZCAwO1xuICAgIH1cbiAgfVxuICBzZXRVc2VySW50ZXJhY3RlZChlbCwgaGFzSW50ZXJhY3RlZCkge1xuICAgIGlmIChoYXNJbnRlcmFjdGVkKSB7XG4gICAgICB1c2VySW50ZXJhY3RlZENvbnRyb2xzLmFkZChlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXJJbnRlcmFjdGVkQ29udHJvbHMuZGVsZXRlKGVsKTtcbiAgICB9XG4gICAgZWwucmVxdWVzdFVwZGF0ZSgpO1xuICB9XG4gIGRvQWN0aW9uKHR5cGUsIHN1Ym1pdHRlcikge1xuICAgIGlmICh0aGlzLmZvcm0pIHtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICBidXR0b24udHlwZSA9IHR5cGU7XG4gICAgICBidXR0b24uc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICBidXR0b24uc3R5bGUud2lkdGggPSBcIjBcIjtcbiAgICAgIGJ1dHRvbi5zdHlsZS5oZWlnaHQgPSBcIjBcIjtcbiAgICAgIGJ1dHRvbi5zdHlsZS5jbGlwUGF0aCA9IFwiaW5zZXQoNTAlKVwiO1xuICAgICAgYnV0dG9uLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICAgIGJ1dHRvbi5zdHlsZS53aGl0ZVNwYWNlID0gXCJub3dyYXBcIjtcbiAgICAgIGlmIChzdWJtaXR0ZXIpIHtcbiAgICAgICAgYnV0dG9uLm5hbWUgPSBzdWJtaXR0ZXIubmFtZTtcbiAgICAgICAgYnV0dG9uLnZhbHVlID0gc3VibWl0dGVyLnZhbHVlO1xuICAgICAgICBbXCJmb3JtYWN0aW9uXCIsIFwiZm9ybWVuY3R5cGVcIiwgXCJmb3JtbWV0aG9kXCIsIFwiZm9ybW5vdmFsaWRhdGVcIiwgXCJmb3JtdGFyZ2V0XCJdLmZvckVhY2goKGF0dHIpID0+IHtcbiAgICAgICAgICBpZiAoc3VibWl0dGVyLmhhc0F0dHJpYnV0ZShhdHRyKSkge1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShhdHRyLCBzdWJtaXR0ZXIuZ2V0QXR0cmlidXRlKGF0dHIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5mb3JtLmFwcGVuZChidXR0b24pO1xuICAgICAgYnV0dG9uLmNsaWNrKCk7XG4gICAgICBidXR0b24ucmVtb3ZlKCk7XG4gICAgfVxuICB9XG4gIC8qKiBSZXR1cm5zIHRoZSBhc3NvY2lhdGVkIGA8Zm9ybT5gIGVsZW1lbnQsIGlmIG9uZSBleGlzdHMuICovXG4gIGdldEZvcm0oKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSB0aGlzLmZvcm0pICE9IG51bGwgPyBfYSA6IG51bGw7XG4gIH1cbiAgLyoqIFJlc2V0cyB0aGUgZm9ybSwgcmVzdG9yaW5nIGFsbCB0aGUgY29udHJvbCB0byB0aGVpciBkZWZhdWx0IHZhbHVlICovXG4gIHJlc2V0KHN1Ym1pdHRlcikge1xuICAgIHRoaXMuZG9BY3Rpb24oXCJyZXNldFwiLCBzdWJtaXR0ZXIpO1xuICB9XG4gIC8qKiBTdWJtaXRzIHRoZSBmb3JtLCB0cmlnZ2VyaW5nIHZhbGlkYXRpb24gYW5kIGZvcm0gZGF0YSBpbmplY3Rpb24uICovXG4gIHN1Ym1pdChzdWJtaXR0ZXIpIHtcbiAgICB0aGlzLmRvQWN0aW9uKFwic3VibWl0XCIsIHN1Ym1pdHRlcik7XG4gIH1cbiAgLyoqXG4gICAqIFN5bmNocm9ub3VzbHkgc2V0cyB0aGUgZm9ybSBjb250cm9sJ3MgdmFsaWRpdHkuIENhbGwgdGhpcyB3aGVuIHlvdSBrbm93IHRoZSBmdXR1cmUgdmFsaWRpdHkgYnV0IG5lZWQgdG8gdXBkYXRlXG4gICAqIHRoZSBob3N0IGVsZW1lbnQgaW1tZWRpYXRlbHksIGkuZS4gYmVmb3JlIExpdCB1cGRhdGVzIHRoZSBjb21wb25lbnQgaW4gdGhlIG5leHQgdXBkYXRlLlxuICAgKi9cbiAgc2V0VmFsaWRpdHkoaXNWYWxpZCkge1xuICAgIGNvbnN0IGhvc3QgPSB0aGlzLmhvc3Q7XG4gICAgY29uc3QgaGFzSW50ZXJhY3RlZCA9IEJvb2xlYW4odXNlckludGVyYWN0ZWRDb250cm9scy5oYXMoaG9zdCkpO1xuICAgIGNvbnN0IHJlcXVpcmVkID0gQm9vbGVhbihob3N0LnJlcXVpcmVkKTtcbiAgICBob3N0LnRvZ2dsZUF0dHJpYnV0ZShcImRhdGEtcmVxdWlyZWRcIiwgcmVxdWlyZWQpO1xuICAgIGhvc3QudG9nZ2xlQXR0cmlidXRlKFwiZGF0YS1vcHRpb25hbFwiLCAhcmVxdWlyZWQpO1xuICAgIGhvc3QudG9nZ2xlQXR0cmlidXRlKFwiZGF0YS1pbnZhbGlkXCIsICFpc1ZhbGlkKTtcbiAgICBob3N0LnRvZ2dsZUF0dHJpYnV0ZShcImRhdGEtdmFsaWRcIiwgaXNWYWxpZCk7XG4gICAgaG9zdC50b2dnbGVBdHRyaWJ1dGUoXCJkYXRhLXVzZXItaW52YWxpZFwiLCAhaXNWYWxpZCAmJiBoYXNJbnRlcmFjdGVkKTtcbiAgICBob3N0LnRvZ2dsZUF0dHJpYnV0ZShcImRhdGEtdXNlci12YWxpZFwiLCBpc1ZhbGlkICYmIGhhc0ludGVyYWN0ZWQpO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBmb3JtIGNvbnRyb2wncyB2YWxpZGl0eSBiYXNlZCBvbiB0aGUgY3VycmVudCB2YWx1ZSBvZiBgaG9zdC52YWxpZGl0eS52YWxpZGAuIENhbGwgdGhpcyB3aGVuIGFueXRoaW5nXG4gICAqIHRoYXQgYWZmZWN0cyBjb25zdHJhaW50IHZhbGlkYXRpb24gY2hhbmdlcyBzbyB0aGUgY29tcG9uZW50IHJlY2VpdmVzIHRoZSBjb3JyZWN0IHZhbGlkaXR5IHN0YXRlcy5cbiAgICovXG4gIHVwZGF0ZVZhbGlkaXR5KCkge1xuICAgIGNvbnN0IGhvc3QgPSB0aGlzLmhvc3Q7XG4gICAgdGhpcy5zZXRWYWxpZGl0eShob3N0LnZhbGlkaXR5LnZhbGlkKTtcbiAgfVxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhIG5vbi1idWJibGluZywgY2FuY2VsYWJsZSBjdXN0b20gZXZlbnQgb2YgdHlwZSBgc2wtaW52YWxpZGAuXG4gICAqIElmIHRoZSBgc2wtaW52YWxpZGAgZXZlbnQgd2lsbCBiZSBjYW5jZWxsZWQgdGhlbiB0aGUgb3JpZ2luYWwgYGludmFsaWRgXG4gICAqIGV2ZW50ICh3aGljaCBtYXkgaGF2ZSBiZWVuIHBhc3NlZCBhcyBhcmd1bWVudCkgd2lsbCBhbHNvIGJlIGNhbmNlbGxlZC5cbiAgICogSWYgbm8gb3JpZ2luYWwgYGludmFsaWRgIGV2ZW50IGhhcyBiZWVuIHBhc3NlZCB0aGVuIHRoZSBgc2wtaW52YWxpZGBcbiAgICogZXZlbnQgd2lsbCBiZSBjYW5jZWxsZWQgYmVmb3JlIGJlaW5nIGRpc3BhdGNoZWQuXG4gICAqL1xuICBlbWl0SW52YWxpZEV2ZW50KG9yaWdpbmFsSW52YWxpZEV2ZW50KSB7XG4gICAgY29uc3Qgc2xJbnZhbGlkRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJzbC1pbnZhbGlkXCIsIHtcbiAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgY29tcG9zZWQ6IGZhbHNlLFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgIGRldGFpbDoge31cbiAgICB9KTtcbiAgICBpZiAoIW9yaWdpbmFsSW52YWxpZEV2ZW50KSB7XG4gICAgICBzbEludmFsaWRFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuaG9zdC5kaXNwYXRjaEV2ZW50KHNsSW52YWxpZEV2ZW50KSkge1xuICAgICAgb3JpZ2luYWxJbnZhbGlkRXZlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9yaWdpbmFsSW52YWxpZEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG59O1xudmFyIHZhbGlkVmFsaWRpdHlTdGF0ZSA9IE9iamVjdC5mcmVlemUoe1xuICBiYWRJbnB1dDogZmFsc2UsXG4gIGN1c3RvbUVycm9yOiBmYWxzZSxcbiAgcGF0dGVybk1pc21hdGNoOiBmYWxzZSxcbiAgcmFuZ2VPdmVyZmxvdzogZmFsc2UsXG4gIHJhbmdlVW5kZXJmbG93OiBmYWxzZSxcbiAgc3RlcE1pc21hdGNoOiBmYWxzZSxcbiAgdG9vTG9uZzogZmFsc2UsXG4gIHRvb1Nob3J0OiBmYWxzZSxcbiAgdHlwZU1pc21hdGNoOiBmYWxzZSxcbiAgdmFsaWQ6IHRydWUsXG4gIHZhbHVlTWlzc2luZzogZmFsc2Vcbn0pO1xudmFyIHZhbHVlTWlzc2luZ1ZhbGlkaXR5U3RhdGUgPSBPYmplY3QuZnJlZXplKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHZhbGlkVmFsaWRpdHlTdGF0ZSksIHtcbiAgdmFsaWQ6IGZhbHNlLFxuICB2YWx1ZU1pc3Npbmc6IHRydWVcbn0pKTtcbnZhciBjdXN0b21FcnJvclZhbGlkaXR5U3RhdGUgPSBPYmplY3QuZnJlZXplKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHZhbGlkVmFsaWRpdHlTdGF0ZSksIHtcbiAgdmFsaWQ6IGZhbHNlLFxuICBjdXN0b21FcnJvcjogdHJ1ZVxufSkpO1xuXG5leHBvcnQge1xuICBmb3JtQ29sbGVjdGlvbnMsXG4gIEZvcm1Db250cm9sQ29udHJvbGxlcixcbiAgdmFsaWRWYWxpZGl0eVN0YXRlLFxuICB2YWx1ZU1pc3NpbmdWYWxpZGl0eVN0YXRlLFxuICBjdXN0b21FcnJvclZhbGlkaXR5U3RhdGVcbn07XG4iLCAiLy8gc3JjL2NvbXBvbmVudHMvYnV0dG9uL2J1dHRvbi5zdHlsZXMudHNcbmltcG9ydCB7IGNzcyB9IGZyb20gXCJsaXRcIjtcbnZhciBidXR0b25fc3R5bGVzX2RlZmF1bHQgPSBjc3NgXG4gIDpob3N0IHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4gIC5idXR0b24ge1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgYm9yZGVyLXdpZHRoOiB2YXIoLS1zbC1pbnB1dC1ib3JkZXItd2lkdGgpO1xuICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1zbC1pbnB1dC1mb250LWZhbWlseSk7XG4gICAgZm9udC13ZWlnaHQ6IHZhcigtLXNsLWZvbnQtd2VpZ2h0LXNlbWlib2xkKTtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgcGFkZGluZzogMDtcbiAgICB0cmFuc2l0aW9uOlxuICAgICAgdmFyKC0tc2wtdHJhbnNpdGlvbi14LWZhc3QpIGJhY2tncm91bmQtY29sb3IsXG4gICAgICB2YXIoLS1zbC10cmFuc2l0aW9uLXgtZmFzdCkgY29sb3IsXG4gICAgICB2YXIoLS1zbC10cmFuc2l0aW9uLXgtZmFzdCkgYm9yZGVyLFxuICAgICAgdmFyKC0tc2wtdHJhbnNpdGlvbi14LWZhc3QpIGJveC1zaGFkb3c7XG4gICAgY3Vyc29yOiBpbmhlcml0O1xuICB9XG5cbiAgLmJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lciB7XG4gICAgYm9yZGVyOiAwO1xuICB9XG5cbiAgLmJ1dHRvbjpmb2N1cyB7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgfVxuXG4gIC5idXR0b246Zm9jdXMtdmlzaWJsZSB7XG4gICAgb3V0bGluZTogdmFyKC0tc2wtZm9jdXMtcmluZyk7XG4gICAgb3V0bGluZS1vZmZzZXQ6IHZhcigtLXNsLWZvY3VzLXJpbmctb2Zmc2V0KTtcbiAgfVxuXG4gIC5idXR0b24tLWRpc2FibGVkIHtcbiAgICBvcGFjaXR5OiAwLjU7XG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgfVxuXG4gIC8qIFdoZW4gZGlzYWJsZWQsIHByZXZlbnQgbW91c2UgZXZlbnRzIGZyb20gYnViYmxpbmcgdXAgZnJvbSBjaGlsZHJlbiAqL1xuICAuYnV0dG9uLS1kaXNhYmxlZCAqIHtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgfVxuXG4gIC5idXR0b25fX3ByZWZpeCxcbiAgLmJ1dHRvbl9fc3VmZml4IHtcbiAgICBmbGV4OiAwIDAgYXV0bztcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIH1cblxuICAuYnV0dG9uX19sYWJlbCB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB9XG5cbiAgLmJ1dHRvbl9fbGFiZWw6OnNsb3R0ZWQoc2wtaWNvbikge1xuICAgIHZlcnRpY2FsLWFsaWduOiAtMnB4O1xuICB9XG5cbiAgLypcbiAgICogU3RhbmRhcmQgYnV0dG9uc1xuICAgKi9cblxuICAvKiBEZWZhdWx0ICovXG4gIC5idXR0b24tLXN0YW5kYXJkLmJ1dHRvbi0tZGVmYXVsdCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC0wKTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtMzAwKTtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC03MDApO1xuICB9XG5cbiAgLmJ1dHRvbi0tc3RhbmRhcmQuYnV0dG9uLS1kZWZhdWx0OmhvdmVyOm5vdCguYnV0dG9uLS1kaXNhYmxlZCkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNTApO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3ItcHJpbWFyeS0zMDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1wcmltYXJ5LTcwMCk7XG4gIH1cblxuICAuYnV0dG9uLS1zdGFuZGFyZC5idXR0b24tLWRlZmF1bHQ6YWN0aXZlOm5vdCguYnV0dG9uLS1kaXNhYmxlZCkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktMTAwKTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNDAwKTtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItcHJpbWFyeS03MDApO1xuICB9XG5cbiAgLyogUHJpbWFyeSAqL1xuICAuYnV0dG9uLS1zdGFuZGFyZC5idXR0b24tLXByaW1hcnkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNjAwKTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNjAwKTtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC0wKTtcbiAgfVxuXG4gIC5idXR0b24tLXN0YW5kYXJkLmJ1dHRvbi0tcHJpbWFyeTpob3Zlcjpub3QoLmJ1dHRvbi0tZGlzYWJsZWQpIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zbC1jb2xvci1wcmltYXJ5LTUwMCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1zbC1jb2xvci1wcmltYXJ5LTUwMCk7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtMCk7XG4gIH1cblxuICAuYnV0dG9uLS1zdGFuZGFyZC5idXR0b24tLXByaW1hcnk6YWN0aXZlOm5vdCguYnV0dG9uLS1kaXNhYmxlZCkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNjAwKTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNjAwKTtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC0wKTtcbiAgfVxuXG4gIC8qIFN1Y2Nlc3MgKi9cbiAgLmJ1dHRvbi0tc3RhbmRhcmQuYnV0dG9uLS1zdWNjZXNzIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zbC1jb2xvci1zdWNjZXNzLTYwMCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1zbC1jb2xvci1zdWNjZXNzLTYwMCk7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtMCk7XG4gIH1cblxuICAuYnV0dG9uLS1zdGFuZGFyZC5idXR0b24tLXN1Y2Nlc3M6aG92ZXI6bm90KC5idXR0b24tLWRpc2FibGVkKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtY29sb3Itc3VjY2Vzcy01MDApO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3Itc3VjY2Vzcy01MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTApO1xuICB9XG5cbiAgLmJ1dHRvbi0tc3RhbmRhcmQuYnV0dG9uLS1zdWNjZXNzOmFjdGl2ZTpub3QoLmJ1dHRvbi0tZGlzYWJsZWQpIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zbC1jb2xvci1zdWNjZXNzLTYwMCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1zbC1jb2xvci1zdWNjZXNzLTYwMCk7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtMCk7XG4gIH1cblxuICAvKiBOZXV0cmFsICovXG4gIC5idXR0b24tLXN0YW5kYXJkLmJ1dHRvbi0tbmV1dHJhbCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC02MDApO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC02MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTApO1xuICB9XG5cbiAgLmJ1dHRvbi0tc3RhbmRhcmQuYnV0dG9uLS1uZXV0cmFsOmhvdmVyOm5vdCguYnV0dG9uLS1kaXNhYmxlZCkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtNTAwKTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtNTAwKTtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC0wKTtcbiAgfVxuXG4gIC5idXR0b24tLXN0YW5kYXJkLmJ1dHRvbi0tbmV1dHJhbDphY3RpdmU6bm90KC5idXR0b24tLWRpc2FibGVkKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC02MDApO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC02MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTApO1xuICB9XG5cbiAgLyogV2FybmluZyAqL1xuICAuYnV0dG9uLS1zdGFuZGFyZC5idXR0b24tLXdhcm5pbmcge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLXdhcm5pbmctNjAwKTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNsLWNvbG9yLXdhcm5pbmctNjAwKTtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC0wKTtcbiAgfVxuICAuYnV0dG9uLS1zdGFuZGFyZC5idXR0b24tLXdhcm5pbmc6aG92ZXI6bm90KC5idXR0b24tLWRpc2FibGVkKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtY29sb3Itd2FybmluZy01MDApO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3Itd2FybmluZy01MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTApO1xuICB9XG5cbiAgLmJ1dHRvbi0tc3RhbmRhcmQuYnV0dG9uLS13YXJuaW5nOmFjdGl2ZTpub3QoLmJ1dHRvbi0tZGlzYWJsZWQpIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zbC1jb2xvci13YXJuaW5nLTYwMCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1zbC1jb2xvci13YXJuaW5nLTYwMCk7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtMCk7XG4gIH1cblxuICAvKiBEYW5nZXIgKi9cbiAgLmJ1dHRvbi0tc3RhbmRhcmQuYnV0dG9uLS1kYW5nZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLWRhbmdlci02MDApO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3ItZGFuZ2VyLTYwMCk7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtMCk7XG4gIH1cblxuICAuYnV0dG9uLS1zdGFuZGFyZC5idXR0b24tLWRhbmdlcjpob3Zlcjpub3QoLmJ1dHRvbi0tZGlzYWJsZWQpIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zbC1jb2xvci1kYW5nZXItNTAwKTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNsLWNvbG9yLWRhbmdlci01MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTApO1xuICB9XG5cbiAgLmJ1dHRvbi0tc3RhbmRhcmQuYnV0dG9uLS1kYW5nZXI6YWN0aXZlOm5vdCguYnV0dG9uLS1kaXNhYmxlZCkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLWRhbmdlci02MDApO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3ItZGFuZ2VyLTYwMCk7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtMCk7XG4gIH1cblxuICAvKlxuICAgKiBPdXRsaW5lIGJ1dHRvbnNcbiAgICovXG5cbiAgLmJ1dHRvbi0tb3V0bGluZSB7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBib3JkZXI6IHNvbGlkIDFweDtcbiAgfVxuXG4gIC8qIERlZmF1bHQgKi9cbiAgLmJ1dHRvbi0tb3V0bGluZS5idXR0b24tLWRlZmF1bHQge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC0zMDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTcwMCk7XG4gIH1cblxuICAuYnV0dG9uLS1vdXRsaW5lLmJ1dHRvbi0tZGVmYXVsdDpob3Zlcjpub3QoLmJ1dHRvbi0tZGlzYWJsZWQpLFxuICAuYnV0dG9uLS1vdXRsaW5lLmJ1dHRvbi0tZGVmYXVsdC5idXR0b24tLWNoZWNrZWQ6bm90KC5idXR0b24tLWRpc2FibGVkKSB7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1zbC1jb2xvci1wcmltYXJ5LTYwMCk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtY29sb3ItcHJpbWFyeS02MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTApO1xuICB9XG5cbiAgLmJ1dHRvbi0tb3V0bGluZS5idXR0b24tLWRlZmF1bHQ6YWN0aXZlOm5vdCguYnV0dG9uLS1kaXNhYmxlZCkge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3ItcHJpbWFyeS03MDApO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNzAwKTtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC0wKTtcbiAgfVxuXG4gIC8qIFByaW1hcnkgKi9cbiAgLmJ1dHRvbi0tb3V0bGluZS5idXR0b24tLXByaW1hcnkge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3ItcHJpbWFyeS02MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1wcmltYXJ5LTYwMCk7XG4gIH1cblxuICAuYnV0dG9uLS1vdXRsaW5lLmJ1dHRvbi0tcHJpbWFyeTpob3Zlcjpub3QoLmJ1dHRvbi0tZGlzYWJsZWQpLFxuICAuYnV0dG9uLS1vdXRsaW5lLmJ1dHRvbi0tcHJpbWFyeS5idXR0b24tLWNoZWNrZWQ6bm90KC5idXR0b24tLWRpc2FibGVkKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtY29sb3ItcHJpbWFyeS02MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTApO1xuICB9XG5cbiAgLmJ1dHRvbi0tb3V0bGluZS5idXR0b24tLXByaW1hcnk6YWN0aXZlOm5vdCguYnV0dG9uLS1kaXNhYmxlZCkge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3ItcHJpbWFyeS03MDApO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNzAwKTtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC0wKTtcbiAgfVxuXG4gIC8qIFN1Y2Nlc3MgKi9cbiAgLmJ1dHRvbi0tb3V0bGluZS5idXR0b24tLXN1Y2Nlc3Mge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3Itc3VjY2Vzcy02MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1zdWNjZXNzLTYwMCk7XG4gIH1cblxuICAuYnV0dG9uLS1vdXRsaW5lLmJ1dHRvbi0tc3VjY2Vzczpob3Zlcjpub3QoLmJ1dHRvbi0tZGlzYWJsZWQpLFxuICAuYnV0dG9uLS1vdXRsaW5lLmJ1dHRvbi0tc3VjY2Vzcy5idXR0b24tLWNoZWNrZWQ6bm90KC5idXR0b24tLWRpc2FibGVkKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtY29sb3Itc3VjY2Vzcy02MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTApO1xuICB9XG5cbiAgLmJ1dHRvbi0tb3V0bGluZS5idXR0b24tLXN1Y2Nlc3M6YWN0aXZlOm5vdCguYnV0dG9uLS1kaXNhYmxlZCkge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3Itc3VjY2Vzcy03MDApO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLXN1Y2Nlc3MtNzAwKTtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC0wKTtcbiAgfVxuXG4gIC8qIE5ldXRyYWwgKi9cbiAgLmJ1dHRvbi0tb3V0bGluZS5idXR0b24tLW5ldXRyYWwge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC02MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTYwMCk7XG4gIH1cblxuICAuYnV0dG9uLS1vdXRsaW5lLmJ1dHRvbi0tbmV1dHJhbDpob3Zlcjpub3QoLmJ1dHRvbi0tZGlzYWJsZWQpLFxuICAuYnV0dG9uLS1vdXRsaW5lLmJ1dHRvbi0tbmV1dHJhbC5idXR0b24tLWNoZWNrZWQ6bm90KC5idXR0b24tLWRpc2FibGVkKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC02MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTApO1xuICB9XG5cbiAgLmJ1dHRvbi0tb3V0bGluZS5idXR0b24tLW5ldXRyYWw6YWN0aXZlOm5vdCguYnV0dG9uLS1kaXNhYmxlZCkge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC03MDApO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtNzAwKTtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC0wKTtcbiAgfVxuXG4gIC8qIFdhcm5pbmcgKi9cbiAgLmJ1dHRvbi0tb3V0bGluZS5idXR0b24tLXdhcm5pbmcge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3Itd2FybmluZy02MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci13YXJuaW5nLTYwMCk7XG4gIH1cblxuICAuYnV0dG9uLS1vdXRsaW5lLmJ1dHRvbi0td2FybmluZzpob3Zlcjpub3QoLmJ1dHRvbi0tZGlzYWJsZWQpLFxuICAuYnV0dG9uLS1vdXRsaW5lLmJ1dHRvbi0td2FybmluZy5idXR0b24tLWNoZWNrZWQ6bm90KC5idXR0b24tLWRpc2FibGVkKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtY29sb3Itd2FybmluZy02MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTApO1xuICB9XG5cbiAgLmJ1dHRvbi0tb3V0bGluZS5idXR0b24tLXdhcm5pbmc6YWN0aXZlOm5vdCguYnV0dG9uLS1kaXNhYmxlZCkge1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtY29sb3Itd2FybmluZy03MDApO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLXdhcm5pbmctNzAwKTtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItbmV1dHJhbC0wKTtcbiAgfVxuXG4gIC8qIERhbmdlciAqL1xuICAuYnV0dG9uLS1vdXRsaW5lLmJ1dHRvbi0tZGFuZ2VyIHtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNsLWNvbG9yLWRhbmdlci02MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1kYW5nZXItNjAwKTtcbiAgfVxuXG4gIC5idXR0b24tLW91dGxpbmUuYnV0dG9uLS1kYW5nZXI6aG92ZXI6bm90KC5idXR0b24tLWRpc2FibGVkKSxcbiAgLmJ1dHRvbi0tb3V0bGluZS5idXR0b24tLWRhbmdlci5idXR0b24tLWNoZWNrZWQ6bm90KC5idXR0b24tLWRpc2FibGVkKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtY29sb3ItZGFuZ2VyLTYwMCk7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtMCk7XG4gIH1cblxuICAuYnV0dG9uLS1vdXRsaW5lLmJ1dHRvbi0tZGFuZ2VyOmFjdGl2ZTpub3QoLmJ1dHRvbi0tZGlzYWJsZWQpIHtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNsLWNvbG9yLWRhbmdlci03MDApO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWNvbG9yLWRhbmdlci03MDApO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTApO1xuICB9XG5cbiAgQG1lZGlhIChmb3JjZWQtY29sb3JzOiBhY3RpdmUpIHtcbiAgICAuYnV0dG9uLmJ1dHRvbi0tb3V0bGluZS5idXR0b24tLWNoZWNrZWQ6bm90KC5idXR0b24tLWRpc2FibGVkKSB7XG4gICAgICBvdXRsaW5lOiBzb2xpZCAycHggdHJhbnNwYXJlbnQ7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogVGV4dCBidXR0b25zXG4gICAqL1xuXG4gIC5idXR0b24tLXRleHQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNjAwKTtcbiAgfVxuXG4gIC5idXR0b24tLXRleHQ6aG92ZXI6bm90KC5idXR0b24tLWRpc2FibGVkKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItcHJpbWFyeS01MDApO1xuICB9XG5cbiAgLmJ1dHRvbi0tdGV4dDpmb2N1cy12aXNpYmxlOm5vdCguYnV0dG9uLS1kaXNhYmxlZCkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNTAwKTtcbiAgfVxuXG4gIC5idXR0b24tLXRleHQ6YWN0aXZlOm5vdCguYnV0dG9uLS1kaXNhYmxlZCkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNzAwKTtcbiAgfVxuXG4gIC8qXG4gICAqIFNpemUgbW9kaWZpZXJzXG4gICAqL1xuXG4gIC5idXR0b24tLXNtYWxsIHtcbiAgICBoZWlnaHQ6IGF1dG87XG4gICAgbWluLWhlaWdodDogdmFyKC0tc2wtaW5wdXQtaGVpZ2h0LXNtYWxsKTtcbiAgICBmb250LXNpemU6IHZhcigtLXNsLWJ1dHRvbi1mb250LXNpemUtc21hbGwpO1xuICAgIGxpbmUtaGVpZ2h0OiBjYWxjKHZhcigtLXNsLWlucHV0LWhlaWdodC1zbWFsbCkgLSB2YXIoLS1zbC1pbnB1dC1ib3JkZXItd2lkdGgpICogMik7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tc2wtaW5wdXQtYm9yZGVyLXJhZGl1cy1zbWFsbCk7XG4gIH1cblxuICAuYnV0dG9uLS1tZWRpdW0ge1xuICAgIGhlaWdodDogYXV0bztcbiAgICBtaW4taGVpZ2h0OiB2YXIoLS1zbC1pbnB1dC1oZWlnaHQtbWVkaXVtKTtcbiAgICBmb250LXNpemU6IHZhcigtLXNsLWJ1dHRvbi1mb250LXNpemUtbWVkaXVtKTtcbiAgICBsaW5lLWhlaWdodDogY2FsYyh2YXIoLS1zbC1pbnB1dC1oZWlnaHQtbWVkaXVtKSAtIHZhcigtLXNsLWlucHV0LWJvcmRlci13aWR0aCkgKiAyKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1zbC1pbnB1dC1ib3JkZXItcmFkaXVzLW1lZGl1bSk7XG4gIH1cblxuICAuYnV0dG9uLS1sYXJnZSB7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICAgIG1pbi1oZWlnaHQ6IHZhcigtLXNsLWlucHV0LWhlaWdodC1sYXJnZSk7XG4gICAgZm9udC1zaXplOiB2YXIoLS1zbC1idXR0b24tZm9udC1zaXplLWxhcmdlKTtcbiAgICBsaW5lLWhlaWdodDogY2FsYyh2YXIoLS1zbC1pbnB1dC1oZWlnaHQtbGFyZ2UpIC0gdmFyKC0tc2wtaW5wdXQtYm9yZGVyLXdpZHRoKSAqIDIpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXNsLWlucHV0LWJvcmRlci1yYWRpdXMtbGFyZ2UpO1xuICB9XG5cbiAgLypcbiAgICogUGlsbCBtb2RpZmllclxuICAgKi9cblxuICAuYnV0dG9uLS1waWxsLmJ1dHRvbi0tc21hbGwge1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXNsLWlucHV0LWhlaWdodC1zbWFsbCk7XG4gIH1cblxuICAuYnV0dG9uLS1waWxsLmJ1dHRvbi0tbWVkaXVtIHtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1zbC1pbnB1dC1oZWlnaHQtbWVkaXVtKTtcbiAgfVxuXG4gIC5idXR0b24tLXBpbGwuYnV0dG9uLS1sYXJnZSB7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tc2wtaW5wdXQtaGVpZ2h0LWxhcmdlKTtcbiAgfVxuXG4gIC8qXG4gICAqIENpcmNsZSBtb2RpZmllclxuICAgKi9cblxuICAuYnV0dG9uLS1jaXJjbGUge1xuICAgIHBhZGRpbmctbGVmdDogMDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAwO1xuICB9XG5cbiAgLmJ1dHRvbi0tY2lyY2xlLmJ1dHRvbi0tc21hbGwge1xuICAgIHdpZHRoOiB2YXIoLS1zbC1pbnB1dC1oZWlnaHQtc21hbGwpO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgfVxuXG4gIC5idXR0b24tLWNpcmNsZS5idXR0b24tLW1lZGl1bSB7XG4gICAgd2lkdGg6IHZhcigtLXNsLWlucHV0LWhlaWdodC1tZWRpdW0pO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgfVxuXG4gIC5idXR0b24tLWNpcmNsZS5idXR0b24tLWxhcmdlIHtcbiAgICB3aWR0aDogdmFyKC0tc2wtaW5wdXQtaGVpZ2h0LWxhcmdlKTtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIH1cblxuICAuYnV0dG9uLS1jaXJjbGUgLmJ1dHRvbl9fcHJlZml4LFxuICAuYnV0dG9uLS1jaXJjbGUgLmJ1dHRvbl9fc3VmZml4LFxuICAuYnV0dG9uLS1jaXJjbGUgLmJ1dHRvbl9fY2FyZXQge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICAvKlxuICAgKiBDYXJldCBtb2RpZmllclxuICAgKi9cblxuICAuYnV0dG9uLS1jYXJldCAuYnV0dG9uX19zdWZmaXgge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICAuYnV0dG9uLS1jYXJldCAuYnV0dG9uX19jYXJldCB7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICB9XG5cbiAgLypcbiAgICogTG9hZGluZyBtb2RpZmllclxuICAgKi9cblxuICAuYnV0dG9uLS1sb2FkaW5nIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgY3Vyc29yOiB3YWl0O1xuICB9XG5cbiAgLmJ1dHRvbi0tbG9hZGluZyAuYnV0dG9uX19wcmVmaXgsXG4gIC5idXR0b24tLWxvYWRpbmcgLmJ1dHRvbl9fbGFiZWwsXG4gIC5idXR0b24tLWxvYWRpbmcgLmJ1dHRvbl9fc3VmZml4LFxuICAuYnV0dG9uLS1sb2FkaW5nIC5idXR0b25fX2NhcmV0IHtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gIH1cblxuICAuYnV0dG9uLS1sb2FkaW5nIHNsLXNwaW5uZXIge1xuICAgIC0taW5kaWNhdG9yLWNvbG9yOiBjdXJyZW50Q29sb3I7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgIGhlaWdodDogMWVtO1xuICAgIHdpZHRoOiAxZW07XG4gICAgdG9wOiBjYWxjKDUwJSAtIDAuNWVtKTtcbiAgICBsZWZ0OiBjYWxjKDUwJSAtIDAuNWVtKTtcbiAgfVxuXG4gIC8qXG4gICAqIEJhZGdlc1xuICAgKi9cblxuICAuYnV0dG9uIDo6c2xvdHRlZChzbC1iYWRnZSkge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgdHJhbnNsYXRlOiA1MCUgLTUwJTtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgfVxuXG4gIC5idXR0b24tLXJ0bCA6OnNsb3R0ZWQoc2wtYmFkZ2UpIHtcbiAgICByaWdodDogYXV0bztcbiAgICBsZWZ0OiAwO1xuICAgIHRyYW5zbGF0ZTogLTUwJSAtNTAlO1xuICB9XG5cbiAgLypcbiAgICogQnV0dG9uIHNwYWNpbmdcbiAgICovXG5cbiAgLmJ1dHRvbi0taGFzLWxhYmVsLmJ1dHRvbi0tc21hbGwgLmJ1dHRvbl9fbGFiZWwge1xuICAgIHBhZGRpbmc6IDAgdmFyKC0tc2wtc3BhY2luZy1zbWFsbCk7XG4gIH1cblxuICAuYnV0dG9uLS1oYXMtbGFiZWwuYnV0dG9uLS1tZWRpdW0gLmJ1dHRvbl9fbGFiZWwge1xuICAgIHBhZGRpbmc6IDAgdmFyKC0tc2wtc3BhY2luZy1tZWRpdW0pO1xuICB9XG5cbiAgLmJ1dHRvbi0taGFzLWxhYmVsLmJ1dHRvbi0tbGFyZ2UgLmJ1dHRvbl9fbGFiZWwge1xuICAgIHBhZGRpbmc6IDAgdmFyKC0tc2wtc3BhY2luZy1sYXJnZSk7XG4gIH1cblxuICAuYnV0dG9uLS1oYXMtcHJlZml4LmJ1dHRvbi0tc21hbGwge1xuICAgIHBhZGRpbmctaW5saW5lLXN0YXJ0OiB2YXIoLS1zbC1zcGFjaW5nLXgtc21hbGwpO1xuICB9XG5cbiAgLmJ1dHRvbi0taGFzLXByZWZpeC5idXR0b24tLXNtYWxsIC5idXR0b25fX2xhYmVsIHtcbiAgICBwYWRkaW5nLWlubGluZS1zdGFydDogdmFyKC0tc2wtc3BhY2luZy14LXNtYWxsKTtcbiAgfVxuXG4gIC5idXR0b24tLWhhcy1wcmVmaXguYnV0dG9uLS1tZWRpdW0ge1xuICAgIHBhZGRpbmctaW5saW5lLXN0YXJ0OiB2YXIoLS1zbC1zcGFjaW5nLXNtYWxsKTtcbiAgfVxuXG4gIC5idXR0b24tLWhhcy1wcmVmaXguYnV0dG9uLS1tZWRpdW0gLmJ1dHRvbl9fbGFiZWwge1xuICAgIHBhZGRpbmctaW5saW5lLXN0YXJ0OiB2YXIoLS1zbC1zcGFjaW5nLXNtYWxsKTtcbiAgfVxuXG4gIC5idXR0b24tLWhhcy1wcmVmaXguYnV0dG9uLS1sYXJnZSB7XG4gICAgcGFkZGluZy1pbmxpbmUtc3RhcnQ6IHZhcigtLXNsLXNwYWNpbmctc21hbGwpO1xuICB9XG5cbiAgLmJ1dHRvbi0taGFzLXByZWZpeC5idXR0b24tLWxhcmdlIC5idXR0b25fX2xhYmVsIHtcbiAgICBwYWRkaW5nLWlubGluZS1zdGFydDogdmFyKC0tc2wtc3BhY2luZy1zbWFsbCk7XG4gIH1cblxuICAuYnV0dG9uLS1oYXMtc3VmZml4LmJ1dHRvbi0tc21hbGwsXG4gIC5idXR0b24tLWNhcmV0LmJ1dHRvbi0tc21hbGwge1xuICAgIHBhZGRpbmctaW5saW5lLWVuZDogdmFyKC0tc2wtc3BhY2luZy14LXNtYWxsKTtcbiAgfVxuXG4gIC5idXR0b24tLWhhcy1zdWZmaXguYnV0dG9uLS1zbWFsbCAuYnV0dG9uX19sYWJlbCxcbiAgLmJ1dHRvbi0tY2FyZXQuYnV0dG9uLS1zbWFsbCAuYnV0dG9uX19sYWJlbCB7XG4gICAgcGFkZGluZy1pbmxpbmUtZW5kOiB2YXIoLS1zbC1zcGFjaW5nLXgtc21hbGwpO1xuICB9XG5cbiAgLmJ1dHRvbi0taGFzLXN1ZmZpeC5idXR0b24tLW1lZGl1bSxcbiAgLmJ1dHRvbi0tY2FyZXQuYnV0dG9uLS1tZWRpdW0ge1xuICAgIHBhZGRpbmctaW5saW5lLWVuZDogdmFyKC0tc2wtc3BhY2luZy1zbWFsbCk7XG4gIH1cblxuICAuYnV0dG9uLS1oYXMtc3VmZml4LmJ1dHRvbi0tbWVkaXVtIC5idXR0b25fX2xhYmVsLFxuICAuYnV0dG9uLS1jYXJldC5idXR0b24tLW1lZGl1bSAuYnV0dG9uX19sYWJlbCB7XG4gICAgcGFkZGluZy1pbmxpbmUtZW5kOiB2YXIoLS1zbC1zcGFjaW5nLXNtYWxsKTtcbiAgfVxuXG4gIC5idXR0b24tLWhhcy1zdWZmaXguYnV0dG9uLS1sYXJnZSxcbiAgLmJ1dHRvbi0tY2FyZXQuYnV0dG9uLS1sYXJnZSB7XG4gICAgcGFkZGluZy1pbmxpbmUtZW5kOiB2YXIoLS1zbC1zcGFjaW5nLXNtYWxsKTtcbiAgfVxuXG4gIC5idXR0b24tLWhhcy1zdWZmaXguYnV0dG9uLS1sYXJnZSAuYnV0dG9uX19sYWJlbCxcbiAgLmJ1dHRvbi0tY2FyZXQuYnV0dG9uLS1sYXJnZSAuYnV0dG9uX19sYWJlbCB7XG4gICAgcGFkZGluZy1pbmxpbmUtZW5kOiB2YXIoLS1zbC1zcGFjaW5nLXNtYWxsKTtcbiAgfVxuXG4gIC8qXG4gICAqIEJ1dHRvbiBncm91cHMgc3VwcG9ydCBhIHZhcmlldHkgb2YgYnV0dG9uIHR5cGVzIChlLmcuIGJ1dHRvbnMgd2l0aCB0b29sdGlwcywgYnV0dG9ucyBhcyBkcm9wZG93biB0cmlnZ2VycywgZXRjLikuXG4gICAqIFRoaXMgbWVhbnMgYnV0dG9ucyBhcmVuJ3QgYWx3YXlzIGRpcmVjdCBkZXNjZW5kYW50cyBvZiB0aGUgYnV0dG9uIGdyb3VwLCB0aHVzIHdlIGNhbid0IHRhcmdldCB0aGVtIHdpdGggdGhlXG4gICAqIDo6c2xvdHRlZCBzZWxlY3Rvci4gVG8gd29yayBhcm91bmQgdGhpcywgdGhlIGJ1dHRvbiBncm91cCBjb21wb25lbnQgZG9lcyBzb21lIG1hZ2ljIHRvIGFkZCB0aGVzZSBzcGVjaWFsIGNsYXNzZXMgdG9cbiAgICogYnV0dG9ucyBhbmQgd2Ugc3R5bGUgdGhlbSBoZXJlIGluc3RlYWQuXG4gICAqL1xuXG4gIDpob3N0KFtkYXRhLXNsLWJ1dHRvbi1ncm91cF9fYnV0dG9uLS1maXJzdF06bm90KFtkYXRhLXNsLWJ1dHRvbi1ncm91cF9fYnV0dG9uLS1sYXN0XSkpIC5idXR0b24ge1xuICAgIGJvcmRlci1zdGFydC1lbmQtcmFkaXVzOiAwO1xuICAgIGJvcmRlci1lbmQtZW5kLXJhZGl1czogMDtcbiAgfVxuXG4gIDpob3N0KFtkYXRhLXNsLWJ1dHRvbi1ncm91cF9fYnV0dG9uLS1pbm5lcl0pIC5idXR0b24ge1xuICAgIGJvcmRlci1yYWRpdXM6IDA7XG4gIH1cblxuICA6aG9zdChbZGF0YS1zbC1idXR0b24tZ3JvdXBfX2J1dHRvbi0tbGFzdF06bm90KFtkYXRhLXNsLWJ1dHRvbi1ncm91cF9fYnV0dG9uLS1maXJzdF0pKSAuYnV0dG9uIHtcbiAgICBib3JkZXItc3RhcnQtc3RhcnQtcmFkaXVzOiAwO1xuICAgIGJvcmRlci1lbmQtc3RhcnQtcmFkaXVzOiAwO1xuICB9XG5cbiAgLyogQWxsIGV4Y2VwdCB0aGUgZmlyc3QgKi9cbiAgOmhvc3QoW2RhdGEtc2wtYnV0dG9uLWdyb3VwX19idXR0b25dOm5vdChbZGF0YS1zbC1idXR0b24tZ3JvdXBfX2J1dHRvbi0tZmlyc3RdKSkge1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IGNhbGMoLTEgKiB2YXIoLS1zbC1pbnB1dC1ib3JkZXItd2lkdGgpKTtcbiAgfVxuXG4gIC8qIEFkZCBhIHZpc3VhbCBzZXBhcmF0b3IgYmV0d2VlbiBzb2xpZCBidXR0b25zICovXG4gIDpob3N0KFxuICAgICAgW2RhdGEtc2wtYnV0dG9uLWdyb3VwX19idXR0b25dOm5vdChcbiAgICAgICAgICBbZGF0YS1zbC1idXR0b24tZ3JvdXBfX2J1dHRvbi0tZmlyc3RdLFxuICAgICAgICAgIFtkYXRhLXNsLWJ1dHRvbi1ncm91cF9fYnV0dG9uLS1yYWRpb10sXG4gICAgICAgICAgW3ZhcmlhbnQ9J2RlZmF1bHQnXVxuICAgICAgICApOm5vdCg6aG92ZXIpXG4gICAgKVxuICAgIC5idXR0b246YWZ0ZXIge1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgaW5zZXQtaW5saW5lLXN0YXJ0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICBib3JkZXItbGVmdDogc29saWQgMXB4IHJnYigxMjggMTI4IDEyOCAvIDMzJSk7XG4gICAgbWl4LWJsZW5kLW1vZGU6IG11bHRpcGx5O1xuICB9XG5cbiAgLyogQnVtcCBob3ZlcmVkLCBmb2N1c2VkLCBhbmQgY2hlY2tlZCBidXR0b25zIHVwIHNvIHRoZWlyIGZvY3VzIHJpbmcgaXNuJ3QgY2xpcHBlZCAqL1xuICA6aG9zdChbZGF0YS1zbC1idXR0b24tZ3JvdXBfX2J1dHRvbi0taG92ZXJdKSB7XG4gICAgei1pbmRleDogMTtcbiAgfVxuXG4gIC8qIEZvY3VzIGFuZCBjaGVja2VkIGFyZSBhbHdheXMgb24gdG9wICovXG4gIDpob3N0KFtkYXRhLXNsLWJ1dHRvbi1ncm91cF9fYnV0dG9uLS1mb2N1c10pLFxuICA6aG9zdChbZGF0YS1zbC1idXR0b24tZ3JvdXBfX2J1dHRvbltjaGVja2VkXV0pIHtcbiAgICB6LWluZGV4OiAyO1xuICB9XG5gO1xuXG5leHBvcnQge1xuICBidXR0b25fc3R5bGVzX2RlZmF1bHRcbn07XG4iLCAiLy8gc3JjL2ludGVybmFsL3Nsb3QudHNcbnZhciBIYXNTbG90Q29udHJvbGxlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdCwgLi4uc2xvdE5hbWVzKSB7XG4gICAgdGhpcy5zbG90TmFtZXMgPSBbXTtcbiAgICB0aGlzLmhhbmRsZVNsb3RDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHNsb3QgPSBldmVudC50YXJnZXQ7XG4gICAgICBpZiAodGhpcy5zbG90TmFtZXMuaW5jbHVkZXMoXCJbZGVmYXVsdF1cIikgJiYgIXNsb3QubmFtZSB8fCBzbG90Lm5hbWUgJiYgdGhpcy5zbG90TmFtZXMuaW5jbHVkZXMoc2xvdC5uYW1lKSkge1xuICAgICAgICB0aGlzLmhvc3QucmVxdWVzdFVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgKHRoaXMuaG9zdCA9IGhvc3QpLmFkZENvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5zbG90TmFtZXMgPSBzbG90TmFtZXM7XG4gIH1cbiAgaGFzRGVmYXVsdFNsb3QoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLmhvc3QuY2hpbGROb2Rlc10uc29tZSgobm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IG5vZGUuVEVYVF9OT0RFICYmIG5vZGUudGV4dENvbnRlbnQudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IG5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIGNvbnN0IGVsID0gbm9kZTtcbiAgICAgICAgY29uc3QgdGFnTmFtZSA9IGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHRhZ05hbWUgPT09IFwic2wtdmlzdWFsbHktaGlkZGVuXCIpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFlbC5oYXNBdHRyaWJ1dGUoXCJzbG90XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICBoYXNOYW1lZFNsb3QobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmhvc3QucXVlcnlTZWxlY3RvcihgOnNjb3BlID4gW3Nsb3Q9XCIke25hbWV9XCJdYCkgIT09IG51bGw7XG4gIH1cbiAgdGVzdChzbG90TmFtZSkge1xuICAgIHJldHVybiBzbG90TmFtZSA9PT0gXCJbZGVmYXVsdF1cIiA/IHRoaXMuaGFzRGVmYXVsdFNsb3QoKSA6IHRoaXMuaGFzTmFtZWRTbG90KHNsb3ROYW1lKTtcbiAgfVxuICBob3N0Q29ubmVjdGVkKCkge1xuICAgIHRoaXMuaG9zdC5zaGFkb3dSb290LmFkZEV2ZW50TGlzdGVuZXIoXCJzbG90Y2hhbmdlXCIsIHRoaXMuaGFuZGxlU2xvdENoYW5nZSk7XG4gIH1cbiAgaG9zdERpc2Nvbm5lY3RlZCgpIHtcbiAgICB0aGlzLmhvc3Quc2hhZG93Um9vdC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2xvdGNoYW5nZVwiLCB0aGlzLmhhbmRsZVNsb3RDaGFuZ2UpO1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnQoc2xvdCkge1xuICBpZiAoIXNsb3QpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBjb25zdCBub2RlcyA9IHNsb3QuYXNzaWduZWROb2Rlcyh7IGZsYXR0ZW46IHRydWUgfSk7XG4gIGxldCB0ZXh0ID0gXCJcIjtcbiAgWy4uLm5vZGVzXS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICB0ZXh0ICs9IG5vZGUudGV4dENvbnRlbnQ7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRleHQ7XG59XG5cbmV4cG9ydCB7XG4gIEhhc1Nsb3RDb250cm9sbGVyLFxuICBnZXRUZXh0Q29udGVudFxufTtcbiIsICIvLyBzcmMvdXRpbGl0aWVzL2Jhc2UtcGF0aC50c1xudmFyIGJhc2VQYXRoID0gXCJcIjtcbmZ1bmN0aW9uIHNldEJhc2VQYXRoKHBhdGgpIHtcbiAgYmFzZVBhdGggPSBwYXRoO1xufVxuZnVuY3Rpb24gZ2V0QmFzZVBhdGgoc3VicGF0aCA9IFwiXCIpIHtcbiAgaWYgKCFiYXNlUGF0aCkge1xuICAgIGNvbnN0IHNjcmlwdHMgPSBbLi4uZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIildO1xuICAgIGNvbnN0IGNvbmZpZ1NjcmlwdCA9IHNjcmlwdHMuZmluZCgoc2NyaXB0KSA9PiBzY3JpcHQuaGFzQXR0cmlidXRlKFwiZGF0YS1zaG9lbGFjZVwiKSk7XG4gICAgaWYgKGNvbmZpZ1NjcmlwdCkge1xuICAgICAgc2V0QmFzZVBhdGgoY29uZmlnU2NyaXB0LmdldEF0dHJpYnV0ZShcImRhdGEtc2hvZWxhY2VcIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmYWxsYmFja1NjcmlwdCA9IHNjcmlwdHMuZmluZCgocykgPT4ge1xuICAgICAgICByZXR1cm4gL3Nob2VsYWNlKFxcLm1pbik/XFwuanMoJHxcXD8pLy50ZXN0KHMuc3JjKSB8fCAvc2hvZWxhY2UtYXV0b2xvYWRlcihcXC5taW4pP1xcLmpzKCR8XFw/KS8udGVzdChzLnNyYyk7XG4gICAgICB9KTtcbiAgICAgIGxldCBwYXRoID0gXCJcIjtcbiAgICAgIGlmIChmYWxsYmFja1NjcmlwdCkge1xuICAgICAgICBwYXRoID0gZmFsbGJhY2tTY3JpcHQuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1xuICAgICAgfVxuICAgICAgc2V0QmFzZVBhdGgocGF0aC5zcGxpdChcIi9cIikuc2xpY2UoMCwgLTEpLmpvaW4oXCIvXCIpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJhc2VQYXRoLnJlcGxhY2UoL1xcLyQvLCBcIlwiKSArIChzdWJwYXRoID8gYC8ke3N1YnBhdGgucmVwbGFjZSgvXlxcLy8sIFwiXCIpfWAgOiBgYCk7XG59XG5cbmV4cG9ydCB7XG4gIHNldEJhc2VQYXRoLFxuICBnZXRCYXNlUGF0aFxufTtcbiIsICJpbXBvcnQge1xuICBnZXRCYXNlUGF0aFxufSBmcm9tIFwiLi9jaHVuay4zWTZTQjZRUy5qc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9pY29uL2xpYnJhcnkuZGVmYXVsdC50c1xudmFyIGxpYnJhcnkgPSB7XG4gIG5hbWU6IFwiZGVmYXVsdFwiLFxuICByZXNvbHZlcjogKG5hbWUpID0+IGdldEJhc2VQYXRoKGBhc3NldHMvaWNvbnMvJHtuYW1lfS5zdmdgKVxufTtcbnZhciBsaWJyYXJ5X2RlZmF1bHRfZGVmYXVsdCA9IGxpYnJhcnk7XG5cbmV4cG9ydCB7XG4gIGxpYnJhcnlfZGVmYXVsdF9kZWZhdWx0XG59O1xuIiwgIi8vIHNyYy9jb21wb25lbnRzL2ljb24vbGlicmFyeS5zeXN0ZW0udHNcbnZhciBpY29ucyA9IHtcbiAgY2FyZXQ6IGBcbiAgICA8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cbiAgICAgIDxwb2x5bGluZSBwb2ludHM9XCI2IDkgMTIgMTUgMTggOVwiPjwvcG9seWxpbmU+XG4gICAgPC9zdmc+XG4gIGAsXG4gIGNoZWNrOiBgXG4gICAgPHN2ZyBwYXJ0PVwiY2hlY2tlZC1pY29uXCIgY2xhc3M9XCJjaGVja2JveF9faWNvblwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj5cbiAgICAgIDxnIHN0cm9rZT1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiPlxuICAgICAgICA8ZyBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMy40Mjg1NzEsIDMuNDI4NTcxKVwiPlxuICAgICAgICAgICAgPHBhdGggZD1cIk0wLDUuNzE0Mjg1NzEgTDMuNDI4NTcxNDMsOS4xNDI4NTcxNFwiPjwvcGF0aD5cbiAgICAgICAgICAgIDxwYXRoIGQ9XCJNOS4xNDI4NTcxNCwwIEwzLjQyODU3MTQzLDkuMTQyODU3MTRcIj48L3BhdGg+XG4gICAgICAgICAgPC9nPlxuICAgICAgICA8L2c+XG4gICAgICA8L2c+XG4gICAgPC9zdmc+XG4gIGAsXG4gIFwiY2hldnJvbi1kb3duXCI6IGBcbiAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgY2xhc3M9XCJiaSBiaS1jaGV2cm9uLWRvd25cIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+XG4gICAgICA8cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xLjY0NiA0LjY0NmEuNS41IDAgMCAxIC43MDggMEw4IDEwLjI5M2w1LjY0Ni01LjY0N2EuNS41IDAgMCAxIC43MDguNzA4bC02IDZhLjUuNSAwIDAgMS0uNzA4IDBsLTYtNmEuNS41IDAgMCAxIDAtLjcwOHpcIi8+XG4gICAgPC9zdmc+XG4gIGAsXG4gIFwiY2hldnJvbi1sZWZ0XCI6IGBcbiAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgY2xhc3M9XCJiaSBiaS1jaGV2cm9uLWxlZnRcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+XG4gICAgICA8cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xMS4zNTQgMS42NDZhLjUuNSAwIDAgMSAwIC43MDhMNS43MDcgOGw1LjY0NyA1LjY0NmEuNS41IDAgMCAxLS43MDguNzA4bC02LTZhLjUuNSAwIDAgMSAwLS43MDhsNi02YS41LjUgMCAwIDEgLjcwOCAwelwiLz5cbiAgICA8L3N2Zz5cbiAgYCxcbiAgXCJjaGV2cm9uLXJpZ2h0XCI6IGBcbiAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgY2xhc3M9XCJiaSBiaS1jaGV2cm9uLXJpZ2h0XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxuICAgICAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNNC42NDYgMS42NDZhLjUuNSAwIDAgMSAuNzA4IDBsNiA2YS41LjUgMCAwIDEgMCAuNzA4bC02IDZhLjUuNSAwIDAgMS0uNzA4LS43MDhMMTAuMjkzIDggNC42NDYgMi4zNTRhLjUuNSAwIDAgMSAwLS43MDh6XCIvPlxuICAgIDwvc3ZnPlxuICBgLFxuICBjb3B5OiBgXG4gICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGNsYXNzPVwiYmkgYmktY29weVwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj5cbiAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTQgMmEyIDIgMCAwIDEgMi0yaDhhMiAyIDAgMCAxIDIgMnY4YTIgMiAwIDAgMS0yIDJINmEyIDIgMCAwIDEtMi0yVjJabTItMWExIDEgMCAwIDAtMSAxdjhhMSAxIDAgMCAwIDEgMWg4YTEgMSAwIDAgMCAxLTFWMmExIDEgMCAwIDAtMS0xSDZaTTIgNWExIDEgMCAwIDAtMSAxdjhhMSAxIDAgMCAwIDEgMWg4YTEgMSAwIDAgMCAxLTF2LTFoMXYxYTIgMiAwIDAgMS0yIDJIMmEyIDIgMCAwIDEtMi0yVjZhMiAyIDAgMCAxIDItMmgxdjFIMlpcIi8+XG4gICAgPC9zdmc+XG4gIGAsXG4gIGV5ZTogYFxuICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBjbGFzcz1cImJpIGJpLWV5ZVwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj5cbiAgICAgIDxwYXRoIGQ9XCJNMTYgOHMtMy01LjUtOC01LjVTMCA4IDAgOHMzIDUuNSA4IDUuNVMxNiA4IDE2IDh6TTEuMTczIDhhMTMuMTMzIDEzLjEzMyAwIDAgMSAxLjY2LTIuMDQzQzQuMTIgNC42NjggNS44OCAzLjUgOCAzLjVjMi4xMiAwIDMuODc5IDEuMTY4IDUuMTY4IDIuNDU3QTEzLjEzMyAxMy4xMzMgMCAwIDEgMTQuODI4IDhjLS4wNTguMDg3LS4xMjIuMTgzLS4xOTUuMjg4LS4zMzUuNDgtLjgzIDEuMTItMS40NjUgMS43NTVDMTEuODc5IDExLjMzMiAxMC4xMTkgMTIuNSA4IDEyLjVjLTIuMTIgMC0zLjg3OS0xLjE2OC01LjE2OC0yLjQ1N0ExMy4xMzQgMTMuMTM0IDAgMCAxIDEuMTcyIDh6XCIvPlxuICAgICAgPHBhdGggZD1cIk04IDUuNWEyLjUgMi41IDAgMSAwIDAgNSAyLjUgMi41IDAgMCAwIDAtNXpNNC41IDhhMy41IDMuNSAwIDEgMSA3IDAgMy41IDMuNSAwIDAgMS03IDB6XCIvPlxuICAgIDwvc3ZnPlxuICBgLFxuICBcImV5ZS1zbGFzaFwiOiBgXG4gICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGNsYXNzPVwiYmkgYmktZXllLXNsYXNoXCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxuICAgICAgPHBhdGggZD1cIk0xMy4zNTkgMTEuMjM4QzE1LjA2IDkuNzIgMTYgOCAxNiA4cy0zLTUuNS04LTUuNWE3LjAyOCA3LjAyOCAwIDAgMC0yLjc5LjU4OGwuNzcuNzcxQTUuOTQ0IDUuOTQ0IDAgMCAxIDggMy41YzIuMTIgMCAzLjg3OSAxLjE2OCA1LjE2OCAyLjQ1N0ExMy4xMzQgMTMuMTM0IDAgMCAxIDE0LjgyOCA4Yy0uMDU4LjA4Ny0uMTIyLjE4My0uMTk1LjI4OC0uMzM1LjQ4LS44MyAxLjEyLTEuNDY1IDEuNzU1LS4xNjUuMTY1LS4zMzcuMzI4LS41MTcuNDg2bC43MDguNzA5elwiLz5cbiAgICAgIDxwYXRoIGQ9XCJNMTEuMjk3IDkuMTc2YTMuNSAzLjUgMCAwIDAtNC40NzQtNC40NzRsLjgyMy44MjNhMi41IDIuNSAwIDAgMSAyLjgyOSAyLjgyOWwuODIyLjgyMnptLTIuOTQzIDEuMjk5LjgyMi44MjJhMy41IDMuNSAwIDAgMS00LjQ3NC00LjQ3NGwuODIzLjgyM2EyLjUgMi41IDAgMCAwIDIuODI5IDIuODI5elwiLz5cbiAgICAgIDxwYXRoIGQ9XCJNMy4zNSA1LjQ3Yy0uMTguMTYtLjM1My4zMjItLjUxOC40ODdBMTMuMTM0IDEzLjEzNCAwIDAgMCAxLjE3MiA4bC4xOTUuMjg4Yy4zMzUuNDguODMgMS4xMiAxLjQ2NSAxLjc1NUM0LjEyMSAxMS4zMzIgNS44ODEgMTIuNSA4IDEyLjVjLjcxNiAwIDEuMzktLjEzMyAyLjAyLS4zNmwuNzcuNzcyQTcuMDI5IDcuMDI5IDAgMCAxIDggMTMuNUMzIDEzLjUgMCA4IDAgOHMuOTM5LTEuNzIxIDIuNjQxLTMuMjM4bC43MDguNzA5em0xMC4yOTYgOC44ODQtMTItMTIgLjcwOC0uNzA4IDEyIDEyLS43MDguNzA4elwiLz5cbiAgICA8L3N2Zz5cbiAgYCxcbiAgZXllZHJvcHBlcjogYFxuICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBjbGFzcz1cImJpIGJpLWV5ZWRyb3BwZXJcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+XG4gICAgICA8cGF0aCBkPVwiTTEzLjM1NC42NDZhMS4yMDcgMS4yMDcgMCAwIDAtMS43MDggMEw4LjUgMy43OTNsLS42NDYtLjY0N2EuNS41IDAgMSAwLS43MDguNzA4TDguMjkzIDVsLTcuMTQ3IDcuMTQ2QS41LjUgMCAwIDAgMSAxMi41djEuNzkzbC0uODU0Ljg1M2EuNS41IDAgMSAwIC43MDguNzA3TDEuNzA3IDE1SDMuNWEuNS41IDAgMCAwIC4zNTQtLjE0NkwxMSA3LjcwN2wxLjE0NiAxLjE0N2EuNS41IDAgMCAwIC43MDgtLjcwOGwtLjY0Ny0uNjQ2IDMuMTQ3LTMuMTQ2YTEuMjA3IDEuMjA3IDAgMCAwIDAtMS43MDhsLTItMnpNMiAxMi43MDdsNy03TDEwLjI5MyA3bC03IDdIMnYtMS4yOTN6XCI+PC9wYXRoPlxuICAgIDwvc3ZnPlxuICBgLFxuICBcImdyaXAtdmVydGljYWxcIjogYFxuICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBjbGFzcz1cImJpIGJpLWdyaXAtdmVydGljYWxcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+XG4gICAgICA8cGF0aCBkPVwiTTcgMmExIDEgMCAxIDEtMiAwIDEgMSAwIDAgMSAyIDB6bTMgMGExIDEgMCAxIDEtMiAwIDEgMSAwIDAgMSAyIDB6TTcgNWExIDEgMCAxIDEtMiAwIDEgMSAwIDAgMSAyIDB6bTMgMGExIDEgMCAxIDEtMiAwIDEgMSAwIDAgMSAyIDB6TTcgOGExIDEgMCAxIDEtMiAwIDEgMSAwIDAgMSAyIDB6bTMgMGExIDEgMCAxIDEtMiAwIDEgMSAwIDAgMSAyIDB6bS0zIDNhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwem0zIDBhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwem0tMyAzYTEgMSAwIDEgMS0yIDAgMSAxIDAgMCAxIDIgMHptMyAwYTEgMSAwIDEgMS0yIDAgMSAxIDAgMCAxIDIgMHpcIj48L3BhdGg+XG4gICAgPC9zdmc+XG4gIGAsXG4gIGluZGV0ZXJtaW5hdGU6IGBcbiAgICA8c3ZnIHBhcnQ9XCJpbmRldGVybWluYXRlLWljb25cIiBjbGFzcz1cImNoZWNrYm94X19pY29uXCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxuICAgICAgPGcgc3Ryb2tlPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjFcIiBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCI+XG4gICAgICAgIDxnIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIj5cbiAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMi4yODU3MTQsIDYuODU3MTQzKVwiPlxuICAgICAgICAgICAgPHBhdGggZD1cIk0xMC4yODU3MTQzLDEuMTQyODU3MTQgTDEuMTQyODU3MTQsMS4xNDI4NTcxNFwiPjwvcGF0aD5cbiAgICAgICAgICA8L2c+XG4gICAgICAgIDwvZz5cbiAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbiAgYCxcbiAgXCJwZXJzb24tZmlsbFwiOiBgXG4gICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGNsYXNzPVwiYmkgYmktcGVyc29uLWZpbGxcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+XG4gICAgICA8cGF0aCBkPVwiTTMgMTRzLTEgMC0xLTEgMS00IDYtNCA2IDMgNiA0LTEgMS0xIDFIM3ptNS02YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnpcIi8+XG4gICAgPC9zdmc+XG4gIGAsXG4gIFwicGxheS1maWxsXCI6IGBcbiAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgY2xhc3M9XCJiaSBiaS1wbGF5LWZpbGxcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+XG4gICAgICA8cGF0aCBkPVwibTExLjU5NiA4LjY5Ny02LjM2MyAzLjY5MmMtLjU0LjMxMy0xLjIzMy0uMDY2LTEuMjMzLS42OTdWNC4zMDhjMC0uNjMuNjkyLTEuMDEgMS4yMzMtLjY5Nmw2LjM2MyAzLjY5MmEuODAyLjgwMiAwIDAgMSAwIDEuMzkzelwiPjwvcGF0aD5cbiAgICA8L3N2Zz5cbiAgYCxcbiAgXCJwYXVzZS1maWxsXCI6IGBcbiAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgY2xhc3M9XCJiaSBiaS1wYXVzZS1maWxsXCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxuICAgICAgPHBhdGggZD1cIk01LjUgMy41QTEuNSAxLjUgMCAwIDEgNyA1djZhMS41IDEuNSAwIDAgMS0zIDBWNWExLjUgMS41IDAgMCAxIDEuNS0xLjV6bTUgMEExLjUgMS41IDAgMCAxIDEyIDV2NmExLjUgMS41IDAgMCAxLTMgMFY1YTEuNSAxLjUgMCAwIDEgMS41LTEuNXpcIj48L3BhdGg+XG4gICAgPC9zdmc+XG4gIGAsXG4gIHJhZGlvOiBgXG4gICAgPHN2ZyBwYXJ0PVwiY2hlY2tlZC1pY29uXCIgY2xhc3M9XCJyYWRpb19faWNvblwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj5cbiAgICAgIDxnIHN0cm9rZT1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCIxXCIgZmlsbD1cIm5vbmVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+XG4gICAgICAgIDxnIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICA8Y2lyY2xlIGN4PVwiOFwiIGN5PVwiOFwiIHI9XCIzLjQyODU3MTQzXCI+PC9jaXJjbGU+XG4gICAgICAgIDwvZz5cbiAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbiAgYCxcbiAgXCJzdGFyLWZpbGxcIjogYFxuICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBjbGFzcz1cImJpIGJpLXN0YXItZmlsbFwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj5cbiAgICAgIDxwYXRoIGQ9XCJNMy42MTIgMTUuNDQzYy0uMzg2LjE5OC0uODI0LS4xNDktLjc0Ni0uNTkybC44My00LjczTC4xNzMgNi43NjVjLS4zMjktLjMxNC0uMTU4LS44ODguMjgzLS45NWw0Ljg5OC0uNjk2TDcuNTM4Ljc5MmMuMTk3LS4zOS43My0uMzkuOTI3IDBsMi4xODQgNC4zMjcgNC44OTguNjk2Yy40NDEuMDYyLjYxMi42MzYuMjgyLjk1bC0zLjUyMiAzLjM1Ni44MyA0LjczYy4wNzguNDQzLS4zNi43OS0uNzQ2LjU5Mkw4IDEzLjE4N2wtNC4zODkgMi4yNTZ6XCIvPlxuICAgIDwvc3ZnPlxuICBgLFxuICBcIngtbGdcIjogYFxuICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBjbGFzcz1cImJpIGJpLXgtbGdcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+XG4gICAgICA8cGF0aCBkPVwiTTIuMTQ2IDIuODU0YS41LjUgMCAxIDEgLjcwOC0uNzA4TDggNy4yOTNsNS4xNDYtNS4xNDdhLjUuNSAwIDAgMSAuNzA4LjcwOEw4LjcwNyA4bDUuMTQ3IDUuMTQ2YS41LjUgMCAwIDEtLjcwOC43MDhMOCA4LjcwN2wtNS4xNDYgNS4xNDdhLjUuNSAwIDAgMS0uNzA4LS43MDhMNy4yOTMgOCAyLjE0NiAyLjg1NFpcIi8+XG4gICAgPC9zdmc+XG4gIGAsXG4gIFwieC1jaXJjbGUtZmlsbFwiOiBgXG4gICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGNsYXNzPVwiYmkgYmkteC1jaXJjbGUtZmlsbFwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj5cbiAgICAgIDxwYXRoIGQ9XCJNMTYgOEE4IDggMCAxIDEgMCA4YTggOCAwIDAgMSAxNiAwek01LjM1NCA0LjY0NmEuNS41IDAgMSAwLS43MDguNzA4TDcuMjkzIDhsLTIuNjQ3IDIuNjQ2YS41LjUgMCAwIDAgLjcwOC43MDhMOCA4LjcwN2wyLjY0NiAyLjY0N2EuNS41IDAgMCAwIC43MDgtLjcwOEw4LjcwNyA4bDIuNjQ3LTIuNjQ2YS41LjUgMCAwIDAtLjcwOC0uNzA4TDggNy4yOTMgNS4zNTQgNC42NDZ6XCI+PC9wYXRoPlxuICAgIDwvc3ZnPlxuICBgXG59O1xudmFyIHN5c3RlbUxpYnJhcnkgPSB7XG4gIG5hbWU6IFwic3lzdGVtXCIsXG4gIHJlc29sdmVyOiAobmFtZSkgPT4ge1xuICAgIGlmIChuYW1lIGluIGljb25zKSB7XG4gICAgICByZXR1cm4gYGRhdGE6aW1hZ2Uvc3ZnK3htbCwke2VuY29kZVVSSUNvbXBvbmVudChpY29uc1tuYW1lXSl9YDtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbn07XG52YXIgbGlicmFyeV9zeXN0ZW1fZGVmYXVsdCA9IHN5c3RlbUxpYnJhcnk7XG5cbmV4cG9ydCB7XG4gIGxpYnJhcnlfc3lzdGVtX2RlZmF1bHRcbn07XG4iLCAiaW1wb3J0IHtcbiAgbGlicmFyeV9kZWZhdWx0X2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmsuUDdaRzZFTVIuanNcIjtcbmltcG9ydCB7XG4gIGxpYnJhcnlfc3lzdGVtX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmsuM1RGS1M2MzcuanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvaWNvbi9saWJyYXJ5LnRzXG52YXIgcmVnaXN0cnkgPSBbbGlicmFyeV9kZWZhdWx0X2RlZmF1bHQsIGxpYnJhcnlfc3lzdGVtX2RlZmF1bHRdO1xudmFyIHdhdGNoZWRJY29ucyA9IFtdO1xuZnVuY3Rpb24gd2F0Y2hJY29uKGljb24pIHtcbiAgd2F0Y2hlZEljb25zLnB1c2goaWNvbik7XG59XG5mdW5jdGlvbiB1bndhdGNoSWNvbihpY29uKSB7XG4gIHdhdGNoZWRJY29ucyA9IHdhdGNoZWRJY29ucy5maWx0ZXIoKGVsKSA9PiBlbCAhPT0gaWNvbik7XG59XG5mdW5jdGlvbiBnZXRJY29uTGlicmFyeShuYW1lKSB7XG4gIHJldHVybiByZWdpc3RyeS5maW5kKChsaWIpID0+IGxpYi5uYW1lID09PSBuYW1lKTtcbn1cbmZ1bmN0aW9uIHJlZ2lzdGVySWNvbkxpYnJhcnkobmFtZSwgb3B0aW9ucykge1xuICB1bnJlZ2lzdGVySWNvbkxpYnJhcnkobmFtZSk7XG4gIHJlZ2lzdHJ5LnB1c2goe1xuICAgIG5hbWUsXG4gICAgcmVzb2x2ZXI6IG9wdGlvbnMucmVzb2x2ZXIsXG4gICAgbXV0YXRvcjogb3B0aW9ucy5tdXRhdG9yLFxuICAgIHNwcml0ZVNoZWV0OiBvcHRpb25zLnNwcml0ZVNoZWV0XG4gIH0pO1xuICB3YXRjaGVkSWNvbnMuZm9yRWFjaCgoaWNvbikgPT4ge1xuICAgIGlmIChpY29uLmxpYnJhcnkgPT09IG5hbWUpIHtcbiAgICAgIGljb24uc2V0SWNvbigpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiB1bnJlZ2lzdGVySWNvbkxpYnJhcnkobmFtZSkge1xuICByZWdpc3RyeSA9IHJlZ2lzdHJ5LmZpbHRlcigobGliKSA9PiBsaWIubmFtZSAhPT0gbmFtZSk7XG59XG5cbmV4cG9ydCB7XG4gIHdhdGNoSWNvbixcbiAgdW53YXRjaEljb24sXG4gIGdldEljb25MaWJyYXJ5LFxuICByZWdpc3Rlckljb25MaWJyYXJ5LFxuICB1bnJlZ2lzdGVySWNvbkxpYnJhcnlcbn07XG4iLCAiLy8gc3JjL2NvbXBvbmVudHMvaWNvbi9pY29uLnN0eWxlcy50c1xuaW1wb3J0IHsgY3NzIH0gZnJvbSBcImxpdFwiO1xudmFyIGljb25fc3R5bGVzX2RlZmF1bHQgPSBjc3NgXG4gIDpob3N0IHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgd2lkdGg6IDFlbTtcbiAgICBoZWlnaHQ6IDFlbTtcbiAgICBib3gtc2l6aW5nOiBjb250ZW50LWJveCAhaW1wb3J0YW50O1xuICB9XG5cbiAgc3ZnIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbmA7XG5cbmV4cG9ydCB7XG4gIGljb25fc3R5bGVzX2RlZmF1bHRcbn07XG4iLCAiaW1wb3J0IHtcbiAgX19zcHJlYWRWYWx1ZXNcbn0gZnJvbSBcIi4vY2h1bmsuSUZEV002UDQuanNcIjtcblxuLy8gc3JjL2ludGVybmFsL3dhdGNoLnRzXG5mdW5jdGlvbiB3YXRjaChwcm9wZXJ0eU5hbWUsIG9wdGlvbnMpIHtcbiAgY29uc3QgcmVzb2x2ZWRPcHRpb25zID0gX19zcHJlYWRWYWx1ZXMoe1xuICAgIHdhaXRVbnRpbEZpcnN0VXBkYXRlOiBmYWxzZVxuICB9LCBvcHRpb25zKTtcbiAgcmV0dXJuIChwcm90bywgZGVjb3JhdGVkRm5OYW1lKSA9PiB7XG4gICAgY29uc3QgeyB1cGRhdGUgfSA9IHByb3RvO1xuICAgIGNvbnN0IHdhdGNoZWRQcm9wZXJ0aWVzID0gQXJyYXkuaXNBcnJheShwcm9wZXJ0eU5hbWUpID8gcHJvcGVydHlOYW1lIDogW3Byb3BlcnR5TmFtZV07XG4gICAgcHJvdG8udXBkYXRlID0gZnVuY3Rpb24oY2hhbmdlZFByb3BzKSB7XG4gICAgICB3YXRjaGVkUHJvcGVydGllcy5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBwcm9wZXJ0eTtcbiAgICAgICAgaWYgKGNoYW5nZWRQcm9wcy5oYXMoa2V5KSkge1xuICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gY2hhbmdlZFByb3BzLmdldChrZXkpO1xuICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdGhpc1trZXldO1xuICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghcmVzb2x2ZWRPcHRpb25zLndhaXRVbnRpbEZpcnN0VXBkYXRlIHx8IHRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgICAgICAgICB0aGlzW2RlY29yYXRlZEZuTmFtZV0ob2xkVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdXBkYXRlLmNhbGwodGhpcywgY2hhbmdlZFByb3BzKTtcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQge1xuICB3YXRjaFxufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuaW1wb3J0IHtcbiAgXyRMSCxcbiAgUGFydCxcbiAgRGlyZWN0aXZlUGFyZW50LFxuICBDb21waWxlZFRlbXBsYXRlUmVzdWx0LFxuICBNYXliZUNvbXBpbGVkVGVtcGxhdGVSZXN1bHQsXG4gIFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdCxcbn0gZnJvbSAnLi9saXQtaHRtbC5qcyc7XG5pbXBvcnQge1xuICBEaXJlY3RpdmVSZXN1bHQsXG4gIERpcmVjdGl2ZUNsYXNzLFxuICBQYXJ0SW5mbyxcbiAgQXR0cmlidXRlUGFydEluZm8sXG59IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcbnR5cGUgUHJpbWl0aXZlID0gbnVsbCB8IHVuZGVmaW5lZCB8IGJvb2xlYW4gfCBudW1iZXIgfCBzdHJpbmcgfCBzeW1ib2wgfCBiaWdpbnQ7XG5cbmNvbnN0IHtfQ2hpbGRQYXJ0OiBDaGlsZFBhcnR9ID0gXyRMSDtcblxudHlwZSBDaGlsZFBhcnQgPSBJbnN0YW5jZVR5cGU8dHlwZW9mIENoaWxkUGFydD47XG5cbmNvbnN0IEVOQUJMRV9TSEFEWURPTV9OT1BBVENIID0gdHJ1ZTtcblxuY29uc3Qgd3JhcCA9XG4gIEVOQUJMRV9TSEFEWURPTV9OT1BBVENIICYmXG4gIHdpbmRvdy5TaGFkeURPTT8uaW5Vc2UgJiZcbiAgd2luZG93LlNoYWR5RE9NPy5ub1BhdGNoID09PSB0cnVlXG4gICAgPyB3aW5kb3cuU2hhZHlET00hLndyYXBcbiAgICA6IChub2RlOiBOb2RlKSA9PiBub2RlO1xuXG4vKipcbiAqIFRlc3RzIGlmIGEgdmFsdWUgaXMgYSBwcmltaXRpdmUgdmFsdWUuXG4gKlxuICogU2VlIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXR5cGVvZi1vcGVyYXRvclxuICovXG5leHBvcnQgY29uc3QgaXNQcmltaXRpdmUgPSAodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBQcmltaXRpdmUgPT5cbiAgdmFsdWUgPT09IG51bGwgfHwgKHR5cGVvZiB2YWx1ZSAhPSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUgIT0gJ2Z1bmN0aW9uJyk7XG5cbmV4cG9ydCBjb25zdCBUZW1wbGF0ZVJlc3VsdFR5cGUgPSB7XG4gIEhUTUw6IDEsXG4gIFNWRzogMixcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIFRlbXBsYXRlUmVzdWx0VHlwZSA9XG4gICh0eXBlb2YgVGVtcGxhdGVSZXN1bHRUeXBlKVtrZXlvZiB0eXBlb2YgVGVtcGxhdGVSZXN1bHRUeXBlXTtcblxudHlwZSBJc1RlbXBsYXRlUmVzdWx0ID0ge1xuICAodmFsOiB1bmtub3duKTogdmFsIGlzIE1heWJlQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdDtcbiAgPFQgZXh0ZW5kcyBUZW1wbGF0ZVJlc3VsdFR5cGU+KFxuICAgIHZhbDogdW5rbm93bixcbiAgICB0eXBlOiBUXG4gICk6IHZhbCBpcyBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQ8VD47XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIGEgdmFsdWUgaXMgYSBUZW1wbGF0ZVJlc3VsdCBvciBhIENvbXBpbGVkVGVtcGxhdGVSZXN1bHQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1RlbXBsYXRlUmVzdWx0OiBJc1RlbXBsYXRlUmVzdWx0ID0gKFxuICB2YWx1ZTogdW5rbm93bixcbiAgdHlwZT86IFRlbXBsYXRlUmVzdWx0VHlwZVxuKTogdmFsdWUgaXMgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0ID0+XG4gIHR5cGUgPT09IHVuZGVmaW5lZFxuICAgID8gLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAgICh2YWx1ZSBhcyBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQpPy5bJ18kbGl0VHlwZSQnXSAhPT0gdW5kZWZpbmVkXG4gICAgOiAodmFsdWUgYXMgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0KT8uWydfJGxpdFR5cGUkJ10gPT09IHR5cGU7XG5cbi8qKlxuICogVGVzdHMgaWYgYSB2YWx1ZSBpcyBhIENvbXBpbGVkVGVtcGxhdGVSZXN1bHQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0NvbXBpbGVkVGVtcGxhdGVSZXN1bHQgPSAoXG4gIHZhbHVlOiB1bmtub3duXG4pOiB2YWx1ZSBpcyBDb21waWxlZFRlbXBsYXRlUmVzdWx0ID0+IHtcbiAgcmV0dXJuICh2YWx1ZSBhcyBDb21waWxlZFRlbXBsYXRlUmVzdWx0KT8uWydfJGxpdFR5cGUkJ10/LmggIT0gbnVsbDtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgYSB2YWx1ZSBpcyBhIERpcmVjdGl2ZVJlc3VsdC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzRGlyZWN0aXZlUmVzdWx0ID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgRGlyZWN0aXZlUmVzdWx0ID0+XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICh2YWx1ZSBhcyBEaXJlY3RpdmVSZXN1bHQpPy5bJ18kbGl0RGlyZWN0aXZlJCddICE9PSB1bmRlZmluZWQ7XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBEaXJlY3RpdmUgY2xhc3MgZm9yIGEgRGlyZWN0aXZlUmVzdWx0XG4gKi9cbmV4cG9ydCBjb25zdCBnZXREaXJlY3RpdmVDbGFzcyA9ICh2YWx1ZTogdW5rbm93bik6IERpcmVjdGl2ZUNsYXNzIHwgdW5kZWZpbmVkID0+XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICh2YWx1ZSBhcyBEaXJlY3RpdmVSZXN1bHQpPy5bJ18kbGl0RGlyZWN0aXZlJCddO1xuXG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgYSBwYXJ0IGhhcyBvbmx5IGEgc2luZ2xlLWV4cHJlc3Npb24gd2l0aCBubyBzdHJpbmdzIHRvXG4gKiBpbnRlcnBvbGF0ZSBiZXR3ZWVuLlxuICpcbiAqIE9ubHkgQXR0cmlidXRlUGFydCBhbmQgUHJvcGVydHlQYXJ0IGNhbiBoYXZlIG11bHRpcGxlIGV4cHJlc3Npb25zLlxuICogTXVsdGktZXhwcmVzc2lvbiBwYXJ0cyBoYXZlIGEgYHN0cmluZ3NgIHByb3BlcnR5IGFuZCBzaW5nbGUtZXhwcmVzc2lvblxuICogcGFydHMgZG8gbm90LlxuICovXG5leHBvcnQgY29uc3QgaXNTaW5nbGVFeHByZXNzaW9uID0gKHBhcnQ6IFBhcnRJbmZvKSA9PlxuICAocGFydCBhcyBBdHRyaWJ1dGVQYXJ0SW5mbykuc3RyaW5ncyA9PT0gdW5kZWZpbmVkO1xuXG5jb25zdCBjcmVhdGVNYXJrZXIgPSAoKSA9PiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcblxuLyoqXG4gKiBJbnNlcnRzIGEgQ2hpbGRQYXJ0IGludG8gdGhlIGdpdmVuIGNvbnRhaW5lciBDaGlsZFBhcnQncyBET00sIGVpdGhlciBhdCB0aGVcbiAqIGVuZCBvZiB0aGUgY29udGFpbmVyIENoaWxkUGFydCwgb3IgYmVmb3JlIHRoZSBvcHRpb25hbCBgcmVmUGFydGAuXG4gKlxuICogVGhpcyBkb2VzIG5vdCBhZGQgdGhlIHBhcnQgdG8gdGhlIGNvbnRhaW5lclBhcnQncyBjb21taXR0ZWQgdmFsdWUuIFRoYXQgbXVzdFxuICogYmUgZG9uZSBieSBjYWxsZXJzLlxuICpcbiAqIEBwYXJhbSBjb250YWluZXJQYXJ0IFBhcnQgd2l0aGluIHdoaWNoIHRvIGFkZCB0aGUgbmV3IENoaWxkUGFydFxuICogQHBhcmFtIHJlZlBhcnQgUGFydCBiZWZvcmUgd2hpY2ggdG8gYWRkIHRoZSBuZXcgQ2hpbGRQYXJ0OyB3aGVuIG9taXR0ZWQgdGhlXG4gKiAgICAgcGFydCBhZGRlZCB0byB0aGUgZW5kIG9mIHRoZSBgY29udGFpbmVyUGFydGBcbiAqIEBwYXJhbSBwYXJ0IFBhcnQgdG8gaW5zZXJ0LCBvciB1bmRlZmluZWQgdG8gY3JlYXRlIGEgbmV3IHBhcnRcbiAqL1xuZXhwb3J0IGNvbnN0IGluc2VydFBhcnQgPSAoXG4gIGNvbnRhaW5lclBhcnQ6IENoaWxkUGFydCxcbiAgcmVmUGFydD86IENoaWxkUGFydCxcbiAgcGFydD86IENoaWxkUGFydFxuKTogQ2hpbGRQYXJ0ID0+IHtcbiAgY29uc3QgY29udGFpbmVyID0gd3JhcChjb250YWluZXJQYXJ0Ll8kc3RhcnROb2RlKS5wYXJlbnROb2RlITtcblxuICBjb25zdCByZWZOb2RlID1cbiAgICByZWZQYXJ0ID09PSB1bmRlZmluZWQgPyBjb250YWluZXJQYXJ0Ll8kZW5kTm9kZSA6IHJlZlBhcnQuXyRzdGFydE5vZGU7XG5cbiAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHN0YXJ0Tm9kZSA9IHdyYXAoY29udGFpbmVyKS5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIHJlZk5vZGUpO1xuICAgIGNvbnN0IGVuZE5vZGUgPSB3cmFwKGNvbnRhaW5lcikuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCByZWZOb2RlKTtcbiAgICBwYXJ0ID0gbmV3IENoaWxkUGFydChcbiAgICAgIHN0YXJ0Tm9kZSxcbiAgICAgIGVuZE5vZGUsXG4gICAgICBjb250YWluZXJQYXJ0LFxuICAgICAgY29udGFpbmVyUGFydC5vcHRpb25zXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBlbmROb2RlID0gd3JhcChwYXJ0Ll8kZW5kTm9kZSEpLm5leHRTaWJsaW5nO1xuICAgIGNvbnN0IG9sZFBhcmVudCA9IHBhcnQuXyRwYXJlbnQ7XG4gICAgY29uc3QgcGFyZW50Q2hhbmdlZCA9IG9sZFBhcmVudCAhPT0gY29udGFpbmVyUGFydDtcbiAgICBpZiAocGFyZW50Q2hhbmdlZCkge1xuICAgICAgcGFydC5fJHJlcGFyZW50RGlzY29ubmVjdGFibGVzPy4oY29udGFpbmVyUGFydCk7XG4gICAgICAvLyBOb3RlIHRoYXQgYWx0aG91Z2ggYF8kcmVwYXJlbnREaXNjb25uZWN0YWJsZXNgIHVwZGF0ZXMgdGhlIHBhcnQnc1xuICAgICAgLy8gYF8kcGFyZW50YCByZWZlcmVuY2UgYWZ0ZXIgdW5saW5raW5nIGZyb20gaXRzIGN1cnJlbnQgcGFyZW50LCB0aGF0XG4gICAgICAvLyBtZXRob2Qgb25seSBleGlzdHMgaWYgRGlzY29ubmVjdGFibGVzIGFyZSBwcmVzZW50LCBzbyB3ZSBuZWVkIHRvXG4gICAgICAvLyB1bmNvbmRpdGlvbmFsbHkgc2V0IGl0IGhlcmVcbiAgICAgIHBhcnQuXyRwYXJlbnQgPSBjb250YWluZXJQYXJ0O1xuICAgICAgLy8gU2luY2UgdGhlIF8kaXNDb25uZWN0ZWQgZ2V0dGVyIGlzIHNvbWV3aGF0IGNvc3RseSwgb25seVxuICAgICAgLy8gcmVhZCBpdCBvbmNlIHdlIGtub3cgdGhlIHN1YnRyZWUgaGFzIGRpcmVjdGl2ZXMgdGhhdCBuZWVkXG4gICAgICAvLyB0byBiZSBub3RpZmllZFxuICAgICAgbGV0IG5ld0Nvbm5lY3Rpb25TdGF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgcGFydC5fJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgKG5ld0Nvbm5lY3Rpb25TdGF0ZSA9IGNvbnRhaW5lclBhcnQuXyRpc0Nvbm5lY3RlZCkgIT09XG4gICAgICAgICAgb2xkUGFyZW50IS5fJGlzQ29ubmVjdGVkXG4gICAgICApIHtcbiAgICAgICAgcGFydC5fJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkKG5ld0Nvbm5lY3Rpb25TdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmROb2RlICE9PSByZWZOb2RlIHx8IHBhcmVudENoYW5nZWQpIHtcbiAgICAgIGxldCBzdGFydDogTm9kZSB8IG51bGwgPSBwYXJ0Ll8kc3RhcnROb2RlO1xuICAgICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmROb2RlKSB7XG4gICAgICAgIGNvbnN0IG46IE5vZGUgfCBudWxsID0gd3JhcChzdGFydCEpLm5leHRTaWJsaW5nO1xuICAgICAgICB3cmFwKGNvbnRhaW5lcikuaW5zZXJ0QmVmb3JlKHN0YXJ0ISwgcmVmTm9kZSk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFydDtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgb2YgYSBQYXJ0LlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgdG8gc2V0L3VwZGF0ZSB0aGUgdmFsdWUgb2YgdXNlci1jcmVhdGVkXG4gKiBwYXJ0cyAoaS5lLiB0aG9zZSBjcmVhdGVkIHVzaW5nIGBpbnNlcnRQYXJ0YCk7IGl0IHNob3VsZCBub3QgYmUgdXNlZFxuICogYnkgZGlyZWN0aXZlcyB0byBzZXQgdGhlIHZhbHVlIG9mIHRoZSBkaXJlY3RpdmUncyBjb250YWluZXIgcGFydC4gRGlyZWN0aXZlc1xuICogc2hvdWxkIHJldHVybiBhIHZhbHVlIGZyb20gYHVwZGF0ZWAvYHJlbmRlcmAgdG8gdXBkYXRlIHRoZWlyIHBhcnQgc3RhdGUuXG4gKlxuICogRm9yIGRpcmVjdGl2ZXMgdGhhdCByZXF1aXJlIHNldHRpbmcgdGhlaXIgcGFydCB2YWx1ZSBhc3luY2hyb25vdXNseSwgdGhleVxuICogc2hvdWxkIGV4dGVuZCBgQXN5bmNEaXJlY3RpdmVgIGFuZCBjYWxsIGB0aGlzLnNldFZhbHVlKClgLlxuICpcbiAqIEBwYXJhbSBwYXJ0IFBhcnQgdG8gc2V0XG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gc2V0XG4gKiBAcGFyYW0gaW5kZXggRm9yIGBBdHRyaWJ1dGVQYXJ0YHMsIHRoZSBpbmRleCB0byBzZXRcbiAqIEBwYXJhbSBkaXJlY3RpdmVQYXJlbnQgVXNlZCBpbnRlcm5hbGx5OyBzaG91bGQgbm90IGJlIHNldCBieSB1c2VyXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRDaGlsZFBhcnRWYWx1ZSA9IDxUIGV4dGVuZHMgQ2hpbGRQYXJ0PihcbiAgcGFydDogVCxcbiAgdmFsdWU6IHVua25vd24sXG4gIGRpcmVjdGl2ZVBhcmVudDogRGlyZWN0aXZlUGFyZW50ID0gcGFydFxuKTogVCA9PiB7XG4gIHBhcnQuXyRzZXRWYWx1ZSh2YWx1ZSwgZGlyZWN0aXZlUGFyZW50KTtcbiAgcmV0dXJuIHBhcnQ7XG59O1xuXG4vLyBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgY2FuIG5ldmVyIGFwcGVhciBhcyBhIHBhcnQgdmFsdWUgZXhjZXB0IHdoZW4gc2V0IGJ5XG4vLyBsaXZlKCkuIFVzZWQgdG8gZm9yY2UgYSBkaXJ0eS1jaGVjayB0byBmYWlsIGFuZCBjYXVzZSBhIHJlLXJlbmRlci5cbmNvbnN0IFJFU0VUX1ZBTFVFID0ge307XG5cbi8qKlxuICogU2V0cyB0aGUgY29tbWl0dGVkIHZhbHVlIG9mIGEgQ2hpbGRQYXJ0IGRpcmVjdGx5IHdpdGhvdXQgdHJpZ2dlcmluZyB0aGVcbiAqIGNvbW1pdCBzdGFnZSBvZiB0aGUgcGFydC5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBpbiBjYXNlcyB3aGVyZSBhIGRpcmVjdGl2ZSBuZWVkcyB0byB1cGRhdGUgdGhlIHBhcnQgc3VjaFxuICogdGhhdCB0aGUgbmV4dCB1cGRhdGUgZGV0ZWN0cyBhIHZhbHVlIGNoYW5nZSBvciBub3QuIFdoZW4gdmFsdWUgaXMgb21pdHRlZCxcbiAqIHRoZSBuZXh0IHVwZGF0ZSB3aWxsIGJlIGd1YXJhbnRlZWQgdG8gYmUgZGV0ZWN0ZWQgYXMgYSBjaGFuZ2UuXG4gKlxuICogQHBhcmFtIHBhcnRcbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5leHBvcnQgY29uc3Qgc2V0Q29tbWl0dGVkVmFsdWUgPSAocGFydDogUGFydCwgdmFsdWU6IHVua25vd24gPSBSRVNFVF9WQUxVRSkgPT5cbiAgKHBhcnQuXyRjb21taXR0ZWRWYWx1ZSA9IHZhbHVlKTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb21taXR0ZWQgdmFsdWUgb2YgYSBDaGlsZFBhcnQuXG4gKlxuICogVGhlIGNvbW1pdHRlZCB2YWx1ZSBpcyB1c2VkIGZvciBjaGFuZ2UgZGV0ZWN0aW9uIGFuZCBlZmZpY2llbnQgdXBkYXRlcyBvZlxuICogdGhlIHBhcnQuIEl0IGNhbiBkaWZmZXIgZnJvbSB0aGUgdmFsdWUgc2V0IGJ5IHRoZSB0ZW1wbGF0ZSBvciBkaXJlY3RpdmUgaW5cbiAqIGNhc2VzIHdoZXJlIHRoZSB0ZW1wbGF0ZSB2YWx1ZSBpcyB0cmFuc2Zvcm1lZCBiZWZvcmUgYmVpbmcgY29tbWl0dGVkLlxuICpcbiAqIC0gYFRlbXBsYXRlUmVzdWx0YHMgYXJlIGNvbW1pdHRlZCBhcyBhIGBUZW1wbGF0ZUluc3RhbmNlYFxuICogLSBJdGVyYWJsZXMgYXJlIGNvbW1pdHRlZCBhcyBgQXJyYXk8Q2hpbGRQYXJ0PmBcbiAqIC0gQWxsIG90aGVyIHR5cGVzIGFyZSBjb21taXR0ZWQgYXMgdGhlIHRlbXBsYXRlIHZhbHVlIG9yIHZhbHVlIHJldHVybmVkIG9yXG4gKiAgIHNldCBieSBhIGRpcmVjdGl2ZS5cbiAqXG4gKiBAcGFyYW0gcGFydFxuICovXG5leHBvcnQgY29uc3QgZ2V0Q29tbWl0dGVkVmFsdWUgPSAocGFydDogQ2hpbGRQYXJ0KSA9PiBwYXJ0Ll8kY29tbWl0dGVkVmFsdWU7XG5cbi8qKlxuICogUmVtb3ZlcyBhIENoaWxkUGFydCBmcm9tIHRoZSBET00sIGluY2x1ZGluZyBhbnkgb2YgaXRzIGNvbnRlbnQuXG4gKlxuICogQHBhcmFtIHBhcnQgVGhlIFBhcnQgdG8gcmVtb3ZlXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVQYXJ0ID0gKHBhcnQ6IENoaWxkUGFydCkgPT4ge1xuICBwYXJ0Ll8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQ/LihmYWxzZSwgdHJ1ZSk7XG4gIGxldCBzdGFydDogQ2hpbGROb2RlIHwgbnVsbCA9IHBhcnQuXyRzdGFydE5vZGU7XG4gIGNvbnN0IGVuZDogQ2hpbGROb2RlIHwgbnVsbCA9IHdyYXAocGFydC5fJGVuZE5vZGUhKS5uZXh0U2libGluZztcbiAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICBjb25zdCBuOiBDaGlsZE5vZGUgfCBudWxsID0gd3JhcChzdGFydCEpLm5leHRTaWJsaW5nO1xuICAgICh3cmFwKHN0YXJ0ISkgYXMgQ2hpbGROb2RlKS5yZW1vdmUoKTtcbiAgICBzdGFydCA9IG47XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjbGVhclBhcnQgPSAocGFydDogQ2hpbGRQYXJ0KSA9PiB7XG4gIHBhcnQuXyRjbGVhcigpO1xufTtcbiIsICJpbXBvcnQge1xuICBnZXRJY29uTGlicmFyeSxcbiAgdW53YXRjaEljb24sXG4gIHdhdGNoSWNvblxufSBmcm9tIFwiLi9jaHVuay5aTDUzUE9LWi5qc1wiO1xuaW1wb3J0IHtcbiAgaWNvbl9zdHlsZXNfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay5RTFhSQ1lTNC5qc1wiO1xuaW1wb3J0IHtcbiAgd2F0Y2hcbn0gZnJvbSBcIi4vY2h1bmsuMkZCNVRLNUguanNcIjtcbmltcG9ydCB7XG4gIGNvbXBvbmVudF9zdHlsZXNfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay5UVVZKS1k3Uy5qc1wiO1xuaW1wb3J0IHtcbiAgU2hvZWxhY2VFbGVtZW50XG59IGZyb20gXCIuL2NodW5rLlNGU1RYQ1hDLmpzXCI7XG5pbXBvcnQge1xuICBfX2RlY29yYXRlQ2xhc3Ncbn0gZnJvbSBcIi4vY2h1bmsuSUZEV002UDQuanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvaWNvbi9pY29uLmNvbXBvbmVudC50c1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGlzVGVtcGxhdGVSZXN1bHQgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZS1oZWxwZXJzLmpzXCI7XG5pbXBvcnQgeyBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnMuanNcIjtcbnZhciBDQUNIRUFCTEVfRVJST1IgPSBTeW1ib2woKTtcbnZhciBSRVRSWUFCTEVfRVJST1IgPSBTeW1ib2woKTtcbnZhciBwYXJzZXI7XG52YXIgaWNvbkNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbnZhciBTbEljb24gPSBjbGFzcyBleHRlbmRzIFNob2VsYWNlRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5pbml0aWFsUmVuZGVyID0gZmFsc2U7XG4gICAgdGhpcy5zdmcgPSBudWxsO1xuICAgIHRoaXMubGFiZWwgPSBcIlwiO1xuICAgIHRoaXMubGlicmFyeSA9IFwiZGVmYXVsdFwiO1xuICB9XG4gIC8qKiBHaXZlbiBhIFVSTCwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSByZXN1bHRpbmcgU1ZHIGVsZW1lbnQgb3IgYW4gYXBwcm9wcmlhdGUgZXJyb3Igc3ltYm9sLiAqL1xuICBhc3luYyByZXNvbHZlSWNvbih1cmwsIGxpYnJhcnkpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IGZpbGVEYXRhO1xuICAgIGlmIChsaWJyYXJ5ID09IG51bGwgPyB2b2lkIDAgOiBsaWJyYXJ5LnNwcml0ZVNoZWV0KSB7XG4gICAgICB0aGlzLnN2ZyA9IGh0bWxgPHN2ZyBwYXJ0PVwic3ZnXCI+XG4gICAgICAgIDx1c2UgcGFydD1cInVzZVwiIGhyZWY9XCIke3VybH1cIj48L3VzZT5cbiAgICAgIDwvc3ZnPmA7XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICAgICAgY29uc3Qgc3ZnID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCJbcGFydD0nc3ZnJ11cIik7XG4gICAgICBpZiAodHlwZW9mIGxpYnJhcnkubXV0YXRvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGxpYnJhcnkubXV0YXRvcihzdmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3ZnO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgZmlsZURhdGEgPSBhd2FpdCBmZXRjaCh1cmwsIHsgbW9kZTogXCJjb3JzXCIgfSk7XG4gICAgICBpZiAoIWZpbGVEYXRhLm9rKVxuICAgICAgICByZXR1cm4gZmlsZURhdGEuc3RhdHVzID09PSA0MTAgPyBDQUNIRUFCTEVfRVJST1IgOiBSRVRSWUFCTEVfRVJST1I7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIFJFVFJZQUJMRV9FUlJPUjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBkaXYuaW5uZXJIVE1MID0gYXdhaXQgZmlsZURhdGEudGV4dCgpO1xuICAgICAgY29uc3Qgc3ZnID0gZGl2LmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgaWYgKCgoX2EgPSBzdmcgPT0gbnVsbCA/IHZvaWQgMCA6IHN2Zy50YWdOYW1lKSA9PSBudWxsID8gdm9pZCAwIDogX2EudG9Mb3dlckNhc2UoKSkgIT09IFwic3ZnXCIpXG4gICAgICAgIHJldHVybiBDQUNIRUFCTEVfRVJST1I7XG4gICAgICBpZiAoIXBhcnNlcilcbiAgICAgICAgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgY29uc3QgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhzdmcub3V0ZXJIVE1MLCBcInRleHQvaHRtbFwiKTtcbiAgICAgIGNvbnN0IHN2Z0VsID0gZG9jLmJvZHkucXVlcnlTZWxlY3RvcihcInN2Z1wiKTtcbiAgICAgIGlmICghc3ZnRWwpXG4gICAgICAgIHJldHVybiBDQUNIRUFCTEVfRVJST1I7XG4gICAgICBzdmdFbC5wYXJ0LmFkZChcInN2Z1wiKTtcbiAgICAgIHJldHVybiBkb2N1bWVudC5hZG9wdE5vZGUoc3ZnRWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBDQUNIRUFCTEVfRVJST1I7XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgd2F0Y2hJY29uKHRoaXMpO1xuICB9XG4gIGZpcnN0VXBkYXRlZCgpIHtcbiAgICB0aGlzLmluaXRpYWxSZW5kZXIgPSB0cnVlO1xuICAgIHRoaXMuc2V0SWNvbigpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdW53YXRjaEljb24odGhpcyk7XG4gIH1cbiAgZ2V0SWNvblNvdXJjZSgpIHtcbiAgICBjb25zdCBsaWJyYXJ5ID0gZ2V0SWNvbkxpYnJhcnkodGhpcy5saWJyYXJ5KTtcbiAgICBpZiAodGhpcy5uYW1lICYmIGxpYnJhcnkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVybDogbGlicmFyeS5yZXNvbHZlcih0aGlzLm5hbWUpLFxuICAgICAgICBmcm9tTGlicmFyeTogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHVybDogdGhpcy5zcmMsXG4gICAgICBmcm9tTGlicmFyeTogZmFsc2VcbiAgICB9O1xuICB9XG4gIGhhbmRsZUxhYmVsQ2hhbmdlKCkge1xuICAgIGNvbnN0IGhhc0xhYmVsID0gdHlwZW9mIHRoaXMubGFiZWwgPT09IFwic3RyaW5nXCIgJiYgdGhpcy5sYWJlbC5sZW5ndGggPiAwO1xuICAgIGlmIChoYXNMYWJlbCkge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiaW1nXCIpO1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHRoaXMubGFiZWwpO1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJyb2xlXCIpO1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpO1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgfVxuICB9XG4gIGFzeW5jIHNldEljb24oKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHsgdXJsLCBmcm9tTGlicmFyeSB9ID0gdGhpcy5nZXRJY29uU291cmNlKCk7XG4gICAgY29uc3QgbGlicmFyeSA9IGZyb21MaWJyYXJ5ID8gZ2V0SWNvbkxpYnJhcnkodGhpcy5saWJyYXJ5KSA6IHZvaWQgMDtcbiAgICBpZiAoIXVybCkge1xuICAgICAgdGhpcy5zdmcgPSBudWxsO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgaWNvblJlc29sdmVyID0gaWNvbkNhY2hlLmdldCh1cmwpO1xuICAgIGlmICghaWNvblJlc29sdmVyKSB7XG4gICAgICBpY29uUmVzb2x2ZXIgPSB0aGlzLnJlc29sdmVJY29uKHVybCwgbGlicmFyeSk7XG4gICAgICBpY29uQ2FjaGUuc2V0KHVybCwgaWNvblJlc29sdmVyKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmluaXRpYWxSZW5kZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3ZnID0gYXdhaXQgaWNvblJlc29sdmVyO1xuICAgIGlmIChzdmcgPT09IFJFVFJZQUJMRV9FUlJPUikge1xuICAgICAgaWNvbkNhY2hlLmRlbGV0ZSh1cmwpO1xuICAgIH1cbiAgICBpZiAodXJsICE9PSB0aGlzLmdldEljb25Tb3VyY2UoKS51cmwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzVGVtcGxhdGVSZXN1bHQoc3ZnKSkge1xuICAgICAgdGhpcy5zdmcgPSBzdmc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAoc3ZnKSB7XG4gICAgICBjYXNlIFJFVFJZQUJMRV9FUlJPUjpcbiAgICAgIGNhc2UgQ0FDSEVBQkxFX0VSUk9SOlxuICAgICAgICB0aGlzLnN2ZyA9IG51bGw7XG4gICAgICAgIHRoaXMuZW1pdChcInNsLWVycm9yXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuc3ZnID0gc3ZnLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgKF9hID0gbGlicmFyeSA9PSBudWxsID8gdm9pZCAwIDogbGlicmFyeS5tdXRhdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChsaWJyYXJ5LCB0aGlzLnN2Zyk7XG4gICAgICAgIHRoaXMuZW1pdChcInNsLWxvYWRcIik7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdmc7XG4gIH1cbn07XG5TbEljb24uc3R5bGVzID0gW2NvbXBvbmVudF9zdHlsZXNfZGVmYXVsdCwgaWNvbl9zdHlsZXNfZGVmYXVsdF07XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBzdGF0ZSgpXG5dLCBTbEljb24ucHJvdG90eXBlLCBcInN2Z1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xJY29uLnByb3RvdHlwZSwgXCJuYW1lXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoKVxuXSwgU2xJY29uLnByb3RvdHlwZSwgXCJzcmNcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbEljb24ucHJvdG90eXBlLCBcImxhYmVsXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbEljb24ucHJvdG90eXBlLCBcImxpYnJhcnlcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICB3YXRjaChcImxhYmVsXCIpXG5dLCBTbEljb24ucHJvdG90eXBlLCBcImhhbmRsZUxhYmVsQ2hhbmdlXCIsIDEpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgd2F0Y2goW1wibmFtZVwiLCBcInNyY1wiLCBcImxpYnJhcnlcIl0pXG5dLCBTbEljb24ucHJvdG90eXBlLCBcInNldEljb25cIiwgMSk7XG5cbmV4cG9ydCB7XG4gIFNsSWNvblxufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuaW1wb3J0IHtEaXNjb25uZWN0YWJsZSwgUGFydH0gZnJvbSAnLi9saXQtaHRtbC5qcyc7XG5cbmV4cG9ydCB7XG4gIEF0dHJpYnV0ZVBhcnQsXG4gIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0LFxuICBDaGlsZFBhcnQsXG4gIEVsZW1lbnRQYXJ0LFxuICBFdmVudFBhcnQsXG4gIFBhcnQsXG4gIFByb3BlcnR5UGFydCxcbn0gZnJvbSAnLi9saXQtaHRtbC5qcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0aXZlQ2xhc3Mge1xuICBuZXcgKHBhcnQ6IFBhcnRJbmZvKTogRGlyZWN0aXZlO1xufVxuXG4vKipcbiAqIFRoaXMgdXRpbGl0eSB0eXBlIGV4dHJhY3RzIHRoZSBzaWduYXR1cmUgb2YgYSBkaXJlY3RpdmUgY2xhc3MncyByZW5kZXIoKVxuICogbWV0aG9kIHNvIHdlIGNhbiB1c2UgaXQgZm9yIHRoZSB0eXBlIG9mIHRoZSBnZW5lcmF0ZWQgZGlyZWN0aXZlIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgdHlwZSBEaXJlY3RpdmVQYXJhbWV0ZXJzPEMgZXh0ZW5kcyBEaXJlY3RpdmU+ID0gUGFyYW1ldGVyczxDWydyZW5kZXInXT47XG5cbi8qKlxuICogQSBnZW5lcmF0ZWQgZGlyZWN0aXZlIGZ1bmN0aW9uIGRvZXNuJ3QgZXZhbHVhdGUgdGhlIGRpcmVjdGl2ZSwgYnV0IGp1c3RcbiAqIHJldHVybnMgYSBEaXJlY3RpdmVSZXN1bHQgb2JqZWN0IHRoYXQgY2FwdHVyZXMgdGhlIGFyZ3VtZW50cy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEaXJlY3RpdmVSZXN1bHQ8QyBleHRlbmRzIERpcmVjdGl2ZUNsYXNzID0gRGlyZWN0aXZlQ2xhc3M+IHtcbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAqIEBpbnRlcm5hbCAqL1xuICBbJ18kbGl0RGlyZWN0aXZlJCddOiBDO1xuICAvKiogQGludGVybmFsICovXG4gIHZhbHVlczogRGlyZWN0aXZlUGFyYW1ldGVyczxJbnN0YW5jZVR5cGU8Qz4+O1xufVxuXG5leHBvcnQgY29uc3QgUGFydFR5cGUgPSB7XG4gIEFUVFJJQlVURTogMSxcbiAgQ0hJTEQ6IDIsXG4gIFBST1BFUlRZOiAzLFxuICBCT09MRUFOX0FUVFJJQlVURTogNCxcbiAgRVZFTlQ6IDUsXG4gIEVMRU1FTlQ6IDYsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBQYXJ0VHlwZSA9ICh0eXBlb2YgUGFydFR5cGUpW2tleW9mIHR5cGVvZiBQYXJ0VHlwZV07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hpbGRQYXJ0SW5mbyB7XG4gIHJlYWRvbmx5IHR5cGU6IHR5cGVvZiBQYXJ0VHlwZS5DSElMRDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdHRyaWJ1dGVQYXJ0SW5mbyB7XG4gIHJlYWRvbmx5IHR5cGU6XG4gICAgfCB0eXBlb2YgUGFydFR5cGUuQVRUUklCVVRFXG4gICAgfCB0eXBlb2YgUGFydFR5cGUuUFJPUEVSVFlcbiAgICB8IHR5cGVvZiBQYXJ0VHlwZS5CT09MRUFOX0FUVFJJQlVURVxuICAgIHwgdHlwZW9mIFBhcnRUeXBlLkVWRU5UO1xuICByZWFkb25seSBzdHJpbmdzPzogUmVhZG9ubHlBcnJheTxzdHJpbmc+O1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHRhZ05hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbGVtZW50UGFydEluZm8ge1xuICByZWFkb25seSB0eXBlOiB0eXBlb2YgUGFydFR5cGUuRUxFTUVOVDtcbn1cblxuLyoqXG4gKiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgcGFydCBhIGRpcmVjdGl2ZSBpcyBib3VuZCB0by5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY2hlY2tpbmcgdGhhdCBhIGRpcmVjdGl2ZSBpcyBhdHRhY2hlZCB0byBhIHZhbGlkIHBhcnQsXG4gKiBzdWNoIGFzIHdpdGggZGlyZWN0aXZlIHRoYXQgY2FuIG9ubHkgYmUgdXNlZCBvbiBhdHRyaWJ1dGUgYmluZGluZ3MuXG4gKi9cbmV4cG9ydCB0eXBlIFBhcnRJbmZvID0gQ2hpbGRQYXJ0SW5mbyB8IEF0dHJpYnV0ZVBhcnRJbmZvIHwgRWxlbWVudFBhcnRJbmZvO1xuXG4vKipcbiAqIENyZWF0ZXMgYSB1c2VyLWZhY2luZyBkaXJlY3RpdmUgZnVuY3Rpb24gZnJvbSBhIERpcmVjdGl2ZSBjbGFzcy4gVGhpc1xuICogZnVuY3Rpb24gaGFzIHRoZSBzYW1lIHBhcmFtZXRlcnMgYXMgdGhlIGRpcmVjdGl2ZSdzIHJlbmRlcigpIG1ldGhvZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGRpcmVjdGl2ZSA9XG4gIDxDIGV4dGVuZHMgRGlyZWN0aXZlQ2xhc3M+KGM6IEMpID0+XG4gICguLi52YWx1ZXM6IERpcmVjdGl2ZVBhcmFtZXRlcnM8SW5zdGFuY2VUeXBlPEM+Pik6IERpcmVjdGl2ZVJlc3VsdDxDPiA9PiAoe1xuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgWydfJGxpdERpcmVjdGl2ZSQnXTogYyxcbiAgICB2YWx1ZXMsXG4gIH0pO1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGNyZWF0aW5nIGN1c3RvbSBkaXJlY3RpdmVzLiBVc2VycyBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MsXG4gKiBpbXBsZW1lbnQgYHJlbmRlcmAgYW5kL29yIGB1cGRhdGVgLCBhbmQgdGhlbiBwYXNzIHRoZWlyIHN1YmNsYXNzIHRvXG4gKiBgZGlyZWN0aXZlYC5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERpcmVjdGl2ZSBpbXBsZW1lbnRzIERpc2Nvbm5lY3RhYmxlIHtcbiAgLy9AaW50ZXJuYWxcbiAgX19wYXJ0ITogUGFydDtcbiAgLy9AaW50ZXJuYWxcbiAgX19hdHRyaWJ1dGVJbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAvL0BpbnRlcm5hbFxuICBfX2RpcmVjdGl2ZT86IERpcmVjdGl2ZTtcblxuICAvL0BpbnRlcm5hbFxuICBfJHBhcmVudCE6IERpc2Nvbm5lY3RhYmxlO1xuXG4gIC8vIFRoZXNlIHdpbGwgb25seSBleGlzdCBvbiB0aGUgQXN5bmNEaXJlY3RpdmUgc3ViY2xhc3NcbiAgLy9AaW50ZXJuYWxcbiAgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuPzogU2V0PERpc2Nvbm5lY3RhYmxlPjtcbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgLy9AaW50ZXJuYWxcbiAgWydfJG5vdGlmeURpcmVjdGl2ZUNvbm5lY3Rpb25DaGFuZ2VkJ10/KGlzQ29ubmVjdGVkOiBib29sZWFuKTogdm9pZDtcblxuICBjb25zdHJ1Y3RvcihfcGFydEluZm86IFBhcnRJbmZvKSB7fVxuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQuXyRpc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRpbml0aWFsaXplKFxuICAgIHBhcnQ6IFBhcnQsXG4gICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSxcbiAgICBhdHRyaWJ1dGVJbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHRoaXMuX19wYXJ0ID0gcGFydDtcbiAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMuX19hdHRyaWJ1dGVJbmRleCA9IGF0dHJpYnV0ZUluZGV4O1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRyZXNvbHZlKHBhcnQ6IFBhcnQsIHByb3BzOiBBcnJheTx1bmtub3duPik6IHVua25vd24ge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZShwYXJ0LCBwcm9wcyk7XG4gIH1cblxuICBhYnN0cmFjdCByZW5kZXIoLi4ucHJvcHM6IEFycmF5PHVua25vd24+KTogdW5rbm93bjtcblxuICB1cGRhdGUoX3BhcnQ6IFBhcnQsIHByb3BzOiBBcnJheTx1bmtub3duPik6IHVua25vd24ge1xuICAgIHJldHVybiB0aGlzLnJlbmRlciguLi5wcm9wcyk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuaW1wb3J0IHtBdHRyaWJ1dGVQYXJ0LCBub0NoYW5nZX0gZnJvbSAnLi4vbGl0LWh0bWwuanMnO1xuaW1wb3J0IHtcbiAgZGlyZWN0aXZlLFxuICBEaXJlY3RpdmUsXG4gIERpcmVjdGl2ZVBhcmFtZXRlcnMsXG4gIFBhcnRJbmZvLFxuICBQYXJ0VHlwZSxcbn0gZnJvbSAnLi4vZGlyZWN0aXZlLmpzJztcblxuLyoqXG4gKiBBIGtleS12YWx1ZSBzZXQgb2YgY2xhc3MgbmFtZXMgdG8gdHJ1dGh5IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDbGFzc0luZm8ge1xuICByZWFkb25seSBbbmFtZTogc3RyaW5nXTogc3RyaW5nIHwgYm9vbGVhbiB8IG51bWJlcjtcbn1cblxuY2xhc3MgQ2xhc3NNYXBEaXJlY3RpdmUgZXh0ZW5kcyBEaXJlY3RpdmUge1xuICAvKipcbiAgICogU3RvcmVzIHRoZSBDbGFzc0luZm8gb2JqZWN0IGFwcGxpZWQgdG8gYSBnaXZlbiBBdHRyaWJ1dGVQYXJ0LlxuICAgKiBVc2VkIHRvIHVuc2V0IGV4aXN0aW5nIHZhbHVlcyB3aGVuIGEgbmV3IENsYXNzSW5mbyBvYmplY3QgaXMgYXBwbGllZC5cbiAgICovXG4gIHByaXZhdGUgX3ByZXZpb3VzQ2xhc3Nlcz86IFNldDxzdHJpbmc+O1xuICBwcml2YXRlIF9zdGF0aWNDbGFzc2VzPzogU2V0PHN0cmluZz47XG5cbiAgY29uc3RydWN0b3IocGFydEluZm86IFBhcnRJbmZvKSB7XG4gICAgc3VwZXIocGFydEluZm8pO1xuICAgIGlmIChcbiAgICAgIHBhcnRJbmZvLnR5cGUgIT09IFBhcnRUeXBlLkFUVFJJQlVURSB8fFxuICAgICAgcGFydEluZm8ubmFtZSAhPT0gJ2NsYXNzJyB8fFxuICAgICAgKHBhcnRJbmZvLnN0cmluZ3M/Lmxlbmd0aCBhcyBudW1iZXIpID4gMlxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnYGNsYXNzTWFwKClgIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGhlIGBjbGFzc2AgYXR0cmlidXRlICcgK1xuICAgICAgICAgICdhbmQgbXVzdCBiZSB0aGUgb25seSBwYXJ0IGluIHRoZSBhdHRyaWJ1dGUuJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoY2xhc3NJbmZvOiBDbGFzc0luZm8pIHtcbiAgICAvLyBBZGQgc3BhY2VzIHRvIGVuc3VyZSBzZXBhcmF0aW9uIGZyb20gc3RhdGljIGNsYXNzZXNcbiAgICByZXR1cm4gKFxuICAgICAgJyAnICtcbiAgICAgIE9iamVjdC5rZXlzKGNsYXNzSW5mbylcbiAgICAgICAgLmZpbHRlcigoa2V5KSA9PiBjbGFzc0luZm9ba2V5XSlcbiAgICAgICAgLmpvaW4oJyAnKSArXG4gICAgICAnICdcbiAgICApO1xuICB9XG5cbiAgb3ZlcnJpZGUgdXBkYXRlKHBhcnQ6IEF0dHJpYnV0ZVBhcnQsIFtjbGFzc0luZm9dOiBEaXJlY3RpdmVQYXJhbWV0ZXJzPHRoaXM+KSB7XG4gICAgLy8gUmVtZW1iZXIgZHluYW1pYyBjbGFzc2VzIG9uIHRoZSBmaXJzdCByZW5kZXJcbiAgICBpZiAodGhpcy5fcHJldmlvdXNDbGFzc2VzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX3ByZXZpb3VzQ2xhc3NlcyA9IG5ldyBTZXQoKTtcbiAgICAgIGlmIChwYXJ0LnN0cmluZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9zdGF0aWNDbGFzc2VzID0gbmV3IFNldChcbiAgICAgICAgICBwYXJ0LnN0cmluZ3NcbiAgICAgICAgICAgIC5qb2luKCcgJylcbiAgICAgICAgICAgIC5zcGxpdCgvXFxzLylcbiAgICAgICAgICAgIC5maWx0ZXIoKHMpID0+IHMgIT09ICcnKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBuYW1lIGluIGNsYXNzSW5mbykge1xuICAgICAgICBpZiAoY2xhc3NJbmZvW25hbWVdICYmICF0aGlzLl9zdGF0aWNDbGFzc2VzPy5oYXMobmFtZSkpIHtcbiAgICAgICAgICB0aGlzLl9wcmV2aW91c0NsYXNzZXMuYWRkKG5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXIoY2xhc3NJbmZvKTtcbiAgICB9XG5cbiAgICBjb25zdCBjbGFzc0xpc3QgPSBwYXJ0LmVsZW1lbnQuY2xhc3NMaXN0O1xuXG4gICAgLy8gUmVtb3ZlIG9sZCBjbGFzc2VzIHRoYXQgbm8gbG9uZ2VyIGFwcGx5XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIHRoaXMuX3ByZXZpb3VzQ2xhc3Nlcykge1xuICAgICAgaWYgKCEobmFtZSBpbiBjbGFzc0luZm8pKSB7XG4gICAgICAgIGNsYXNzTGlzdC5yZW1vdmUobmFtZSk7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzQ2xhc3NlcyEuZGVsZXRlKG5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBvciByZW1vdmUgY2xhc3NlcyBiYXNlZCBvbiB0aGVpciBjbGFzc01hcCB2YWx1ZVxuICAgIGZvciAoY29uc3QgbmFtZSBpbiBjbGFzc0luZm8pIHtcbiAgICAgIC8vIFdlIGV4cGxpY2l0bHkgd2FudCBhIGxvb3NlIHRydXRoeSBjaGVjayBvZiBgdmFsdWVgIGJlY2F1c2UgaXQgc2VlbXNcbiAgICAgIC8vIG1vcmUgY29udmVuaWVudCB0aGF0ICcnIGFuZCAwIGFyZSBza2lwcGVkLlxuICAgICAgY29uc3QgdmFsdWUgPSAhIWNsYXNzSW5mb1tuYW1lXTtcbiAgICAgIGlmIChcbiAgICAgICAgdmFsdWUgIT09IHRoaXMuX3ByZXZpb3VzQ2xhc3Nlcy5oYXMobmFtZSkgJiZcbiAgICAgICAgIXRoaXMuX3N0YXRpY0NsYXNzZXM/LmhhcyhuYW1lKVxuICAgICAgKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIGNsYXNzTGlzdC5hZGQobmFtZSk7XG4gICAgICAgICAgdGhpcy5fcHJldmlvdXNDbGFzc2VzLmFkZChuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKG5hbWUpO1xuICAgICAgICAgIHRoaXMuX3ByZXZpb3VzQ2xhc3Nlcy5kZWxldGUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vQ2hhbmdlO1xuICB9XG59XG5cbi8qKlxuICogQSBkaXJlY3RpdmUgdGhhdCBhcHBsaWVzIGR5bmFtaWMgQ1NTIGNsYXNzZXMuXG4gKlxuICogVGhpcyBtdXN0IGJlIHVzZWQgaW4gdGhlIGBjbGFzc2AgYXR0cmlidXRlIGFuZCBtdXN0IGJlIHRoZSBvbmx5IHBhcnQgdXNlZCBpblxuICogdGhlIGF0dHJpYnV0ZS4gSXQgdGFrZXMgZWFjaCBwcm9wZXJ0eSBpbiB0aGUgYGNsYXNzSW5mb2AgYXJndW1lbnQgYW5kIGFkZHNcbiAqIHRoZSBwcm9wZXJ0eSBuYW1lIHRvIHRoZSBlbGVtZW50J3MgYGNsYXNzTGlzdGAgaWYgdGhlIHByb3BlcnR5IHZhbHVlIGlzXG4gKiB0cnV0aHk7IGlmIHRoZSBwcm9wZXJ0eSB2YWx1ZSBpcyBmYWxzZXksIHRoZSBwcm9wZXJ0eSBuYW1lIGlzIHJlbW92ZWQgZnJvbVxuICogdGhlIGVsZW1lbnQncyBgY2xhc3NgLlxuICpcbiAqIEZvciBleGFtcGxlIGB7Zm9vOiBiYXJ9YCBhcHBsaWVzIHRoZSBjbGFzcyBgZm9vYCBpZiB0aGUgdmFsdWUgb2YgYGJhcmAgaXNcbiAqIHRydXRoeS5cbiAqXG4gKiBAcGFyYW0gY2xhc3NJbmZvXG4gKi9cbmV4cG9ydCBjb25zdCBjbGFzc01hcCA9IGRpcmVjdGl2ZShDbGFzc01hcERpcmVjdGl2ZSk7XG5cbi8qKlxuICogVGhlIHR5cGUgb2YgdGhlIGNsYXNzIHRoYXQgcG93ZXJzIHRoaXMgZGlyZWN0aXZlLiBOZWNlc3NhcnkgZm9yIG5hbWluZyB0aGVcbiAqIGRpcmVjdGl2ZSdzIHJldHVybiB0eXBlLlxuICovXG5leHBvcnQgdHlwZSB7Q2xhc3NNYXBEaXJlY3RpdmV9O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG4vLyBBbnkgbmV3IGV4cG9ydHMgbmVlZCB0byBiZSBhZGRlZCB0byB0aGUgZXhwb3J0IHN0YXRlbWVudCBpblxuLy8gYHBhY2thZ2VzL2xpdC9zcmMvaW5kZXguYWxsLnRzYC5cblxuaW1wb3J0IHtodG1sIGFzIGNvcmVIdG1sLCBzdmcgYXMgY29yZVN2ZywgVGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vbGl0LWh0bWwuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRpY1ZhbHVlIHtcbiAgLyoqIFRoZSB2YWx1ZSB0byBpbnRlcnBvbGF0ZSBhcy1pcyBpbnRvIHRoZSB0ZW1wbGF0ZS4gKi9cbiAgXyRsaXRTdGF0aWMkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgdmFsdWUgdGhhdCBjYW4ndCBiZSBkZWNvZGVkIGZyb20gb3JkaW5hcnkgSlNPTiwgbWFrZSBpdCBoYXJkZXIgZm9yXG4gICAqIGEgYXR0YWNrZXItY29udHJvbGxlZCBkYXRhIHRoYXQgZ29lcyB0aHJvdWdoIEpTT04ucGFyc2UgdG8gcHJvZHVjZSBhIHZhbGlkXG4gICAqIFN0YXRpY1ZhbHVlLlxuICAgKi9cbiAgcjogdHlwZW9mIGJyYW5kO1xufVxuXG4vKipcbiAqIFByZXZlbnRzIEpTT04gaW5qZWN0aW9uIGF0dGFja3MuXG4gKlxuICogVGhlIGdvYWxzIG9mIHRoaXMgYnJhbmQ6XG4gKiAgIDEpIGZhc3QgdG8gY2hlY2tcbiAqICAgMikgY29kZSBpcyBzbWFsbCBvbiB0aGUgd2lyZVxuICogICAzKSBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXQgaW4gYSBzaW5nbGUgcGFnZSB3aWxsIGFsbCBwcm9kdWNlIG11dHVhbGx5XG4gKiAgICAgIGludGVyb3BlcmFibGUgU3RhdGljVmFsdWVzXG4gKiAgIDQpIG5vcm1hbCBKU09OLnBhcnNlICh3aXRob3V0IGFuIHVudXN1YWwgcmV2aXZlcikgY2FuIG5vdCBwcm9kdWNlIGFcbiAqICAgICAgU3RhdGljVmFsdWVcbiAqXG4gKiBTeW1ib2xzIHNhdGlzZnkgKDEpLCAoMiksIGFuZCAoNCkuIFdlIHVzZSBTeW1ib2wuZm9yIHRvIHNhdGlzZnkgKDMpLCBidXRcbiAqIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhlIGtleSwgc28gd2UgYnJlYWsgdGllcyB2aWEgKDIpIGFuZCB1c2UgdGhlIGVtcHR5XG4gKiBzdHJpbmcuXG4gKi9cbmNvbnN0IGJyYW5kID0gU3ltYm9sLmZvcignJyk7XG5cbi8qKiBTYWZlbHkgZXh0cmFjdHMgdGhlIHN0cmluZyBwYXJ0IG9mIGEgU3RhdGljVmFsdWUuICovXG5jb25zdCB1bndyYXBTdGF0aWNWYWx1ZSA9ICh2YWx1ZTogdW5rbm93bik6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICgodmFsdWUgYXMgUGFydGlhbDxTdGF0aWNWYWx1ZT4pPy5yICE9PSBicmFuZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuICh2YWx1ZSBhcyBQYXJ0aWFsPFN0YXRpY1ZhbHVlPik/LlsnXyRsaXRTdGF0aWMkJ107XG59O1xuXG4vKipcbiAqIFdyYXBzIGEgc3RyaW5nIHNvIHRoYXQgaXQgYmVoYXZlcyBsaWtlIHBhcnQgb2YgdGhlIHN0YXRpYyB0ZW1wbGF0ZVxuICogc3RyaW5ncyBpbnN0ZWFkIG9mIGEgZHluYW1pYyB2YWx1ZS5cbiAqXG4gKiBVc2VycyBtdXN0IHRha2UgY2FyZSB0byBlbnN1cmUgdGhhdCBhZGRpbmcgdGhlIHN0YXRpYyBzdHJpbmcgdG8gdGhlIHRlbXBsYXRlXG4gKiByZXN1bHRzIGluIHdlbGwtZm9ybWVkIEhUTUwsIG9yIGVsc2UgdGVtcGxhdGVzIG1heSBicmVhayB1bmV4cGVjdGVkbHkuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gaXMgdW5zYWZlIHRvIHVzZSBvbiB1bnRydXN0ZWQgY29udGVudCwgYXMgaXQgd2lsbCBiZVxuICogZGlyZWN0bHkgcGFyc2VkIGludG8gSFRNTC4gRG8gbm90IHBhc3MgdXNlciBpbnB1dCB0byB0aGlzIGZ1bmN0aW9uXG4gKiB3aXRob3V0IHNhbml0aXppbmcgaXQuXG4gKlxuICogU3RhdGljIHZhbHVlcyBjYW4gYmUgY2hhbmdlZCwgYnV0IHRoZXkgd2lsbCBjYXVzZSBhIGNvbXBsZXRlIHJlLXJlbmRlclxuICogc2luY2UgdGhleSBlZmZlY3RpdmVseSBjcmVhdGUgYSBuZXcgdGVtcGxhdGUuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVTdGF0aWMgPSAodmFsdWU6IHN0cmluZyk6IFN0YXRpY1ZhbHVlID0+ICh7XG4gIFsnXyRsaXRTdGF0aWMkJ106IHZhbHVlLFxuICByOiBicmFuZCxcbn0pO1xuXG5jb25zdCB0ZXh0RnJvbVN0YXRpYyA9ICh2YWx1ZTogU3RhdGljVmFsdWUpID0+IHtcbiAgaWYgKHZhbHVlWydfJGxpdFN0YXRpYyQnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHZhbHVlWydfJGxpdFN0YXRpYyQnXTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVmFsdWUgcGFzc2VkIHRvICdsaXRlcmFsJyBmdW5jdGlvbiBtdXN0IGJlIGEgJ2xpdGVyYWwnIHJlc3VsdDogJHt2YWx1ZX0uIFVzZSAndW5zYWZlU3RhdGljJyB0byBwYXNzIG5vbi1saXRlcmFsIHZhbHVlcywgYnV0XG4gICAgICAgICAgICB0YWtlIGNhcmUgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYFxuICAgICk7XG4gIH1cbn07XG5cbi8qKlxuICogVGFncyBhIHN0cmluZyBsaXRlcmFsIHNvIHRoYXQgaXQgYmVoYXZlcyBsaWtlIHBhcnQgb2YgdGhlIHN0YXRpYyB0ZW1wbGF0ZVxuICogc3RyaW5ncyBpbnN0ZWFkIG9mIGEgZHluYW1pYyB2YWx1ZS5cbiAqXG4gKiBUaGUgb25seSB2YWx1ZXMgdGhhdCBtYXkgYmUgdXNlZCBpbiB0ZW1wbGF0ZSBleHByZXNzaW9ucyBhcmUgb3RoZXIgdGFnZ2VkXG4gKiBgbGl0ZXJhbGAgcmVzdWx0cyBvciBgdW5zYWZlU3RhdGljYCB2YWx1ZXMgKG5vdGUgdGhhdCB1bnRydXN0ZWQgY29udGVudFxuICogc2hvdWxkIG5ldmVyIGJlIHBhc3NlZCB0byBgdW5zYWZlU3RhdGljYCkuXG4gKlxuICogVXNlcnMgbXVzdCB0YWtlIGNhcmUgdG8gZW5zdXJlIHRoYXQgYWRkaW5nIHRoZSBzdGF0aWMgc3RyaW5nIHRvIHRoZSB0ZW1wbGF0ZVxuICogcmVzdWx0cyBpbiB3ZWxsLWZvcm1lZCBIVE1MLCBvciBlbHNlIHRlbXBsYXRlcyBtYXkgYnJlYWsgdW5leHBlY3RlZGx5LlxuICpcbiAqIFN0YXRpYyB2YWx1ZXMgY2FuIGJlIGNoYW5nZWQsIGJ1dCB0aGV5IHdpbGwgY2F1c2UgYSBjb21wbGV0ZSByZS1yZW5kZXIgc2luY2VcbiAqIHRoZXkgZWZmZWN0aXZlbHkgY3JlYXRlIGEgbmV3IHRlbXBsYXRlLlxuICovXG5leHBvcnQgY29uc3QgbGl0ZXJhbCA9IChcbiAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksXG4gIC4uLnZhbHVlczogdW5rbm93bltdXG4pOiBTdGF0aWNWYWx1ZSA9PiAoe1xuICBbJ18kbGl0U3RhdGljJCddOiB2YWx1ZXMucmVkdWNlKFxuICAgIChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21TdGF0aWModiBhcyBTdGF0aWNWYWx1ZSkgKyBzdHJpbmdzW2lkeCArIDFdLFxuICAgIHN0cmluZ3NbMF1cbiAgKSBhcyBzdHJpbmcsXG4gIHI6IGJyYW5kLFxufSk7XG5cbmNvbnN0IHN0cmluZ3NDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBUZW1wbGF0ZVN0cmluZ3NBcnJheT4oKTtcblxuLyoqXG4gKiBXcmFwcyBhIGxpdC1odG1sIHRlbXBsYXRlIHRhZyAoYGh0bWxgIG9yIGBzdmdgKSB0byBhZGQgc3RhdGljIHZhbHVlIHN1cHBvcnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoU3RhdGljID1cbiAgKGNvcmVUYWc6IHR5cGVvZiBjb3JlSHRtbCB8IHR5cGVvZiBjb3JlU3ZnKSA9PlxuICAoc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLnZhbHVlczogdW5rbm93bltdKTogVGVtcGxhdGVSZXN1bHQgPT4ge1xuICAgIGNvbnN0IGwgPSB2YWx1ZXMubGVuZ3RoO1xuICAgIGxldCBzdGF0aWNWYWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIGxldCBkeW5hbWljVmFsdWU6IHVua25vd247XG4gICAgY29uc3Qgc3RhdGljU3RyaW5nczogQXJyYXk8c3RyaW5nPiA9IFtdO1xuICAgIGNvbnN0IGR5bmFtaWNWYWx1ZXM6IEFycmF5PHVua25vd24+ID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBoYXNTdGF0aWNzID0gZmFsc2U7XG4gICAgbGV0IHM6IHN0cmluZztcblxuICAgIHdoaWxlIChpIDwgbCkge1xuICAgICAgcyA9IHN0cmluZ3NbaV07XG4gICAgICAvLyBDb2xsZWN0IGFueSB1bnNhZmVTdGF0aWMgdmFsdWVzLCBhbmQgdGhlaXIgZm9sbG93aW5nIHRlbXBsYXRlIHN0cmluZ3NcbiAgICAgIC8vIHNvIHRoYXQgd2UgdHJlYXQgYSBydW4gb2YgdGVtcGxhdGUgc3RyaW5ncyBhbmQgdW5zYWZlIHN0YXRpYyB2YWx1ZXMgYXNcbiAgICAgIC8vIGEgc2luZ2xlIHRlbXBsYXRlIHN0cmluZy5cbiAgICAgIHdoaWxlIChcbiAgICAgICAgaSA8IGwgJiZcbiAgICAgICAgKChkeW5hbWljVmFsdWUgPSB2YWx1ZXNbaV0pLFxuICAgICAgICAoc3RhdGljVmFsdWUgPSB1bndyYXBTdGF0aWNWYWx1ZShkeW5hbWljVmFsdWUpKSkgIT09IHVuZGVmaW5lZFxuICAgICAgKSB7XG4gICAgICAgIHMgKz0gc3RhdGljVmFsdWUgKyBzdHJpbmdzWysraV07XG4gICAgICAgIGhhc1N0YXRpY3MgPSB0cnVlO1xuICAgICAgfVxuICAgICAgLy8gSWYgdGhlIGxhc3QgdmFsdWUgaXMgc3RhdGljLCB3ZSBkb24ndCBuZWVkIHRvIHB1c2ggaXQuXG4gICAgICBpZiAoaSAhPT0gbCkge1xuICAgICAgICBkeW5hbWljVmFsdWVzLnB1c2goZHluYW1pY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHN0YXRpY1N0cmluZ3MucHVzaChzKTtcbiAgICAgIGkrKztcbiAgICB9XG4gICAgLy8gSWYgdGhlIGxhc3QgdmFsdWUgaXNuJ3Qgc3RhdGljICh3aGljaCB3b3VsZCBoYXZlIGNvbnN1bWVkIHRoZSBsYXN0XG4gICAgLy8gc3RyaW5nKSwgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgbGFzdCBzdHJpbmcuXG4gICAgaWYgKGkgPT09IGwpIHtcbiAgICAgIHN0YXRpY1N0cmluZ3MucHVzaChzdHJpbmdzW2xdKTtcbiAgICB9XG5cbiAgICBpZiAoaGFzU3RhdGljcykge1xuICAgICAgY29uc3Qga2V5ID0gc3RhdGljU3RyaW5ncy5qb2luKCckJGxpdCQkJyk7XG4gICAgICBzdHJpbmdzID0gc3RyaW5nc0NhY2hlLmdldChrZXkpITtcbiAgICAgIGlmIChzdHJpbmdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gQmV3YXJlOiBpbiBnZW5lcmFsIHRoaXMgcGF0dGVybiBpcyB1bnNhZmUsIGFuZCBkb2luZyBzbyBtYXkgYnlwYXNzXG4gICAgICAgIC8vIGxpdCdzIHNlY3VyaXR5IGNoZWNrcyBhbmQgYWxsb3cgYW4gYXR0YWNrZXIgdG8gZXhlY3V0ZSBhcmJpdHJhcnlcbiAgICAgICAgLy8gY29kZSBhbmQgaW5qZWN0IGFyYml0cmFyeSBjb250ZW50LlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAoc3RhdGljU3RyaW5ncyBhcyBhbnkpLnJhdyA9IHN0YXRpY1N0cmluZ3M7XG4gICAgICAgIHN0cmluZ3NDYWNoZS5zZXQoXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIChzdHJpbmdzID0gc3RhdGljU3RyaW5ncyBhcyB1bmtub3duIGFzIFRlbXBsYXRlU3RyaW5nc0FycmF5KVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdmFsdWVzID0gZHluYW1pY1ZhbHVlcztcbiAgICB9XG4gICAgcmV0dXJuIGNvcmVUYWcoc3RyaW5ncywgLi4udmFsdWVzKTtcbiAgfTtcblxuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBJbmNsdWRlcyBzdGF0aWMgdmFsdWUgc3VwcG9ydCBmcm9tIGBsaXQtaHRtbC9zdGF0aWMuanNgLlxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IHdpdGhTdGF0aWMoY29yZUh0bWwpO1xuXG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIFNWRyB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKlxuICogSW5jbHVkZXMgc3RhdGljIHZhbHVlIHN1cHBvcnQgZnJvbSBgbGl0LWh0bWwvc3RhdGljLmpzYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHN2ZyA9IHdpdGhTdGF0aWMoY29yZVN2Zyk7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbmltcG9ydCB7bm90aGluZ30gZnJvbSAnLi4vbGl0LWh0bWwuanMnO1xuXG4vKipcbiAqIEZvciBBdHRyaWJ1dGVQYXJ0cywgc2V0cyB0aGUgYXR0cmlidXRlIGlmIHRoZSB2YWx1ZSBpcyBkZWZpbmVkIGFuZCByZW1vdmVzXG4gKiB0aGUgYXR0cmlidXRlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQuXG4gKlxuICogRm9yIG90aGVyIHBhcnQgdHlwZXMsIHRoaXMgZGlyZWN0aXZlIGlzIGEgbm8tb3AuXG4gKi9cbmV4cG9ydCBjb25zdCBpZkRlZmluZWQgPSA8VD4odmFsdWU6IFQpID0+IHZhbHVlID8/IG5vdGhpbmc7XG4iLCAiaW1wb3J0IHtcbiAgU2xTcGlubmVyXG59IGZyb20gXCIuL2NodW5rLlJBREs0VVhVLmpzXCI7XG5pbXBvcnQge1xuICBGb3JtQ29udHJvbENvbnRyb2xsZXIsXG4gIHZhbGlkVmFsaWRpdHlTdGF0ZVxufSBmcm9tIFwiLi9jaHVuay5LV1BCRFE2SS5qc1wiO1xuaW1wb3J0IHtcbiAgYnV0dG9uX3N0eWxlc19kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLkhMRFUzWlBILmpzXCI7XG5pbXBvcnQge1xuICBMb2NhbGl6ZUNvbnRyb2xsZXJcbn0gZnJvbSBcIi4vY2h1bmsuV0xWM0ZWQlIuanNcIjtcbmltcG9ydCB7XG4gIEhhc1Nsb3RDb250cm9sbGVyXG59IGZyb20gXCIuL2NodW5rLk5ZSUlEUDVOLmpzXCI7XG5pbXBvcnQge1xuICBTbEljb25cbn0gZnJvbSBcIi4vY2h1bmsuSDMzQzNNUk0uanNcIjtcbmltcG9ydCB7XG4gIHdhdGNoXG59IGZyb20gXCIuL2NodW5rLjJGQjVUSzVILmpzXCI7XG5pbXBvcnQge1xuICBjb21wb25lbnRfc3R5bGVzX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmsuVFVWSktZN1MuanNcIjtcbmltcG9ydCB7XG4gIFNob2VsYWNlRWxlbWVudFxufSBmcm9tIFwiLi9jaHVuay5TRlNUWENYQy5qc1wiO1xuaW1wb3J0IHtcbiAgX19kZWNvcmF0ZUNsYXNzXG59IGZyb20gXCIuL2NodW5rLklGRFdNNlA0LmpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2J1dHRvbi9idXR0b24uY29tcG9uZW50LnRzXG5pbXBvcnQgeyBjbGFzc01hcCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9jbGFzcy1tYXAuanNcIjtcbmltcG9ydCB7IGh0bWwsIGxpdGVyYWwgfSBmcm9tIFwibGl0L3N0YXRpYy1odG1sLmpzXCI7XG5pbXBvcnQgeyBpZkRlZmluZWQgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvaWYtZGVmaW5lZC5qc1wiO1xuaW1wb3J0IHsgcHJvcGVydHksIHF1ZXJ5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9ycy5qc1wiO1xudmFyIFNsQnV0dG9uID0gY2xhc3MgZXh0ZW5kcyBTaG9lbGFjZUVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuZm9ybUNvbnRyb2xDb250cm9sbGVyID0gbmV3IEZvcm1Db250cm9sQ29udHJvbGxlcih0aGlzLCB7XG4gICAgICBhc3N1bWVJbnRlcmFjdGlvbk9uOiBbXCJjbGlja1wiXVxuICAgIH0pO1xuICAgIHRoaXMuaGFzU2xvdENvbnRyb2xsZXIgPSBuZXcgSGFzU2xvdENvbnRyb2xsZXIodGhpcywgXCJbZGVmYXVsdF1cIiwgXCJwcmVmaXhcIiwgXCJzdWZmaXhcIik7XG4gICAgdGhpcy5sb2NhbGl6ZSA9IG5ldyBMb2NhbGl6ZUNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5oYXNGb2N1cyA9IGZhbHNlO1xuICAgIHRoaXMuaW52YWxpZCA9IGZhbHNlO1xuICAgIHRoaXMudGl0bGUgPSBcIlwiO1xuICAgIHRoaXMudmFyaWFudCA9IFwiZGVmYXVsdFwiO1xuICAgIHRoaXMuc2l6ZSA9IFwibWVkaXVtXCI7XG4gICAgdGhpcy5jYXJldCA9IGZhbHNlO1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLm91dGxpbmUgPSBmYWxzZTtcbiAgICB0aGlzLnBpbGwgPSBmYWxzZTtcbiAgICB0aGlzLmNpcmNsZSA9IGZhbHNlO1xuICAgIHRoaXMudHlwZSA9IFwiYnV0dG9uXCI7XG4gICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICB0aGlzLnZhbHVlID0gXCJcIjtcbiAgICB0aGlzLmhyZWYgPSBcIlwiO1xuICAgIHRoaXMucmVsID0gXCJub3JlZmVycmVyIG5vb3BlbmVyXCI7XG4gIH1cbiAgLyoqIEdldHMgdGhlIHZhbGlkaXR5IHN0YXRlIG9iamVjdCAqL1xuICBnZXQgdmFsaWRpdHkoKSB7XG4gICAgaWYgKHRoaXMuaXNCdXR0b24oKSkge1xuICAgICAgcmV0dXJuIHRoaXMuYnV0dG9uLnZhbGlkaXR5O1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWRWYWxpZGl0eVN0YXRlO1xuICB9XG4gIC8qKiBHZXRzIHRoZSB2YWxpZGF0aW9uIG1lc3NhZ2UgKi9cbiAgZ2V0IHZhbGlkYXRpb25NZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLmlzQnV0dG9uKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmJ1dHRvbi52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgZmlyc3RVcGRhdGVkKCkge1xuICAgIGlmICh0aGlzLmlzQnV0dG9uKCkpIHtcbiAgICAgIHRoaXMuZm9ybUNvbnRyb2xDb250cm9sbGVyLnVwZGF0ZVZhbGlkaXR5KCk7XG4gICAgfVxuICB9XG4gIGhhbmRsZUJsdXIoKSB7XG4gICAgdGhpcy5oYXNGb2N1cyA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdChcInNsLWJsdXJcIik7XG4gIH1cbiAgaGFuZGxlRm9jdXMoKSB7XG4gICAgdGhpcy5oYXNGb2N1cyA9IHRydWU7XG4gICAgdGhpcy5lbWl0KFwic2wtZm9jdXNcIik7XG4gIH1cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMudHlwZSA9PT0gXCJzdWJtaXRcIikge1xuICAgICAgdGhpcy5mb3JtQ29udHJvbENvbnRyb2xsZXIuc3VibWl0KHRoaXMpO1xuICAgIH1cbiAgICBpZiAodGhpcy50eXBlID09PSBcInJlc2V0XCIpIHtcbiAgICAgIHRoaXMuZm9ybUNvbnRyb2xDb250cm9sbGVyLnJlc2V0KHRoaXMpO1xuICAgIH1cbiAgfVxuICBoYW5kbGVJbnZhbGlkKGV2ZW50KSB7XG4gICAgdGhpcy5mb3JtQ29udHJvbENvbnRyb2xsZXIuc2V0VmFsaWRpdHkoZmFsc2UpO1xuICAgIHRoaXMuZm9ybUNvbnRyb2xDb250cm9sbGVyLmVtaXRJbnZhbGlkRXZlbnQoZXZlbnQpO1xuICB9XG4gIGlzQnV0dG9uKCkge1xuICAgIHJldHVybiB0aGlzLmhyZWYgPyBmYWxzZSA6IHRydWU7XG4gIH1cbiAgaXNMaW5rKCkge1xuICAgIHJldHVybiB0aGlzLmhyZWYgPyB0cnVlIDogZmFsc2U7XG4gIH1cbiAgaGFuZGxlRGlzYWJsZWRDaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuaXNCdXR0b24oKSkge1xuICAgICAgdGhpcy5mb3JtQ29udHJvbENvbnRyb2xsZXIuc2V0VmFsaWRpdHkodGhpcy5kaXNhYmxlZCk7XG4gICAgfVxuICB9XG4gIC8qKiBTaW11bGF0ZXMgYSBjbGljayBvbiB0aGUgYnV0dG9uLiAqL1xuICBjbGljaygpIHtcbiAgICB0aGlzLmJ1dHRvbi5jbGljaygpO1xuICB9XG4gIC8qKiBTZXRzIGZvY3VzIG9uIHRoZSBidXR0b24uICovXG4gIGZvY3VzKG9wdGlvbnMpIHtcbiAgICB0aGlzLmJ1dHRvbi5mb2N1cyhvcHRpb25zKTtcbiAgfVxuICAvKiogUmVtb3ZlcyBmb2N1cyBmcm9tIHRoZSBidXR0b24uICovXG4gIGJsdXIoKSB7XG4gICAgdGhpcy5idXR0b24uYmx1cigpO1xuICB9XG4gIC8qKiBDaGVja3MgZm9yIHZhbGlkaXR5IGJ1dCBkb2VzIG5vdCBzaG93IGEgdmFsaWRhdGlvbiBtZXNzYWdlLiBSZXR1cm5zIGB0cnVlYCB3aGVuIHZhbGlkIGFuZCBgZmFsc2VgIHdoZW4gaW52YWxpZC4gKi9cbiAgY2hlY2tWYWxpZGl0eSgpIHtcbiAgICBpZiAodGhpcy5pc0J1dHRvbigpKSB7XG4gICAgICByZXR1cm4gdGhpcy5idXR0b24uY2hlY2tWYWxpZGl0eSgpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKiogR2V0cyB0aGUgYXNzb2NpYXRlZCBmb3JtLCBpZiBvbmUgZXhpc3RzLiAqL1xuICBnZXRGb3JtKCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1Db250cm9sQ29udHJvbGxlci5nZXRGb3JtKCk7XG4gIH1cbiAgLyoqIENoZWNrcyBmb3IgdmFsaWRpdHkgYW5kIHNob3dzIHRoZSBicm93c2VyJ3MgdmFsaWRhdGlvbiBtZXNzYWdlIGlmIHRoZSBjb250cm9sIGlzIGludmFsaWQuICovXG4gIHJlcG9ydFZhbGlkaXR5KCkge1xuICAgIGlmICh0aGlzLmlzQnV0dG9uKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmJ1dHRvbi5yZXBvcnRWYWxpZGl0eSgpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKiogU2V0cyBhIGN1c3RvbSB2YWxpZGF0aW9uIG1lc3NhZ2UuIFBhc3MgYW4gZW1wdHkgc3RyaW5nIHRvIHJlc3RvcmUgdmFsaWRpdHkuICovXG4gIHNldEN1c3RvbVZhbGlkaXR5KG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5pc0J1dHRvbigpKSB7XG4gICAgICB0aGlzLmJ1dHRvbi5zZXRDdXN0b21WYWxpZGl0eShtZXNzYWdlKTtcbiAgICAgIHRoaXMuZm9ybUNvbnRyb2xDb250cm9sbGVyLnVwZGF0ZVZhbGlkaXR5KCk7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc0xpbmsgPSB0aGlzLmlzTGluaygpO1xuICAgIGNvbnN0IHRhZyA9IGlzTGluayA/IGxpdGVyYWxgYWAgOiBsaXRlcmFsYGJ1dHRvbmA7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8JHt0YWd9XG4gICAgICAgIHBhcnQ9XCJiYXNlXCJcbiAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7XG4gICAgICBidXR0b246IHRydWUsXG4gICAgICBcImJ1dHRvbi0tZGVmYXVsdFwiOiB0aGlzLnZhcmlhbnQgPT09IFwiZGVmYXVsdFwiLFxuICAgICAgXCJidXR0b24tLXByaW1hcnlcIjogdGhpcy52YXJpYW50ID09PSBcInByaW1hcnlcIixcbiAgICAgIFwiYnV0dG9uLS1zdWNjZXNzXCI6IHRoaXMudmFyaWFudCA9PT0gXCJzdWNjZXNzXCIsXG4gICAgICBcImJ1dHRvbi0tbmV1dHJhbFwiOiB0aGlzLnZhcmlhbnQgPT09IFwibmV1dHJhbFwiLFxuICAgICAgXCJidXR0b24tLXdhcm5pbmdcIjogdGhpcy52YXJpYW50ID09PSBcIndhcm5pbmdcIixcbiAgICAgIFwiYnV0dG9uLS1kYW5nZXJcIjogdGhpcy52YXJpYW50ID09PSBcImRhbmdlclwiLFxuICAgICAgXCJidXR0b24tLXRleHRcIjogdGhpcy52YXJpYW50ID09PSBcInRleHRcIixcbiAgICAgIFwiYnV0dG9uLS1zbWFsbFwiOiB0aGlzLnNpemUgPT09IFwic21hbGxcIixcbiAgICAgIFwiYnV0dG9uLS1tZWRpdW1cIjogdGhpcy5zaXplID09PSBcIm1lZGl1bVwiLFxuICAgICAgXCJidXR0b24tLWxhcmdlXCI6IHRoaXMuc2l6ZSA9PT0gXCJsYXJnZVwiLFxuICAgICAgXCJidXR0b24tLWNhcmV0XCI6IHRoaXMuY2FyZXQsXG4gICAgICBcImJ1dHRvbi0tY2lyY2xlXCI6IHRoaXMuY2lyY2xlLFxuICAgICAgXCJidXR0b24tLWRpc2FibGVkXCI6IHRoaXMuZGlzYWJsZWQsXG4gICAgICBcImJ1dHRvbi0tZm9jdXNlZFwiOiB0aGlzLmhhc0ZvY3VzLFxuICAgICAgXCJidXR0b24tLWxvYWRpbmdcIjogdGhpcy5sb2FkaW5nLFxuICAgICAgXCJidXR0b24tLXN0YW5kYXJkXCI6ICF0aGlzLm91dGxpbmUsXG4gICAgICBcImJ1dHRvbi0tb3V0bGluZVwiOiB0aGlzLm91dGxpbmUsXG4gICAgICBcImJ1dHRvbi0tcGlsbFwiOiB0aGlzLnBpbGwsXG4gICAgICBcImJ1dHRvbi0tcnRsXCI6IHRoaXMubG9jYWxpemUuZGlyKCkgPT09IFwicnRsXCIsXG4gICAgICBcImJ1dHRvbi0taGFzLWxhYmVsXCI6IHRoaXMuaGFzU2xvdENvbnRyb2xsZXIudGVzdChcIltkZWZhdWx0XVwiKSxcbiAgICAgIFwiYnV0dG9uLS1oYXMtcHJlZml4XCI6IHRoaXMuaGFzU2xvdENvbnRyb2xsZXIudGVzdChcInByZWZpeFwiKSxcbiAgICAgIFwiYnV0dG9uLS1oYXMtc3VmZml4XCI6IHRoaXMuaGFzU2xvdENvbnRyb2xsZXIudGVzdChcInN1ZmZpeFwiKVxuICAgIH0pfVxuICAgICAgICA/ZGlzYWJsZWQ9JHtpZkRlZmluZWQoaXNMaW5rID8gdm9pZCAwIDogdGhpcy5kaXNhYmxlZCl9XG4gICAgICAgIHR5cGU9JHtpZkRlZmluZWQoaXNMaW5rID8gdm9pZCAwIDogdGhpcy50eXBlKX1cbiAgICAgICAgdGl0bGU9JHt0aGlzLnRpdGxlfVxuICAgICAgICBuYW1lPSR7aWZEZWZpbmVkKGlzTGluayA/IHZvaWQgMCA6IHRoaXMubmFtZSl9XG4gICAgICAgIHZhbHVlPSR7aWZEZWZpbmVkKGlzTGluayA/IHZvaWQgMCA6IHRoaXMudmFsdWUpfVxuICAgICAgICBocmVmPSR7aWZEZWZpbmVkKGlzTGluayA/IHRoaXMuaHJlZiA6IHZvaWQgMCl9XG4gICAgICAgIHRhcmdldD0ke2lmRGVmaW5lZChpc0xpbmsgPyB0aGlzLnRhcmdldCA6IHZvaWQgMCl9XG4gICAgICAgIGRvd25sb2FkPSR7aWZEZWZpbmVkKGlzTGluayA/IHRoaXMuZG93bmxvYWQgOiB2b2lkIDApfVxuICAgICAgICByZWw9JHtpZkRlZmluZWQoaXNMaW5rID8gdGhpcy5yZWwgOiB2b2lkIDApfVxuICAgICAgICByb2xlPSR7aWZEZWZpbmVkKGlzTGluayA/IHZvaWQgMCA6IFwiYnV0dG9uXCIpfVxuICAgICAgICBhcmlhLWRpc2FibGVkPSR7dGhpcy5kaXNhYmxlZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwifVxuICAgICAgICB0YWJpbmRleD0ke3RoaXMuZGlzYWJsZWQgPyBcIi0xXCIgOiBcIjBcIn1cbiAgICAgICAgQGJsdXI9JHt0aGlzLmhhbmRsZUJsdXJ9XG4gICAgICAgIEBmb2N1cz0ke3RoaXMuaGFuZGxlRm9jdXN9XG4gICAgICAgIEBpbnZhbGlkPSR7dGhpcy5pc0J1dHRvbigpID8gdGhpcy5oYW5kbGVJbnZhbGlkIDogbnVsbH1cbiAgICAgICAgQGNsaWNrPSR7dGhpcy5oYW5kbGVDbGlja31cbiAgICAgID5cbiAgICAgICAgPHNsb3QgbmFtZT1cInByZWZpeFwiIHBhcnQ9XCJwcmVmaXhcIiBjbGFzcz1cImJ1dHRvbl9fcHJlZml4XCI+PC9zbG90PlxuICAgICAgICA8c2xvdCBwYXJ0PVwibGFiZWxcIiBjbGFzcz1cImJ1dHRvbl9fbGFiZWxcIj48L3Nsb3Q+XG4gICAgICAgIDxzbG90IG5hbWU9XCJzdWZmaXhcIiBwYXJ0PVwic3VmZml4XCIgY2xhc3M9XCJidXR0b25fX3N1ZmZpeFwiPjwvc2xvdD5cbiAgICAgICAgJHt0aGlzLmNhcmV0ID8gaHRtbGAgPHNsLWljb24gcGFydD1cImNhcmV0XCIgY2xhc3M9XCJidXR0b25fX2NhcmV0XCIgbGlicmFyeT1cInN5c3RlbVwiIG5hbWU9XCJjYXJldFwiPjwvc2wtaWNvbj4gYCA6IFwiXCJ9XG4gICAgICAgICR7dGhpcy5sb2FkaW5nID8gaHRtbGA8c2wtc3Bpbm5lciBwYXJ0PVwic3Bpbm5lclwiPjwvc2wtc3Bpbm5lcj5gIDogXCJcIn1cbiAgICAgIDwvJHt0YWd9PlxuICAgIGA7XG4gIH1cbn07XG5TbEJ1dHRvbi5zdHlsZXMgPSBbY29tcG9uZW50X3N0eWxlc19kZWZhdWx0LCBidXR0b25fc3R5bGVzX2RlZmF1bHRdO1xuU2xCdXR0b24uZGVwZW5kZW5jaWVzID0ge1xuICBcInNsLWljb25cIjogU2xJY29uLFxuICBcInNsLXNwaW5uZXJcIjogU2xTcGlubmVyXG59O1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcXVlcnkoXCIuYnV0dG9uXCIpXG5dLCBTbEJ1dHRvbi5wcm90b3R5cGUsIFwiYnV0dG9uXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgc3RhdGUoKVxuXSwgU2xCdXR0b24ucHJvdG90eXBlLCBcImhhc0ZvY3VzXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgc3RhdGUoKVxuXSwgU2xCdXR0b24ucHJvdG90eXBlLCBcImludmFsaWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbEJ1dHRvbi5wcm90b3R5cGUsIFwidGl0bGVcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHJlZmxlY3Q6IHRydWUgfSlcbl0sIFNsQnV0dG9uLnByb3RvdHlwZSwgXCJ2YXJpYW50XCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbEJ1dHRvbi5wcm90b3R5cGUsIFwic2l6ZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xCdXR0b24ucHJvdG90eXBlLCBcImNhcmV0XCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbEJ1dHRvbi5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSlcbl0sIFNsQnV0dG9uLnByb3RvdHlwZSwgXCJsb2FkaW5nXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbEJ1dHRvbi5wcm90b3R5cGUsIFwib3V0bGluZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xCdXR0b24ucHJvdG90eXBlLCBcInBpbGxcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSlcbl0sIFNsQnV0dG9uLnByb3RvdHlwZSwgXCJjaXJjbGVcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbEJ1dHRvbi5wcm90b3R5cGUsIFwidHlwZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsQnV0dG9uLnByb3RvdHlwZSwgXCJuYW1lXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoKVxuXSwgU2xCdXR0b24ucHJvdG90eXBlLCBcInZhbHVlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoKVxuXSwgU2xCdXR0b24ucHJvdG90eXBlLCBcImhyZWZcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbEJ1dHRvbi5wcm90b3R5cGUsIFwidGFyZ2V0XCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoKVxuXSwgU2xCdXR0b24ucHJvdG90eXBlLCBcInJlbFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsQnV0dG9uLnByb3RvdHlwZSwgXCJkb3dubG9hZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsQnV0dG9uLnByb3RvdHlwZSwgXCJmb3JtXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyBhdHRyaWJ1dGU6IFwiZm9ybWFjdGlvblwiIH0pXG5dLCBTbEJ1dHRvbi5wcm90b3R5cGUsIFwiZm9ybUFjdGlvblwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgYXR0cmlidXRlOiBcImZvcm1lbmN0eXBlXCIgfSlcbl0sIFNsQnV0dG9uLnByb3RvdHlwZSwgXCJmb3JtRW5jdHlwZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgYXR0cmlidXRlOiBcImZvcm1tZXRob2RcIiB9KVxuXSwgU2xCdXR0b24ucHJvdG90eXBlLCBcImZvcm1NZXRob2RcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogXCJmb3Jtbm92YWxpZGF0ZVwiLCB0eXBlOiBCb29sZWFuIH0pXG5dLCBTbEJ1dHRvbi5wcm90b3R5cGUsIFwiZm9ybU5vVmFsaWRhdGVcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogXCJmb3JtdGFyZ2V0XCIgfSlcbl0sIFNsQnV0dG9uLnByb3RvdHlwZSwgXCJmb3JtVGFyZ2V0XCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgd2F0Y2goXCJkaXNhYmxlZFwiLCB7IHdhaXRVbnRpbEZpcnN0VXBkYXRlOiB0cnVlIH0pXG5dLCBTbEJ1dHRvbi5wcm90b3R5cGUsIFwiaGFuZGxlRGlzYWJsZWRDaGFuZ2VcIiwgMSk7XG5cbmV4cG9ydCB7XG4gIFNsQnV0dG9uXG59O1xuIiwgImltcG9ydCB7XG4gIFNsQnV0dG9uXG59IGZyb20gXCIuL2NodW5rLjVTVUdKNEVCLmpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2J1dHRvbi9idXR0b24udHNcbnZhciBidXR0b25fZGVmYXVsdCA9IFNsQnV0dG9uO1xuU2xCdXR0b24uZGVmaW5lKFwic2wtYnV0dG9uXCIpO1xuXG5leHBvcnQge1xuICBidXR0b25fZGVmYXVsdFxufTtcbiIsICIvLyBzcmMvY29tcG9uZW50cy9kcm9wZG93bi9kcm9wZG93bi5zdHlsZXMudHNcbmltcG9ydCB7IGNzcyB9IGZyb20gXCJsaXRcIjtcbnZhciBkcm9wZG93bl9zdHlsZXNfZGVmYXVsdCA9IGNzc2BcbiAgOmhvc3Qge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuXG4gIC5kcm9wZG93bjo6cGFydChwb3B1cCkge1xuICAgIHotaW5kZXg6IHZhcigtLXNsLXotaW5kZXgtZHJvcGRvd24pO1xuICB9XG5cbiAgLmRyb3Bkb3duW2RhdGEtY3VycmVudC1wbGFjZW1lbnRePSd0b3AnXTo6cGFydChwb3B1cCkge1xuICAgIHRyYW5zZm9ybS1vcmlnaW46IGJvdHRvbTtcbiAgfVxuXG4gIC5kcm9wZG93bltkYXRhLWN1cnJlbnQtcGxhY2VtZW50Xj0nYm90dG9tJ106OnBhcnQocG9wdXApIHtcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3A7XG4gIH1cblxuICAuZHJvcGRvd25bZGF0YS1jdXJyZW50LXBsYWNlbWVudF49J2xlZnQnXTo6cGFydChwb3B1cCkge1xuICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0O1xuICB9XG5cbiAgLmRyb3Bkb3duW2RhdGEtY3VycmVudC1wbGFjZW1lbnRePSdyaWdodCddOjpwYXJ0KHBvcHVwKSB7XG4gICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdDtcbiAgfVxuXG4gIC5kcm9wZG93bl9fdHJpZ2dlciB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuICAuZHJvcGRvd25fX3BhbmVsIHtcbiAgICBmb250LWZhbWlseTogdmFyKC0tc2wtZm9udC1zYW5zKTtcbiAgICBmb250LXNpemU6IHZhcigtLXNsLWZvbnQtc2l6ZS1tZWRpdW0pO1xuICAgIGZvbnQtd2VpZ2h0OiB2YXIoLS1zbC1mb250LXdlaWdodC1ub3JtYWwpO1xuICAgIGJveC1zaGFkb3c6IHZhcigtLXNsLXNoYWRvdy1sYXJnZSk7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tc2wtYm9yZGVyLXJhZGl1cy1tZWRpdW0pO1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICB9XG5cbiAgLmRyb3Bkb3duLS1vcGVuIC5kcm9wZG93bl9fcGFuZWwge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG4gIH1cblxuICAvKiBXaGVuIHVzZXJzIHNsb3QgYSBtZW51LCBtYWtlIHN1cmUgaXQgY29uZm9ybXMgdG8gdGhlIHBvcHVwJ3MgYXV0by1zaXplICovXG4gIDo6c2xvdHRlZChzbC1tZW51KSB7XG4gICAgbWF4LXdpZHRoOiB2YXIoLS1hdXRvLXNpemUtYXZhaWxhYmxlLXdpZHRoKSAhaW1wb3J0YW50O1xuICAgIG1heC1oZWlnaHQ6IHZhcigtLWF1dG8tc2l6ZS1hdmFpbGFibGUtaGVpZ2h0KSAhaW1wb3J0YW50O1xuICB9XG5gO1xuXG5leHBvcnQge1xuICBkcm9wZG93bl9zdHlsZXNfZGVmYXVsdFxufTtcbiIsICIvLyBzcmMvaW50ZXJuYWwvdGFiYmFibGUudHNcbnZhciBjb21wdXRlZFN0eWxlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBnZXRDYWNoZWRDb21wdXRlZFN0eWxlKGVsKSB7XG4gIGxldCBjb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZU1hcC5nZXQoZWwpO1xuICBpZiAoIWNvbXB1dGVkU3R5bGUpIHtcbiAgICBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpO1xuICAgIGNvbXB1dGVkU3R5bGVNYXAuc2V0KGVsLCBjb21wdXRlZFN0eWxlKTtcbiAgfVxuICByZXR1cm4gY29tcHV0ZWRTdHlsZTtcbn1cbmZ1bmN0aW9uIGlzVmlzaWJsZShlbCkge1xuICBpZiAodHlwZW9mIGVsLmNoZWNrVmlzaWJpbGl0eSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIGVsLmNoZWNrVmlzaWJpbGl0eSh7IGNoZWNrT3BhY2l0eTogZmFsc2UsIGNoZWNrVmlzaWJpbGl0eUNTUzogdHJ1ZSB9KTtcbiAgfVxuICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q2FjaGVkQ29tcHV0ZWRTdHlsZShlbCk7XG4gIHJldHVybiBjb21wdXRlZFN0eWxlLnZpc2liaWxpdHkgIT09IFwiaGlkZGVuXCIgJiYgY29tcHV0ZWRTdHlsZS5kaXNwbGF5ICE9PSBcIm5vbmVcIjtcbn1cbmZ1bmN0aW9uIGlzT3ZlcmZsb3dpbmdBbmRUYWJiYWJsZShlbCkge1xuICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q2FjaGVkQ29tcHV0ZWRTdHlsZShlbCk7XG4gIGNvbnN0IHsgb3ZlcmZsb3dZLCBvdmVyZmxvd1ggfSA9IGNvbXB1dGVkU3R5bGU7XG4gIGlmIChvdmVyZmxvd1kgPT09IFwic2Nyb2xsXCIgfHwgb3ZlcmZsb3dYID09PSBcInNjcm9sbFwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG92ZXJmbG93WSAhPT0gXCJhdXRvXCIgfHwgb3ZlcmZsb3dYICE9PSBcImF1dG9cIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBpc092ZXJmbG93aW5nWSA9IGVsLnNjcm9sbEhlaWdodCA+IGVsLmNsaWVudEhlaWdodDtcbiAgaWYgKGlzT3ZlcmZsb3dpbmdZICYmIG92ZXJmbG93WSA9PT0gXCJhdXRvXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBpc092ZXJmbG93aW5nWCA9IGVsLnNjcm9sbFdpZHRoID4gZWwuY2xpZW50V2lkdGg7XG4gIGlmIChpc092ZXJmbG93aW5nWCAmJiBvdmVyZmxvd1ggPT09IFwiYXV0b1wiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNUYWJiYWJsZShlbCkge1xuICBjb25zdCB0YWcgPSBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IHRhYmluZGV4ID0gTnVtYmVyKGVsLmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpKTtcbiAgY29uc3QgaGFzVGFiaW5kZXggPSBlbC5oYXNBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKTtcbiAgaWYgKGhhc1RhYmluZGV4ICYmIChpc05hTih0YWJpbmRleCkgfHwgdGFiaW5kZXggPD0gLTEpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChlbC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZWwuY2xvc2VzdChcIltpbmVydF1cIikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHRhZyA9PT0gXCJpbnB1dFwiICYmIGVsLmdldEF0dHJpYnV0ZShcInR5cGVcIikgPT09IFwicmFkaW9cIiAmJiAhZWwuaGFzQXR0cmlidXRlKFwiY2hlY2tlZFwiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoIWlzVmlzaWJsZShlbCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCh0YWcgPT09IFwiYXVkaW9cIiB8fCB0YWcgPT09IFwidmlkZW9cIikgJiYgZWwuaGFzQXR0cmlidXRlKFwiY29udHJvbHNcIikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoZWwuaGFzQXR0cmlidXRlKFwidGFiaW5kZXhcIikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoZWwuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpICYmIGVsLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSAhPT0gXCJmYWxzZVwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgaXNOYXRpdmVseVRhYmJhYmxlID0gW1xuICAgIFwiYnV0dG9uXCIsXG4gICAgXCJpbnB1dFwiLFxuICAgIFwic2VsZWN0XCIsXG4gICAgXCJ0ZXh0YXJlYVwiLFxuICAgIFwiYVwiLFxuICAgIFwiYXVkaW9cIixcbiAgICBcInZpZGVvXCIsXG4gICAgXCJzdW1tYXJ5XCIsXG4gICAgXCJpZnJhbWVcIlxuICBdLmluY2x1ZGVzKHRhZyk7XG4gIGlmIChpc05hdGl2ZWx5VGFiYmFibGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gaXNPdmVyZmxvd2luZ0FuZFRhYmJhYmxlKGVsKTtcbn1cbmZ1bmN0aW9uIGdldFRhYmJhYmxlQm91bmRhcnkocm9vdCkge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCB0YWJiYWJsZUVsZW1lbnRzID0gZ2V0VGFiYmFibGVFbGVtZW50cyhyb290KTtcbiAgY29uc3Qgc3RhcnQgPSAoX2EgPSB0YWJiYWJsZUVsZW1lbnRzWzBdKSAhPSBudWxsID8gX2EgOiBudWxsO1xuICBjb25zdCBlbmQgPSAoX2IgPSB0YWJiYWJsZUVsZW1lbnRzW3RhYmJhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV0pICE9IG51bGwgPyBfYiA6IG51bGw7XG4gIHJldHVybiB7IHN0YXJ0LCBlbmQgfTtcbn1cbmZ1bmN0aW9uIGdldFNsb3R0ZWRDaGlsZHJlbk91dHNpZGVSb290RWxlbWVudChzbG90RWxlbWVudCwgcm9vdCkge1xuICB2YXIgX2E7XG4gIHJldHVybiAoKF9hID0gc2xvdEVsZW1lbnQuZ2V0Um9vdE5vZGUoeyBjb21wb3NlZDogdHJ1ZSB9KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmhvc3QpICE9PSByb290O1xufVxuZnVuY3Rpb24gZ2V0VGFiYmFibGVFbGVtZW50cyhyb290KSB7XG4gIGNvbnN0IHdhbGtlZEVscyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuICBjb25zdCB0YWJiYWJsZUVsZW1lbnRzID0gW107XG4gIGZ1bmN0aW9uIHdhbGsoZWwpIHtcbiAgICBpZiAoZWwgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKFwiaW5lcnRcIikgfHwgZWwuY2xvc2VzdChcIltpbmVydF1cIikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHdhbGtlZEVscy5oYXMoZWwpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdhbGtlZEVscy5zZXQoZWwsIHRydWUpO1xuICAgICAgaWYgKCF0YWJiYWJsZUVsZW1lbnRzLmluY2x1ZGVzKGVsKSAmJiBpc1RhYmJhYmxlKGVsKSkge1xuICAgICAgICB0YWJiYWJsZUVsZW1lbnRzLnB1c2goZWwpO1xuICAgICAgfVxuICAgICAgaWYgKGVsIGluc3RhbmNlb2YgSFRNTFNsb3RFbGVtZW50ICYmIGdldFNsb3R0ZWRDaGlsZHJlbk91dHNpZGVSb290RWxlbWVudChlbCwgcm9vdCkpIHtcbiAgICAgICAgZWwuYXNzaWduZWRFbGVtZW50cyh7IGZsYXR0ZW46IHRydWUgfSkuZm9yRWFjaCgoYXNzaWduZWRFbCkgPT4ge1xuICAgICAgICAgIHdhbGsoYXNzaWduZWRFbCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGVsLnNoYWRvd1Jvb3QgIT09IG51bGwgJiYgZWwuc2hhZG93Um9vdC5tb2RlID09PSBcIm9wZW5cIikge1xuICAgICAgICB3YWxrKGVsLnNoYWRvd1Jvb3QpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGUgb2YgZWwuY2hpbGRyZW4pIHtcbiAgICAgIHdhbGsoZSk7XG4gICAgfVxuICB9XG4gIHdhbGsocm9vdCk7XG4gIHJldHVybiB0YWJiYWJsZUVsZW1lbnRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICBjb25zdCBhVGFiaW5kZXggPSBOdW1iZXIoYS5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSkgfHwgMDtcbiAgICBjb25zdCBiVGFiaW5kZXggPSBOdW1iZXIoYi5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSkgfHwgMDtcbiAgICByZXR1cm4gYlRhYmluZGV4IC0gYVRhYmluZGV4O1xuICB9KTtcbn1cblxuZXhwb3J0IHtcbiAgZ2V0VGFiYmFibGVCb3VuZGFyeSxcbiAgZ2V0VGFiYmFibGVFbGVtZW50c1xufTtcbiIsICIvLyBzcmMvY29tcG9uZW50cy9wb3B1cC9wb3B1cC5zdHlsZXMudHNcbmltcG9ydCB7IGNzcyB9IGZyb20gXCJsaXRcIjtcbnZhciBwb3B1cF9zdHlsZXNfZGVmYXVsdCA9IGNzc2BcbiAgOmhvc3Qge1xuICAgIC0tYXJyb3ctY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtMTAwMCk7XG4gICAgLS1hcnJvdy1zaXplOiA2cHg7XG5cbiAgICAvKlxuICAgICAqIFRoZXNlIHByb3BlcnRpZXMgYXJlIGNvbXB1dGVkIHRvIGFjY291bnQgZm9yIHRoZSBhcnJvdydzIGRpbWVuc2lvbnMgYWZ0ZXIgYmVpbmcgcm90YXRlZCA0NVx1MDBCQS4gVGhlIGNvbnN0YW50XG4gICAgICogMC43MDcxIGlzIGRlcml2ZWQgZnJvbSBzaW4oNDUpLCB3aGljaCBpcyB0aGUgZGlhZ29uYWwgc2l6ZSBvZiB0aGUgYXJyb3cncyBjb250YWluZXIgYWZ0ZXIgcm90YXRpbmcuXG4gICAgICovXG4gICAgLS1hcnJvdy1zaXplLWRpYWdvbmFsOiBjYWxjKHZhcigtLWFycm93LXNpemUpICogMC43MDcxKTtcbiAgICAtLWFycm93LXBhZGRpbmctb2Zmc2V0OiBjYWxjKHZhcigtLWFycm93LXNpemUtZGlhZ29uYWwpIC0gdmFyKC0tYXJyb3ctc2l6ZSkpO1xuXG4gICAgZGlzcGxheTogY29udGVudHM7XG4gIH1cblxuICAucG9wdXAge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBpc29sYXRpb246IGlzb2xhdGU7XG4gICAgbWF4LXdpZHRoOiB2YXIoLS1hdXRvLXNpemUtYXZhaWxhYmxlLXdpZHRoLCBub25lKTtcbiAgICBtYXgtaGVpZ2h0OiB2YXIoLS1hdXRvLXNpemUtYXZhaWxhYmxlLWhlaWdodCwgbm9uZSk7XG4gIH1cblxuICAucG9wdXAtLWZpeGVkIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gIH1cblxuICAucG9wdXA6bm90KC5wb3B1cC0tYWN0aXZlKSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gIC5wb3B1cF9fYXJyb3cge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogY2FsYyh2YXIoLS1hcnJvdy1zaXplLWRpYWdvbmFsKSAqIDIpO1xuICAgIGhlaWdodDogY2FsYyh2YXIoLS1hcnJvdy1zaXplLWRpYWdvbmFsKSAqIDIpO1xuICAgIHJvdGF0ZTogNDVkZWc7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYXJyb3ctY29sb3IpO1xuICAgIHotaW5kZXg6IC0xO1xuICB9XG5cbiAgLyogSG92ZXIgYnJpZGdlICovXG4gIC5wb3B1cC1ob3Zlci1icmlkZ2U6bm90KC5wb3B1cC1ob3Zlci1icmlkZ2UtLXZpc2libGUpIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG5cbiAgLnBvcHVwLWhvdmVyLWJyaWRnZSB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHotaW5kZXg6IGNhbGModmFyKC0tc2wtei1pbmRleC1kcm9wZG93bikgLSAxKTtcbiAgICB0b3A6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgY2xpcC1wYXRoOiBwb2x5Z29uKFxuICAgICAgdmFyKC0taG92ZXItYnJpZGdlLXRvcC1sZWZ0LXgsIDApIHZhcigtLWhvdmVyLWJyaWRnZS10b3AtbGVmdC15LCAwKSxcbiAgICAgIHZhcigtLWhvdmVyLWJyaWRnZS10b3AtcmlnaHQteCwgMCkgdmFyKC0taG92ZXItYnJpZGdlLXRvcC1yaWdodC15LCAwKSxcbiAgICAgIHZhcigtLWhvdmVyLWJyaWRnZS1ib3R0b20tcmlnaHQteCwgMCkgdmFyKC0taG92ZXItYnJpZGdlLWJvdHRvbS1yaWdodC15LCAwKSxcbiAgICAgIHZhcigtLWhvdmVyLWJyaWRnZS1ib3R0b20tbGVmdC14LCAwKSB2YXIoLS1ob3Zlci1icmlkZ2UtYm90dG9tLWxlZnQteSwgMClcbiAgICApO1xuICB9XG5gO1xuXG5leHBvcnQge1xuICBwb3B1cF9zdHlsZXNfZGVmYXVsdFxufTtcbiIsICIvKipcbiAqIEN1c3RvbSBwb3NpdGlvbmluZyByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy92aXJ0dWFsLWVsZW1lbnRzXG4gKi9cblxuY29uc3Qgc2lkZXMgPSBbJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddO1xuY29uc3QgYWxpZ25tZW50cyA9IFsnc3RhcnQnLCAnZW5kJ107XG5jb25zdCBwbGFjZW1lbnRzID0gLyojX19QVVJFX18qL3NpZGVzLnJlZHVjZSgoYWNjLCBzaWRlKSA9PiBhY2MuY29uY2F0KHNpZGUsIHNpZGUgKyBcIi1cIiArIGFsaWdubWVudHNbMF0sIHNpZGUgKyBcIi1cIiArIGFsaWdubWVudHNbMV0pLCBbXSk7XG5jb25zdCBtaW4gPSBNYXRoLm1pbjtcbmNvbnN0IG1heCA9IE1hdGgubWF4O1xuY29uc3Qgcm91bmQgPSBNYXRoLnJvdW5kO1xuY29uc3QgZmxvb3IgPSBNYXRoLmZsb29yO1xuY29uc3QgY3JlYXRlQ29vcmRzID0gdiA9PiAoe1xuICB4OiB2LFxuICB5OiB2XG59KTtcbmNvbnN0IG9wcG9zaXRlU2lkZU1hcCA9IHtcbiAgbGVmdDogJ3JpZ2h0JyxcbiAgcmlnaHQ6ICdsZWZ0JyxcbiAgYm90dG9tOiAndG9wJyxcbiAgdG9wOiAnYm90dG9tJ1xufTtcbmNvbnN0IG9wcG9zaXRlQWxpZ25tZW50TWFwID0ge1xuICBzdGFydDogJ2VuZCcsXG4gIGVuZDogJ3N0YXJ0J1xufTtcbmZ1bmN0aW9uIGNsYW1wKHN0YXJ0LCB2YWx1ZSwgZW5kKSB7XG4gIHJldHVybiBtYXgoc3RhcnQsIG1pbih2YWx1ZSwgZW5kKSk7XG59XG5mdW5jdGlvbiBldmFsdWF0ZSh2YWx1ZSwgcGFyYW0pIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlKHBhcmFtKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gZ2V0U2lkZShwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xufVxuZnVuY3Rpb24gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KCctJylbMV07XG59XG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUF4aXMoYXhpcykge1xuICByZXR1cm4gYXhpcyA9PT0gJ3gnID8gJ3knIDogJ3gnO1xufVxuZnVuY3Rpb24gZ2V0QXhpc0xlbmd0aChheGlzKSB7XG4gIHJldHVybiBheGlzID09PSAneScgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG59XG5mdW5jdGlvbiBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIFsndG9wJywgJ2JvdHRvbSddLmluY2x1ZGVzKGdldFNpZGUocGxhY2VtZW50KSkgPyAneScgOiAneCc7XG59XG5mdW5jdGlvbiBnZXRBbGlnbm1lbnRBeGlzKHBsYWNlbWVudCkge1xuICByZXR1cm4gZ2V0T3Bwb3NpdGVBeGlzKGdldFNpZGVBeGlzKHBsYWNlbWVudCkpO1xufVxuZnVuY3Rpb24gZ2V0QWxpZ25tZW50U2lkZXMocGxhY2VtZW50LCByZWN0cywgcnRsKSB7XG4gIGlmIChydGwgPT09IHZvaWQgMCkge1xuICAgIHJ0bCA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbm1lbnRBeGlzID0gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpO1xuICBjb25zdCBsZW5ndGggPSBnZXRBeGlzTGVuZ3RoKGFsaWdubWVudEF4aXMpO1xuICBsZXQgbWFpbkFsaWdubWVudFNpZGUgPSBhbGlnbm1lbnRBeGlzID09PSAneCcgPyBhbGlnbm1lbnQgPT09IChydGwgPyAnZW5kJyA6ICdzdGFydCcpID8gJ3JpZ2h0JyA6ICdsZWZ0JyA6IGFsaWdubWVudCA9PT0gJ3N0YXJ0JyA/ICdib3R0b20nIDogJ3RvcCc7XG4gIGlmIChyZWN0cy5yZWZlcmVuY2VbbGVuZ3RoXSA+IHJlY3RzLmZsb2F0aW5nW2xlbmd0aF0pIHtcbiAgICBtYWluQWxpZ25tZW50U2lkZSA9IGdldE9wcG9zaXRlUGxhY2VtZW50KG1haW5BbGlnbm1lbnRTaWRlKTtcbiAgfVxuICByZXR1cm4gW21haW5BbGlnbm1lbnRTaWRlLCBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluQWxpZ25tZW50U2lkZSldO1xufVxuZnVuY3Rpb24gZ2V0RXhwYW5kZWRQbGFjZW1lbnRzKHBsYWNlbWVudCkge1xuICBjb25zdCBvcHBvc2l0ZVBsYWNlbWVudCA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIHJldHVybiBbZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQocGxhY2VtZW50KSwgb3Bwb3NpdGVQbGFjZW1lbnQsIGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KG9wcG9zaXRlUGxhY2VtZW50KV07XG59XG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC9zdGFydHxlbmQvZywgYWxpZ25tZW50ID0+IG9wcG9zaXRlQWxpZ25tZW50TWFwW2FsaWdubWVudF0pO1xufVxuZnVuY3Rpb24gZ2V0U2lkZUxpc3Qoc2lkZSwgaXNTdGFydCwgcnRsKSB7XG4gIGNvbnN0IGxyID0gWydsZWZ0JywgJ3JpZ2h0J107XG4gIGNvbnN0IHJsID0gWydyaWdodCcsICdsZWZ0J107XG4gIGNvbnN0IHRiID0gWyd0b3AnLCAnYm90dG9tJ107XG4gIGNvbnN0IGJ0ID0gWydib3R0b20nLCAndG9wJ107XG4gIHN3aXRjaCAoc2lkZSkge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgY2FzZSAnYm90dG9tJzpcbiAgICAgIGlmIChydGwpIHJldHVybiBpc1N0YXJ0ID8gcmwgOiBscjtcbiAgICAgIHJldHVybiBpc1N0YXJ0ID8gbHIgOiBybDtcbiAgICBjYXNlICdsZWZ0JzpcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICByZXR1cm4gaXNTdGFydCA/IHRiIDogYnQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBbXTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVBeGlzUGxhY2VtZW50cyhwbGFjZW1lbnQsIGZsaXBBbGlnbm1lbnQsIGRpcmVjdGlvbiwgcnRsKSB7XG4gIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChwbGFjZW1lbnQpO1xuICBsZXQgbGlzdCA9IGdldFNpZGVMaXN0KGdldFNpZGUocGxhY2VtZW50KSwgZGlyZWN0aW9uID09PSAnc3RhcnQnLCBydGwpO1xuICBpZiAoYWxpZ25tZW50KSB7XG4gICAgbGlzdCA9IGxpc3QubWFwKHNpZGUgPT4gc2lkZSArIFwiLVwiICsgYWxpZ25tZW50KTtcbiAgICBpZiAoZmxpcEFsaWdubWVudCkge1xuICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KGxpc3QubWFwKGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBsaXN0O1xufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIHNpZGUgPT4gb3Bwb3NpdGVTaWRlTWFwW3NpZGVdKTtcbn1cbmZ1bmN0aW9uIGV4cGFuZFBhZGRpbmdPYmplY3QocGFkZGluZykge1xuICByZXR1cm4ge1xuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgICBib3R0b206IDAsXG4gICAgbGVmdDogMCxcbiAgICAuLi5wYWRkaW5nXG4gIH07XG59XG5mdW5jdGlvbiBnZXRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBwYWRkaW5nICE9PSAnbnVtYmVyJyA/IGV4cGFuZFBhZGRpbmdPYmplY3QocGFkZGluZykgOiB7XG4gICAgdG9wOiBwYWRkaW5nLFxuICAgIHJpZ2h0OiBwYWRkaW5nLFxuICAgIGJvdHRvbTogcGFkZGluZyxcbiAgICBsZWZ0OiBwYWRkaW5nXG4gIH07XG59XG5mdW5jdGlvbiByZWN0VG9DbGllbnRSZWN0KHJlY3QpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5yZWN0LFxuICAgIHRvcDogcmVjdC55LFxuICAgIGxlZnQ6IHJlY3QueCxcbiAgICByaWdodDogcmVjdC54ICsgcmVjdC53aWR0aCxcbiAgICBib3R0b206IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gIH07XG59XG5cbmV4cG9ydCB7IGFsaWdubWVudHMsIGNsYW1wLCBjcmVhdGVDb29yZHMsIGV2YWx1YXRlLCBleHBhbmRQYWRkaW5nT2JqZWN0LCBmbG9vciwgZ2V0QWxpZ25tZW50LCBnZXRBbGlnbm1lbnRBeGlzLCBnZXRBbGlnbm1lbnRTaWRlcywgZ2V0QXhpc0xlbmd0aCwgZ2V0RXhwYW5kZWRQbGFjZW1lbnRzLCBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudCwgZ2V0T3Bwb3NpdGVBeGlzLCBnZXRPcHBvc2l0ZUF4aXNQbGFjZW1lbnRzLCBnZXRPcHBvc2l0ZVBsYWNlbWVudCwgZ2V0UGFkZGluZ09iamVjdCwgZ2V0U2lkZSwgZ2V0U2lkZUF4aXMsIG1heCwgbWluLCBwbGFjZW1lbnRzLCByZWN0VG9DbGllbnRSZWN0LCByb3VuZCwgc2lkZXMgfTtcbiIsICJpbXBvcnQgeyBnZXRTaWRlQXhpcywgZ2V0QWxpZ25tZW50QXhpcywgZ2V0QXhpc0xlbmd0aCwgZ2V0U2lkZSwgZ2V0QWxpZ25tZW50LCBldmFsdWF0ZSwgZ2V0UGFkZGluZ09iamVjdCwgcmVjdFRvQ2xpZW50UmVjdCwgbWluLCBjbGFtcCwgcGxhY2VtZW50cywgZ2V0QWxpZ25tZW50U2lkZXMsIGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50LCBnZXRPcHBvc2l0ZVBsYWNlbWVudCwgZ2V0RXhwYW5kZWRQbGFjZW1lbnRzLCBnZXRPcHBvc2l0ZUF4aXNQbGFjZW1lbnRzLCBzaWRlcywgbWF4LCBnZXRPcHBvc2l0ZUF4aXMgfSBmcm9tICdAZmxvYXRpbmctdWkvdXRpbHMnO1xuZXhwb3J0IHsgcmVjdFRvQ2xpZW50UmVjdCB9IGZyb20gJ0BmbG9hdGluZy11aS91dGlscyc7XG5cbmZ1bmN0aW9uIGNvbXB1dGVDb29yZHNGcm9tUGxhY2VtZW50KF9yZWYsIHBsYWNlbWVudCwgcnRsKSB7XG4gIGxldCB7XG4gICAgcmVmZXJlbmNlLFxuICAgIGZsb2F0aW5nXG4gIH0gPSBfcmVmO1xuICBjb25zdCBzaWRlQXhpcyA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCk7XG4gIGNvbnN0IGFsaWdubWVudEF4aXMgPSBnZXRBbGlnbm1lbnRBeGlzKHBsYWNlbWVudCk7XG4gIGNvbnN0IGFsaWduTGVuZ3RoID0gZ2V0QXhpc0xlbmd0aChhbGlnbm1lbnRBeGlzKTtcbiAgY29uc3Qgc2lkZSA9IGdldFNpZGUocGxhY2VtZW50KTtcbiAgY29uc3QgaXNWZXJ0aWNhbCA9IHNpZGVBeGlzID09PSAneSc7XG4gIGNvbnN0IGNvbW1vblggPSByZWZlcmVuY2UueCArIHJlZmVyZW5jZS53aWR0aCAvIDIgLSBmbG9hdGluZy53aWR0aCAvIDI7XG4gIGNvbnN0IGNvbW1vblkgPSByZWZlcmVuY2UueSArIHJlZmVyZW5jZS5oZWlnaHQgLyAyIC0gZmxvYXRpbmcuaGVpZ2h0IC8gMjtcbiAgY29uc3QgY29tbW9uQWxpZ24gPSByZWZlcmVuY2VbYWxpZ25MZW5ndGhdIC8gMiAtIGZsb2F0aW5nW2FsaWduTGVuZ3RoXSAvIDI7XG4gIGxldCBjb29yZHM7XG4gIHN3aXRjaCAoc2lkZSkge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IGNvbW1vblgsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55IC0gZmxvYXRpbmcuaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYm90dG9tJzpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogY29tbW9uWCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnkgKyByZWZlcmVuY2UuaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCArIHJlZmVyZW5jZS53aWR0aCxcbiAgICAgICAgeTogY29tbW9uWVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCAtIGZsb2F0aW5nLndpZHRoLFxuICAgICAgICB5OiBjb21tb25ZXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLngsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55XG4gICAgICB9O1xuICB9XG4gIHN3aXRjaCAoZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkpIHtcbiAgICBjYXNlICdzdGFydCc6XG4gICAgICBjb29yZHNbYWxpZ25tZW50QXhpc10gLT0gY29tbW9uQWxpZ24gKiAocnRsICYmIGlzVmVydGljYWwgPyAtMSA6IDEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZW5kJzpcbiAgICAgIGNvb3Jkc1thbGlnbm1lbnRBeGlzXSArPSBjb21tb25BbGlnbiAqIChydGwgJiYgaXNWZXJ0aWNhbCA/IC0xIDogMSk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gY29vcmRzO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBgeGAgYW5kIGB5YCBjb29yZGluYXRlcyB0aGF0IHdpbGwgcGxhY2UgdGhlIGZsb2F0aW5nIGVsZW1lbnRcbiAqIG5leHQgdG8gYSBnaXZlbiByZWZlcmVuY2UgZWxlbWVudC5cbiAqXG4gKiBUaGlzIGV4cG9ydCBkb2VzIG5vdCBoYXZlIGFueSBgcGxhdGZvcm1gIGludGVyZmFjZSBsb2dpYy4gWW91IHdpbGwgbmVlZCB0b1xuICogd3JpdGUgb25lIGZvciB0aGUgcGxhdGZvcm0geW91IGFyZSB1c2luZyBGbG9hdGluZyBVSSB3aXRoLlxuICovXG5jb25zdCBjb21wdXRlUG9zaXRpb24gPSBhc3luYyAocmVmZXJlbmNlLCBmbG9hdGluZywgY29uZmlnKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwbGFjZW1lbnQgPSAnYm90dG9tJyxcbiAgICBzdHJhdGVneSA9ICdhYnNvbHV0ZScsXG4gICAgbWlkZGxld2FyZSA9IFtdLFxuICAgIHBsYXRmb3JtXG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IHZhbGlkTWlkZGxld2FyZSA9IG1pZGRsZXdhcmUuZmlsdGVyKEJvb2xlYW4pO1xuICBjb25zdCBydGwgPSBhd2FpdCAocGxhdGZvcm0uaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzUlRMKGZsb2F0aW5nKSk7XG4gIGxldCByZWN0cyA9IGF3YWl0IHBsYXRmb3JtLmdldEVsZW1lbnRSZWN0cyh7XG4gICAgcmVmZXJlbmNlLFxuICAgIGZsb2F0aW5nLFxuICAgIHN0cmF0ZWd5XG4gIH0pO1xuICBsZXQge1xuICAgIHgsXG4gICAgeVxuICB9ID0gY29tcHV0ZUNvb3Jkc0Zyb21QbGFjZW1lbnQocmVjdHMsIHBsYWNlbWVudCwgcnRsKTtcbiAgbGV0IHN0YXRlZnVsUGxhY2VtZW50ID0gcGxhY2VtZW50O1xuICBsZXQgbWlkZGxld2FyZURhdGEgPSB7fTtcbiAgbGV0IHJlc2V0Q291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbGlkTWlkZGxld2FyZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICBmblxuICAgIH0gPSB2YWxpZE1pZGRsZXdhcmVbaV07XG4gICAgY29uc3Qge1xuICAgICAgeDogbmV4dFgsXG4gICAgICB5OiBuZXh0WSxcbiAgICAgIGRhdGEsXG4gICAgICByZXNldFxuICAgIH0gPSBhd2FpdCBmbih7XG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGluaXRpYWxQbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIHBsYWNlbWVudDogc3RhdGVmdWxQbGFjZW1lbnQsXG4gICAgICBzdHJhdGVneSxcbiAgICAgIG1pZGRsZXdhcmVEYXRhLFxuICAgICAgcmVjdHMsXG4gICAgICBwbGF0Zm9ybSxcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIHJlZmVyZW5jZSxcbiAgICAgICAgZmxvYXRpbmdcbiAgICAgIH1cbiAgICB9KTtcbiAgICB4ID0gbmV4dFggIT0gbnVsbCA/IG5leHRYIDogeDtcbiAgICB5ID0gbmV4dFkgIT0gbnVsbCA/IG5leHRZIDogeTtcbiAgICBtaWRkbGV3YXJlRGF0YSA9IHtcbiAgICAgIC4uLm1pZGRsZXdhcmVEYXRhLFxuICAgICAgW25hbWVdOiB7XG4gICAgICAgIC4uLm1pZGRsZXdhcmVEYXRhW25hbWVdLFxuICAgICAgICAuLi5kYXRhXG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAocmVzZXQgJiYgcmVzZXRDb3VudCA8PSA1MCkge1xuICAgICAgcmVzZXRDb3VudCsrO1xuICAgICAgaWYgKHR5cGVvZiByZXNldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHJlc2V0LnBsYWNlbWVudCkge1xuICAgICAgICAgIHN0YXRlZnVsUGxhY2VtZW50ID0gcmVzZXQucGxhY2VtZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNldC5yZWN0cykge1xuICAgICAgICAgIHJlY3RzID0gcmVzZXQucmVjdHMgPT09IHRydWUgPyBhd2FpdCBwbGF0Zm9ybS5nZXRFbGVtZW50UmVjdHMoe1xuICAgICAgICAgICAgcmVmZXJlbmNlLFxuICAgICAgICAgICAgZmxvYXRpbmcsXG4gICAgICAgICAgICBzdHJhdGVneVxuICAgICAgICAgIH0pIDogcmVzZXQucmVjdHM7XG4gICAgICAgIH1cbiAgICAgICAgKHtcbiAgICAgICAgICB4LFxuICAgICAgICAgIHlcbiAgICAgICAgfSA9IGNvbXB1dGVDb29yZHNGcm9tUGxhY2VtZW50KHJlY3RzLCBzdGF0ZWZ1bFBsYWNlbWVudCwgcnRsKSk7XG4gICAgICB9XG4gICAgICBpID0gLTE7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgeCxcbiAgICB5LFxuICAgIHBsYWNlbWVudDogc3RhdGVmdWxQbGFjZW1lbnQsXG4gICAgc3RyYXRlZ3ksXG4gICAgbWlkZGxld2FyZURhdGFcbiAgfTtcbn07XG5cbi8qKlxuICogUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3Qgb2Ygb3ZlcmZsb3cgc2lkZSBvZmZzZXRzIHRoYXQgZGV0ZXJtaW5lIGhvdyBtdWNoIHRoZVxuICogZWxlbWVudCBpcyBvdmVyZmxvd2luZyBhIGdpdmVuIGNsaXBwaW5nIGJvdW5kYXJ5IG9uIGVhY2ggc2lkZS5cbiAqIC0gcG9zaXRpdmUgPSBvdmVyZmxvd2luZyB0aGUgYm91bmRhcnkgYnkgdGhhdCBudW1iZXIgb2YgcGl4ZWxzXG4gKiAtIG5lZ2F0aXZlID0gaG93IG1hbnkgcGl4ZWxzIGxlZnQgYmVmb3JlIGl0IHdpbGwgb3ZlcmZsb3dcbiAqIC0gMCA9IGxpZXMgZmx1c2ggd2l0aCB0aGUgYm91bmRhcnlcbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9kZXRlY3RPdmVyZmxvd1xuICovXG5hc3luYyBmdW5jdGlvbiBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgb3B0aW9ucykge1xuICB2YXIgX2F3YWl0JHBsYXRmb3JtJGlzRWxlO1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGNvbnN0IHtcbiAgICB4LFxuICAgIHksXG4gICAgcGxhdGZvcm0sXG4gICAgcmVjdHMsXG4gICAgZWxlbWVudHMsXG4gICAgc3RyYXRlZ3lcbiAgfSA9IHN0YXRlO1xuICBjb25zdCB7XG4gICAgYm91bmRhcnkgPSAnY2xpcHBpbmdBbmNlc3RvcnMnLFxuICAgIHJvb3RCb3VuZGFyeSA9ICd2aWV3cG9ydCcsXG4gICAgZWxlbWVudENvbnRleHQgPSAnZmxvYXRpbmcnLFxuICAgIGFsdEJvdW5kYXJ5ID0gZmFsc2UsXG4gICAgcGFkZGluZyA9IDBcbiAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgY29uc3QgcGFkZGluZ09iamVjdCA9IGdldFBhZGRpbmdPYmplY3QocGFkZGluZyk7XG4gIGNvbnN0IGFsdENvbnRleHQgPSBlbGVtZW50Q29udGV4dCA9PT0gJ2Zsb2F0aW5nJyA/ICdyZWZlcmVuY2UnIDogJ2Zsb2F0aW5nJztcbiAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2FsdEJvdW5kYXJ5ID8gYWx0Q29udGV4dCA6IGVsZW1lbnRDb250ZXh0XTtcbiAgY29uc3QgY2xpcHBpbmdDbGllbnRSZWN0ID0gcmVjdFRvQ2xpZW50UmVjdChhd2FpdCBwbGF0Zm9ybS5nZXRDbGlwcGluZ1JlY3Qoe1xuICAgIGVsZW1lbnQ6ICgoX2F3YWl0JHBsYXRmb3JtJGlzRWxlID0gYXdhaXQgKHBsYXRmb3JtLmlzRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNFbGVtZW50KGVsZW1lbnQpKSkgIT0gbnVsbCA/IF9hd2FpdCRwbGF0Zm9ybSRpc0VsZSA6IHRydWUpID8gZWxlbWVudCA6IGVsZW1lbnQuY29udGV4dEVsZW1lbnQgfHwgKGF3YWl0IChwbGF0Zm9ybS5nZXREb2N1bWVudEVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmdldERvY3VtZW50RWxlbWVudChlbGVtZW50cy5mbG9hdGluZykpKSxcbiAgICBib3VuZGFyeSxcbiAgICByb290Qm91bmRhcnksXG4gICAgc3RyYXRlZ3lcbiAgfSkpO1xuICBjb25zdCByZWN0ID0gZWxlbWVudENvbnRleHQgPT09ICdmbG9hdGluZycgPyB7XG4gICAgLi4ucmVjdHMuZmxvYXRpbmcsXG4gICAgeCxcbiAgICB5XG4gIH0gOiByZWN0cy5yZWZlcmVuY2U7XG4gIGNvbnN0IG9mZnNldFBhcmVudCA9IGF3YWl0IChwbGF0Zm9ybS5nZXRPZmZzZXRQYXJlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmdldE9mZnNldFBhcmVudChlbGVtZW50cy5mbG9hdGluZykpO1xuICBjb25zdCBvZmZzZXRTY2FsZSA9IChhd2FpdCAocGxhdGZvcm0uaXNFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc0VsZW1lbnQob2Zmc2V0UGFyZW50KSkpID8gKGF3YWl0IChwbGF0Zm9ybS5nZXRTY2FsZSA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uZ2V0U2NhbGUob2Zmc2V0UGFyZW50KSkpIHx8IHtcbiAgICB4OiAxLFxuICAgIHk6IDFcbiAgfSA6IHtcbiAgICB4OiAxLFxuICAgIHk6IDFcbiAgfTtcbiAgY29uc3QgZWxlbWVudENsaWVudFJlY3QgPSByZWN0VG9DbGllbnRSZWN0KHBsYXRmb3JtLmNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0ID8gYXdhaXQgcGxhdGZvcm0uY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3Qoe1xuICAgIGVsZW1lbnRzLFxuICAgIHJlY3QsXG4gICAgb2Zmc2V0UGFyZW50LFxuICAgIHN0cmF0ZWd5XG4gIH0pIDogcmVjdCk7XG4gIHJldHVybiB7XG4gICAgdG9wOiAoY2xpcHBpbmdDbGllbnRSZWN0LnRvcCAtIGVsZW1lbnRDbGllbnRSZWN0LnRvcCArIHBhZGRpbmdPYmplY3QudG9wKSAvIG9mZnNldFNjYWxlLnksXG4gICAgYm90dG9tOiAoZWxlbWVudENsaWVudFJlY3QuYm90dG9tIC0gY2xpcHBpbmdDbGllbnRSZWN0LmJvdHRvbSArIHBhZGRpbmdPYmplY3QuYm90dG9tKSAvIG9mZnNldFNjYWxlLnksXG4gICAgbGVmdDogKGNsaXBwaW5nQ2xpZW50UmVjdC5sZWZ0IC0gZWxlbWVudENsaWVudFJlY3QubGVmdCArIHBhZGRpbmdPYmplY3QubGVmdCkgLyBvZmZzZXRTY2FsZS54LFxuICAgIHJpZ2h0OiAoZWxlbWVudENsaWVudFJlY3QucmlnaHQgLSBjbGlwcGluZ0NsaWVudFJlY3QucmlnaHQgKyBwYWRkaW5nT2JqZWN0LnJpZ2h0KSAvIG9mZnNldFNjYWxlLnhcbiAgfTtcbn1cblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIHBvc2l0aW9uIGFuIGlubmVyIGVsZW1lbnQgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgc28gdGhhdCBpdFxuICogYXBwZWFycyBjZW50ZXJlZCB0byB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXJyb3dcbiAqL1xuY29uc3QgYXJyb3cgPSBvcHRpb25zID0+ICh7XG4gIG5hbWU6ICdhcnJvdycsXG4gIG9wdGlvbnMsXG4gIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgY29uc3Qge1xuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBwbGFjZW1lbnQsXG4gICAgICByZWN0cyxcbiAgICAgIHBsYXRmb3JtLFxuICAgICAgZWxlbWVudHMsXG4gICAgICBtaWRkbGV3YXJlRGF0YVxuICAgIH0gPSBzdGF0ZTtcbiAgICAvLyBTaW5jZSBgZWxlbWVudGAgaXMgcmVxdWlyZWQsIHdlIGRvbid0IFBhcnRpYWw8PiB0aGUgdHlwZS5cbiAgICBjb25zdCB7XG4gICAgICBlbGVtZW50LFxuICAgICAgcGFkZGluZyA9IDBcbiAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpIHx8IHt9O1xuICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgcGFkZGluZ09iamVjdCA9IGdldFBhZGRpbmdPYmplY3QocGFkZGluZyk7XG4gICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgeCxcbiAgICAgIHlcbiAgICB9O1xuICAgIGNvbnN0IGF4aXMgPSBnZXRBbGlnbm1lbnRBeGlzKHBsYWNlbWVudCk7XG4gICAgY29uc3QgbGVuZ3RoID0gZ2V0QXhpc0xlbmd0aChheGlzKTtcbiAgICBjb25zdCBhcnJvd0RpbWVuc2lvbnMgPSBhd2FpdCBwbGF0Zm9ybS5nZXREaW1lbnNpb25zKGVsZW1lbnQpO1xuICAgIGNvbnN0IGlzWUF4aXMgPSBheGlzID09PSAneSc7XG4gICAgY29uc3QgbWluUHJvcCA9IGlzWUF4aXMgPyAndG9wJyA6ICdsZWZ0JztcbiAgICBjb25zdCBtYXhQcm9wID0gaXNZQXhpcyA/ICdib3R0b20nIDogJ3JpZ2h0JztcbiAgICBjb25zdCBjbGllbnRQcm9wID0gaXNZQXhpcyA/ICdjbGllbnRIZWlnaHQnIDogJ2NsaWVudFdpZHRoJztcbiAgICBjb25zdCBlbmREaWZmID0gcmVjdHMucmVmZXJlbmNlW2xlbmd0aF0gKyByZWN0cy5yZWZlcmVuY2VbYXhpc10gLSBjb29yZHNbYXhpc10gLSByZWN0cy5mbG9hdGluZ1tsZW5ndGhdO1xuICAgIGNvbnN0IHN0YXJ0RGlmZiA9IGNvb3Jkc1theGlzXSAtIHJlY3RzLnJlZmVyZW5jZVtheGlzXTtcbiAgICBjb25zdCBhcnJvd09mZnNldFBhcmVudCA9IGF3YWl0IChwbGF0Zm9ybS5nZXRPZmZzZXRQYXJlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmdldE9mZnNldFBhcmVudChlbGVtZW50KSk7XG4gICAgbGV0IGNsaWVudFNpemUgPSBhcnJvd09mZnNldFBhcmVudCA/IGFycm93T2Zmc2V0UGFyZW50W2NsaWVudFByb3BdIDogMDtcblxuICAgIC8vIERPTSBwbGF0Zm9ybSBjYW4gcmV0dXJuIGB3aW5kb3dgIGFzIHRoZSBgb2Zmc2V0UGFyZW50YC5cbiAgICBpZiAoIWNsaWVudFNpemUgfHwgIShhd2FpdCAocGxhdGZvcm0uaXNFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc0VsZW1lbnQoYXJyb3dPZmZzZXRQYXJlbnQpKSkpIHtcbiAgICAgIGNsaWVudFNpemUgPSBlbGVtZW50cy5mbG9hdGluZ1tjbGllbnRQcm9wXSB8fCByZWN0cy5mbG9hdGluZ1tsZW5ndGhdO1xuICAgIH1cbiAgICBjb25zdCBjZW50ZXJUb1JlZmVyZW5jZSA9IGVuZERpZmYgLyAyIC0gc3RhcnREaWZmIC8gMjtcblxuICAgIC8vIElmIHRoZSBwYWRkaW5nIGlzIGxhcmdlIGVub3VnaCB0aGF0IGl0IGNhdXNlcyB0aGUgYXJyb3cgdG8gbm8gbG9uZ2VyIGJlXG4gICAgLy8gY2VudGVyZWQsIG1vZGlmeSB0aGUgcGFkZGluZyBzbyB0aGF0IGl0IGlzIGNlbnRlcmVkLlxuICAgIGNvbnN0IGxhcmdlc3RQb3NzaWJsZVBhZGRpbmcgPSBjbGllbnRTaXplIC8gMiAtIGFycm93RGltZW5zaW9uc1tsZW5ndGhdIC8gMiAtIDE7XG4gICAgY29uc3QgbWluUGFkZGluZyA9IG1pbihwYWRkaW5nT2JqZWN0W21pblByb3BdLCBsYXJnZXN0UG9zc2libGVQYWRkaW5nKTtcbiAgICBjb25zdCBtYXhQYWRkaW5nID0gbWluKHBhZGRpbmdPYmplY3RbbWF4UHJvcF0sIGxhcmdlc3RQb3NzaWJsZVBhZGRpbmcpO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRoZSBhcnJvdyBkb2Vzbid0IG92ZXJmbG93IHRoZSBmbG9hdGluZyBlbGVtZW50IGlmIHRoZSBjZW50ZXJcbiAgICAvLyBwb2ludCBpcyBvdXRzaWRlIHRoZSBmbG9hdGluZyBlbGVtZW50J3MgYm91bmRzLlxuICAgIGNvbnN0IG1pbiQxID0gbWluUGFkZGluZztcbiAgICBjb25zdCBtYXggPSBjbGllbnRTaXplIC0gYXJyb3dEaW1lbnNpb25zW2xlbmd0aF0gLSBtYXhQYWRkaW5nO1xuICAgIGNvbnN0IGNlbnRlciA9IGNsaWVudFNpemUgLyAyIC0gYXJyb3dEaW1lbnNpb25zW2xlbmd0aF0gLyAyICsgY2VudGVyVG9SZWZlcmVuY2U7XG4gICAgY29uc3Qgb2Zmc2V0ID0gY2xhbXAobWluJDEsIGNlbnRlciwgbWF4KTtcblxuICAgIC8vIElmIHRoZSByZWZlcmVuY2UgaXMgc21hbGwgZW5vdWdoIHRoYXQgdGhlIGFycm93J3MgcGFkZGluZyBjYXVzZXMgaXQgdG9cbiAgICAvLyB0byBwb2ludCB0byBub3RoaW5nIGZvciBhbiBhbGlnbmVkIHBsYWNlbWVudCwgYWRqdXN0IHRoZSBvZmZzZXQgb2YgdGhlXG4gICAgLy8gZmxvYXRpbmcgZWxlbWVudCBpdHNlbGYuIFRvIGVuc3VyZSBgc2hpZnQoKWAgY29udGludWVzIHRvIHRha2UgYWN0aW9uLFxuICAgIC8vIGEgc2luZ2xlIHJlc2V0IGlzIHBlcmZvcm1lZCB3aGVuIHRoaXMgaXMgdHJ1ZS5cbiAgICBjb25zdCBzaG91bGRBZGRPZmZzZXQgPSAhbWlkZGxld2FyZURhdGEuYXJyb3cgJiYgZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkgIT0gbnVsbCAmJiBjZW50ZXIgIT09IG9mZnNldCAmJiByZWN0cy5yZWZlcmVuY2VbbGVuZ3RoXSAvIDIgLSAoY2VudGVyIDwgbWluJDEgPyBtaW5QYWRkaW5nIDogbWF4UGFkZGluZykgLSBhcnJvd0RpbWVuc2lvbnNbbGVuZ3RoXSAvIDIgPCAwO1xuICAgIGNvbnN0IGFsaWdubWVudE9mZnNldCA9IHNob3VsZEFkZE9mZnNldCA/IGNlbnRlciA8IG1pbiQxID8gY2VudGVyIC0gbWluJDEgOiBjZW50ZXIgLSBtYXggOiAwO1xuICAgIHJldHVybiB7XG4gICAgICBbYXhpc106IGNvb3Jkc1theGlzXSArIGFsaWdubWVudE9mZnNldCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgW2F4aXNdOiBvZmZzZXQsXG4gICAgICAgIGNlbnRlck9mZnNldDogY2VudGVyIC0gb2Zmc2V0IC0gYWxpZ25tZW50T2Zmc2V0LFxuICAgICAgICAuLi4oc2hvdWxkQWRkT2Zmc2V0ICYmIHtcbiAgICAgICAgICBhbGlnbm1lbnRPZmZzZXRcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZXNldDogc2hvdWxkQWRkT2Zmc2V0XG4gICAgfTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGdldFBsYWNlbWVudExpc3QoYWxpZ25tZW50LCBhdXRvQWxpZ25tZW50LCBhbGxvd2VkUGxhY2VtZW50cykge1xuICBjb25zdCBhbGxvd2VkUGxhY2VtZW50c1NvcnRlZEJ5QWxpZ25tZW50ID0gYWxpZ25tZW50ID8gWy4uLmFsbG93ZWRQbGFjZW1lbnRzLmZpbHRlcihwbGFjZW1lbnQgPT4gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkgPT09IGFsaWdubWVudCksIC4uLmFsbG93ZWRQbGFjZW1lbnRzLmZpbHRlcihwbGFjZW1lbnQgPT4gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkgIT09IGFsaWdubWVudCldIDogYWxsb3dlZFBsYWNlbWVudHMuZmlsdGVyKHBsYWNlbWVudCA9PiBnZXRTaWRlKHBsYWNlbWVudCkgPT09IHBsYWNlbWVudCk7XG4gIHJldHVybiBhbGxvd2VkUGxhY2VtZW50c1NvcnRlZEJ5QWxpZ25tZW50LmZpbHRlcihwbGFjZW1lbnQgPT4ge1xuICAgIGlmIChhbGlnbm1lbnQpIHtcbiAgICAgIHJldHVybiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSA9PT0gYWxpZ25tZW50IHx8IChhdXRvQWxpZ25tZW50ID8gZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQocGxhY2VtZW50KSAhPT0gcGxhY2VtZW50IDogZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBjaG9vc2luZyB0aGUgcGxhY2VtZW50XG4gKiB0aGF0IGhhcyB0aGUgbW9zdCBzcGFjZSBhdmFpbGFibGUgYXV0b21hdGljYWxseSwgd2l0aG91dCBuZWVkaW5nIHRvIHNwZWNpZnkgYVxuICogcHJlZmVycmVkIHBsYWNlbWVudC4gQWx0ZXJuYXRpdmUgdG8gYGZsaXBgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2F1dG9QbGFjZW1lbnRcbiAqL1xuY29uc3QgYXV0b1BsYWNlbWVudCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnYXV0b1BsYWNlbWVudCcsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRhdXRvUCwgX21pZGRsZXdhcmVEYXRhJGF1dG9QMiwgX3BsYWNlbWVudHNUaGF0Rml0T25FO1xuICAgICAgY29uc3Qge1xuICAgICAgICByZWN0cyxcbiAgICAgICAgbWlkZGxld2FyZURhdGEsXG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgIGVsZW1lbnRzXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNyb3NzQXhpcyA9IGZhbHNlLFxuICAgICAgICBhbGlnbm1lbnQsXG4gICAgICAgIGFsbG93ZWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cyxcbiAgICAgICAgYXV0b0FsaWdubWVudCA9IHRydWUsXG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IHBsYWNlbWVudHMkMSA9IGFsaWdubWVudCAhPT0gdW5kZWZpbmVkIHx8IGFsbG93ZWRQbGFjZW1lbnRzID09PSBwbGFjZW1lbnRzID8gZ2V0UGxhY2VtZW50TGlzdChhbGlnbm1lbnQgfHwgbnVsbCwgYXV0b0FsaWdubWVudCwgYWxsb3dlZFBsYWNlbWVudHMpIDogYWxsb3dlZFBsYWNlbWVudHM7XG4gICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KHN0YXRlLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gKChfbWlkZGxld2FyZURhdGEkYXV0b1AgPSBtaWRkbGV3YXJlRGF0YS5hdXRvUGxhY2VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJGF1dG9QLmluZGV4KSB8fCAwO1xuICAgICAgY29uc3QgY3VycmVudFBsYWNlbWVudCA9IHBsYWNlbWVudHMkMVtjdXJyZW50SW5kZXhdO1xuICAgICAgaWYgKGN1cnJlbnRQbGFjZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCBhbGlnbm1lbnRTaWRlcyA9IGdldEFsaWdubWVudFNpZGVzKGN1cnJlbnRQbGFjZW1lbnQsIHJlY3RzLCBhd2FpdCAocGxhdGZvcm0uaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzUlRMKGVsZW1lbnRzLmZsb2F0aW5nKSkpO1xuXG4gICAgICAvLyBNYWtlIGBjb21wdXRlQ29vcmRzYCBzdGFydCBmcm9tIHRoZSByaWdodCBwbGFjZS5cbiAgICAgIGlmIChwbGFjZW1lbnQgIT09IGN1cnJlbnRQbGFjZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnRzJDFbMF1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBjdXJyZW50T3ZlcmZsb3dzID0gW292ZXJmbG93W2dldFNpZGUoY3VycmVudFBsYWNlbWVudCldLCBvdmVyZmxvd1thbGlnbm1lbnRTaWRlc1swXV0sIG92ZXJmbG93W2FsaWdubWVudFNpZGVzWzFdXV07XG4gICAgICBjb25zdCBhbGxPdmVyZmxvd3MgPSBbLi4uKCgoX21pZGRsZXdhcmVEYXRhJGF1dG9QMiA9IG1pZGRsZXdhcmVEYXRhLmF1dG9QbGFjZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkYXV0b1AyLm92ZXJmbG93cykgfHwgW10pLCB7XG4gICAgICAgIHBsYWNlbWVudDogY3VycmVudFBsYWNlbWVudCxcbiAgICAgICAgb3ZlcmZsb3dzOiBjdXJyZW50T3ZlcmZsb3dzXG4gICAgICB9XTtcbiAgICAgIGNvbnN0IG5leHRQbGFjZW1lbnQgPSBwbGFjZW1lbnRzJDFbY3VycmVudEluZGV4ICsgMV07XG5cbiAgICAgIC8vIFRoZXJlIGFyZSBtb3JlIHBsYWNlbWVudHMgdG8gY2hlY2suXG4gICAgICBpZiAobmV4dFBsYWNlbWVudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGluZGV4OiBjdXJyZW50SW5kZXggKyAxLFxuICAgICAgICAgICAgb3ZlcmZsb3dzOiBhbGxPdmVyZmxvd3NcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICBwbGFjZW1lbnQ6IG5leHRQbGFjZW1lbnRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBwbGFjZW1lbnRzU29ydGVkQnlNb3N0U3BhY2UgPSBhbGxPdmVyZmxvd3MubWFwKGQgPT4ge1xuICAgICAgICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQoZC5wbGFjZW1lbnQpO1xuICAgICAgICByZXR1cm4gW2QucGxhY2VtZW50LCBhbGlnbm1lbnQgJiYgY3Jvc3NBeGlzID9cbiAgICAgICAgLy8gQ2hlY2sgYWxvbmcgdGhlIG1haW5BeGlzIGFuZCBtYWluIGNyb3NzQXhpcyBzaWRlLlxuICAgICAgICBkLm92ZXJmbG93cy5zbGljZSgwLCAyKS5yZWR1Y2UoKGFjYywgdikgPT4gYWNjICsgdiwgMCkgOlxuICAgICAgICAvLyBDaGVjayBvbmx5IHRoZSBtYWluQXhpcy5cbiAgICAgICAgZC5vdmVyZmxvd3NbMF0sIGQub3ZlcmZsb3dzXTtcbiAgICAgIH0pLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKTtcbiAgICAgIGNvbnN0IHBsYWNlbWVudHNUaGF0Rml0T25FYWNoU2lkZSA9IHBsYWNlbWVudHNTb3J0ZWRCeU1vc3RTcGFjZS5maWx0ZXIoZCA9PiBkWzJdLnNsaWNlKDAsXG4gICAgICAvLyBBbGlnbmVkIHBsYWNlbWVudHMgc2hvdWxkIG5vdCBjaGVjayB0aGVpciBvcHBvc2l0ZSBjcm9zc0F4aXNcbiAgICAgIC8vIHNpZGUuXG4gICAgICBnZXRBbGlnbm1lbnQoZFswXSkgPyAyIDogMykuZXZlcnkodiA9PiB2IDw9IDApKTtcbiAgICAgIGNvbnN0IHJlc2V0UGxhY2VtZW50ID0gKChfcGxhY2VtZW50c1RoYXRGaXRPbkUgPSBwbGFjZW1lbnRzVGhhdEZpdE9uRWFjaFNpZGVbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfcGxhY2VtZW50c1RoYXRGaXRPbkVbMF0pIHx8IHBsYWNlbWVudHNTb3J0ZWRCeU1vc3RTcGFjZVswXVswXTtcbiAgICAgIGlmIChyZXNldFBsYWNlbWVudCAhPT0gcGxhY2VtZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaW5kZXg6IGN1cnJlbnRJbmRleCArIDEsXG4gICAgICAgICAgICBvdmVyZmxvd3M6IGFsbE92ZXJmbG93c1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgIHBsYWNlbWVudDogcmVzZXRQbGFjZW1lbnRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgZmxpcHBpbmcgdGhlIGBwbGFjZW1lbnRgXG4gKiBpbiBvcmRlciB0byBrZWVwIGl0IGluIHZpZXcgd2hlbiB0aGUgcHJlZmVycmVkIHBsYWNlbWVudChzKSB3aWxsIG92ZXJmbG93IHRoZVxuICogY2xpcHBpbmcgYm91bmRhcnkuIEFsdGVybmF0aXZlIHRvIGBhdXRvUGxhY2VtZW50YC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9mbGlwXG4gKi9cbmNvbnN0IGZsaXAgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2ZsaXAnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIHZhciBfbWlkZGxld2FyZURhdGEkYXJyb3csIF9taWRkbGV3YXJlRGF0YSRmbGlwO1xuICAgICAgY29uc3Qge1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIG1pZGRsZXdhcmVEYXRhLFxuICAgICAgICByZWN0cyxcbiAgICAgICAgaW5pdGlhbFBsYWNlbWVudCxcbiAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgIGVsZW1lbnRzXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1haW5BeGlzOiBjaGVja01haW5BeGlzID0gdHJ1ZSxcbiAgICAgICAgY3Jvc3NBeGlzOiBjaGVja0Nyb3NzQXhpcyA9IHRydWUsXG4gICAgICAgIGZhbGxiYWNrUGxhY2VtZW50czogc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzLFxuICAgICAgICBmYWxsYmFja1N0cmF0ZWd5ID0gJ2Jlc3RGaXQnLFxuICAgICAgICBmYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uID0gJ25vbmUnLFxuICAgICAgICBmbGlwQWxpZ25tZW50ID0gdHJ1ZSxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuXG4gICAgICAvLyBJZiBhIHJlc2V0IGJ5IHRoZSBhcnJvdyB3YXMgY2F1c2VkIGR1ZSB0byBhbiBhbGlnbm1lbnQgb2Zmc2V0IGJlaW5nXG4gICAgICAvLyBhZGRlZCwgd2Ugc2hvdWxkIHNraXAgYW55IGxvZ2ljIG5vdyBzaW5jZSBgZmxpcCgpYCBoYXMgYWxyZWFkeSBkb25lIGl0c1xuICAgICAgLy8gd29yay5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbG9hdGluZy11aS9mbG9hdGluZy11aS9pc3N1ZXMvMjU0OSNpc3N1ZWNvbW1lbnQtMTcxOTYwMTY0M1xuICAgICAgaWYgKChfbWlkZGxld2FyZURhdGEkYXJyb3cgPSBtaWRkbGV3YXJlRGF0YS5hcnJvdykgIT0gbnVsbCAmJiBfbWlkZGxld2FyZURhdGEkYXJyb3cuYWxpZ25tZW50T2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gICAgICBjb25zdCBpc0Jhc2VQbGFjZW1lbnQgPSBnZXRTaWRlKGluaXRpYWxQbGFjZW1lbnQpID09PSBpbml0aWFsUGxhY2VtZW50O1xuICAgICAgY29uc3QgcnRsID0gYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpO1xuICAgICAgY29uc3QgZmFsbGJhY2tQbGFjZW1lbnRzID0gc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzIHx8IChpc0Jhc2VQbGFjZW1lbnQgfHwgIWZsaXBBbGlnbm1lbnQgPyBbZ2V0T3Bwb3NpdGVQbGFjZW1lbnQoaW5pdGlhbFBsYWNlbWVudCldIDogZ2V0RXhwYW5kZWRQbGFjZW1lbnRzKGluaXRpYWxQbGFjZW1lbnQpKTtcbiAgICAgIGlmICghc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzICYmIGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24gIT09ICdub25lJykge1xuICAgICAgICBmYWxsYmFja1BsYWNlbWVudHMucHVzaCguLi5nZXRPcHBvc2l0ZUF4aXNQbGFjZW1lbnRzKGluaXRpYWxQbGFjZW1lbnQsIGZsaXBBbGlnbm1lbnQsIGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24sIHJ0bCkpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGxhY2VtZW50cyA9IFtpbml0aWFsUGxhY2VtZW50LCAuLi5mYWxsYmFja1BsYWNlbWVudHNdO1xuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IG92ZXJmbG93cyA9IFtdO1xuICAgICAgbGV0IG92ZXJmbG93c0RhdGEgPSAoKF9taWRkbGV3YXJlRGF0YSRmbGlwID0gbWlkZGxld2FyZURhdGEuZmxpcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRmbGlwLm92ZXJmbG93cykgfHwgW107XG4gICAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgICBvdmVyZmxvd3MucHVzaChvdmVyZmxvd1tzaWRlXSk7XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2tDcm9zc0F4aXMpIHtcbiAgICAgICAgY29uc3Qgc2lkZXMgPSBnZXRBbGlnbm1lbnRTaWRlcyhwbGFjZW1lbnQsIHJlY3RzLCBydGwpO1xuICAgICAgICBvdmVyZmxvd3MucHVzaChvdmVyZmxvd1tzaWRlc1swXV0sIG92ZXJmbG93W3NpZGVzWzFdXSk7XG4gICAgICB9XG4gICAgICBvdmVyZmxvd3NEYXRhID0gWy4uLm92ZXJmbG93c0RhdGEsIHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBvdmVyZmxvd3NcbiAgICAgIH1dO1xuXG4gICAgICAvLyBPbmUgb3IgbW9yZSBzaWRlcyBpcyBvdmVyZmxvd2luZy5cbiAgICAgIGlmICghb3ZlcmZsb3dzLmV2ZXJ5KHNpZGUgPT4gc2lkZSA8PSAwKSkge1xuICAgICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJGZsaXAyLCBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXI7XG4gICAgICAgIGNvbnN0IG5leHRJbmRleCA9ICgoKF9taWRkbGV3YXJlRGF0YSRmbGlwMiA9IG1pZGRsZXdhcmVEYXRhLmZsaXApID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkZmxpcDIuaW5kZXgpIHx8IDApICsgMTtcbiAgICAgICAgY29uc3QgbmV4dFBsYWNlbWVudCA9IHBsYWNlbWVudHNbbmV4dEluZGV4XTtcbiAgICAgICAgaWYgKG5leHRQbGFjZW1lbnQpIHtcbiAgICAgICAgICAvLyBUcnkgbmV4dCBwbGFjZW1lbnQgYW5kIHJlLXJ1biB0aGUgbGlmZWN5Y2xlLlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluZGV4OiBuZXh0SW5kZXgsXG4gICAgICAgICAgICAgIG92ZXJmbG93czogb3ZlcmZsb3dzRGF0YVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICAgIHBsYWNlbWVudDogbmV4dFBsYWNlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJzdCwgZmluZCB0aGUgY2FuZGlkYXRlcyB0aGF0IGZpdCBvbiB0aGUgbWFpbkF4aXMgc2lkZSBvZiBvdmVyZmxvdyxcbiAgICAgICAgLy8gdGhlbiBmaW5kIHRoZSBwbGFjZW1lbnQgdGhhdCBmaXRzIHRoZSBiZXN0IG9uIHRoZSBtYWluIGNyb3NzQXhpcyBzaWRlLlxuICAgICAgICBsZXQgcmVzZXRQbGFjZW1lbnQgPSAoX292ZXJmbG93c0RhdGEkZmlsdGVyID0gb3ZlcmZsb3dzRGF0YS5maWx0ZXIoZCA9PiBkLm92ZXJmbG93c1swXSA8PSAwKS5zb3J0KChhLCBiKSA9PiBhLm92ZXJmbG93c1sxXSAtIGIub3ZlcmZsb3dzWzFdKVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdmVyZmxvd3NEYXRhJGZpbHRlci5wbGFjZW1lbnQ7XG5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIGZhbGxiYWNrLlxuICAgICAgICBpZiAoIXJlc2V0UGxhY2VtZW50KSB7XG4gICAgICAgICAgc3dpdGNoIChmYWxsYmFja1N0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlICdiZXN0Rml0JzpcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBfb3ZlcmZsb3dzRGF0YSRtYXAkc287XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2VtZW50ID0gKF9vdmVyZmxvd3NEYXRhJG1hcCRzbyA9IG92ZXJmbG93c0RhdGEubWFwKGQgPT4gW2QucGxhY2VtZW50LCBkLm92ZXJmbG93cy5maWx0ZXIob3ZlcmZsb3cgPT4gb3ZlcmZsb3cgPiAwKS5yZWR1Y2UoKGFjYywgb3ZlcmZsb3cpID0+IGFjYyArIG92ZXJmbG93LCAwKV0pLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdmVyZmxvd3NEYXRhJG1hcCRzb1swXTtcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXNldFBsYWNlbWVudCA9IHBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2luaXRpYWxQbGFjZW1lbnQnOlxuICAgICAgICAgICAgICByZXNldFBsYWNlbWVudCA9IGluaXRpYWxQbGFjZW1lbnQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGxhY2VtZW50ICE9PSByZXNldFBsYWNlbWVudCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IHJlc2V0UGxhY2VtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldFNpZGVPZmZzZXRzKG92ZXJmbG93LCByZWN0KSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiBvdmVyZmxvdy50b3AgLSByZWN0LmhlaWdodCxcbiAgICByaWdodDogb3ZlcmZsb3cucmlnaHQgLSByZWN0LndpZHRoLFxuICAgIGJvdHRvbTogb3ZlcmZsb3cuYm90dG9tIC0gcmVjdC5oZWlnaHQsXG4gICAgbGVmdDogb3ZlcmZsb3cubGVmdCAtIHJlY3Qud2lkdGhcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChvdmVyZmxvdykge1xuICByZXR1cm4gc2lkZXMuc29tZShzaWRlID0+IG92ZXJmbG93W3NpZGVdID49IDApO1xufVxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIGhpZGUgdGhlIGZsb2F0aW5nIGVsZW1lbnQgaW4gYXBwbGljYWJsZSBzaXR1YXRpb25zLCBzdWNoIGFzXG4gKiB3aGVuIGl0IGlzIG5vdCBpbiB0aGUgc2FtZSBjbGlwcGluZyBjb250ZXh0IGFzIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9oaWRlXG4gKi9cbmNvbnN0IGhpZGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2hpZGUnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVjdHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc3RyYXRlZ3kgPSAncmVmZXJlbmNlSGlkZGVuJyxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgc3dpdGNoIChzdHJhdGVneSkge1xuICAgICAgICBjYXNlICdyZWZlcmVuY2VIaWRkZW4nOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICAgICAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zLFxuICAgICAgICAgICAgICBlbGVtZW50Q29udGV4dDogJ3JlZmVyZW5jZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0cyA9IGdldFNpZGVPZmZzZXRzKG92ZXJmbG93LCByZWN0cy5yZWZlcmVuY2UpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHJlZmVyZW5jZUhpZGRlbk9mZnNldHM6IG9mZnNldHMsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlSGlkZGVuOiBpc0FueVNpZGVGdWxseUNsaXBwZWQob2Zmc2V0cylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2VzY2FwZWQnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICAgICAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zLFxuICAgICAgICAgICAgICBhbHRCb3VuZGFyeTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRzID0gZ2V0U2lkZU9mZnNldHMob3ZlcmZsb3csIHJlY3RzLmZsb2F0aW5nKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBlc2NhcGVkT2Zmc2V0czogb2Zmc2V0cyxcbiAgICAgICAgICAgICAgICBlc2NhcGVkOiBpc0FueVNpZGVGdWxseUNsaXBwZWQob2Zmc2V0cylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5mdW5jdGlvbiBnZXRCb3VuZGluZ1JlY3QocmVjdHMpIHtcbiAgY29uc3QgbWluWCA9IG1pbiguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LmxlZnQpKTtcbiAgY29uc3QgbWluWSA9IG1pbiguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LnRvcCkpO1xuICBjb25zdCBtYXhYID0gbWF4KC4uLnJlY3RzLm1hcChyZWN0ID0+IHJlY3QucmlnaHQpKTtcbiAgY29uc3QgbWF4WSA9IG1heCguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LmJvdHRvbSkpO1xuICByZXR1cm4ge1xuICAgIHg6IG1pblgsXG4gICAgeTogbWluWSxcbiAgICB3aWR0aDogbWF4WCAtIG1pblgsXG4gICAgaGVpZ2h0OiBtYXhZIC0gbWluWVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0UmVjdHNCeUxpbmUocmVjdHMpIHtcbiAgY29uc3Qgc29ydGVkUmVjdHMgPSByZWN0cy5zbGljZSgpLnNvcnQoKGEsIGIpID0+IGEueSAtIGIueSk7XG4gIGNvbnN0IGdyb3VwcyA9IFtdO1xuICBsZXQgcHJldlJlY3QgPSBudWxsO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZFJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmVjdCA9IHNvcnRlZFJlY3RzW2ldO1xuICAgIGlmICghcHJldlJlY3QgfHwgcmVjdC55IC0gcHJldlJlY3QueSA+IHByZXZSZWN0LmhlaWdodCAvIDIpIHtcbiAgICAgIGdyb3Vwcy5wdXNoKFtyZWN0XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdyb3Vwc1tncm91cHMubGVuZ3RoIC0gMV0ucHVzaChyZWN0KTtcbiAgICB9XG4gICAgcHJldlJlY3QgPSByZWN0O1xuICB9XG4gIHJldHVybiBncm91cHMubWFwKHJlY3QgPT4gcmVjdFRvQ2xpZW50UmVjdChnZXRCb3VuZGluZ1JlY3QocmVjdCkpKTtcbn1cbi8qKlxuICogUHJvdmlkZXMgaW1wcm92ZWQgcG9zaXRpb25pbmcgZm9yIGlubGluZSByZWZlcmVuY2UgZWxlbWVudHMgdGhhdCBjYW4gc3BhblxuICogb3ZlciBtdWx0aXBsZSBsaW5lcywgc3VjaCBhcyBoeXBlcmxpbmtzIG9yIHJhbmdlIHNlbGVjdGlvbnMuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvaW5saW5lXG4gKi9cbmNvbnN0IGlubGluZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnaW5saW5lJyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIHJlY3RzLFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgc3RyYXRlZ3lcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIC8vIEEgTW91c2VFdmVudCdzIGNsaWVudHtYLFl9IGNvb3JkcyBjYW4gYmUgdXAgdG8gMiBwaXhlbHMgb2ZmIGFcbiAgICAgIC8vIENsaWVudFJlY3QncyBib3VuZHMsIGRlc3BpdGUgdGhlIGV2ZW50IGxpc3RlbmVyIGJlaW5nIHRyaWdnZXJlZC4gQVxuICAgICAgLy8gcGFkZGluZyBvZiAyIHNlZW1zIHRvIGhhbmRsZSB0aGlzIGlzc3VlLlxuICAgICAgY29uc3Qge1xuICAgICAgICBwYWRkaW5nID0gMixcbiAgICAgICAgeCxcbiAgICAgICAgeVxuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IG5hdGl2ZUNsaWVudFJlY3RzID0gQXJyYXkuZnJvbSgoYXdhaXQgKHBsYXRmb3JtLmdldENsaWVudFJlY3RzID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5nZXRDbGllbnRSZWN0cyhlbGVtZW50cy5yZWZlcmVuY2UpKSkgfHwgW10pO1xuICAgICAgY29uc3QgY2xpZW50UmVjdHMgPSBnZXRSZWN0c0J5TGluZShuYXRpdmVDbGllbnRSZWN0cyk7XG4gICAgICBjb25zdCBmYWxsYmFjayA9IHJlY3RUb0NsaWVudFJlY3QoZ2V0Qm91bmRpbmdSZWN0KG5hdGl2ZUNsaWVudFJlY3RzKSk7XG4gICAgICBjb25zdCBwYWRkaW5nT2JqZWN0ID0gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKTtcbiAgICAgIGZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIHR3byByZWN0cyBhbmQgdGhleSBhcmUgZGlzam9pbmVkLlxuICAgICAgICBpZiAoY2xpZW50UmVjdHMubGVuZ3RoID09PSAyICYmIGNsaWVudFJlY3RzWzBdLmxlZnQgPiBjbGllbnRSZWN0c1sxXS5yaWdodCAmJiB4ICE9IG51bGwgJiYgeSAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgcmVjdCBpbiB3aGljaCB0aGUgcG9pbnQgaXMgZnVsbHkgaW5zaWRlLlxuICAgICAgICAgIHJldHVybiBjbGllbnRSZWN0cy5maW5kKHJlY3QgPT4geCA+IHJlY3QubGVmdCAtIHBhZGRpbmdPYmplY3QubGVmdCAmJiB4IDwgcmVjdC5yaWdodCArIHBhZGRpbmdPYmplY3QucmlnaHQgJiYgeSA+IHJlY3QudG9wIC0gcGFkZGluZ09iamVjdC50b3AgJiYgeSA8IHJlY3QuYm90dG9tICsgcGFkZGluZ09iamVjdC5ib3R0b20pIHx8IGZhbGxiYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlcmUgYXJlIDIgb3IgbW9yZSBjb25uZWN0ZWQgcmVjdHMuXG4gICAgICAgIGlmIChjbGllbnRSZWN0cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgIGlmIChnZXRTaWRlQXhpcyhwbGFjZW1lbnQpID09PSAneScpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UmVjdCA9IGNsaWVudFJlY3RzWzBdO1xuICAgICAgICAgICAgY29uc3QgbGFzdFJlY3QgPSBjbGllbnRSZWN0c1tjbGllbnRSZWN0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IGlzVG9wID0gZ2V0U2lkZShwbGFjZW1lbnQpID09PSAndG9wJztcbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IGZpcnN0UmVjdC50b3A7XG4gICAgICAgICAgICBjb25zdCBib3R0b20gPSBsYXN0UmVjdC5ib3R0b207XG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gaXNUb3AgPyBmaXJzdFJlY3QubGVmdCA6IGxhc3RSZWN0LmxlZnQ7XG4gICAgICAgICAgICBjb25zdCByaWdodCA9IGlzVG9wID8gZmlyc3RSZWN0LnJpZ2h0IDogbGFzdFJlY3QucmlnaHQ7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgeDogbGVmdCxcbiAgICAgICAgICAgICAgeTogdG9wXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpc0xlZnRTaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpID09PSAnbGVmdCc7XG4gICAgICAgICAgY29uc3QgbWF4UmlnaHQgPSBtYXgoLi4uY2xpZW50UmVjdHMubWFwKHJlY3QgPT4gcmVjdC5yaWdodCkpO1xuICAgICAgICAgIGNvbnN0IG1pbkxlZnQgPSBtaW4oLi4uY2xpZW50UmVjdHMubWFwKHJlY3QgPT4gcmVjdC5sZWZ0KSk7XG4gICAgICAgICAgY29uc3QgbWVhc3VyZVJlY3RzID0gY2xpZW50UmVjdHMuZmlsdGVyKHJlY3QgPT4gaXNMZWZ0U2lkZSA/IHJlY3QubGVmdCA9PT0gbWluTGVmdCA6IHJlY3QucmlnaHQgPT09IG1heFJpZ2h0KTtcbiAgICAgICAgICBjb25zdCB0b3AgPSBtZWFzdXJlUmVjdHNbMF0udG9wO1xuICAgICAgICAgIGNvbnN0IGJvdHRvbSA9IG1lYXN1cmVSZWN0c1ttZWFzdXJlUmVjdHMubGVuZ3RoIC0gMV0uYm90dG9tO1xuICAgICAgICAgIGNvbnN0IGxlZnQgPSBtaW5MZWZ0O1xuICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gbWF4UmlnaHQ7XG4gICAgICAgICAgY29uc3Qgd2lkdGggPSByaWdodCAtIGxlZnQ7XG4gICAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHg6IGxlZnQsXG4gICAgICAgICAgICB5OiB0b3BcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc2V0UmVjdHMgPSBhd2FpdCBwbGF0Zm9ybS5nZXRFbGVtZW50UmVjdHMoe1xuICAgICAgICByZWZlcmVuY2U6IHtcbiAgICAgICAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3RcbiAgICAgICAgfSxcbiAgICAgICAgZmxvYXRpbmc6IGVsZW1lbnRzLmZsb2F0aW5nLFxuICAgICAgICBzdHJhdGVneVxuICAgICAgfSk7XG4gICAgICBpZiAocmVjdHMucmVmZXJlbmNlLnggIT09IHJlc2V0UmVjdHMucmVmZXJlbmNlLnggfHwgcmVjdHMucmVmZXJlbmNlLnkgIT09IHJlc2V0UmVjdHMucmVmZXJlbmNlLnkgfHwgcmVjdHMucmVmZXJlbmNlLndpZHRoICE9PSByZXNldFJlY3RzLnJlZmVyZW5jZS53aWR0aCB8fCByZWN0cy5yZWZlcmVuY2UuaGVpZ2h0ICE9PSByZXNldFJlY3RzLnJlZmVyZW5jZS5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcmVjdHM6IHJlc2V0UmVjdHNcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcblxuLy8gRm9yIHR5cGUgYmFja3dhcmRzLWNvbXBhdGliaWxpdHksIHRoZSBgT2Zmc2V0T3B0aW9uc2AgdHlwZSB3YXMgYWxzb1xuLy8gRGVyaXZhYmxlLlxuXG5hc3luYyBmdW5jdGlvbiBjb252ZXJ0VmFsdWVUb0Nvb3JkcyhzdGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgcGxhY2VtZW50LFxuICAgIHBsYXRmb3JtLFxuICAgIGVsZW1lbnRzXG4gIH0gPSBzdGF0ZTtcbiAgY29uc3QgcnRsID0gYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpO1xuICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgY29uc3QgaXNWZXJ0aWNhbCA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCkgPT09ICd5JztcbiAgY29uc3QgbWFpbkF4aXNNdWx0aSA9IFsnbGVmdCcsICd0b3AnXS5pbmNsdWRlcyhzaWRlKSA/IC0xIDogMTtcbiAgY29uc3QgY3Jvc3NBeGlzTXVsdGkgPSBydGwgJiYgaXNWZXJ0aWNhbCA/IC0xIDogMTtcbiAgY29uc3QgcmF3VmFsdWUgPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gIGxldCB7XG4gICAgbWFpbkF4aXMsXG4gICAgY3Jvc3NBeGlzLFxuICAgIGFsaWdubWVudEF4aXNcbiAgfSA9IHR5cGVvZiByYXdWYWx1ZSA9PT0gJ251bWJlcicgPyB7XG4gICAgbWFpbkF4aXM6IHJhd1ZhbHVlLFxuICAgIGNyb3NzQXhpczogMCxcbiAgICBhbGlnbm1lbnRBeGlzOiBudWxsXG4gIH0gOiB7XG4gICAgbWFpbkF4aXM6IDAsXG4gICAgY3Jvc3NBeGlzOiAwLFxuICAgIGFsaWdubWVudEF4aXM6IG51bGwsXG4gICAgLi4ucmF3VmFsdWVcbiAgfTtcbiAgaWYgKGFsaWdubWVudCAmJiB0eXBlb2YgYWxpZ25tZW50QXhpcyA9PT0gJ251bWJlcicpIHtcbiAgICBjcm9zc0F4aXMgPSBhbGlnbm1lbnQgPT09ICdlbmQnID8gYWxpZ25tZW50QXhpcyAqIC0xIDogYWxpZ25tZW50QXhpcztcbiAgfVxuICByZXR1cm4gaXNWZXJ0aWNhbCA/IHtcbiAgICB4OiBjcm9zc0F4aXMgKiBjcm9zc0F4aXNNdWx0aSxcbiAgICB5OiBtYWluQXhpcyAqIG1haW5BeGlzTXVsdGlcbiAgfSA6IHtcbiAgICB4OiBtYWluQXhpcyAqIG1haW5BeGlzTXVsdGksXG4gICAgeTogY3Jvc3NBeGlzICogY3Jvc3NBeGlzTXVsdGlcbiAgfTtcbn1cblxuLyoqXG4gKiBNb2RpZmllcyB0aGUgcGxhY2VtZW50IGJ5IHRyYW5zbGF0aW5nIHRoZSBmbG9hdGluZyBlbGVtZW50IGFsb25nIHRoZVxuICogc3BlY2lmaWVkIGF4ZXMuXG4gKiBBIG51bWJlciAoc2hvcnRoYW5kIGZvciBgbWFpbkF4aXNgIG9yIGRpc3RhbmNlKSwgb3IgYW4gYXhlcyBjb25maWd1cmF0aW9uXG4gKiBvYmplY3QgbWF5IGJlIHBhc3NlZC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9vZmZzZXRcbiAqL1xuY29uc3Qgb2Zmc2V0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSAwO1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ29mZnNldCcsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRvZmZzZSwgX21pZGRsZXdhcmVEYXRhJGFycm93O1xuICAgICAgY29uc3Qge1xuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIG1pZGRsZXdhcmVEYXRhXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCBkaWZmQ29vcmRzID0gYXdhaXQgY29udmVydFZhbHVlVG9Db29yZHMoc3RhdGUsIG9wdGlvbnMpO1xuXG4gICAgICAvLyBJZiB0aGUgcGxhY2VtZW50IGlzIHRoZSBzYW1lIGFuZCB0aGUgYXJyb3cgY2F1c2VkIGFuIGFsaWdubWVudCBvZmZzZXRcbiAgICAgIC8vIHRoZW4gd2UgZG9uJ3QgbmVlZCB0byBjaGFuZ2UgdGhlIHBvc2l0aW9uaW5nIGNvb3JkaW5hdGVzLlxuICAgICAgaWYgKHBsYWNlbWVudCA9PT0gKChfbWlkZGxld2FyZURhdGEkb2Zmc2UgPSBtaWRkbGV3YXJlRGF0YS5vZmZzZXQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkb2Zmc2UucGxhY2VtZW50KSAmJiAoX21pZGRsZXdhcmVEYXRhJGFycm93ID0gbWlkZGxld2FyZURhdGEuYXJyb3cpICE9IG51bGwgJiYgX21pZGRsZXdhcmVEYXRhJGFycm93LmFsaWdubWVudE9mZnNldCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiB4ICsgZGlmZkNvb3Jkcy54LFxuICAgICAgICB5OiB5ICsgZGlmZkNvb3Jkcy55LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgLi4uZGlmZkNvb3JkcyxcbiAgICAgICAgICBwbGFjZW1lbnRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBzaGlmdGluZyBpdCBpbiBvcmRlciB0b1xuICoga2VlcCBpdCBpbiB2aWV3IHdoZW4gaXQgd2lsbCBvdmVyZmxvdyB0aGUgY2xpcHBpbmcgYm91bmRhcnkuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvc2hpZnRcbiAqL1xuY29uc3Qgc2hpZnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ3NoaWZ0JyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHBsYWNlbWVudFxuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBtYWluQXhpczogY2hlY2tNYWluQXhpcyA9IHRydWUsXG4gICAgICAgIGNyb3NzQXhpczogY2hlY2tDcm9zc0F4aXMgPSBmYWxzZSxcbiAgICAgICAgbGltaXRlciA9IHtcbiAgICAgICAgICBmbjogX3JlZiA9PiB7XG4gICAgICAgICAgICBsZXQge1xuICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICB5XG4gICAgICAgICAgICB9ID0gX3JlZjtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgIHlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBjb25zdCBjb29yZHMgPSB7XG4gICAgICAgIHgsXG4gICAgICAgIHlcbiAgICAgIH07XG4gICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KHN0YXRlLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgICAgY29uc3QgY3Jvc3NBeGlzID0gZ2V0U2lkZUF4aXMoZ2V0U2lkZShwbGFjZW1lbnQpKTtcbiAgICAgIGNvbnN0IG1haW5BeGlzID0gZ2V0T3Bwb3NpdGVBeGlzKGNyb3NzQXhpcyk7XG4gICAgICBsZXQgbWFpbkF4aXNDb29yZCA9IGNvb3Jkc1ttYWluQXhpc107XG4gICAgICBsZXQgY3Jvc3NBeGlzQ29vcmQgPSBjb29yZHNbY3Jvc3NBeGlzXTtcbiAgICAgIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgICAgIGNvbnN0IG1pblNpZGUgPSBtYWluQXhpcyA9PT0gJ3knID8gJ3RvcCcgOiAnbGVmdCc7XG4gICAgICAgIGNvbnN0IG1heFNpZGUgPSBtYWluQXhpcyA9PT0gJ3knID8gJ2JvdHRvbScgOiAncmlnaHQnO1xuICAgICAgICBjb25zdCBtaW4gPSBtYWluQXhpc0Nvb3JkICsgb3ZlcmZsb3dbbWluU2lkZV07XG4gICAgICAgIGNvbnN0IG1heCA9IG1haW5BeGlzQ29vcmQgLSBvdmVyZmxvd1ttYXhTaWRlXTtcbiAgICAgICAgbWFpbkF4aXNDb29yZCA9IGNsYW1wKG1pbiwgbWFpbkF4aXNDb29yZCwgbWF4KTtcbiAgICAgIH1cbiAgICAgIGlmIChjaGVja0Nyb3NzQXhpcykge1xuICAgICAgICBjb25zdCBtaW5TaWRlID0gY3Jvc3NBeGlzID09PSAneScgPyAndG9wJyA6ICdsZWZ0JztcbiAgICAgICAgY29uc3QgbWF4U2lkZSA9IGNyb3NzQXhpcyA9PT0gJ3knID8gJ2JvdHRvbScgOiAncmlnaHQnO1xuICAgICAgICBjb25zdCBtaW4gPSBjcm9zc0F4aXNDb29yZCArIG92ZXJmbG93W21pblNpZGVdO1xuICAgICAgICBjb25zdCBtYXggPSBjcm9zc0F4aXNDb29yZCAtIG92ZXJmbG93W21heFNpZGVdO1xuICAgICAgICBjcm9zc0F4aXNDb29yZCA9IGNsYW1wKG1pbiwgY3Jvc3NBeGlzQ29vcmQsIG1heCk7XG4gICAgICB9XG4gICAgICBjb25zdCBsaW1pdGVkQ29vcmRzID0gbGltaXRlci5mbih7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBbbWFpbkF4aXNdOiBtYWluQXhpc0Nvb3JkLFxuICAgICAgICBbY3Jvc3NBeGlzXTogY3Jvc3NBeGlzQ29vcmRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ubGltaXRlZENvb3JkcyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHg6IGxpbWl0ZWRDb29yZHMueCAtIHgsXG4gICAgICAgICAgeTogbGltaXRlZENvb3Jkcy55IC0geVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG4vKipcbiAqIEJ1aWx0LWluIGBsaW1pdGVyYCB0aGF0IHdpbGwgc3RvcCBgc2hpZnQoKWAgYXQgYSBjZXJ0YWluIHBvaW50LlxuICovXG5jb25zdCBsaW1pdFNoaWZ0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG9wdGlvbnMsXG4gICAgZm4oc3RhdGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICByZWN0cyxcbiAgICAgICAgbWlkZGxld2FyZURhdGFcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgb2Zmc2V0ID0gMCxcbiAgICAgICAgbWFpbkF4aXM6IGNoZWNrTWFpbkF4aXMgPSB0cnVlLFxuICAgICAgICBjcm9zc0F4aXM6IGNoZWNrQ3Jvc3NBeGlzID0gdHJ1ZVxuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IGNvb3JkcyA9IHtcbiAgICAgICAgeCxcbiAgICAgICAgeVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGNyb3NzQXhpcyA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCk7XG4gICAgICBjb25zdCBtYWluQXhpcyA9IGdldE9wcG9zaXRlQXhpcyhjcm9zc0F4aXMpO1xuICAgICAgbGV0IG1haW5BeGlzQ29vcmQgPSBjb29yZHNbbWFpbkF4aXNdO1xuICAgICAgbGV0IGNyb3NzQXhpc0Nvb3JkID0gY29vcmRzW2Nyb3NzQXhpc107XG4gICAgICBjb25zdCByYXdPZmZzZXQgPSBldmFsdWF0ZShvZmZzZXQsIHN0YXRlKTtcbiAgICAgIGNvbnN0IGNvbXB1dGVkT2Zmc2V0ID0gdHlwZW9mIHJhd09mZnNldCA9PT0gJ251bWJlcicgPyB7XG4gICAgICAgIG1haW5BeGlzOiByYXdPZmZzZXQsXG4gICAgICAgIGNyb3NzQXhpczogMFxuICAgICAgfSA6IHtcbiAgICAgICAgbWFpbkF4aXM6IDAsXG4gICAgICAgIGNyb3NzQXhpczogMCxcbiAgICAgICAgLi4ucmF3T2Zmc2V0XG4gICAgICB9O1xuICAgICAgaWYgKGNoZWNrTWFpbkF4aXMpIHtcbiAgICAgICAgY29uc3QgbGVuID0gbWFpbkF4aXMgPT09ICd5JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICAgICAgY29uc3QgbGltaXRNaW4gPSByZWN0cy5yZWZlcmVuY2VbbWFpbkF4aXNdIC0gcmVjdHMuZmxvYXRpbmdbbGVuXSArIGNvbXB1dGVkT2Zmc2V0Lm1haW5BeGlzO1xuICAgICAgICBjb25zdCBsaW1pdE1heCA9IHJlY3RzLnJlZmVyZW5jZVttYWluQXhpc10gKyByZWN0cy5yZWZlcmVuY2VbbGVuXSAtIGNvbXB1dGVkT2Zmc2V0Lm1haW5BeGlzO1xuICAgICAgICBpZiAobWFpbkF4aXNDb29yZCA8IGxpbWl0TWluKSB7XG4gICAgICAgICAgbWFpbkF4aXNDb29yZCA9IGxpbWl0TWluO1xuICAgICAgICB9IGVsc2UgaWYgKG1haW5BeGlzQ29vcmQgPiBsaW1pdE1heCkge1xuICAgICAgICAgIG1haW5BeGlzQ29vcmQgPSBsaW1pdE1heDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNoZWNrQ3Jvc3NBeGlzKSB7XG4gICAgICAgIHZhciBfbWlkZGxld2FyZURhdGEkb2Zmc2UsIF9taWRkbGV3YXJlRGF0YSRvZmZzZTI7XG4gICAgICAgIGNvbnN0IGxlbiA9IG1haW5BeGlzID09PSAneScgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG4gICAgICAgIGNvbnN0IGlzT3JpZ2luU2lkZSA9IFsndG9wJywgJ2xlZnQnXS5pbmNsdWRlcyhnZXRTaWRlKHBsYWNlbWVudCkpO1xuICAgICAgICBjb25zdCBsaW1pdE1pbiA9IHJlY3RzLnJlZmVyZW5jZVtjcm9zc0F4aXNdIC0gcmVjdHMuZmxvYXRpbmdbbGVuXSArIChpc09yaWdpblNpZGUgPyAoKF9taWRkbGV3YXJlRGF0YSRvZmZzZSA9IG1pZGRsZXdhcmVEYXRhLm9mZnNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRvZmZzZVtjcm9zc0F4aXNdKSB8fCAwIDogMCkgKyAoaXNPcmlnaW5TaWRlID8gMCA6IGNvbXB1dGVkT2Zmc2V0LmNyb3NzQXhpcyk7XG4gICAgICAgIGNvbnN0IGxpbWl0TWF4ID0gcmVjdHMucmVmZXJlbmNlW2Nyb3NzQXhpc10gKyByZWN0cy5yZWZlcmVuY2VbbGVuXSArIChpc09yaWdpblNpZGUgPyAwIDogKChfbWlkZGxld2FyZURhdGEkb2Zmc2UyID0gbWlkZGxld2FyZURhdGEub2Zmc2V0KSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJG9mZnNlMltjcm9zc0F4aXNdKSB8fCAwKSAtIChpc09yaWdpblNpZGUgPyBjb21wdXRlZE9mZnNldC5jcm9zc0F4aXMgOiAwKTtcbiAgICAgICAgaWYgKGNyb3NzQXhpc0Nvb3JkIDwgbGltaXRNaW4pIHtcbiAgICAgICAgICBjcm9zc0F4aXNDb29yZCA9IGxpbWl0TWluO1xuICAgICAgICB9IGVsc2UgaWYgKGNyb3NzQXhpc0Nvb3JkID4gbGltaXRNYXgpIHtcbiAgICAgICAgICBjcm9zc0F4aXNDb29yZCA9IGxpbWl0TWF4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBbbWFpbkF4aXNdOiBtYWluQXhpc0Nvb3JkLFxuICAgICAgICBbY3Jvc3NBeGlzXTogY3Jvc3NBeGlzQ29vcmRcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRoYXQgYWxsb3dzIHlvdSB0byBjaGFuZ2UgdGhlIHNpemUgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgXHUyMDE0XG4gKiBmb3IgaW5zdGFuY2UsIHByZXZlbnQgaXQgZnJvbSBvdmVyZmxvd2luZyB0aGUgY2xpcHBpbmcgYm91bmRhcnkgb3IgbWF0Y2ggdGhlXG4gKiB3aWR0aCBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvc2l6ZVxuICovXG5jb25zdCBzaXplID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdzaXplJyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIHBsYXRmb3JtLFxuICAgICAgICBlbGVtZW50c1xuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBhcHBseSA9ICgpID0+IHt9LFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KHN0YXRlLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgICAgY29uc3Qgc2lkZSA9IGdldFNpZGUocGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChwbGFjZW1lbnQpO1xuICAgICAgY29uc3QgaXNZQXhpcyA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCkgPT09ICd5JztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodFxuICAgICAgfSA9IHJlY3RzLmZsb2F0aW5nO1xuICAgICAgbGV0IGhlaWdodFNpZGU7XG4gICAgICBsZXQgd2lkdGhTaWRlO1xuICAgICAgaWYgKHNpZGUgPT09ICd0b3AnIHx8IHNpZGUgPT09ICdib3R0b20nKSB7XG4gICAgICAgIGhlaWdodFNpZGUgPSBzaWRlO1xuICAgICAgICB3aWR0aFNpZGUgPSBhbGlnbm1lbnQgPT09ICgoYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpKSA/ICdzdGFydCcgOiAnZW5kJykgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGhTaWRlID0gc2lkZTtcbiAgICAgICAgaGVpZ2h0U2lkZSA9IGFsaWdubWVudCA9PT0gJ2VuZCcgPyAndG9wJyA6ICdib3R0b20nO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3ZlcmZsb3dBdmFpbGFibGVIZWlnaHQgPSBoZWlnaHQgLSBvdmVyZmxvd1toZWlnaHRTaWRlXTtcbiAgICAgIGNvbnN0IG92ZXJmbG93QXZhaWxhYmxlV2lkdGggPSB3aWR0aCAtIG92ZXJmbG93W3dpZHRoU2lkZV07XG4gICAgICBjb25zdCBub1NoaWZ0ID0gIXN0YXRlLm1pZGRsZXdhcmVEYXRhLnNoaWZ0O1xuICAgICAgbGV0IGF2YWlsYWJsZUhlaWdodCA9IG92ZXJmbG93QXZhaWxhYmxlSGVpZ2h0O1xuICAgICAgbGV0IGF2YWlsYWJsZVdpZHRoID0gb3ZlcmZsb3dBdmFpbGFibGVXaWR0aDtcbiAgICAgIGlmIChpc1lBeGlzKSB7XG4gICAgICAgIGNvbnN0IG1heGltdW1DbGlwcGluZ1dpZHRoID0gd2lkdGggLSBvdmVyZmxvdy5sZWZ0IC0gb3ZlcmZsb3cucmlnaHQ7XG4gICAgICAgIGF2YWlsYWJsZVdpZHRoID0gYWxpZ25tZW50IHx8IG5vU2hpZnQgPyBtaW4ob3ZlcmZsb3dBdmFpbGFibGVXaWR0aCwgbWF4aW11bUNsaXBwaW5nV2lkdGgpIDogbWF4aW11bUNsaXBwaW5nV2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtYXhpbXVtQ2xpcHBpbmdIZWlnaHQgPSBoZWlnaHQgLSBvdmVyZmxvdy50b3AgLSBvdmVyZmxvdy5ib3R0b207XG4gICAgICAgIGF2YWlsYWJsZUhlaWdodCA9IGFsaWdubWVudCB8fCBub1NoaWZ0ID8gbWluKG92ZXJmbG93QXZhaWxhYmxlSGVpZ2h0LCBtYXhpbXVtQ2xpcHBpbmdIZWlnaHQpIDogbWF4aW11bUNsaXBwaW5nSGVpZ2h0O1xuICAgICAgfVxuICAgICAgaWYgKG5vU2hpZnQgJiYgIWFsaWdubWVudCkge1xuICAgICAgICBjb25zdCB4TWluID0gbWF4KG92ZXJmbG93LmxlZnQsIDApO1xuICAgICAgICBjb25zdCB4TWF4ID0gbWF4KG92ZXJmbG93LnJpZ2h0LCAwKTtcbiAgICAgICAgY29uc3QgeU1pbiA9IG1heChvdmVyZmxvdy50b3AsIDApO1xuICAgICAgICBjb25zdCB5TWF4ID0gbWF4KG92ZXJmbG93LmJvdHRvbSwgMCk7XG4gICAgICAgIGlmIChpc1lBeGlzKSB7XG4gICAgICAgICAgYXZhaWxhYmxlV2lkdGggPSB3aWR0aCAtIDIgKiAoeE1pbiAhPT0gMCB8fCB4TWF4ICE9PSAwID8geE1pbiArIHhNYXggOiBtYXgob3ZlcmZsb3cubGVmdCwgb3ZlcmZsb3cucmlnaHQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdmFpbGFibGVIZWlnaHQgPSBoZWlnaHQgLSAyICogKHlNaW4gIT09IDAgfHwgeU1heCAhPT0gMCA/IHlNaW4gKyB5TWF4IDogbWF4KG92ZXJmbG93LnRvcCwgb3ZlcmZsb3cuYm90dG9tKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGF3YWl0IGFwcGx5KHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGF2YWlsYWJsZVdpZHRoLFxuICAgICAgICBhdmFpbGFibGVIZWlnaHRcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbmV4dERpbWVuc2lvbnMgPSBhd2FpdCBwbGF0Zm9ybS5nZXREaW1lbnNpb25zKGVsZW1lbnRzLmZsb2F0aW5nKTtcbiAgICAgIGlmICh3aWR0aCAhPT0gbmV4dERpbWVuc2lvbnMud2lkdGggfHwgaGVpZ2h0ICE9PSBuZXh0RGltZW5zaW9ucy5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcmVjdHM6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IHsgYXJyb3csIGF1dG9QbGFjZW1lbnQsIGNvbXB1dGVQb3NpdGlvbiwgZGV0ZWN0T3ZlcmZsb3csIGZsaXAsIGhpZGUsIGlubGluZSwgbGltaXRTaGlmdCwgb2Zmc2V0LCBzaGlmdCwgc2l6ZSB9O1xuIiwgImZ1bmN0aW9uIGdldE5vZGVOYW1lKG5vZGUpIHtcbiAgaWYgKGlzTm9kZShub2RlKSkge1xuICAgIHJldHVybiAobm9kZS5ub2RlTmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgfVxuICAvLyBNb2NrZWQgbm9kZXMgaW4gdGVzdGluZyBlbnZpcm9ubWVudHMgbWF5IG5vdCBiZSBpbnN0YW5jZXMgb2YgTm9kZS4gQnlcbiAgLy8gcmV0dXJuaW5nIGAjZG9jdW1lbnRgIGFuIGluZmluaXRlIGxvb3Agd29uJ3Qgb2NjdXIuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbG9hdGluZy11aS9mbG9hdGluZy11aS9pc3N1ZXMvMjMxN1xuICByZXR1cm4gJyNkb2N1bWVudCc7XG59XG5mdW5jdGlvbiBnZXRXaW5kb3cobm9kZSkge1xuICB2YXIgX25vZGUkb3duZXJEb2N1bWVudDtcbiAgcmV0dXJuIChub2RlID09IG51bGwgfHwgKF9ub2RlJG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbm9kZSRvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSB8fCB3aW5kb3c7XG59XG5mdW5jdGlvbiBnZXREb2N1bWVudEVsZW1lbnQobm9kZSkge1xuICB2YXIgX3JlZjtcbiAgcmV0dXJuIChfcmVmID0gKGlzTm9kZShub2RlKSA/IG5vZGUub3duZXJEb2N1bWVudCA6IG5vZGUuZG9jdW1lbnQpIHx8IHdpbmRvdy5kb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9yZWYuZG9jdW1lbnRFbGVtZW50O1xufVxuZnVuY3Rpb24gaXNOb2RlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIE5vZGUgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLk5vZGU7XG59XG5mdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRWxlbWVudCB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuRWxlbWVudDtcbn1cbmZ1bmN0aW9uIGlzSFRNTEVsZW1lbnQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLkhUTUxFbGVtZW50O1xufVxuZnVuY3Rpb24gaXNTaGFkb3dSb290KHZhbHVlKSB7XG4gIC8vIEJyb3dzZXJzIHdpdGhvdXQgYFNoYWRvd1Jvb3RgIHN1cHBvcnQuXG4gIGlmICh0eXBlb2YgU2hhZG93Um9vdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgU2hhZG93Um9vdCB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuU2hhZG93Um9vdDtcbn1cbmZ1bmN0aW9uIGlzT3ZlcmZsb3dFbGVtZW50KGVsZW1lbnQpIHtcbiAgY29uc3Qge1xuICAgIG92ZXJmbG93LFxuICAgIG92ZXJmbG93WCxcbiAgICBvdmVyZmxvd1ksXG4gICAgZGlzcGxheVxuICB9ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgcmV0dXJuIC9hdXRvfHNjcm9sbHxvdmVybGF5fGhpZGRlbnxjbGlwLy50ZXN0KG92ZXJmbG93ICsgb3ZlcmZsb3dZICsgb3ZlcmZsb3dYKSAmJiAhWydpbmxpbmUnLCAnY29udGVudHMnXS5pbmNsdWRlcyhkaXNwbGF5KTtcbn1cbmZ1bmN0aW9uIGlzVGFibGVFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuIFsndGFibGUnLCAndGQnLCAndGgnXS5pbmNsdWRlcyhnZXROb2RlTmFtZShlbGVtZW50KSk7XG59XG5mdW5jdGlvbiBpc0NvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB7XG4gIGNvbnN0IHdlYmtpdCA9IGlzV2ViS2l0KCk7XG4gIGNvbnN0IGNzcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NvbnRhaW5pbmdfYmxvY2sjaWRlbnRpZnlpbmdfdGhlX2NvbnRhaW5pbmdfYmxvY2tcbiAgcmV0dXJuIGNzcy50cmFuc2Zvcm0gIT09ICdub25lJyB8fCBjc3MucGVyc3BlY3RpdmUgIT09ICdub25lJyB8fCAoY3NzLmNvbnRhaW5lclR5cGUgPyBjc3MuY29udGFpbmVyVHlwZSAhPT0gJ25vcm1hbCcgOiBmYWxzZSkgfHwgIXdlYmtpdCAmJiAoY3NzLmJhY2tkcm9wRmlsdGVyID8gY3NzLmJhY2tkcm9wRmlsdGVyICE9PSAnbm9uZScgOiBmYWxzZSkgfHwgIXdlYmtpdCAmJiAoY3NzLmZpbHRlciA/IGNzcy5maWx0ZXIgIT09ICdub25lJyA6IGZhbHNlKSB8fCBbJ3RyYW5zZm9ybScsICdwZXJzcGVjdGl2ZScsICdmaWx0ZXInXS5zb21lKHZhbHVlID0+IChjc3Mud2lsbENoYW5nZSB8fCAnJykuaW5jbHVkZXModmFsdWUpKSB8fCBbJ3BhaW50JywgJ2xheW91dCcsICdzdHJpY3QnLCAnY29udGVudCddLnNvbWUodmFsdWUgPT4gKGNzcy5jb250YWluIHx8ICcnKS5pbmNsdWRlcyh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHtcbiAgbGV0IGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcbiAgd2hpbGUgKGlzSFRNTEVsZW1lbnQoY3VycmVudE5vZGUpICYmICFpc0xhc3RUcmF2ZXJzYWJsZU5vZGUoY3VycmVudE5vZGUpKSB7XG4gICAgaWYgKGlzQ29udGFpbmluZ0Jsb2NrKGN1cnJlbnROb2RlKSkge1xuICAgICAgcmV0dXJuIGN1cnJlbnROb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoY3VycmVudE5vZGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzV2ViS2l0KCkge1xuICBpZiAodHlwZW9mIENTUyA9PT0gJ3VuZGVmaW5lZCcgfHwgIUNTUy5zdXBwb3J0cykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gQ1NTLnN1cHBvcnRzKCctd2Via2l0LWJhY2tkcm9wLWZpbHRlcicsICdub25lJyk7XG59XG5mdW5jdGlvbiBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUobm9kZSkge1xuICByZXR1cm4gWydodG1sJywgJ2JvZHknLCAnI2RvY3VtZW50J10uaW5jbHVkZXMoZ2V0Tm9kZU5hbWUobm9kZSkpO1xufVxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gIHJldHVybiBnZXRXaW5kb3coZWxlbWVudCkuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn1cbmZ1bmN0aW9uIGdldE5vZGVTY3JvbGwoZWxlbWVudCkge1xuICBpZiAoaXNFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjcm9sbExlZnQ6IGVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgIHNjcm9sbFRvcDogZWxlbWVudC5zY3JvbGxUb3BcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgc2Nyb2xsTGVmdDogZWxlbWVudC5wYWdlWE9mZnNldCxcbiAgICBzY3JvbGxUb3A6IGVsZW1lbnQucGFnZVlPZmZzZXRcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudE5vZGUobm9kZSkge1xuICBpZiAoZ2V0Tm9kZU5hbWUobm9kZSkgPT09ICdodG1sJykge1xuICAgIHJldHVybiBub2RlO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9XG4gIC8vIFN0ZXAgaW50byB0aGUgc2hhZG93IERPTSBvZiB0aGUgcGFyZW50IG9mIGEgc2xvdHRlZCBub2RlLlxuICBub2RlLmFzc2lnbmVkU2xvdCB8fFxuICAvLyBET00gRWxlbWVudCBkZXRlY3RlZC5cbiAgbm9kZS5wYXJlbnROb2RlIHx8XG4gIC8vIFNoYWRvd1Jvb3QgZGV0ZWN0ZWQuXG4gIGlzU2hhZG93Um9vdChub2RlKSAmJiBub2RlLmhvc3QgfHxcbiAgLy8gRmFsbGJhY2suXG4gIGdldERvY3VtZW50RWxlbWVudChub2RlKTtcbiAgcmV0dXJuIGlzU2hhZG93Um9vdChyZXN1bHQpID8gcmVzdWx0Lmhvc3QgOiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3Rvcihub2RlKSB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKG5vZGUpO1xuICBpZiAoaXNMYXN0VHJhdmVyc2FibGVOb2RlKHBhcmVudE5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGUub3duZXJEb2N1bWVudCA/IG5vZGUub3duZXJEb2N1bWVudC5ib2R5IDogbm9kZS5ib2R5O1xuICB9XG4gIGlmIChpc0hUTUxFbGVtZW50KHBhcmVudE5vZGUpICYmIGlzT3ZlcmZsb3dFbGVtZW50KHBhcmVudE5vZGUpKSB7XG4gICAgcmV0dXJuIHBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuIGdldE5lYXJlc3RPdmVyZmxvd0FuY2VzdG9yKHBhcmVudE5vZGUpO1xufVxuZnVuY3Rpb24gZ2V0T3ZlcmZsb3dBbmNlc3RvcnMobm9kZSwgbGlzdCwgdHJhdmVyc2VJZnJhbWVzKSB7XG4gIHZhciBfbm9kZSRvd25lckRvY3VtZW50MjtcbiAgaWYgKGxpc3QgPT09IHZvaWQgMCkge1xuICAgIGxpc3QgPSBbXTtcbiAgfVxuICBpZiAodHJhdmVyc2VJZnJhbWVzID09PSB2b2lkIDApIHtcbiAgICB0cmF2ZXJzZUlmcmFtZXMgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHNjcm9sbGFibGVBbmNlc3RvciA9IGdldE5lYXJlc3RPdmVyZmxvd0FuY2VzdG9yKG5vZGUpO1xuICBjb25zdCBpc0JvZHkgPSBzY3JvbGxhYmxlQW5jZXN0b3IgPT09ICgoX25vZGUkb3duZXJEb2N1bWVudDIgPSBub2RlLm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbm9kZSRvd25lckRvY3VtZW50Mi5ib2R5KTtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KHNjcm9sbGFibGVBbmNlc3Rvcik7XG4gIGlmIChpc0JvZHkpIHtcbiAgICByZXR1cm4gbGlzdC5jb25jYXQod2luLCB3aW4udmlzdWFsVmlld3BvcnQgfHwgW10sIGlzT3ZlcmZsb3dFbGVtZW50KHNjcm9sbGFibGVBbmNlc3RvcikgPyBzY3JvbGxhYmxlQW5jZXN0b3IgOiBbXSwgd2luLmZyYW1lRWxlbWVudCAmJiB0cmF2ZXJzZUlmcmFtZXMgPyBnZXRPdmVyZmxvd0FuY2VzdG9ycyh3aW4uZnJhbWVFbGVtZW50KSA6IFtdKTtcbiAgfVxuICByZXR1cm4gbGlzdC5jb25jYXQoc2Nyb2xsYWJsZUFuY2VzdG9yLCBnZXRPdmVyZmxvd0FuY2VzdG9ycyhzY3JvbGxhYmxlQW5jZXN0b3IsIFtdLCB0cmF2ZXJzZUlmcmFtZXMpKTtcbn1cblxuZXhwb3J0IHsgZ2V0Q29tcHV0ZWRTdHlsZSwgZ2V0Q29udGFpbmluZ0Jsb2NrLCBnZXREb2N1bWVudEVsZW1lbnQsIGdldE5lYXJlc3RPdmVyZmxvd0FuY2VzdG9yLCBnZXROb2RlTmFtZSwgZ2V0Tm9kZVNjcm9sbCwgZ2V0T3ZlcmZsb3dBbmNlc3RvcnMsIGdldFBhcmVudE5vZGUsIGdldFdpbmRvdywgaXNDb250YWluaW5nQmxvY2ssIGlzRWxlbWVudCwgaXNIVE1MRWxlbWVudCwgaXNMYXN0VHJhdmVyc2FibGVOb2RlLCBpc05vZGUsIGlzT3ZlcmZsb3dFbGVtZW50LCBpc1NoYWRvd1Jvb3QsIGlzVGFibGVFbGVtZW50LCBpc1dlYktpdCB9O1xuIiwgImltcG9ydCB7IHJlY3RUb0NsaWVudFJlY3QsIGF1dG9QbGFjZW1lbnQgYXMgYXV0b1BsYWNlbWVudCQxLCBzaGlmdCBhcyBzaGlmdCQxLCBmbGlwIGFzIGZsaXAkMSwgc2l6ZSBhcyBzaXplJDEsIGhpZGUgYXMgaGlkZSQxLCBhcnJvdyBhcyBhcnJvdyQxLCBpbmxpbmUgYXMgaW5saW5lJDEsIGxpbWl0U2hpZnQgYXMgbGltaXRTaGlmdCQxLCBjb21wdXRlUG9zaXRpb24gYXMgY29tcHV0ZVBvc2l0aW9uJDEgfSBmcm9tICdAZmxvYXRpbmctdWkvY29yZSc7XG5leHBvcnQgeyBkZXRlY3RPdmVyZmxvdywgb2Zmc2V0IH0gZnJvbSAnQGZsb2F0aW5nLXVpL2NvcmUnO1xuaW1wb3J0IHsgcm91bmQsIGNyZWF0ZUNvb3JkcywgbWF4LCBtaW4sIGZsb29yIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzJztcbmltcG9ydCB7IGdldENvbXB1dGVkU3R5bGUsIGlzSFRNTEVsZW1lbnQsIGlzRWxlbWVudCwgZ2V0V2luZG93LCBpc1dlYktpdCwgZ2V0RG9jdW1lbnRFbGVtZW50LCBnZXROb2RlTmFtZSwgaXNPdmVyZmxvd0VsZW1lbnQsIGdldE5vZGVTY3JvbGwsIGdldE92ZXJmbG93QW5jZXN0b3JzLCBnZXRQYXJlbnROb2RlLCBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUsIGlzQ29udGFpbmluZ0Jsb2NrLCBpc1RhYmxlRWxlbWVudCwgZ2V0Q29udGFpbmluZ0Jsb2NrIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzL2RvbSc7XG5leHBvcnQgeyBnZXRPdmVyZmxvd0FuY2VzdG9ycyB9IGZyb20gJ0BmbG9hdGluZy11aS91dGlscy9kb20nO1xuXG5mdW5jdGlvbiBnZXRDc3NEaW1lbnNpb25zKGVsZW1lbnQpIHtcbiAgY29uc3QgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgLy8gSW4gdGVzdGluZyBlbnZpcm9ubWVudHMsIHRoZSBgd2lkdGhgIGFuZCBgaGVpZ2h0YCBwcm9wZXJ0aWVzIGFyZSBlbXB0eVxuICAvLyBzdHJpbmdzIGZvciBTVkcgZWxlbWVudHMsIHJldHVybmluZyBOYU4uIEZhbGxiYWNrIHRvIGAwYCBpbiB0aGlzIGNhc2UuXG4gIGxldCB3aWR0aCA9IHBhcnNlRmxvYXQoY3NzLndpZHRoKSB8fCAwO1xuICBsZXQgaGVpZ2h0ID0gcGFyc2VGbG9hdChjc3MuaGVpZ2h0KSB8fCAwO1xuICBjb25zdCBoYXNPZmZzZXQgPSBpc0hUTUxFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCBvZmZzZXRXaWR0aCA9IGhhc09mZnNldCA/IGVsZW1lbnQub2Zmc2V0V2lkdGggOiB3aWR0aDtcbiAgY29uc3Qgb2Zmc2V0SGVpZ2h0ID0gaGFzT2Zmc2V0ID8gZWxlbWVudC5vZmZzZXRIZWlnaHQgOiBoZWlnaHQ7XG4gIGNvbnN0IHNob3VsZEZhbGxiYWNrID0gcm91bmQod2lkdGgpICE9PSBvZmZzZXRXaWR0aCB8fCByb3VuZChoZWlnaHQpICE9PSBvZmZzZXRIZWlnaHQ7XG4gIGlmIChzaG91bGRGYWxsYmFjaykge1xuICAgIHdpZHRoID0gb2Zmc2V0V2lkdGg7XG4gICAgaGVpZ2h0ID0gb2Zmc2V0SGVpZ2h0O1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgICQ6IHNob3VsZEZhbGxiYWNrXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVud3JhcEVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gIWlzRWxlbWVudChlbGVtZW50KSA/IGVsZW1lbnQuY29udGV4dEVsZW1lbnQgOiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBnZXRTY2FsZShlbGVtZW50KSB7XG4gIGNvbnN0IGRvbUVsZW1lbnQgPSB1bndyYXBFbGVtZW50KGVsZW1lbnQpO1xuICBpZiAoIWlzSFRNTEVsZW1lbnQoZG9tRWxlbWVudCkpIHtcbiAgICByZXR1cm4gY3JlYXRlQ29vcmRzKDEpO1xuICB9XG4gIGNvbnN0IHJlY3QgPSBkb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgICRcbiAgfSA9IGdldENzc0RpbWVuc2lvbnMoZG9tRWxlbWVudCk7XG4gIGxldCB4ID0gKCQgPyByb3VuZChyZWN0LndpZHRoKSA6IHJlY3Qud2lkdGgpIC8gd2lkdGg7XG4gIGxldCB5ID0gKCQgPyByb3VuZChyZWN0LmhlaWdodCkgOiByZWN0LmhlaWdodCkgLyBoZWlnaHQ7XG5cbiAgLy8gMCwgTmFOLCBvciBJbmZpbml0eSBzaG91bGQgYWx3YXlzIGZhbGxiYWNrIHRvIDEuXG5cbiAgaWYgKCF4IHx8ICFOdW1iZXIuaXNGaW5pdGUoeCkpIHtcbiAgICB4ID0gMTtcbiAgfVxuICBpZiAoIXkgfHwgIU51bWJlci5pc0Zpbml0ZSh5KSkge1xuICAgIHkgPSAxO1xuICB9XG4gIHJldHVybiB7XG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbmNvbnN0IG5vT2Zmc2V0cyA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb29yZHMoMCk7XG5mdW5jdGlvbiBnZXRWaXN1YWxPZmZzZXRzKGVsZW1lbnQpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBpZiAoIWlzV2ViS2l0KCkgfHwgIXdpbi52aXN1YWxWaWV3cG9ydCkge1xuICAgIHJldHVybiBub09mZnNldHM7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4OiB3aW4udmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCxcbiAgICB5OiB3aW4udmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wXG4gIH07XG59XG5mdW5jdGlvbiBzaG91bGRBZGRWaXN1YWxPZmZzZXRzKGVsZW1lbnQsIGlzRml4ZWQsIGZsb2F0aW5nT2Zmc2V0UGFyZW50KSB7XG4gIGlmIChpc0ZpeGVkID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkID0gZmFsc2U7XG4gIH1cbiAgaWYgKCFmbG9hdGluZ09mZnNldFBhcmVudCB8fCBpc0ZpeGVkICYmIGZsb2F0aW5nT2Zmc2V0UGFyZW50ICE9PSBnZXRXaW5kb3coZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGlzRml4ZWQ7XG59XG5cbmZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBpbmNsdWRlU2NhbGUsIGlzRml4ZWRTdHJhdGVneSwgb2Zmc2V0UGFyZW50KSB7XG4gIGlmIChpbmNsdWRlU2NhbGUgPT09IHZvaWQgMCkge1xuICAgIGluY2x1ZGVTY2FsZSA9IGZhbHNlO1xuICB9XG4gIGlmIChpc0ZpeGVkU3RyYXRlZ3kgPT09IHZvaWQgMCkge1xuICAgIGlzRml4ZWRTdHJhdGVneSA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGNsaWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBkb21FbGVtZW50ID0gdW53cmFwRWxlbWVudChlbGVtZW50KTtcbiAgbGV0IHNjYWxlID0gY3JlYXRlQ29vcmRzKDEpO1xuICBpZiAoaW5jbHVkZVNjYWxlKSB7XG4gICAgaWYgKG9mZnNldFBhcmVudCkge1xuICAgICAgaWYgKGlzRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgIHNjYWxlID0gZ2V0U2NhbGUob2Zmc2V0UGFyZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2NhbGUgPSBnZXRTY2FsZShlbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgY29uc3QgdmlzdWFsT2Zmc2V0cyA9IHNob3VsZEFkZFZpc3VhbE9mZnNldHMoZG9tRWxlbWVudCwgaXNGaXhlZFN0cmF0ZWd5LCBvZmZzZXRQYXJlbnQpID8gZ2V0VmlzdWFsT2Zmc2V0cyhkb21FbGVtZW50KSA6IGNyZWF0ZUNvb3JkcygwKTtcbiAgbGV0IHggPSAoY2xpZW50UmVjdC5sZWZ0ICsgdmlzdWFsT2Zmc2V0cy54KSAvIHNjYWxlLng7XG4gIGxldCB5ID0gKGNsaWVudFJlY3QudG9wICsgdmlzdWFsT2Zmc2V0cy55KSAvIHNjYWxlLnk7XG4gIGxldCB3aWR0aCA9IGNsaWVudFJlY3Qud2lkdGggLyBzY2FsZS54O1xuICBsZXQgaGVpZ2h0ID0gY2xpZW50UmVjdC5oZWlnaHQgLyBzY2FsZS55O1xuICBpZiAoZG9tRWxlbWVudCkge1xuICAgIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhkb21FbGVtZW50KTtcbiAgICBjb25zdCBvZmZzZXRXaW4gPSBvZmZzZXRQYXJlbnQgJiYgaXNFbGVtZW50KG9mZnNldFBhcmVudCkgPyBnZXRXaW5kb3cob2Zmc2V0UGFyZW50KSA6IG9mZnNldFBhcmVudDtcbiAgICBsZXQgY3VycmVudFdpbiA9IHdpbjtcbiAgICBsZXQgY3VycmVudElGcmFtZSA9IGN1cnJlbnRXaW4uZnJhbWVFbGVtZW50O1xuICAgIHdoaWxlIChjdXJyZW50SUZyYW1lICYmIG9mZnNldFBhcmVudCAmJiBvZmZzZXRXaW4gIT09IGN1cnJlbnRXaW4pIHtcbiAgICAgIGNvbnN0IGlmcmFtZVNjYWxlID0gZ2V0U2NhbGUoY3VycmVudElGcmFtZSk7XG4gICAgICBjb25zdCBpZnJhbWVSZWN0ID0gY3VycmVudElGcmFtZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IGNzcyA9IGdldENvbXB1dGVkU3R5bGUoY3VycmVudElGcmFtZSk7XG4gICAgICBjb25zdCBsZWZ0ID0gaWZyYW1lUmVjdC5sZWZ0ICsgKGN1cnJlbnRJRnJhbWUuY2xpZW50TGVmdCArIHBhcnNlRmxvYXQoY3NzLnBhZGRpbmdMZWZ0KSkgKiBpZnJhbWVTY2FsZS54O1xuICAgICAgY29uc3QgdG9wID0gaWZyYW1lUmVjdC50b3AgKyAoY3VycmVudElGcmFtZS5jbGllbnRUb3AgKyBwYXJzZUZsb2F0KGNzcy5wYWRkaW5nVG9wKSkgKiBpZnJhbWVTY2FsZS55O1xuICAgICAgeCAqPSBpZnJhbWVTY2FsZS54O1xuICAgICAgeSAqPSBpZnJhbWVTY2FsZS55O1xuICAgICAgd2lkdGggKj0gaWZyYW1lU2NhbGUueDtcbiAgICAgIGhlaWdodCAqPSBpZnJhbWVTY2FsZS55O1xuICAgICAgeCArPSBsZWZ0O1xuICAgICAgeSArPSB0b3A7XG4gICAgICBjdXJyZW50V2luID0gZ2V0V2luZG93KGN1cnJlbnRJRnJhbWUpO1xuICAgICAgY3VycmVudElGcmFtZSA9IGN1cnJlbnRXaW4uZnJhbWVFbGVtZW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVjdFRvQ2xpZW50UmVjdCh7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHgsXG4gICAgeVxuICB9KTtcbn1cblxuY29uc3QgdG9wTGF5ZXJTZWxlY3RvcnMgPSBbJzpwb3BvdmVyLW9wZW4nLCAnOm1vZGFsJ107XG5mdW5jdGlvbiBpc1RvcExheWVyKGZsb2F0aW5nKSB7XG4gIHJldHVybiB0b3BMYXllclNlbGVjdG9ycy5zb21lKHNlbGVjdG9yID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZsb2F0aW5nLm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdChfcmVmKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudHMsXG4gICAgcmVjdCxcbiAgICBvZmZzZXRQYXJlbnQsXG4gICAgc3RyYXRlZ3lcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGlzRml4ZWQgPSBzdHJhdGVneSA9PT0gJ2ZpeGVkJztcbiAgY29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZ2V0RG9jdW1lbnRFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIGNvbnN0IHRvcExheWVyID0gZWxlbWVudHMgPyBpc1RvcExheWVyKGVsZW1lbnRzLmZsb2F0aW5nKSA6IGZhbHNlO1xuICBpZiAob2Zmc2V0UGFyZW50ID09PSBkb2N1bWVudEVsZW1lbnQgfHwgdG9wTGF5ZXIgJiYgaXNGaXhlZCkge1xuICAgIHJldHVybiByZWN0O1xuICB9XG4gIGxldCBzY3JvbGwgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgbGV0IHNjYWxlID0gY3JlYXRlQ29vcmRzKDEpO1xuICBjb25zdCBvZmZzZXRzID0gY3JlYXRlQ29vcmRzKDApO1xuICBjb25zdCBpc09mZnNldFBhcmVudEFuRWxlbWVudCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgaWYgKGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50IHx8ICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiAhaXNGaXhlZCkge1xuICAgIGlmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpICE9PSAnYm9keScgfHwgaXNPdmVyZmxvd0VsZW1lbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChvZmZzZXRQYXJlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICBjb25zdCBvZmZzZXRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG9mZnNldFBhcmVudCk7XG4gICAgICBzY2FsZSA9IGdldFNjYWxlKG9mZnNldFBhcmVudCk7XG4gICAgICBvZmZzZXRzLnggPSBvZmZzZXRSZWN0LnggKyBvZmZzZXRQYXJlbnQuY2xpZW50TGVmdDtcbiAgICAgIG9mZnNldHMueSA9IG9mZnNldFJlY3QueSArIG9mZnNldFBhcmVudC5jbGllbnRUb3A7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHJlY3Qud2lkdGggKiBzY2FsZS54LFxuICAgIGhlaWdodDogcmVjdC5oZWlnaHQgKiBzY2FsZS55LFxuICAgIHg6IHJlY3QueCAqIHNjYWxlLnggLSBzY3JvbGwuc2Nyb2xsTGVmdCAqIHNjYWxlLnggKyBvZmZzZXRzLngsXG4gICAgeTogcmVjdC55ICogc2NhbGUueSAtIHNjcm9sbC5zY3JvbGxUb3AgKiBzY2FsZS55ICsgb2Zmc2V0cy55XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldENsaWVudFJlY3RzKGVsZW1lbnQpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5nZXRDbGllbnRSZWN0cygpKTtcbn1cblxuZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50KSB7XG4gIC8vIElmIDxodG1sPiBoYXMgYSBDU1Mgd2lkdGggZ3JlYXRlciB0aGFuIHRoZSB2aWV3cG9ydCwgdGhlbiB0aGlzIHdpbGwgYmVcbiAgLy8gaW5jb3JyZWN0IGZvciBSVEwuXG4gIHJldHVybiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKS5sZWZ0ICsgZ2V0Tm9kZVNjcm9sbChlbGVtZW50KS5zY3JvbGxMZWZ0O1xufVxuXG4vLyBHZXRzIHRoZSBlbnRpcmUgc2l6ZSBvZiB0aGUgc2Nyb2xsYWJsZSBkb2N1bWVudCBhcmVhLCBldmVuIGV4dGVuZGluZyBvdXRzaWRlXG4vLyBvZiB0aGUgYDxodG1sPmAgYW5kIGA8Ym9keT5gIHJlY3QgYm91bmRzIGlmIGhvcml6b250YWxseSBzY3JvbGxhYmxlLlxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRSZWN0KGVsZW1lbnQpIHtcbiAgY29uc3QgaHRtbCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgY29uc3Qgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KTtcbiAgY29uc3QgYm9keSA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICBjb25zdCB3aWR0aCA9IG1heChodG1sLnNjcm9sbFdpZHRoLCBodG1sLmNsaWVudFdpZHRoLCBib2R5LnNjcm9sbFdpZHRoLCBib2R5LmNsaWVudFdpZHRoKTtcbiAgY29uc3QgaGVpZ2h0ID0gbWF4KGh0bWwuc2Nyb2xsSGVpZ2h0LCBodG1sLmNsaWVudEhlaWdodCwgYm9keS5zY3JvbGxIZWlnaHQsIGJvZHkuY2xpZW50SGVpZ2h0KTtcbiAgbGV0IHggPSAtc2Nyb2xsLnNjcm9sbExlZnQgKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpO1xuICBjb25zdCB5ID0gLXNjcm9sbC5zY3JvbGxUb3A7XG4gIGlmIChnZXRDb21wdXRlZFN0eWxlKGJvZHkpLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICB4ICs9IG1heChodG1sLmNsaWVudFdpZHRoLCBib2R5LmNsaWVudFdpZHRoKSAtIHdpZHRoO1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHgsXG4gICAgeVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBjb25zdCBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCB2aXN1YWxWaWV3cG9ydCA9IHdpbi52aXN1YWxWaWV3cG9ydDtcbiAgbGV0IHdpZHRoID0gaHRtbC5jbGllbnRXaWR0aDtcbiAgbGV0IGhlaWdodCA9IGh0bWwuY2xpZW50SGVpZ2h0O1xuICBsZXQgeCA9IDA7XG4gIGxldCB5ID0gMDtcbiAgaWYgKHZpc3VhbFZpZXdwb3J0KSB7XG4gICAgd2lkdGggPSB2aXN1YWxWaWV3cG9ydC53aWR0aDtcbiAgICBoZWlnaHQgPSB2aXN1YWxWaWV3cG9ydC5oZWlnaHQ7XG4gICAgY29uc3QgdmlzdWFsVmlld3BvcnRCYXNlZCA9IGlzV2ViS2l0KCk7XG4gICAgaWYgKCF2aXN1YWxWaWV3cG9ydEJhc2VkIHx8IHZpc3VhbFZpZXdwb3J0QmFzZWQgJiYgc3RyYXRlZ3kgPT09ICdmaXhlZCcpIHtcbiAgICAgIHggPSB2aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0O1xuICAgICAgeSA9IHZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbi8vIFJldHVybnMgdGhlIGlubmVyIGNsaWVudCByZWN0LCBzdWJ0cmFjdGluZyBzY3JvbGxiYXJzIGlmIHByZXNlbnQuXG5mdW5jdGlvbiBnZXRJbm5lckJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBzdHJhdGVneSkge1xuICBjb25zdCBjbGllbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHRydWUsIHN0cmF0ZWd5ID09PSAnZml4ZWQnKTtcbiAgY29uc3QgdG9wID0gY2xpZW50UmVjdC50b3AgKyBlbGVtZW50LmNsaWVudFRvcDtcbiAgY29uc3QgbGVmdCA9IGNsaWVudFJlY3QubGVmdCArIGVsZW1lbnQuY2xpZW50TGVmdDtcbiAgY29uc3Qgc2NhbGUgPSBpc0hUTUxFbGVtZW50KGVsZW1lbnQpID8gZ2V0U2NhbGUoZWxlbWVudCkgOiBjcmVhdGVDb29yZHMoMSk7XG4gIGNvbnN0IHdpZHRoID0gZWxlbWVudC5jbGllbnRXaWR0aCAqIHNjYWxlLng7XG4gIGNvbnN0IGhlaWdodCA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0ICogc2NhbGUueTtcbiAgY29uc3QgeCA9IGxlZnQgKiBzY2FsZS54O1xuICBjb25zdCB5ID0gdG9wICogc2NhbGUueTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5mdW5jdGlvbiBnZXRDbGllbnRSZWN0RnJvbUNsaXBwaW5nQW5jZXN0b3IoZWxlbWVudCwgY2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpIHtcbiAgbGV0IHJlY3Q7XG4gIGlmIChjbGlwcGluZ0FuY2VzdG9yID09PSAndmlld3BvcnQnKSB7XG4gICAgcmVjdCA9IGdldFZpZXdwb3J0UmVjdChlbGVtZW50LCBzdHJhdGVneSk7XG4gIH0gZWxzZSBpZiAoY2xpcHBpbmdBbmNlc3RvciA9PT0gJ2RvY3VtZW50Jykge1xuICAgIHJlY3QgPSBnZXREb2N1bWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKTtcbiAgfSBlbHNlIGlmIChpc0VsZW1lbnQoY2xpcHBpbmdBbmNlc3RvcikpIHtcbiAgICByZWN0ID0gZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QoY2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHZpc3VhbE9mZnNldHMgPSBnZXRWaXN1YWxPZmZzZXRzKGVsZW1lbnQpO1xuICAgIHJlY3QgPSB7XG4gICAgICAuLi5jbGlwcGluZ0FuY2VzdG9yLFxuICAgICAgeDogY2xpcHBpbmdBbmNlc3Rvci54IC0gdmlzdWFsT2Zmc2V0cy54LFxuICAgICAgeTogY2xpcHBpbmdBbmNlc3Rvci55IC0gdmlzdWFsT2Zmc2V0cy55XG4gICAgfTtcbiAgfVxuICByZXR1cm4gcmVjdFRvQ2xpZW50UmVjdChyZWN0KTtcbn1cbmZ1bmN0aW9uIGhhc0ZpeGVkUG9zaXRpb25BbmNlc3RvcihlbGVtZW50LCBzdG9wTm9kZSkge1xuICBjb25zdCBwYXJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcbiAgaWYgKHBhcmVudE5vZGUgPT09IHN0b3BOb2RlIHx8ICFpc0VsZW1lbnQocGFyZW50Tm9kZSkgfHwgaXNMYXN0VHJhdmVyc2FibGVOb2RlKHBhcmVudE5vZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKHBhcmVudE5vZGUpLnBvc2l0aW9uID09PSAnZml4ZWQnIHx8IGhhc0ZpeGVkUG9zaXRpb25BbmNlc3RvcihwYXJlbnROb2RlLCBzdG9wTm9kZSk7XG59XG5cbi8vIEEgXCJjbGlwcGluZyBhbmNlc3RvclwiIGlzIGFuIGBvdmVyZmxvd2AgZWxlbWVudCB3aXRoIHRoZSBjaGFyYWN0ZXJpc3RpYyBvZlxuLy8gY2xpcHBpbmcgKG9yIGhpZGluZykgY2hpbGQgZWxlbWVudHMuIFRoaXMgcmV0dXJucyBhbGwgY2xpcHBpbmcgYW5jZXN0b3JzXG4vLyBvZiB0aGUgZ2l2ZW4gZWxlbWVudCB1cCB0aGUgdHJlZS5cbmZ1bmN0aW9uIGdldENsaXBwaW5nRWxlbWVudEFuY2VzdG9ycyhlbGVtZW50LCBjYWNoZSkge1xuICBjb25zdCBjYWNoZWRSZXN1bHQgPSBjYWNoZS5nZXQoZWxlbWVudCk7XG4gIGlmIChjYWNoZWRSZXN1bHQpIHtcbiAgICByZXR1cm4gY2FjaGVkUmVzdWx0O1xuICB9XG4gIGxldCByZXN1bHQgPSBnZXRPdmVyZmxvd0FuY2VzdG9ycyhlbGVtZW50LCBbXSwgZmFsc2UpLmZpbHRlcihlbCA9PiBpc0VsZW1lbnQoZWwpICYmIGdldE5vZGVOYW1lKGVsKSAhPT0gJ2JvZHknKTtcbiAgbGV0IGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlID0gbnVsbDtcbiAgY29uc3QgZWxlbWVudElzRml4ZWQgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uID09PSAnZml4ZWQnO1xuICBsZXQgY3VycmVudE5vZGUgPSBlbGVtZW50SXNGaXhlZCA/IGdldFBhcmVudE5vZGUoZWxlbWVudCkgOiBlbGVtZW50O1xuXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9Db250YWluaW5nX2Jsb2NrI2lkZW50aWZ5aW5nX3RoZV9jb250YWluaW5nX2Jsb2NrXG4gIHdoaWxlIChpc0VsZW1lbnQoY3VycmVudE5vZGUpICYmICFpc0xhc3RUcmF2ZXJzYWJsZU5vZGUoY3VycmVudE5vZGUpKSB7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoY3VycmVudE5vZGUpO1xuICAgIGNvbnN0IGN1cnJlbnROb2RlSXNDb250YWluaW5nID0gaXNDb250YWluaW5nQmxvY2soY3VycmVudE5vZGUpO1xuICAgIGlmICghY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgY29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgICAgY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBzaG91bGREcm9wQ3VycmVudE5vZGUgPSBlbGVtZW50SXNGaXhlZCA/ICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiAhY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgOiAhY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgY29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycgJiYgISFjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSAmJiBbJ2Fic29sdXRlJywgJ2ZpeGVkJ10uaW5jbHVkZXMoY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUucG9zaXRpb24pIHx8IGlzT3ZlcmZsb3dFbGVtZW50KGN1cnJlbnROb2RlKSAmJiAhY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgaGFzRml4ZWRQb3NpdGlvbkFuY2VzdG9yKGVsZW1lbnQsIGN1cnJlbnROb2RlKTtcbiAgICBpZiAoc2hvdWxkRHJvcEN1cnJlbnROb2RlKSB7XG4gICAgICAvLyBEcm9wIG5vbi1jb250YWluaW5nIGJsb2Nrcy5cbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoYW5jZXN0b3IgPT4gYW5jZXN0b3IgIT09IGN1cnJlbnROb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVjb3JkIGxhc3QgY29udGFpbmluZyBibG9jayBmb3IgbmV4dCBpdGVyYXRpb24uXG4gICAgICBjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA9IGNvbXB1dGVkU3R5bGU7XG4gICAgfVxuICAgIGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShjdXJyZW50Tm9kZSk7XG4gIH1cbiAgY2FjaGUuc2V0KGVsZW1lbnQsIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEdldHMgdGhlIG1heGltdW0gYXJlYSB0aGF0IHRoZSBlbGVtZW50IGlzIHZpc2libGUgaW4gZHVlIHRvIGFueSBudW1iZXIgb2Zcbi8vIGNsaXBwaW5nIGFuY2VzdG9ycy5cbmZ1bmN0aW9uIGdldENsaXBwaW5nUmVjdChfcmVmKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudCxcbiAgICBib3VuZGFyeSxcbiAgICByb290Qm91bmRhcnksXG4gICAgc3RyYXRlZ3lcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGVsZW1lbnRDbGlwcGluZ0FuY2VzdG9ycyA9IGJvdW5kYXJ5ID09PSAnY2xpcHBpbmdBbmNlc3RvcnMnID8gZ2V0Q2xpcHBpbmdFbGVtZW50QW5jZXN0b3JzKGVsZW1lbnQsIHRoaXMuX2MpIDogW10uY29uY2F0KGJvdW5kYXJ5KTtcbiAgY29uc3QgY2xpcHBpbmdBbmNlc3RvcnMgPSBbLi4uZWxlbWVudENsaXBwaW5nQW5jZXN0b3JzLCByb290Qm91bmRhcnldO1xuICBjb25zdCBmaXJzdENsaXBwaW5nQW5jZXN0b3IgPSBjbGlwcGluZ0FuY2VzdG9yc1swXTtcbiAgY29uc3QgY2xpcHBpbmdSZWN0ID0gY2xpcHBpbmdBbmNlc3RvcnMucmVkdWNlKChhY2NSZWN0LCBjbGlwcGluZ0FuY2VzdG9yKSA9PiB7XG4gICAgY29uc3QgcmVjdCA9IGdldENsaWVudFJlY3RGcm9tQ2xpcHBpbmdBbmNlc3RvcihlbGVtZW50LCBjbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSk7XG4gICAgYWNjUmVjdC50b3AgPSBtYXgocmVjdC50b3AsIGFjY1JlY3QudG9wKTtcbiAgICBhY2NSZWN0LnJpZ2h0ID0gbWluKHJlY3QucmlnaHQsIGFjY1JlY3QucmlnaHQpO1xuICAgIGFjY1JlY3QuYm90dG9tID0gbWluKHJlY3QuYm90dG9tLCBhY2NSZWN0LmJvdHRvbSk7XG4gICAgYWNjUmVjdC5sZWZ0ID0gbWF4KHJlY3QubGVmdCwgYWNjUmVjdC5sZWZ0KTtcbiAgICByZXR1cm4gYWNjUmVjdDtcbiAgfSwgZ2V0Q2xpZW50UmVjdEZyb21DbGlwcGluZ0FuY2VzdG9yKGVsZW1lbnQsIGZpcnN0Q2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpKTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogY2xpcHBpbmdSZWN0LnJpZ2h0IC0gY2xpcHBpbmdSZWN0LmxlZnQsXG4gICAgaGVpZ2h0OiBjbGlwcGluZ1JlY3QuYm90dG9tIC0gY2xpcHBpbmdSZWN0LnRvcCxcbiAgICB4OiBjbGlwcGluZ1JlY3QubGVmdCxcbiAgICB5OiBjbGlwcGluZ1JlY3QudG9wXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERpbWVuc2lvbnMoZWxlbWVudCkge1xuICBjb25zdCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH0gPSBnZXRDc3NEaW1lbnNpb25zKGVsZW1lbnQpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRSZWN0UmVsYXRpdmVUb09mZnNldFBhcmVudChlbGVtZW50LCBvZmZzZXRQYXJlbnQsIHN0cmF0ZWd5KSB7XG4gIGNvbnN0IGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ID0gaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBnZXREb2N1bWVudEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgY29uc3QgaXNGaXhlZCA9IHN0cmF0ZWd5ID09PSAnZml4ZWQnO1xuICBjb25zdCByZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHRydWUsIGlzRml4ZWQsIG9mZnNldFBhcmVudCk7XG4gIGxldCBzY3JvbGwgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgY29uc3Qgb2Zmc2V0cyA9IGNyZWF0ZUNvb3JkcygwKTtcbiAgaWYgKGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50IHx8ICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiAhaXNGaXhlZCkge1xuICAgIGlmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpICE9PSAnYm9keScgfHwgaXNPdmVyZmxvd0VsZW1lbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChvZmZzZXRQYXJlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IG9mZnNldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50LCB0cnVlLCBpc0ZpeGVkLCBvZmZzZXRQYXJlbnQpO1xuICAgICAgb2Zmc2V0cy54ID0gb2Zmc2V0UmVjdC54ICsgb2Zmc2V0UGFyZW50LmNsaWVudExlZnQ7XG4gICAgICBvZmZzZXRzLnkgPSBvZmZzZXRSZWN0LnkgKyBvZmZzZXRQYXJlbnQuY2xpZW50VG9wO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBvZmZzZXRzLnggPSBnZXRXaW5kb3dTY3JvbGxCYXJYKGRvY3VtZW50RWxlbWVudCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHggPSByZWN0LmxlZnQgKyBzY3JvbGwuc2Nyb2xsTGVmdCAtIG9mZnNldHMueDtcbiAgY29uc3QgeSA9IHJlY3QudG9wICsgc2Nyb2xsLnNjcm9sbFRvcCAtIG9mZnNldHMueTtcbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRUcnVlT2Zmc2V0UGFyZW50KGVsZW1lbnQsIHBvbHlmaWxsKSB7XG4gIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSB8fCBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHBvbHlmaWxsKSB7XG4gICAgcmV0dXJuIHBvbHlmaWxsKGVsZW1lbnQpO1xuICB9XG4gIHJldHVybiBlbGVtZW50Lm9mZnNldFBhcmVudDtcbn1cblxuLy8gR2V0cyB0aGUgY2xvc2VzdCBhbmNlc3RvciBwb3NpdGlvbmVkIGVsZW1lbnQuIEhhbmRsZXMgc29tZSBlZGdlIGNhc2VzLFxuLy8gc3VjaCBhcyB0YWJsZSBhbmNlc3RvcnMgYW5kIGNyb3NzIGJyb3dzZXIgYnVncy5cbmZ1bmN0aW9uIGdldE9mZnNldFBhcmVudChlbGVtZW50LCBwb2x5ZmlsbCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSB8fCBpc1RvcExheWVyKGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuICBsZXQgb2Zmc2V0UGFyZW50ID0gZ2V0VHJ1ZU9mZnNldFBhcmVudChlbGVtZW50LCBwb2x5ZmlsbCk7XG4gIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgaXNUYWJsZUVsZW1lbnQob2Zmc2V0UGFyZW50KSAmJiBnZXRDb21wdXRlZFN0eWxlKG9mZnNldFBhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgb2Zmc2V0UGFyZW50ID0gZ2V0VHJ1ZU9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQsIHBvbHlmaWxsKTtcbiAgfVxuICBpZiAob2Zmc2V0UGFyZW50ICYmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpID09PSAnaHRtbCcgfHwgZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSA9PT0gJ2JvZHknICYmIGdldENvbXB1dGVkU3R5bGUob2Zmc2V0UGFyZW50KS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycgJiYgIWlzQ29udGFpbmluZ0Jsb2NrKG9mZnNldFBhcmVudCkpKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB8fCB3aW5kb3c7XG59XG5cbmNvbnN0IGdldEVsZW1lbnRSZWN0cyA9IGFzeW5jIGZ1bmN0aW9uIChkYXRhKSB7XG4gIGNvbnN0IGdldE9mZnNldFBhcmVudEZuID0gdGhpcy5nZXRPZmZzZXRQYXJlbnQgfHwgZ2V0T2Zmc2V0UGFyZW50O1xuICBjb25zdCBnZXREaW1lbnNpb25zRm4gPSB0aGlzLmdldERpbWVuc2lvbnM7XG4gIHJldHVybiB7XG4gICAgcmVmZXJlbmNlOiBnZXRSZWN0UmVsYXRpdmVUb09mZnNldFBhcmVudChkYXRhLnJlZmVyZW5jZSwgYXdhaXQgZ2V0T2Zmc2V0UGFyZW50Rm4oZGF0YS5mbG9hdGluZyksIGRhdGEuc3RyYXRlZ3kpLFxuICAgIGZsb2F0aW5nOiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIC4uLihhd2FpdCBnZXREaW1lbnNpb25zRm4oZGF0YS5mbG9hdGluZykpXG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gaXNSVEwoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5kaXJlY3Rpb24gPT09ICdydGwnO1xufVxuXG5jb25zdCBwbGF0Zm9ybSA9IHtcbiAgY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3QsXG4gIGdldERvY3VtZW50RWxlbWVudCxcbiAgZ2V0Q2xpcHBpbmdSZWN0LFxuICBnZXRPZmZzZXRQYXJlbnQsXG4gIGdldEVsZW1lbnRSZWN0cyxcbiAgZ2V0Q2xpZW50UmVjdHMsXG4gIGdldERpbWVuc2lvbnMsXG4gIGdldFNjYWxlLFxuICBpc0VsZW1lbnQsXG4gIGlzUlRMXG59O1xuXG4vLyBodHRwczovL3NhbXRob3IuYXUvMjAyMS9vYnNlcnZpbmctZG9tL1xuZnVuY3Rpb24gb2JzZXJ2ZU1vdmUoZWxlbWVudCwgb25Nb3ZlKSB7XG4gIGxldCBpbyA9IG51bGw7XG4gIGxldCB0aW1lb3V0SWQ7XG4gIGNvbnN0IHJvb3QgPSBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCk7XG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgdmFyIF9pbztcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAoX2lvID0gaW8pID09IG51bGwgfHwgX2lvLmRpc2Nvbm5lY3QoKTtcbiAgICBpbyA9IG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gcmVmcmVzaChza2lwLCB0aHJlc2hvbGQpIHtcbiAgICBpZiAoc2tpcCA9PT0gdm9pZCAwKSB7XG4gICAgICBza2lwID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aHJlc2hvbGQgPT09IHZvaWQgMCkge1xuICAgICAgdGhyZXNob2xkID0gMTtcbiAgICB9XG4gICAgY2xlYW51cCgpO1xuICAgIGNvbnN0IHtcbiAgICAgIGxlZnQsXG4gICAgICB0b3AsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodFxuICAgIH0gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmICghc2tpcCkge1xuICAgICAgb25Nb3ZlKCk7XG4gICAgfVxuICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbnNldFRvcCA9IGZsb29yKHRvcCk7XG4gICAgY29uc3QgaW5zZXRSaWdodCA9IGZsb29yKHJvb3QuY2xpZW50V2lkdGggLSAobGVmdCArIHdpZHRoKSk7XG4gICAgY29uc3QgaW5zZXRCb3R0b20gPSBmbG9vcihyb290LmNsaWVudEhlaWdodCAtICh0b3AgKyBoZWlnaHQpKTtcbiAgICBjb25zdCBpbnNldExlZnQgPSBmbG9vcihsZWZ0KTtcbiAgICBjb25zdCByb290TWFyZ2luID0gLWluc2V0VG9wICsgXCJweCBcIiArIC1pbnNldFJpZ2h0ICsgXCJweCBcIiArIC1pbnNldEJvdHRvbSArIFwicHggXCIgKyAtaW5zZXRMZWZ0ICsgXCJweFwiO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICByb290TWFyZ2luLFxuICAgICAgdGhyZXNob2xkOiBtYXgoMCwgbWluKDEsIHRocmVzaG9sZCkpIHx8IDFcbiAgICB9O1xuICAgIGxldCBpc0ZpcnN0VXBkYXRlID0gdHJ1ZTtcbiAgICBmdW5jdGlvbiBoYW5kbGVPYnNlcnZlKGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IHJhdGlvID0gZW50cmllc1swXS5pbnRlcnNlY3Rpb25SYXRpbztcbiAgICAgIGlmIChyYXRpbyAhPT0gdGhyZXNob2xkKSB7XG4gICAgICAgIGlmICghaXNGaXJzdFVwZGF0ZSkge1xuICAgICAgICAgIHJldHVybiByZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyYXRpbykge1xuICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVmcmVzaChmYWxzZSwgMWUtNyk7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZyZXNoKGZhbHNlLCByYXRpbyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlzRmlyc3RVcGRhdGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBPbGRlciBicm93c2VycyBkb24ndCBzdXBwb3J0IGEgYGRvY3VtZW50YCBhcyB0aGUgcm9vdCBhbmQgd2lsbCB0aHJvdyBhblxuICAgIC8vIGVycm9yLlxuICAgIHRyeSB7XG4gICAgICBpbyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVPYnNlcnZlLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC8vIEhhbmRsZSA8aWZyYW1lPnNcbiAgICAgICAgcm9vdDogcm9vdC5vd25lckRvY3VtZW50XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpbyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVPYnNlcnZlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaW8ub2JzZXJ2ZShlbGVtZW50KTtcbiAgfVxuICByZWZyZXNoKHRydWUpO1xuICByZXR1cm4gY2xlYW51cDtcbn1cblxuLyoqXG4gKiBBdXRvbWF0aWNhbGx5IHVwZGF0ZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IHdoZW4gbmVjZXNzYXJ5LlxuICogU2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW4gdGhlIGZsb2F0aW5nIGVsZW1lbnQgaXMgbW91bnRlZCBvbiB0aGUgRE9NIG9yXG4gKiB2aXNpYmxlIG9uIHRoZSBzY3JlZW4uXG4gKiBAcmV0dXJucyBjbGVhbnVwIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGludm9rZWQgd2hlbiB0aGUgZmxvYXRpbmcgZWxlbWVudCBpc1xuICogcmVtb3ZlZCBmcm9tIHRoZSBET00gb3IgaGlkZGVuIGZyb20gdGhlIHNjcmVlbi5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hdXRvVXBkYXRlXG4gKi9cbmZ1bmN0aW9uIGF1dG9VcGRhdGUocmVmZXJlbmNlLCBmbG9hdGluZywgdXBkYXRlLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgY29uc3Qge1xuICAgIGFuY2VzdG9yU2Nyb2xsID0gdHJ1ZSxcbiAgICBhbmNlc3RvclJlc2l6ZSA9IHRydWUsXG4gICAgZWxlbWVudFJlc2l6ZSA9IHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PT0gJ2Z1bmN0aW9uJyxcbiAgICBsYXlvdXRTaGlmdCA9IHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PT0gJ2Z1bmN0aW9uJyxcbiAgICBhbmltYXRpb25GcmFtZSA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCByZWZlcmVuY2VFbCA9IHVud3JhcEVsZW1lbnQocmVmZXJlbmNlKTtcbiAgY29uc3QgYW5jZXN0b3JzID0gYW5jZXN0b3JTY3JvbGwgfHwgYW5jZXN0b3JSZXNpemUgPyBbLi4uKHJlZmVyZW5jZUVsID8gZ2V0T3ZlcmZsb3dBbmNlc3RvcnMocmVmZXJlbmNlRWwpIDogW10pLCAuLi5nZXRPdmVyZmxvd0FuY2VzdG9ycyhmbG9hdGluZyldIDogW107XG4gIGFuY2VzdG9ycy5mb3JFYWNoKGFuY2VzdG9yID0+IHtcbiAgICBhbmNlc3RvclNjcm9sbCAmJiBhbmNlc3Rvci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB1cGRhdGUsIHtcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9KTtcbiAgICBhbmNlc3RvclJlc2l6ZSAmJiBhbmNlc3Rvci5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGUpO1xuICB9KTtcbiAgY29uc3QgY2xlYW51cElvID0gcmVmZXJlbmNlRWwgJiYgbGF5b3V0U2hpZnQgPyBvYnNlcnZlTW92ZShyZWZlcmVuY2VFbCwgdXBkYXRlKSA6IG51bGw7XG4gIGxldCByZW9ic2VydmVGcmFtZSA9IC0xO1xuICBsZXQgcmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICBpZiAoZWxlbWVudFJlc2l6ZSkge1xuICAgIHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKF9yZWYgPT4ge1xuICAgICAgbGV0IFtmaXJzdEVudHJ5XSA9IF9yZWY7XG4gICAgICBpZiAoZmlyc3RFbnRyeSAmJiBmaXJzdEVudHJ5LnRhcmdldCA9PT0gcmVmZXJlbmNlRWwgJiYgcmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgLy8gUHJldmVudCB1cGRhdGUgbG9vcHMgd2hlbiB1c2luZyB0aGUgYHNpemVgIG1pZGRsZXdhcmUuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbG9hdGluZy11aS9mbG9hdGluZy11aS9pc3N1ZXMvMTc0MFxuICAgICAgICByZXNpemVPYnNlcnZlci51bm9ic2VydmUoZmxvYXRpbmcpO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZW9ic2VydmVGcmFtZSk7XG4gICAgICAgIHJlb2JzZXJ2ZUZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICB2YXIgX3Jlc2l6ZU9ic2VydmVyO1xuICAgICAgICAgIChfcmVzaXplT2JzZXJ2ZXIgPSByZXNpemVPYnNlcnZlcikgPT0gbnVsbCB8fCBfcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShmbG9hdGluZyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdXBkYXRlKCk7XG4gICAgfSk7XG4gICAgaWYgKHJlZmVyZW5jZUVsICYmICFhbmltYXRpb25GcmFtZSkge1xuICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShyZWZlcmVuY2VFbCk7XG4gICAgfVxuICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZmxvYXRpbmcpO1xuICB9XG4gIGxldCBmcmFtZUlkO1xuICBsZXQgcHJldlJlZlJlY3QgPSBhbmltYXRpb25GcmFtZSA/IGdldEJvdW5kaW5nQ2xpZW50UmVjdChyZWZlcmVuY2UpIDogbnVsbDtcbiAgaWYgKGFuaW1hdGlvbkZyYW1lKSB7XG4gICAgZnJhbWVMb29wKCk7XG4gIH1cbiAgZnVuY3Rpb24gZnJhbWVMb29wKCkge1xuICAgIGNvbnN0IG5leHRSZWZSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHJlZmVyZW5jZSk7XG4gICAgaWYgKHByZXZSZWZSZWN0ICYmIChuZXh0UmVmUmVjdC54ICE9PSBwcmV2UmVmUmVjdC54IHx8IG5leHRSZWZSZWN0LnkgIT09IHByZXZSZWZSZWN0LnkgfHwgbmV4dFJlZlJlY3Qud2lkdGggIT09IHByZXZSZWZSZWN0LndpZHRoIHx8IG5leHRSZWZSZWN0LmhlaWdodCAhPT0gcHJldlJlZlJlY3QuaGVpZ2h0KSkge1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICAgIHByZXZSZWZSZWN0ID0gbmV4dFJlZlJlY3Q7XG4gICAgZnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZUxvb3ApO1xuICB9XG4gIHVwZGF0ZSgpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHZhciBfcmVzaXplT2JzZXJ2ZXIyO1xuICAgIGFuY2VzdG9ycy5mb3JFYWNoKGFuY2VzdG9yID0+IHtcbiAgICAgIGFuY2VzdG9yU2Nyb2xsICYmIGFuY2VzdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHVwZGF0ZSk7XG4gICAgICBhbmNlc3RvclJlc2l6ZSAmJiBhbmNlc3Rvci5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGUpO1xuICAgIH0pO1xuICAgIGNsZWFudXBJbyA9PSBudWxsIHx8IGNsZWFudXBJbygpO1xuICAgIChfcmVzaXplT2JzZXJ2ZXIyID0gcmVzaXplT2JzZXJ2ZXIpID09IG51bGwgfHwgX3Jlc2l6ZU9ic2VydmVyMi5kaXNjb25uZWN0KCk7XG4gICAgcmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgIGlmIChhbmltYXRpb25GcmFtZSkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVJZCk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBjaG9vc2luZyB0aGUgcGxhY2VtZW50XG4gKiB0aGF0IGhhcyB0aGUgbW9zdCBzcGFjZSBhdmFpbGFibGUgYXV0b21hdGljYWxseSwgd2l0aG91dCBuZWVkaW5nIHRvIHNwZWNpZnkgYVxuICogcHJlZmVycmVkIHBsYWNlbWVudC4gQWx0ZXJuYXRpdmUgdG8gYGZsaXBgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2F1dG9QbGFjZW1lbnRcbiAqL1xuY29uc3QgYXV0b1BsYWNlbWVudCA9IGF1dG9QbGFjZW1lbnQkMTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgc2hpZnRpbmcgaXQgaW4gb3JkZXIgdG9cbiAqIGtlZXAgaXQgaW4gdmlldyB3aGVuIGl0IHdpbGwgb3ZlcmZsb3cgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NoaWZ0XG4gKi9cbmNvbnN0IHNoaWZ0ID0gc2hpZnQkMTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgZmxpcHBpbmcgdGhlIGBwbGFjZW1lbnRgXG4gKiBpbiBvcmRlciB0byBrZWVwIGl0IGluIHZpZXcgd2hlbiB0aGUgcHJlZmVycmVkIHBsYWNlbWVudChzKSB3aWxsIG92ZXJmbG93IHRoZVxuICogY2xpcHBpbmcgYm91bmRhcnkuIEFsdGVybmF0aXZlIHRvIGBhdXRvUGxhY2VtZW50YC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9mbGlwXG4gKi9cbmNvbnN0IGZsaXAgPSBmbGlwJDE7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0aGF0IGFsbG93cyB5b3UgdG8gY2hhbmdlIHRoZSBzaXplIG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IFx1MjAxNFxuICogZm9yIGluc3RhbmNlLCBwcmV2ZW50IGl0IGZyb20gb3ZlcmZsb3dpbmcgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5IG9yIG1hdGNoIHRoZVxuICogd2lkdGggb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NpemVcbiAqL1xuY29uc3Qgc2l6ZSA9IHNpemUkMTtcblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIGhpZGUgdGhlIGZsb2F0aW5nIGVsZW1lbnQgaW4gYXBwbGljYWJsZSBzaXR1YXRpb25zLCBzdWNoIGFzXG4gKiB3aGVuIGl0IGlzIG5vdCBpbiB0aGUgc2FtZSBjbGlwcGluZyBjb250ZXh0IGFzIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9oaWRlXG4gKi9cbmNvbnN0IGhpZGUgPSBoaWRlJDE7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0byBwb3NpdGlvbiBhbiBpbm5lciBlbGVtZW50IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IHNvIHRoYXQgaXRcbiAqIGFwcGVhcnMgY2VudGVyZWQgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2Fycm93XG4gKi9cbmNvbnN0IGFycm93ID0gYXJyb3ckMTtcblxuLyoqXG4gKiBQcm92aWRlcyBpbXByb3ZlZCBwb3NpdGlvbmluZyBmb3IgaW5saW5lIHJlZmVyZW5jZSBlbGVtZW50cyB0aGF0IGNhbiBzcGFuXG4gKiBvdmVyIG11bHRpcGxlIGxpbmVzLCBzdWNoIGFzIGh5cGVybGlua3Mgb3IgcmFuZ2Ugc2VsZWN0aW9ucy5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9pbmxpbmVcbiAqL1xuY29uc3QgaW5saW5lID0gaW5saW5lJDE7XG5cbi8qKlxuICogQnVpbHQtaW4gYGxpbWl0ZXJgIHRoYXQgd2lsbCBzdG9wIGBzaGlmdCgpYCBhdCBhIGNlcnRhaW4gcG9pbnQuXG4gKi9cbmNvbnN0IGxpbWl0U2hpZnQgPSBsaW1pdFNoaWZ0JDE7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIHRoYXQgd2lsbCBwbGFjZSB0aGUgZmxvYXRpbmcgZWxlbWVudFxuICogbmV4dCB0byBhIGdpdmVuIHJlZmVyZW5jZSBlbGVtZW50LlxuICovXG5jb25zdCBjb21wdXRlUG9zaXRpb24gPSAocmVmZXJlbmNlLCBmbG9hdGluZywgb3B0aW9ucykgPT4ge1xuICAvLyBUaGlzIGNhY2hlcyB0aGUgZXhwZW5zaXZlIGBnZXRDbGlwcGluZ0VsZW1lbnRBbmNlc3RvcnNgIGZ1bmN0aW9uIHNvIHRoYXRcbiAgLy8gbXVsdGlwbGUgbGlmZWN5Y2xlIHJlc2V0cyByZS11c2UgdGhlIHNhbWUgcmVzdWx0LiBJdCBvbmx5IGxpdmVzIGZvciBhXG4gIC8vIHNpbmdsZSBjYWxsLiBJZiBvdGhlciBmdW5jdGlvbnMgYmVjb21lIGV4cGVuc2l2ZSwgd2UgY2FuIGFkZCB0aGVtIGFzIHdlbGwuXG4gIGNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xuICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgIHBsYXRmb3JtLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgY29uc3QgcGxhdGZvcm1XaXRoQ2FjaGUgPSB7XG4gICAgLi4ubWVyZ2VkT3B0aW9ucy5wbGF0Zm9ybSxcbiAgICBfYzogY2FjaGVcbiAgfTtcbiAgcmV0dXJuIGNvbXB1dGVQb3NpdGlvbiQxKHJlZmVyZW5jZSwgZmxvYXRpbmcsIHtcbiAgICAuLi5tZXJnZWRPcHRpb25zLFxuICAgIHBsYXRmb3JtOiBwbGF0Zm9ybVdpdGhDYWNoZVxuICB9KTtcbn07XG5cbmV4cG9ydCB7IGFycm93LCBhdXRvUGxhY2VtZW50LCBhdXRvVXBkYXRlLCBjb21wdXRlUG9zaXRpb24sIGZsaXAsIGhpZGUsIGlubGluZSwgbGltaXRTaGlmdCwgcGxhdGZvcm0sIHNoaWZ0LCBzaXplIH07XG4iLCAiZnVuY3Rpb24gdCh0KXtyZXR1cm4gcih0KX1mdW5jdGlvbiBlKHQpe3JldHVybiBmKHQsXCJvZmZzZXRUb3BcIil9ZnVuY3Rpb24gbih0KXtyZXR1cm4gZih0LFwib2Zmc2V0TGVmdFwiKX1mdW5jdGlvbiBvKHQpe3JldHVybiB0LmFzc2lnbmVkU2xvdD90LmFzc2lnbmVkU2xvdDp0LnBhcmVudE5vZGUgaW5zdGFuY2VvZiBTaGFkb3dSb290P3QucGFyZW50Tm9kZS5ob3N0OnQucGFyZW50Tm9kZX1mdW5jdGlvbiByKHQpe2ZvcihsZXQgZT10O2U7ZT1vKGUpKWlmKGUgaW5zdGFuY2VvZiBFbGVtZW50JiZcIm5vbmVcIj09PWdldENvbXB1dGVkU3R5bGUoZSkuZGlzcGxheSlyZXR1cm4gbnVsbDtmb3IobGV0IGU9byh0KTtlO2U9byhlKSl7aWYoIShlIGluc3RhbmNlb2YgRWxlbWVudCkpY29udGludWU7Y29uc3QgdD1nZXRDb21wdXRlZFN0eWxlKGUpO2lmKFwiY29udGVudHNcIiE9PXQuZGlzcGxheSl7aWYoXCJzdGF0aWNcIiE9PXQucG9zaXRpb258fFwibm9uZVwiIT09dC5maWx0ZXIpcmV0dXJuIGU7aWYoXCJCT0RZXCI9PT1lLnRhZ05hbWUpcmV0dXJuIGV9fXJldHVybiBudWxsfWZ1bmN0aW9uIGYodCxlKXtsZXQgbj10W2VdLG89cih0KTtjb25zdCBmPWZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IFNldDtsZXQgbj10LmdldFJvb3ROb2RlKCk7Zm9yKDtuOyllLmFkZChuKSxuPW4ucGFyZW50Tm9kZT9uLnBhcmVudE5vZGUuZ2V0Um9vdE5vZGUoKTpudWxsO3JldHVybiBlfSh0KTtmb3IoO28mJiFmLmhhcyhvLmdldFJvb3ROb2RlKCkpOyluLT1vW2VdLG89cihvKTtyZXR1cm4gbn1leHBvcnR7biBhcyBvZmZzZXRMZWZ0LHQgYXMgb2Zmc2V0UGFyZW50LGUgYXMgb2Zmc2V0VG9wfTtcbiIsICJpbXBvcnQge1xuICBwb3B1cF9zdHlsZXNfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay4zS1NXVkJRNS5qc1wiO1xuaW1wb3J0IHtcbiAgY29tcG9uZW50X3N0eWxlc19kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLlRVVkpLWTdTLmpzXCI7XG5pbXBvcnQge1xuICBTaG9lbGFjZUVsZW1lbnRcbn0gZnJvbSBcIi4vY2h1bmsuU0ZTVFhDWEMuanNcIjtcbmltcG9ydCB7XG4gIF9fZGVjb3JhdGVDbGFzcyxcbiAgX19zcHJlYWRQcm9wcyxcbiAgX19zcHJlYWRWYWx1ZXNcbn0gZnJvbSBcIi4vY2h1bmsuSUZEV002UDQuanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvcG9wdXAvcG9wdXAuY29tcG9uZW50LnRzXG5pbXBvcnQgeyBhcnJvdywgYXV0b1VwZGF0ZSwgY29tcHV0ZVBvc2l0aW9uLCBmbGlwLCBvZmZzZXQsIHBsYXRmb3JtLCBzaGlmdCwgc2l6ZSB9IGZyb20gXCJAZmxvYXRpbmctdWkvZG9tXCI7XG5pbXBvcnQgeyBjbGFzc01hcCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9jbGFzcy1tYXAuanNcIjtcbmltcG9ydCB7IGh0bWwgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBvZmZzZXRQYXJlbnQgfSBmcm9tIFwiY29tcG9zZWQtb2Zmc2V0LXBvc2l0aW9uXCI7XG5pbXBvcnQgeyBwcm9wZXJ0eSwgcXVlcnkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnMuanNcIjtcbmZ1bmN0aW9uIGlzVmlydHVhbEVsZW1lbnQoZSkge1xuICByZXR1cm4gZSAhPT0gbnVsbCAmJiB0eXBlb2YgZSA9PT0gXCJvYmplY3RcIiAmJiBcImdldEJvdW5kaW5nQ2xpZW50UmVjdFwiIGluIGUgJiYgKFwiY29udGV4dEVsZW1lbnRcIiBpbiBlID8gZSBpbnN0YW5jZW9mIEVsZW1lbnQgOiB0cnVlKTtcbn1cbnZhciBTbFBvcHVwID0gY2xhc3MgZXh0ZW5kcyBTaG9lbGFjZUVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5wbGFjZW1lbnQgPSBcInRvcFwiO1xuICAgIHRoaXMuc3RyYXRlZ3kgPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5kaXN0YW5jZSA9IDA7XG4gICAgdGhpcy5za2lkZGluZyA9IDA7XG4gICAgdGhpcy5hcnJvdyA9IGZhbHNlO1xuICAgIHRoaXMuYXJyb3dQbGFjZW1lbnQgPSBcImFuY2hvclwiO1xuICAgIHRoaXMuYXJyb3dQYWRkaW5nID0gMTA7XG4gICAgdGhpcy5mbGlwID0gZmFsc2U7XG4gICAgdGhpcy5mbGlwRmFsbGJhY2tQbGFjZW1lbnRzID0gXCJcIjtcbiAgICB0aGlzLmZsaXBGYWxsYmFja1N0cmF0ZWd5ID0gXCJiZXN0LWZpdFwiO1xuICAgIHRoaXMuZmxpcFBhZGRpbmcgPSAwO1xuICAgIHRoaXMuc2hpZnQgPSBmYWxzZTtcbiAgICB0aGlzLnNoaWZ0UGFkZGluZyA9IDA7XG4gICAgdGhpcy5hdXRvU2l6ZVBhZGRpbmcgPSAwO1xuICAgIHRoaXMuaG92ZXJCcmlkZ2UgPSBmYWxzZTtcbiAgICB0aGlzLnVwZGF0ZUhvdmVyQnJpZGdlID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaG92ZXJCcmlkZ2UgJiYgdGhpcy5hbmNob3JFbCkge1xuICAgICAgICBjb25zdCBhbmNob3JSZWN0ID0gdGhpcy5hbmNob3JFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgcG9wdXBSZWN0ID0gdGhpcy5wb3B1cC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgaXNWZXJ0aWNhbCA9IHRoaXMucGxhY2VtZW50LmluY2x1ZGVzKFwidG9wXCIpIHx8IHRoaXMucGxhY2VtZW50LmluY2x1ZGVzKFwiYm90dG9tXCIpO1xuICAgICAgICBsZXQgdG9wTGVmdFggPSAwO1xuICAgICAgICBsZXQgdG9wTGVmdFkgPSAwO1xuICAgICAgICBsZXQgdG9wUmlnaHRYID0gMDtcbiAgICAgICAgbGV0IHRvcFJpZ2h0WSA9IDA7XG4gICAgICAgIGxldCBib3R0b21MZWZ0WCA9IDA7XG4gICAgICAgIGxldCBib3R0b21MZWZ0WSA9IDA7XG4gICAgICAgIGxldCBib3R0b21SaWdodFggPSAwO1xuICAgICAgICBsZXQgYm90dG9tUmlnaHRZID0gMDtcbiAgICAgICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgICAgICBpZiAoYW5jaG9yUmVjdC50b3AgPCBwb3B1cFJlY3QudG9wKSB7XG4gICAgICAgICAgICB0b3BMZWZ0WCA9IGFuY2hvclJlY3QubGVmdDtcbiAgICAgICAgICAgIHRvcExlZnRZID0gYW5jaG9yUmVjdC5ib3R0b207XG4gICAgICAgICAgICB0b3BSaWdodFggPSBhbmNob3JSZWN0LnJpZ2h0O1xuICAgICAgICAgICAgdG9wUmlnaHRZID0gYW5jaG9yUmVjdC5ib3R0b207XG4gICAgICAgICAgICBib3R0b21MZWZ0WCA9IHBvcHVwUmVjdC5sZWZ0O1xuICAgICAgICAgICAgYm90dG9tTGVmdFkgPSBwb3B1cFJlY3QudG9wO1xuICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gcG9wdXBSZWN0LnJpZ2h0O1xuICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gcG9wdXBSZWN0LnRvcDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9wTGVmdFggPSBwb3B1cFJlY3QubGVmdDtcbiAgICAgICAgICAgIHRvcExlZnRZID0gcG9wdXBSZWN0LmJvdHRvbTtcbiAgICAgICAgICAgIHRvcFJpZ2h0WCA9IHBvcHVwUmVjdC5yaWdodDtcbiAgICAgICAgICAgIHRvcFJpZ2h0WSA9IHBvcHVwUmVjdC5ib3R0b207XG4gICAgICAgICAgICBib3R0b21MZWZ0WCA9IGFuY2hvclJlY3QubGVmdDtcbiAgICAgICAgICAgIGJvdHRvbUxlZnRZID0gYW5jaG9yUmVjdC50b3A7XG4gICAgICAgICAgICBib3R0b21SaWdodFggPSBhbmNob3JSZWN0LnJpZ2h0O1xuICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gYW5jaG9yUmVjdC50b3A7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChhbmNob3JSZWN0LmxlZnQgPCBwb3B1cFJlY3QubGVmdCkge1xuICAgICAgICAgICAgdG9wTGVmdFggPSBhbmNob3JSZWN0LnJpZ2h0O1xuICAgICAgICAgICAgdG9wTGVmdFkgPSBhbmNob3JSZWN0LnRvcDtcbiAgICAgICAgICAgIHRvcFJpZ2h0WCA9IHBvcHVwUmVjdC5sZWZ0O1xuICAgICAgICAgICAgdG9wUmlnaHRZID0gcG9wdXBSZWN0LnRvcDtcbiAgICAgICAgICAgIGJvdHRvbUxlZnRYID0gYW5jaG9yUmVjdC5yaWdodDtcbiAgICAgICAgICAgIGJvdHRvbUxlZnRZID0gYW5jaG9yUmVjdC5ib3R0b207XG4gICAgICAgICAgICBib3R0b21SaWdodFggPSBwb3B1cFJlY3QubGVmdDtcbiAgICAgICAgICAgIGJvdHRvbVJpZ2h0WSA9IHBvcHVwUmVjdC5ib3R0b207XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvcExlZnRYID0gcG9wdXBSZWN0LnJpZ2h0O1xuICAgICAgICAgICAgdG9wTGVmdFkgPSBwb3B1cFJlY3QudG9wO1xuICAgICAgICAgICAgdG9wUmlnaHRYID0gYW5jaG9yUmVjdC5sZWZ0O1xuICAgICAgICAgICAgdG9wUmlnaHRZID0gYW5jaG9yUmVjdC50b3A7XG4gICAgICAgICAgICBib3R0b21MZWZ0WCA9IHBvcHVwUmVjdC5yaWdodDtcbiAgICAgICAgICAgIGJvdHRvbUxlZnRZID0gcG9wdXBSZWN0LmJvdHRvbTtcbiAgICAgICAgICAgIGJvdHRvbVJpZ2h0WCA9IGFuY2hvclJlY3QubGVmdDtcbiAgICAgICAgICAgIGJvdHRvbVJpZ2h0WSA9IGFuY2hvclJlY3QuYm90dG9tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KFwiLS1ob3Zlci1icmlkZ2UtdG9wLWxlZnQteFwiLCBgJHt0b3BMZWZ0WH1weGApO1xuICAgICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KFwiLS1ob3Zlci1icmlkZ2UtdG9wLWxlZnQteVwiLCBgJHt0b3BMZWZ0WX1weGApO1xuICAgICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KFwiLS1ob3Zlci1icmlkZ2UtdG9wLXJpZ2h0LXhcIiwgYCR7dG9wUmlnaHRYfXB4YCk7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkoXCItLWhvdmVyLWJyaWRnZS10b3AtcmlnaHQteVwiLCBgJHt0b3BSaWdodFl9cHhgKTtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0taG92ZXItYnJpZGdlLWJvdHRvbS1sZWZ0LXhcIiwgYCR7Ym90dG9tTGVmdFh9cHhgKTtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0taG92ZXItYnJpZGdlLWJvdHRvbS1sZWZ0LXlcIiwgYCR7Ym90dG9tTGVmdFl9cHhgKTtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0taG92ZXItYnJpZGdlLWJvdHRvbS1yaWdodC14XCIsIGAke2JvdHRvbVJpZ2h0WH1weGApO1xuICAgICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KFwiLS1ob3Zlci1icmlkZ2UtYm90dG9tLXJpZ2h0LXlcIiwgYCR7Ym90dG9tUmlnaHRZfXB4YCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGF3YWl0IHRoaXMudXBkYXRlQ29tcGxldGU7XG4gICAgdGhpcy5zdGFydCgpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5zdG9wKCk7XG4gIH1cbiAgYXN5bmMgdXBkYXRlZChjaGFuZ2VkUHJvcHMpIHtcbiAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wcyk7XG4gICAgaWYgKGNoYW5nZWRQcm9wcy5oYXMoXCJhY3RpdmVcIikpIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoYW5nZWRQcm9wcy5oYXMoXCJhbmNob3JcIikpIHtcbiAgICAgIHRoaXMuaGFuZGxlQW5jaG9yQ2hhbmdlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgYXdhaXQgdGhpcy51cGRhdGVDb21wbGV0ZTtcbiAgICAgIHRoaXMucmVwb3NpdGlvbigpO1xuICAgIH1cbiAgfVxuICBhc3luYyBoYW5kbGVBbmNob3JDaGFuZ2UoKSB7XG4gICAgYXdhaXQgdGhpcy5zdG9wKCk7XG4gICAgaWYgKHRoaXMuYW5jaG9yICYmIHR5cGVvZiB0aGlzLmFuY2hvciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29uc3Qgcm9vdCA9IHRoaXMuZ2V0Um9vdE5vZGUoKTtcbiAgICAgIHRoaXMuYW5jaG9yRWwgPSByb290LmdldEVsZW1lbnRCeUlkKHRoaXMuYW5jaG9yKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYW5jaG9yIGluc3RhbmNlb2YgRWxlbWVudCB8fCBpc1ZpcnR1YWxFbGVtZW50KHRoaXMuYW5jaG9yKSkge1xuICAgICAgdGhpcy5hbmNob3JFbCA9IHRoaXMuYW5jaG9yO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFuY2hvckVsID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbc2xvdD1cImFuY2hvclwiXScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5hbmNob3JFbCBpbnN0YW5jZW9mIEhUTUxTbG90RWxlbWVudCkge1xuICAgICAgdGhpcy5hbmNob3JFbCA9IHRoaXMuYW5jaG9yRWwuYXNzaWduZWRFbGVtZW50cyh7IGZsYXR0ZW46IHRydWUgfSlbMF07XG4gICAgfVxuICAgIGlmICh0aGlzLmFuY2hvckVsKSB7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICB9XG4gIHN0YXJ0KCkge1xuICAgIGlmICghdGhpcy5hbmNob3JFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNsZWFudXAgPSBhdXRvVXBkYXRlKHRoaXMuYW5jaG9yRWwsIHRoaXMucG9wdXAsICgpID0+IHtcbiAgICAgIHRoaXMucmVwb3NpdGlvbigpO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIHN0b3AoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBpZiAodGhpcy5jbGVhbnVwKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICB0aGlzLmNsZWFudXAgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1jdXJyZW50LXBsYWNlbWVudFwiKTtcbiAgICAgICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcIi0tYXV0by1zaXplLWF2YWlsYWJsZS13aWR0aFwiKTtcbiAgICAgICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcIi0tYXV0by1zaXplLWF2YWlsYWJsZS1oZWlnaHRcIik7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKiBGb3JjZXMgdGhlIHBvcHVwIHRvIHJlY2FsY3VsYXRlIGFuZCByZXBvc2l0aW9uIGl0c2VsZi4gKi9cbiAgcmVwb3NpdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuYWN0aXZlIHx8ICF0aGlzLmFuY2hvckVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1pZGRsZXdhcmUgPSBbXG4gICAgICAvLyBUaGUgb2Zmc2V0IG1pZGRsZXdhcmUgZ29lcyBmaXJzdFxuICAgICAgb2Zmc2V0KHsgbWFpbkF4aXM6IHRoaXMuZGlzdGFuY2UsIGNyb3NzQXhpczogdGhpcy5za2lkZGluZyB9KVxuICAgIF07XG4gICAgaWYgKHRoaXMuc3luYykge1xuICAgICAgbWlkZGxld2FyZS5wdXNoKFxuICAgICAgICBzaXplKHtcbiAgICAgICAgICBhcHBseTogKHsgcmVjdHMgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3luY1dpZHRoID0gdGhpcy5zeW5jID09PSBcIndpZHRoXCIgfHwgdGhpcy5zeW5jID09PSBcImJvdGhcIjtcbiAgICAgICAgICAgIGNvbnN0IHN5bmNIZWlnaHQgPSB0aGlzLnN5bmMgPT09IFwiaGVpZ2h0XCIgfHwgdGhpcy5zeW5jID09PSBcImJvdGhcIjtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuc3R5bGUud2lkdGggPSBzeW5jV2lkdGggPyBgJHtyZWN0cy5yZWZlcmVuY2Uud2lkdGh9cHhgIDogXCJcIjtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuc3R5bGUuaGVpZ2h0ID0gc3luY0hlaWdodCA/IGAke3JlY3RzLnJlZmVyZW5jZS5oZWlnaHR9cHhgIDogXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBvcHVwLnN0eWxlLndpZHRoID0gXCJcIjtcbiAgICAgIHRoaXMucG9wdXAuc3R5bGUuaGVpZ2h0ID0gXCJcIjtcbiAgICB9XG4gICAgaWYgKHRoaXMuZmxpcCkge1xuICAgICAgbWlkZGxld2FyZS5wdXNoKFxuICAgICAgICBmbGlwKHtcbiAgICAgICAgICBib3VuZGFyeTogdGhpcy5mbGlwQm91bmRhcnksXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFdlJ3JlIGNvbnZlcnRpbmcgYSBzdHJpbmcgYXR0cmlidXRlIHRvIGFuIGFycmF5IGhlcmVcbiAgICAgICAgICBmYWxsYmFja1BsYWNlbWVudHM6IHRoaXMuZmxpcEZhbGxiYWNrUGxhY2VtZW50cyxcbiAgICAgICAgICBmYWxsYmFja1N0cmF0ZWd5OiB0aGlzLmZsaXBGYWxsYmFja1N0cmF0ZWd5ID09PSBcImJlc3QtZml0XCIgPyBcImJlc3RGaXRcIiA6IFwiaW5pdGlhbFBsYWNlbWVudFwiLFxuICAgICAgICAgIHBhZGRpbmc6IHRoaXMuZmxpcFBhZGRpbmdcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLnNoaWZ0KSB7XG4gICAgICBtaWRkbGV3YXJlLnB1c2goXG4gICAgICAgIHNoaWZ0KHtcbiAgICAgICAgICBib3VuZGFyeTogdGhpcy5zaGlmdEJvdW5kYXJ5LFxuICAgICAgICAgIHBhZGRpbmc6IHRoaXMuc2hpZnRQYWRkaW5nXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5hdXRvU2l6ZSkge1xuICAgICAgbWlkZGxld2FyZS5wdXNoKFxuICAgICAgICBzaXplKHtcbiAgICAgICAgICBib3VuZGFyeTogdGhpcy5hdXRvU2l6ZUJvdW5kYXJ5LFxuICAgICAgICAgIHBhZGRpbmc6IHRoaXMuYXV0b1NpemVQYWRkaW5nLFxuICAgICAgICAgIGFwcGx5OiAoeyBhdmFpbGFibGVXaWR0aCwgYXZhaWxhYmxlSGVpZ2h0IH0pID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9TaXplID09PSBcInZlcnRpY2FsXCIgfHwgdGhpcy5hdXRvU2l6ZSA9PT0gXCJib3RoXCIpIHtcbiAgICAgICAgICAgICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tYXV0by1zaXplLWF2YWlsYWJsZS1oZWlnaHRcIiwgYCR7YXZhaWxhYmxlSGVpZ2h0fXB4YCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiLS1hdXRvLXNpemUtYXZhaWxhYmxlLWhlaWdodFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9TaXplID09PSBcImhvcml6b250YWxcIiB8fCB0aGlzLmF1dG9TaXplID09PSBcImJvdGhcIikge1xuICAgICAgICAgICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KFwiLS1hdXRvLXNpemUtYXZhaWxhYmxlLXdpZHRoXCIsIGAke2F2YWlsYWJsZVdpZHRofXB4YCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiLS1hdXRvLXNpemUtYXZhaWxhYmxlLXdpZHRoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCItLWF1dG8tc2l6ZS1hdmFpbGFibGUtd2lkdGhcIik7XG4gICAgICB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiLS1hdXRvLXNpemUtYXZhaWxhYmxlLWhlaWdodFwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYXJyb3cpIHtcbiAgICAgIG1pZGRsZXdhcmUucHVzaChcbiAgICAgICAgYXJyb3coe1xuICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuYXJyb3dFbCxcbiAgICAgICAgICBwYWRkaW5nOiB0aGlzLmFycm93UGFkZGluZ1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZ2V0T2Zmc2V0UGFyZW50ID0gdGhpcy5zdHJhdGVneSA9PT0gXCJhYnNvbHV0ZVwiID8gKGVsZW1lbnQpID0+IHBsYXRmb3JtLmdldE9mZnNldFBhcmVudChlbGVtZW50LCBvZmZzZXRQYXJlbnQpIDogcGxhdGZvcm0uZ2V0T2Zmc2V0UGFyZW50O1xuICAgIGNvbXB1dGVQb3NpdGlvbih0aGlzLmFuY2hvckVsLCB0aGlzLnBvcHVwLCB7XG4gICAgICBwbGFjZW1lbnQ6IHRoaXMucGxhY2VtZW50LFxuICAgICAgbWlkZGxld2FyZSxcbiAgICAgIHN0cmF0ZWd5OiB0aGlzLnN0cmF0ZWd5LFxuICAgICAgcGxhdGZvcm06IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHBsYXRmb3JtKSwge1xuICAgICAgICBnZXRPZmZzZXRQYXJlbnRcbiAgICAgIH0pXG4gICAgfSkudGhlbigoeyB4LCB5LCBtaWRkbGV3YXJlRGF0YSwgcGxhY2VtZW50IH0pID0+IHtcbiAgICAgIGNvbnN0IGlzUnRsID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzKS5kaXJlY3Rpb24gPT09IFwicnRsXCI7XG4gICAgICBjb25zdCBzdGF0aWNTaWRlID0geyB0b3A6IFwiYm90dG9tXCIsIHJpZ2h0OiBcImxlZnRcIiwgYm90dG9tOiBcInRvcFwiLCBsZWZ0OiBcInJpZ2h0XCIgfVtwbGFjZW1lbnQuc3BsaXQoXCItXCIpWzBdXTtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiZGF0YS1jdXJyZW50LXBsYWNlbWVudFwiLCBwbGFjZW1lbnQpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnBvcHVwLnN0eWxlLCB7XG4gICAgICAgIGxlZnQ6IGAke3h9cHhgLFxuICAgICAgICB0b3A6IGAke3l9cHhgXG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLmFycm93KSB7XG4gICAgICAgIGNvbnN0IGFycm93WCA9IG1pZGRsZXdhcmVEYXRhLmFycm93Lng7XG4gICAgICAgIGNvbnN0IGFycm93WSA9IG1pZGRsZXdhcmVEYXRhLmFycm93Lnk7XG4gICAgICAgIGxldCB0b3AgPSBcIlwiO1xuICAgICAgICBsZXQgcmlnaHQgPSBcIlwiO1xuICAgICAgICBsZXQgYm90dG9tID0gXCJcIjtcbiAgICAgICAgbGV0IGxlZnQgPSBcIlwiO1xuICAgICAgICBpZiAodGhpcy5hcnJvd1BsYWNlbWVudCA9PT0gXCJzdGFydFwiKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSB0eXBlb2YgYXJyb3dYID09PSBcIm51bWJlclwiID8gYGNhbGMoJHt0aGlzLmFycm93UGFkZGluZ31weCAtIHZhcigtLWFycm93LXBhZGRpbmctb2Zmc2V0KSlgIDogXCJcIjtcbiAgICAgICAgICB0b3AgPSB0eXBlb2YgYXJyb3dZID09PSBcIm51bWJlclwiID8gYGNhbGMoJHt0aGlzLmFycm93UGFkZGluZ31weCAtIHZhcigtLWFycm93LXBhZGRpbmctb2Zmc2V0KSlgIDogXCJcIjtcbiAgICAgICAgICByaWdodCA9IGlzUnRsID8gdmFsdWUgOiBcIlwiO1xuICAgICAgICAgIGxlZnQgPSBpc1J0bCA/IFwiXCIgOiB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFycm93UGxhY2VtZW50ID09PSBcImVuZFwiKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSB0eXBlb2YgYXJyb3dYID09PSBcIm51bWJlclwiID8gYGNhbGMoJHt0aGlzLmFycm93UGFkZGluZ31weCAtIHZhcigtLWFycm93LXBhZGRpbmctb2Zmc2V0KSlgIDogXCJcIjtcbiAgICAgICAgICByaWdodCA9IGlzUnRsID8gXCJcIiA6IHZhbHVlO1xuICAgICAgICAgIGxlZnQgPSBpc1J0bCA/IHZhbHVlIDogXCJcIjtcbiAgICAgICAgICBib3R0b20gPSB0eXBlb2YgYXJyb3dZID09PSBcIm51bWJlclwiID8gYGNhbGMoJHt0aGlzLmFycm93UGFkZGluZ31weCAtIHZhcigtLWFycm93LXBhZGRpbmctb2Zmc2V0KSlgIDogXCJcIjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFycm93UGxhY2VtZW50ID09PSBcImNlbnRlclwiKSB7XG4gICAgICAgICAgbGVmdCA9IHR5cGVvZiBhcnJvd1ggPT09IFwibnVtYmVyXCIgPyBgY2FsYyg1MCUgLSB2YXIoLS1hcnJvdy1zaXplLWRpYWdvbmFsKSlgIDogXCJcIjtcbiAgICAgICAgICB0b3AgPSB0eXBlb2YgYXJyb3dZID09PSBcIm51bWJlclwiID8gYGNhbGMoNTAlIC0gdmFyKC0tYXJyb3ctc2l6ZS1kaWFnb25hbCkpYCA6IFwiXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGVmdCA9IHR5cGVvZiBhcnJvd1ggPT09IFwibnVtYmVyXCIgPyBgJHthcnJvd1h9cHhgIDogXCJcIjtcbiAgICAgICAgICB0b3AgPSB0eXBlb2YgYXJyb3dZID09PSBcIm51bWJlclwiID8gYCR7YXJyb3dZfXB4YCA6IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmFycm93RWwuc3R5bGUsIHtcbiAgICAgICAgICB0b3AsXG4gICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgYm90dG9tLFxuICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgW3N0YXRpY1NpZGVdOiBcImNhbGModmFyKC0tYXJyb3ctc2l6ZS1kaWFnb25hbCkgKiAtMSlcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy51cGRhdGVIb3ZlckJyaWRnZSgpKTtcbiAgICB0aGlzLmVtaXQoXCJzbC1yZXBvc2l0aW9uXCIpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxzbG90IG5hbWU9XCJhbmNob3JcIiBAc2xvdGNoYW5nZT0ke3RoaXMuaGFuZGxlQW5jaG9yQ2hhbmdlfT48L3Nsb3Q+XG5cbiAgICAgIDxzcGFuXG4gICAgICAgIHBhcnQ9XCJob3Zlci1icmlkZ2VcIlxuICAgICAgICBjbGFzcz0ke2NsYXNzTWFwKHtcbiAgICAgIFwicG9wdXAtaG92ZXItYnJpZGdlXCI6IHRydWUsXG4gICAgICBcInBvcHVwLWhvdmVyLWJyaWRnZS0tdmlzaWJsZVwiOiB0aGlzLmhvdmVyQnJpZGdlICYmIHRoaXMuYWN0aXZlXG4gICAgfSl9XG4gICAgICA+PC9zcGFuPlxuXG4gICAgICA8ZGl2XG4gICAgICAgIHBhcnQ9XCJwb3B1cFwiXG4gICAgICAgIGNsYXNzPSR7Y2xhc3NNYXAoe1xuICAgICAgcG9wdXA6IHRydWUsXG4gICAgICBcInBvcHVwLS1hY3RpdmVcIjogdGhpcy5hY3RpdmUsXG4gICAgICBcInBvcHVwLS1maXhlZFwiOiB0aGlzLnN0cmF0ZWd5ID09PSBcImZpeGVkXCIsXG4gICAgICBcInBvcHVwLS1oYXMtYXJyb3dcIjogdGhpcy5hcnJvd1xuICAgIH0pfVxuICAgICAgPlxuICAgICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgICAgICR7dGhpcy5hcnJvdyA/IGh0bWxgPGRpdiBwYXJ0PVwiYXJyb3dcIiBjbGFzcz1cInBvcHVwX19hcnJvd1wiIHJvbGU9XCJwcmVzZW50YXRpb25cIj48L2Rpdj5gIDogXCJcIn1cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cbn07XG5TbFBvcHVwLnN0eWxlcyA9IFtjb21wb25lbnRfc3R5bGVzX2RlZmF1bHQsIHBvcHVwX3N0eWxlc19kZWZhdWx0XTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHF1ZXJ5KFwiLnBvcHVwXCIpXG5dLCBTbFBvcHVwLnByb3RvdHlwZSwgXCJwb3B1cFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHF1ZXJ5KFwiLnBvcHVwX19hcnJvd1wiKVxuXSwgU2xQb3B1cC5wcm90b3R5cGUsIFwiYXJyb3dFbFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsUG9wdXAucHJvdG90eXBlLCBcImFuY2hvclwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xQb3B1cC5wcm90b3R5cGUsIFwiYWN0aXZlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbFBvcHVwLnByb3RvdHlwZSwgXCJwbGFjZW1lbnRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHJlZmxlY3Q6IHRydWUgfSlcbl0sIFNsUG9wdXAucHJvdG90eXBlLCBcInN0cmF0ZWd5XCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIgfSlcbl0sIFNsUG9wdXAucHJvdG90eXBlLCBcImRpc3RhbmNlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIgfSlcbl0sIFNsUG9wdXAucHJvdG90eXBlLCBcInNraWRkaW5nXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBTbFBvcHVwLnByb3RvdHlwZSwgXCJhcnJvd1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgYXR0cmlidXRlOiBcImFycm93LXBsYWNlbWVudFwiIH0pXG5dLCBTbFBvcHVwLnByb3RvdHlwZSwgXCJhcnJvd1BsYWNlbWVudFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgYXR0cmlidXRlOiBcImFycm93LXBhZGRpbmdcIiwgdHlwZTogTnVtYmVyIH0pXG5dLCBTbFBvcHVwLnByb3RvdHlwZSwgXCJhcnJvd1BhZGRpbmdcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFNsUG9wdXAucHJvdG90eXBlLCBcImZsaXBcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7XG4gICAgYXR0cmlidXRlOiBcImZsaXAtZmFsbGJhY2stcGxhY2VtZW50c1wiLFxuICAgIGNvbnZlcnRlcjoge1xuICAgICAgZnJvbUF0dHJpYnV0ZTogKHZhbHVlKSA9PiB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5zcGxpdChcIiBcIikubWFwKChwKSA9PiBwLnRyaW0oKSkuZmlsdGVyKChwKSA9PiBwICE9PSBcIlwiKTtcbiAgICAgIH0sXG4gICAgICB0b0F0dHJpYnV0ZTogKHZhbHVlKSA9PiB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5qb2luKFwiIFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5dLCBTbFBvcHVwLnByb3RvdHlwZSwgXCJmbGlwRmFsbGJhY2tQbGFjZW1lbnRzXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyBhdHRyaWJ1dGU6IFwiZmxpcC1mYWxsYmFjay1zdHJhdGVneVwiIH0pXG5dLCBTbFBvcHVwLnByb3RvdHlwZSwgXCJmbGlwRmFsbGJhY2tTdHJhdGVneVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogT2JqZWN0IH0pXG5dLCBTbFBvcHVwLnByb3RvdHlwZSwgXCJmbGlwQm91bmRhcnlcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogXCJmbGlwLXBhZGRpbmdcIiwgdHlwZTogTnVtYmVyIH0pXG5dLCBTbFBvcHVwLnByb3RvdHlwZSwgXCJmbGlwUGFkZGluZ1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgU2xQb3B1cC5wcm90b3R5cGUsIFwic2hpZnRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IE9iamVjdCB9KVxuXSwgU2xQb3B1cC5wcm90b3R5cGUsIFwic2hpZnRCb3VuZGFyeVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgYXR0cmlidXRlOiBcInNoaWZ0LXBhZGRpbmdcIiwgdHlwZTogTnVtYmVyIH0pXG5dLCBTbFBvcHVwLnByb3RvdHlwZSwgXCJzaGlmdFBhZGRpbmdcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogXCJhdXRvLXNpemVcIiB9KVxuXSwgU2xQb3B1cC5wcm90b3R5cGUsIFwiYXV0b1NpemVcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbFBvcHVwLnByb3RvdHlwZSwgXCJzeW5jXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBPYmplY3QgfSlcbl0sIFNsUG9wdXAucHJvdG90eXBlLCBcImF1dG9TaXplQm91bmRhcnlcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogXCJhdXRvLXNpemUtcGFkZGluZ1wiLCB0eXBlOiBOdW1iZXIgfSlcbl0sIFNsUG9wdXAucHJvdG90eXBlLCBcImF1dG9TaXplUGFkZGluZ1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgYXR0cmlidXRlOiBcImhvdmVyLWJyaWRnZVwiLCB0eXBlOiBCb29sZWFuIH0pXG5dLCBTbFBvcHVwLnByb3RvdHlwZSwgXCJob3ZlckJyaWRnZVwiLCAyKTtcblxuZXhwb3J0IHtcbiAgU2xQb3B1cFxufTtcbiIsICJpbXBvcnQge1xuICBfX3NwcmVhZFByb3BzLFxuICBfX3NwcmVhZFZhbHVlc1xufSBmcm9tIFwiLi9jaHVuay5JRkRXTTZQNC5qc1wiO1xuXG4vLyBzcmMvdXRpbGl0aWVzL2FuaW1hdGlvbi1yZWdpc3RyeS50c1xudmFyIGRlZmF1bHRBbmltYXRpb25SZWdpc3RyeSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG52YXIgY3VzdG9tQW5pbWF0aW9uUmVnaXN0cnkgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGVuc3VyZUFuaW1hdGlvbihhbmltYXRpb24pIHtcbiAgcmV0dXJuIGFuaW1hdGlvbiAhPSBudWxsID8gYW5pbWF0aW9uIDogeyBrZXlmcmFtZXM6IFtdLCBvcHRpb25zOiB7IGR1cmF0aW9uOiAwIH0gfTtcbn1cbmZ1bmN0aW9uIGdldExvZ2ljYWxBbmltYXRpb24oYW5pbWF0aW9uLCBkaXIpIHtcbiAgaWYgKGRpci50b0xvd2VyQ2FzZSgpID09PSBcInJ0bFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleWZyYW1lczogYW5pbWF0aW9uLnJ0bEtleWZyYW1lcyB8fCBhbmltYXRpb24ua2V5ZnJhbWVzLFxuICAgICAgb3B0aW9uczogYW5pbWF0aW9uLm9wdGlvbnNcbiAgICB9O1xuICB9XG4gIHJldHVybiBhbmltYXRpb247XG59XG5mdW5jdGlvbiBzZXREZWZhdWx0QW5pbWF0aW9uKGFuaW1hdGlvbk5hbWUsIGFuaW1hdGlvbikge1xuICBkZWZhdWx0QW5pbWF0aW9uUmVnaXN0cnkuc2V0KGFuaW1hdGlvbk5hbWUsIGVuc3VyZUFuaW1hdGlvbihhbmltYXRpb24pKTtcbn1cbmZ1bmN0aW9uIHNldEFuaW1hdGlvbihlbCwgYW5pbWF0aW9uTmFtZSwgYW5pbWF0aW9uKSB7XG4gIGN1c3RvbUFuaW1hdGlvblJlZ2lzdHJ5LnNldChlbCwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY3VzdG9tQW5pbWF0aW9uUmVnaXN0cnkuZ2V0KGVsKSksIHsgW2FuaW1hdGlvbk5hbWVdOiBlbnN1cmVBbmltYXRpb24oYW5pbWF0aW9uKSB9KSk7XG59XG5mdW5jdGlvbiBnZXRBbmltYXRpb24oZWwsIGFuaW1hdGlvbk5hbWUsIG9wdGlvbnMpIHtcbiAgY29uc3QgY3VzdG9tQW5pbWF0aW9uID0gY3VzdG9tQW5pbWF0aW9uUmVnaXN0cnkuZ2V0KGVsKTtcbiAgaWYgKGN1c3RvbUFuaW1hdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY3VzdG9tQW5pbWF0aW9uW2FuaW1hdGlvbk5hbWVdKSB7XG4gICAgcmV0dXJuIGdldExvZ2ljYWxBbmltYXRpb24oY3VzdG9tQW5pbWF0aW9uW2FuaW1hdGlvbk5hbWVdLCBvcHRpb25zLmRpcik7XG4gIH1cbiAgY29uc3QgZGVmYXVsdEFuaW1hdGlvbiA9IGRlZmF1bHRBbmltYXRpb25SZWdpc3RyeS5nZXQoYW5pbWF0aW9uTmFtZSk7XG4gIGlmIChkZWZhdWx0QW5pbWF0aW9uKSB7XG4gICAgcmV0dXJuIGdldExvZ2ljYWxBbmltYXRpb24oZGVmYXVsdEFuaW1hdGlvbiwgb3B0aW9ucy5kaXIpO1xuICB9XG4gIHJldHVybiB7XG4gICAga2V5ZnJhbWVzOiBbXSxcbiAgICBvcHRpb25zOiB7IGR1cmF0aW9uOiAwIH1cbiAgfTtcbn1cblxuZXhwb3J0IHtcbiAgc2V0RGVmYXVsdEFuaW1hdGlvbixcbiAgc2V0QW5pbWF0aW9uLFxuICBnZXRBbmltYXRpb25cbn07XG4iLCAiLy8gc3JjL2ludGVybmFsL2V2ZW50LnRzXG5mdW5jdGlvbiB3YWl0Rm9yRXZlbnQoZWwsIGV2ZW50TmFtZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBmdW5jdGlvbiBkb25lKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBlbCkge1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZG9uZSk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGRvbmUpO1xuICB9KTtcbn1cblxuZXhwb3J0IHtcbiAgd2FpdEZvckV2ZW50XG59O1xuIiwgImltcG9ydCB7XG4gIF9fc3ByZWFkUHJvcHMsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLklGRFdNNlA0LmpzXCI7XG5cbi8vIHNyYy9pbnRlcm5hbC9hbmltYXRlLnRzXG5mdW5jdGlvbiBhbmltYXRlVG8oZWwsIGtleWZyYW1lcywgb3B0aW9ucykge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBpZiAoKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZHVyYXRpb24pID09PSBJbmZpbml0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvbWlzZS1iYXNlZCBhbmltYXRpb25zIG11c3QgYmUgZmluaXRlLlwiKTtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9uID0gZWwuYW5pbWF0ZShrZXlmcmFtZXMsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG9wdGlvbnMpLCB7XG4gICAgICBkdXJhdGlvbjogcHJlZmVyc1JlZHVjZWRNb3Rpb24oKSA/IDAgOiBvcHRpb25zLmR1cmF0aW9uXG4gICAgfSkpO1xuICAgIGFuaW1hdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY2FuY2VsXCIsIHJlc29sdmUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBhbmltYXRpb24uYWRkRXZlbnRMaXN0ZW5lcihcImZpbmlzaFwiLCByZXNvbHZlLCB7IG9uY2U6IHRydWUgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VEdXJhdGlvbihkZWxheSkge1xuICBkZWxheSA9IGRlbGF5LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgaWYgKGRlbGF5LmluZGV4T2YoXCJtc1wiKSA+IC0xKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoZGVsYXkpO1xuICB9XG4gIGlmIChkZWxheS5pbmRleE9mKFwic1wiKSA+IC0xKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoZGVsYXkpICogMWUzO1xuICB9XG4gIHJldHVybiBwYXJzZUZsb2F0KGRlbGF5KTtcbn1cbmZ1bmN0aW9uIHByZWZlcnNSZWR1Y2VkTW90aW9uKCkge1xuICBjb25zdCBxdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSlcIik7XG4gIHJldHVybiBxdWVyeS5tYXRjaGVzO1xufVxuZnVuY3Rpb24gc3RvcEFuaW1hdGlvbnMoZWwpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgIGVsLmdldEFuaW1hdGlvbnMoKS5tYXAoKGFuaW1hdGlvbikgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlc29sdmUpO1xuICAgICAgfSk7XG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIHNoaW1LZXlmcmFtZXNIZWlnaHRBdXRvKGtleWZyYW1lcywgY2FsY3VsYXRlZEhlaWdodCkge1xuICByZXR1cm4ga2V5ZnJhbWVzLm1hcCgoa2V5ZnJhbWUpID0+IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGtleWZyYW1lKSwge1xuICAgIGhlaWdodDoga2V5ZnJhbWUuaGVpZ2h0ID09PSBcImF1dG9cIiA/IGAke2NhbGN1bGF0ZWRIZWlnaHR9cHhgIDoga2V5ZnJhbWUuaGVpZ2h0XG4gIH0pKTtcbn1cblxuZXhwb3J0IHtcbiAgYW5pbWF0ZVRvLFxuICBwYXJzZUR1cmF0aW9uLFxuICBwcmVmZXJzUmVkdWNlZE1vdGlvbixcbiAgc3RvcEFuaW1hdGlvbnMsXG4gIHNoaW1LZXlmcmFtZXNIZWlnaHRBdXRvXG59O1xuIiwgImltcG9ydCB7XG4gIGRyb3Bkb3duX3N0eWxlc19kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLkxYUDdHVlUzLmpzXCI7XG5pbXBvcnQge1xuICBnZXRUYWJiYWJsZUJvdW5kYXJ5XG59IGZyb20gXCIuL2NodW5rLkxYRFRGTFdVLmpzXCI7XG5pbXBvcnQge1xuICBTbFBvcHVwXG59IGZyb20gXCIuL2NodW5rLlNVV0tSRFhQLmpzXCI7XG5pbXBvcnQge1xuICBnZXRBbmltYXRpb24sXG4gIHNldERlZmF1bHRBbmltYXRpb25cbn0gZnJvbSBcIi4vY2h1bmsuREhVNk1JVkIuanNcIjtcbmltcG9ydCB7XG4gIHdhaXRGb3JFdmVudFxufSBmcm9tIFwiLi9jaHVuay5CNEJaS1IyNC5qc1wiO1xuaW1wb3J0IHtcbiAgYW5pbWF0ZVRvLFxuICBzdG9wQW5pbWF0aW9uc1xufSBmcm9tIFwiLi9jaHVuay5MSEk2UUVMMi5qc1wiO1xuaW1wb3J0IHtcbiAgTG9jYWxpemVDb250cm9sbGVyXG59IGZyb20gXCIuL2NodW5rLldMVjNGVkJSLmpzXCI7XG5pbXBvcnQge1xuICB3YXRjaFxufSBmcm9tIFwiLi9jaHVuay4yRkI1VEs1SC5qc1wiO1xuaW1wb3J0IHtcbiAgY29tcG9uZW50X3N0eWxlc19kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLlRVVkpLWTdTLmpzXCI7XG5pbXBvcnQge1xuICBTaG9lbGFjZUVsZW1lbnRcbn0gZnJvbSBcIi4vY2h1bmsuU0ZTVFhDWEMuanNcIjtcbmltcG9ydCB7XG4gIF9fZGVjb3JhdGVDbGFzc1xufSBmcm9tIFwiLi9jaHVuay5JRkRXTTZQNC5qc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kcm9wZG93bi9kcm9wZG93bi5jb21wb25lbnQudHNcbmltcG9ydCB7IGNsYXNzTWFwIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qc1wiO1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGlmRGVmaW5lZCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9pZi1kZWZpbmVkLmpzXCI7XG5pbXBvcnQgeyBwcm9wZXJ0eSwgcXVlcnkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnMuanNcIjtcbnZhciBTbERyb3Bkb3duID0gY2xhc3MgZXh0ZW5kcyBTaG9lbGFjZUVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMubG9jYWxpemUgPSBuZXcgTG9jYWxpemVDb250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgIHRoaXMucGxhY2VtZW50ID0gXCJib3R0b20tc3RhcnRcIjtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5zdGF5T3Blbk9uU2VsZWN0ID0gZmFsc2U7XG4gICAgdGhpcy5kaXN0YW5jZSA9IDA7XG4gICAgdGhpcy5za2lkZGluZyA9IDA7XG4gICAgdGhpcy5ob2lzdCA9IGZhbHNlO1xuICAgIHRoaXMuc3luYyA9IHZvaWQgMDtcbiAgICB0aGlzLmhhbmRsZUtleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmICh0aGlzLm9wZW4gJiYgZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgdGhpcy5mb2N1c09uVHJpZ2dlcigpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5oYW5kbGVEb2N1bWVudEtleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIgJiYgdGhpcy5vcGVuICYmICF0aGlzLmNsb3NlV2F0Y2hlcikge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5mb2N1c09uVHJpZ2dlcigpO1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJUYWJcIikge1xuICAgICAgICBpZiAodGhpcy5vcGVuICYmICgoX2EgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSA9PT0gXCJzbC1tZW51LWl0ZW1cIikge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgdGhpcy5mb2N1c09uVHJpZ2dlcigpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB2YXIgX2EyLCBfYiwgX2M7XG4gICAgICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9ICgoX2EyID0gdGhpcy5jb250YWluaW5nRWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5nZXRSb290Tm9kZSgpKSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgPyAoX2MgPSAoX2IgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2Iuc2hhZG93Um9vdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmFjdGl2ZUVsZW1lbnQgOiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgIGlmICghdGhpcy5jb250YWluaW5nRWxlbWVudCB8fCAoYWN0aXZlRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogYWN0aXZlRWxlbWVudC5jbG9zZXN0KHRoaXMuY29udGFpbmluZ0VsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSkgIT09IHRoaXMuY29udGFpbmluZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZURvY3VtZW50TW91c2VEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBwYXRoID0gZXZlbnQuY29tcG9zZWRQYXRoKCk7XG4gICAgICBpZiAodGhpcy5jb250YWluaW5nRWxlbWVudCAmJiAhcGF0aC5pbmNsdWRlcyh0aGlzLmNvbnRhaW5pbmdFbGVtZW50KSkge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlUGFuZWxTZWxlY3QgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICghdGhpcy5zdGF5T3Blbk9uU2VsZWN0ICYmIHRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwic2wtbWVudVwiKSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB0aGlzLmZvY3VzT25UcmlnZ2VyKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGlmICghdGhpcy5jb250YWluaW5nRWxlbWVudCkge1xuICAgICAgdGhpcy5jb250YWluaW5nRWxlbWVudCA9IHRoaXM7XG4gICAgfVxuICB9XG4gIGZpcnN0VXBkYXRlZCgpIHtcbiAgICB0aGlzLnBhbmVsLmhpZGRlbiA9ICF0aGlzLm9wZW47XG4gICAgaWYgKHRoaXMub3Blbikge1xuICAgICAgdGhpcy5hZGRPcGVuTGlzdGVuZXJzKCk7XG4gICAgICB0aGlzLnBvcHVwLmFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5yZW1vdmVPcGVuTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5oaWRlKCk7XG4gIH1cbiAgZm9jdXNPblRyaWdnZXIoKSB7XG4gICAgY29uc3QgdHJpZ2dlciA9IHRoaXMudHJpZ2dlci5hc3NpZ25lZEVsZW1lbnRzKHsgZmxhdHRlbjogdHJ1ZSB9KVswXTtcbiAgICBpZiAodHlwZW9mICh0cmlnZ2VyID09IG51bGwgPyB2b2lkIDAgOiB0cmlnZ2VyLmZvY3VzKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0cmlnZ2VyLmZvY3VzKCk7XG4gICAgfVxuICB9XG4gIGdldE1lbnUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFuZWwuYXNzaWduZWRFbGVtZW50cyh7IGZsYXR0ZW46IHRydWUgfSkuZmluZCgoZWwpID0+IGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJzbC1tZW51XCIpO1xuICB9XG4gIGhhbmRsZVRyaWdnZXJDbGljaygpIHtcbiAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgICB0aGlzLmZvY3VzT25UcmlnZ2VyKCk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGhhbmRsZVRyaWdnZXJLZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKFtcIiBcIiwgXCJFbnRlclwiXS5pbmNsdWRlcyhldmVudC5rZXkpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5oYW5kbGVUcmlnZ2VyQ2xpY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWVudSA9IHRoaXMuZ2V0TWVudSgpO1xuICAgIGlmIChtZW51KSB7XG4gICAgICBjb25zdCBtZW51SXRlbXMgPSBtZW51LmdldEFsbEl0ZW1zKCk7XG4gICAgICBjb25zdCBmaXJzdE1lbnVJdGVtID0gbWVudUl0ZW1zWzBdO1xuICAgICAgY29uc3QgbGFzdE1lbnVJdGVtID0gbWVudUl0ZW1zW21lbnVJdGVtcy5sZW5ndGggLSAxXTtcbiAgICAgIGlmIChbXCJBcnJvd0Rvd25cIiwgXCJBcnJvd1VwXCIsIFwiSG9tZVwiLCBcIkVuZFwiXS5pbmNsdWRlcyhldmVudC5rZXkpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghdGhpcy5vcGVuKSB7XG4gICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVDb21wbGV0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVudUl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBsZXRlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd0Rvd25cIiB8fCBldmVudC5rZXkgPT09IFwiSG9tZVwiKSB7XG4gICAgICAgICAgICAgIG1lbnUuc2V0Q3VycmVudEl0ZW0oZmlyc3RNZW51SXRlbSk7XG4gICAgICAgICAgICAgIGZpcnN0TWVudUl0ZW0uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dVcFwiIHx8IGV2ZW50LmtleSA9PT0gXCJFbmRcIikge1xuICAgICAgICAgICAgICBtZW51LnNldEN1cnJlbnRJdGVtKGxhc3RNZW51SXRlbSk7XG4gICAgICAgICAgICAgIGxhc3RNZW51SXRlbS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGhhbmRsZVRyaWdnZXJLZXlVcChldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxuICBoYW5kbGVUcmlnZ2VyU2xvdENoYW5nZSgpIHtcbiAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVUcmlnZ2VyKCk7XG4gIH1cbiAgLy9cbiAgLy8gU2xvdHRlZCB0cmlnZ2VycyBjYW4gYmUgYXJiaXRyYXJ5IGNvbnRlbnQsIGJ1dCB3ZSBuZWVkIHRvIGxpbmsgdGhlbSB0byB0aGUgZHJvcGRvd24gcGFuZWwgd2l0aCBgYXJpYS1oYXNwb3B1cGAgYW5kXG4gIC8vIGBhcmlhLWV4cGFuZGVkYC4gVGhlc2UgbXVzdCBiZSBhcHBsaWVkIHRvIHRoZSBcImFjY2Vzc2libGUgdHJpZ2dlclwiICh0aGUgdGFiYmFibGUgcG9ydGlvbiBvZiB0aGUgdHJpZ2dlciBlbGVtZW50XG4gIC8vIHRoYXQgZ2V0cyBzbG90dGVkIGluKSBzbyBzY3JlZW4gcmVhZGVycyB3aWxsIHVuZGVyc3RhbmQgdGhlbS4gVGhlIGFjY2Vzc2libGUgdHJpZ2dlciBjb3VsZCBiZSB0aGUgc2xvdHRlZCBlbGVtZW50LFxuICAvLyBhIGNoaWxkIG9mIHRoZSBzbG90dGVkIGVsZW1lbnQsIG9yIGFuIGVsZW1lbnQgaW4gdGhlIHNsb3R0ZWQgZWxlbWVudCdzIHNoYWRvdyByb290LlxuICAvL1xuICAvLyBGb3IgZXhhbXBsZSwgdGhlIGFjY2Vzc2libGUgdHJpZ2dlciBvZiBhbiA8c2wtYnV0dG9uPiBpcyBhIDxidXR0b24+IGxvY2F0ZWQgaW5zaWRlIGl0cyBzaGFkb3cgcm9vdC5cbiAgLy9cbiAgLy8gVG8gZGV0ZXJtaW5lIHRoaXMsIHdlIGFzc3VtZSB0aGUgZmlyc3QgdGFiYmFibGUgZWxlbWVudCBpbiB0aGUgdHJpZ2dlciBzbG90IGlzIHRoZSBcImFjY2Vzc2libGUgdHJpZ2dlci5cIlxuICAvL1xuICB1cGRhdGVBY2Nlc3NpYmxlVHJpZ2dlcigpIHtcbiAgICBjb25zdCBhc3NpZ25lZEVsZW1lbnRzID0gdGhpcy50cmlnZ2VyLmFzc2lnbmVkRWxlbWVudHMoeyBmbGF0dGVuOiB0cnVlIH0pO1xuICAgIGNvbnN0IGFjY2Vzc2libGVUcmlnZ2VyID0gYXNzaWduZWRFbGVtZW50cy5maW5kKChlbCkgPT4gZ2V0VGFiYmFibGVCb3VuZGFyeShlbCkuc3RhcnQpO1xuICAgIGxldCB0YXJnZXQ7XG4gICAgaWYgKGFjY2Vzc2libGVUcmlnZ2VyKSB7XG4gICAgICBzd2l0Y2ggKGFjY2Vzc2libGVUcmlnZ2VyLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlIFwic2wtYnV0dG9uXCI6XG4gICAgICAgIGNhc2UgXCJzbC1pY29uLWJ1dHRvblwiOlxuICAgICAgICAgIHRhcmdldCA9IGFjY2Vzc2libGVUcmlnZ2VyLmJ1dHRvbjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0YXJnZXQgPSBhY2Nlc3NpYmxlVHJpZ2dlcjtcbiAgICAgIH1cbiAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhhc3BvcHVwXCIsIFwidHJ1ZVwiKTtcbiAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIHRoaXMub3BlbiA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcbiAgICB9XG4gIH1cbiAgLyoqIFNob3dzIHRoZSBkcm9wZG93biBwYW5lbC4gKi9cbiAgYXN5bmMgc2hvdygpIHtcbiAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICB0aGlzLm9wZW4gPSB0cnVlO1xuICAgIHJldHVybiB3YWl0Rm9yRXZlbnQodGhpcywgXCJzbC1hZnRlci1zaG93XCIpO1xuICB9XG4gIC8qKiBIaWRlcyB0aGUgZHJvcGRvd24gcGFuZWwgKi9cbiAgYXN5bmMgaGlkZSgpIHtcbiAgICBpZiAoIXRoaXMub3Blbikge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgcmV0dXJuIHdhaXRGb3JFdmVudCh0aGlzLCBcInNsLWFmdGVyLWhpZGVcIik7XG4gIH1cbiAgLyoqXG4gICAqIEluc3RydWN0cyB0aGUgZHJvcGRvd24gbWVudSB0byByZXBvc2l0aW9uLiBVc2VmdWwgd2hlbiB0aGUgcG9zaXRpb24gb3Igc2l6ZSBvZiB0aGUgdHJpZ2dlciBjaGFuZ2VzIHdoZW4gdGhlIG1lbnVcbiAgICogaXMgYWN0aXZhdGVkLlxuICAgKi9cbiAgcmVwb3NpdGlvbigpIHtcbiAgICB0aGlzLnBvcHVwLnJlcG9zaXRpb24oKTtcbiAgfVxuICBhZGRPcGVuTGlzdGVuZXJzKCkge1xuICAgIHZhciBfYTtcbiAgICB0aGlzLnBhbmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzbC1zZWxlY3RcIiwgdGhpcy5oYW5kbGVQYW5lbFNlbGVjdCk7XG4gICAgaWYgKFwiQ2xvc2VXYXRjaGVyXCIgaW4gd2luZG93KSB7XG4gICAgICAoX2EgPSB0aGlzLmNsb3NlV2F0Y2hlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuY2xvc2VXYXRjaGVyID0gbmV3IENsb3NlV2F0Y2hlcigpO1xuICAgICAgdGhpcy5jbG9zZVdhdGNoZXIub25jbG9zZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIHRoaXMuZm9jdXNPblRyaWdnZXIoKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGFuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVLZXlEb3duKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVEb2N1bWVudEtleURvd24pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5oYW5kbGVEb2N1bWVudE1vdXNlRG93bik7XG4gIH1cbiAgcmVtb3ZlT3Blbkxpc3RlbmVycygpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHRoaXMucGFuZWwpIHtcbiAgICAgIHRoaXMucGFuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNsLXNlbGVjdFwiLCB0aGlzLmhhbmRsZVBhbmVsU2VsZWN0KTtcbiAgICAgIHRoaXMucGFuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVLZXlEb3duKTtcbiAgICB9XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVEb2N1bWVudEtleURvd24pO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5oYW5kbGVEb2N1bWVudE1vdXNlRG93bik7XG4gICAgKF9hID0gdGhpcy5jbG9zZVdhdGNoZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kZXN0cm95KCk7XG4gIH1cbiAgYXN5bmMgaGFuZGxlT3BlbkNoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZVRyaWdnZXIoKTtcbiAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICB0aGlzLmVtaXQoXCJzbC1zaG93XCIpO1xuICAgICAgdGhpcy5hZGRPcGVuTGlzdGVuZXJzKCk7XG4gICAgICBhd2FpdCBzdG9wQW5pbWF0aW9ucyh0aGlzKTtcbiAgICAgIHRoaXMucGFuZWwuaGlkZGVuID0gZmFsc2U7XG4gICAgICB0aGlzLnBvcHVwLmFjdGl2ZSA9IHRydWU7XG4gICAgICBjb25zdCB7IGtleWZyYW1lcywgb3B0aW9ucyB9ID0gZ2V0QW5pbWF0aW9uKHRoaXMsIFwiZHJvcGRvd24uc2hvd1wiLCB7IGRpcjogdGhpcy5sb2NhbGl6ZS5kaXIoKSB9KTtcbiAgICAgIGF3YWl0IGFuaW1hdGVUbyh0aGlzLnBvcHVwLnBvcHVwLCBrZXlmcmFtZXMsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5lbWl0KFwic2wtYWZ0ZXItc2hvd1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbWl0KFwic2wtaGlkZVwiKTtcbiAgICAgIHRoaXMucmVtb3ZlT3Blbkxpc3RlbmVycygpO1xuICAgICAgYXdhaXQgc3RvcEFuaW1hdGlvbnModGhpcyk7XG4gICAgICBjb25zdCB7IGtleWZyYW1lcywgb3B0aW9ucyB9ID0gZ2V0QW5pbWF0aW9uKHRoaXMsIFwiZHJvcGRvd24uaGlkZVwiLCB7IGRpcjogdGhpcy5sb2NhbGl6ZS5kaXIoKSB9KTtcbiAgICAgIGF3YWl0IGFuaW1hdGVUbyh0aGlzLnBvcHVwLnBvcHVwLCBrZXlmcmFtZXMsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5wYW5lbC5oaWRkZW4gPSB0cnVlO1xuICAgICAgdGhpcy5wb3B1cC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZW1pdChcInNsLWFmdGVyLWhpZGVcIik7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxzbC1wb3B1cFxuICAgICAgICBwYXJ0PVwiYmFzZVwiXG4gICAgICAgIGlkPVwiZHJvcGRvd25cIlxuICAgICAgICBwbGFjZW1lbnQ9JHt0aGlzLnBsYWNlbWVudH1cbiAgICAgICAgZGlzdGFuY2U9JHt0aGlzLmRpc3RhbmNlfVxuICAgICAgICBza2lkZGluZz0ke3RoaXMuc2tpZGRpbmd9XG4gICAgICAgIHN0cmF0ZWd5PSR7dGhpcy5ob2lzdCA/IFwiZml4ZWRcIiA6IFwiYWJzb2x1dGVcIn1cbiAgICAgICAgZmxpcFxuICAgICAgICBzaGlmdFxuICAgICAgICBhdXRvLXNpemU9XCJ2ZXJ0aWNhbFwiXG4gICAgICAgIGF1dG8tc2l6ZS1wYWRkaW5nPVwiMTBcIlxuICAgICAgICBzeW5jPSR7aWZEZWZpbmVkKHRoaXMuc3luYyA/IHRoaXMuc3luYyA6IHZvaWQgMCl9XG4gICAgICAgIGNsYXNzPSR7Y2xhc3NNYXAoe1xuICAgICAgZHJvcGRvd246IHRydWUsXG4gICAgICBcImRyb3Bkb3duLS1vcGVuXCI6IHRoaXMub3BlblxuICAgIH0pfVxuICAgICAgPlxuICAgICAgICA8c2xvdFxuICAgICAgICAgIG5hbWU9XCJ0cmlnZ2VyXCJcbiAgICAgICAgICBzbG90PVwiYW5jaG9yXCJcbiAgICAgICAgICBwYXJ0PVwidHJpZ2dlclwiXG4gICAgICAgICAgY2xhc3M9XCJkcm9wZG93bl9fdHJpZ2dlclwiXG4gICAgICAgICAgQGNsaWNrPSR7dGhpcy5oYW5kbGVUcmlnZ2VyQ2xpY2t9XG4gICAgICAgICAgQGtleWRvd249JHt0aGlzLmhhbmRsZVRyaWdnZXJLZXlEb3dufVxuICAgICAgICAgIEBrZXl1cD0ke3RoaXMuaGFuZGxlVHJpZ2dlcktleVVwfVxuICAgICAgICAgIEBzbG90Y2hhbmdlPSR7dGhpcy5oYW5kbGVUcmlnZ2VyU2xvdENoYW5nZX1cbiAgICAgICAgPjwvc2xvdD5cblxuICAgICAgICA8ZGl2IGFyaWEtaGlkZGVuPSR7dGhpcy5vcGVuID8gXCJmYWxzZVwiIDogXCJ0cnVlXCJ9IGFyaWEtbGFiZWxsZWRieT1cImRyb3Bkb3duXCI+XG4gICAgICAgICAgPHNsb3QgcGFydD1cInBhbmVsXCIgY2xhc3M9XCJkcm9wZG93bl9fcGFuZWxcIj48L3Nsb3Q+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9zbC1wb3B1cD5cbiAgICBgO1xuICB9XG59O1xuU2xEcm9wZG93bi5zdHlsZXMgPSBbY29tcG9uZW50X3N0eWxlc19kZWZhdWx0LCBkcm9wZG93bl9zdHlsZXNfZGVmYXVsdF07XG5TbERyb3Bkb3duLmRlcGVuZGVuY2llcyA9IHsgXCJzbC1wb3B1cFwiOiBTbFBvcHVwIH07XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBxdWVyeShcIi5kcm9wZG93blwiKVxuXSwgU2xEcm9wZG93bi5wcm90b3R5cGUsIFwicG9wdXBcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBxdWVyeShcIi5kcm9wZG93bl9fdHJpZ2dlclwiKVxuXSwgU2xEcm9wZG93bi5wcm90b3R5cGUsIFwidHJpZ2dlclwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHF1ZXJ5KFwiLmRyb3Bkb3duX19wYW5lbFwiKVxuXSwgU2xEcm9wZG93bi5wcm90b3R5cGUsIFwicGFuZWxcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSlcbl0sIFNsRHJvcGRvd24ucHJvdG90eXBlLCBcIm9wZW5cIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHJlZmxlY3Q6IHRydWUgfSlcbl0sIFNsRHJvcGRvd24ucHJvdG90eXBlLCBcInBsYWNlbWVudFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xEcm9wZG93bi5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogXCJzdGF5LW9wZW4tb24tc2VsZWN0XCIsIHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSlcbl0sIFNsRHJvcGRvd24ucHJvdG90eXBlLCBcInN0YXlPcGVuT25TZWxlY3RcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSlcbl0sIFNsRHJvcGRvd24ucHJvdG90eXBlLCBcImNvbnRhaW5pbmdFbGVtZW50XCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIgfSlcbl0sIFNsRHJvcGRvd24ucHJvdG90eXBlLCBcImRpc3RhbmNlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIgfSlcbl0sIFNsRHJvcGRvd24ucHJvdG90eXBlLCBcInNraWRkaW5nXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBTbERyb3Bkb3duLnByb3RvdHlwZSwgXCJob2lzdFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xEcm9wZG93bi5wcm90b3R5cGUsIFwic3luY1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHdhdGNoKFwib3BlblwiLCB7IHdhaXRVbnRpbEZpcnN0VXBkYXRlOiB0cnVlIH0pXG5dLCBTbERyb3Bkb3duLnByb3RvdHlwZSwgXCJoYW5kbGVPcGVuQ2hhbmdlXCIsIDEpO1xuc2V0RGVmYXVsdEFuaW1hdGlvbihcImRyb3Bkb3duLnNob3dcIiwge1xuICBrZXlmcmFtZXM6IFtcbiAgICB7IG9wYWNpdHk6IDAsIHNjYWxlOiAwLjkgfSxcbiAgICB7IG9wYWNpdHk6IDEsIHNjYWxlOiAxIH1cbiAgXSxcbiAgb3B0aW9uczogeyBkdXJhdGlvbjogMTAwLCBlYXNpbmc6IFwiZWFzZVwiIH1cbn0pO1xuc2V0RGVmYXVsdEFuaW1hdGlvbihcImRyb3Bkb3duLmhpZGVcIiwge1xuICBrZXlmcmFtZXM6IFtcbiAgICB7IG9wYWNpdHk6IDEsIHNjYWxlOiAxIH0sXG4gICAgeyBvcGFjaXR5OiAwLCBzY2FsZTogMC45IH1cbiAgXSxcbiAgb3B0aW9uczogeyBkdXJhdGlvbjogMTAwLCBlYXNpbmc6IFwiZWFzZVwiIH1cbn0pO1xuXG5leHBvcnQge1xuICBTbERyb3Bkb3duXG59O1xuIiwgImltcG9ydCB7XG4gIFNsRHJvcGRvd25cbn0gZnJvbSBcIi4vY2h1bmsuRkxZVEZZR0MuanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvZHJvcGRvd24vZHJvcGRvd24udHNcbnZhciBkcm9wZG93bl9kZWZhdWx0ID0gU2xEcm9wZG93bjtcblNsRHJvcGRvd24uZGVmaW5lKFwic2wtZHJvcGRvd25cIik7XG5cbmV4cG9ydCB7XG4gIGRyb3Bkb3duX2RlZmF1bHRcbn07XG4iLCAiaW1wb3J0IHtcbiAgU2xJY29uXG59IGZyb20gXCIuL2NodW5rLkgzM0MzTVJNLmpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ljb24vaWNvbi50c1xudmFyIGljb25fZGVmYXVsdCA9IFNsSWNvbjtcblNsSWNvbi5kZWZpbmUoXCJzbC1pY29uXCIpO1xuXG5leHBvcnQge1xuICBpY29uX2RlZmF1bHRcbn07XG4iLCAiLy8gc3JjL2NvbXBvbmVudHMvaW5wdXQvaW5wdXQuc3R5bGVzLnRzXG5pbXBvcnQgeyBjc3MgfSBmcm9tIFwibGl0XCI7XG52YXIgaW5wdXRfc3R5bGVzX2RlZmF1bHQgPSBjc3NgXG4gIDpob3N0IHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuXG4gIC5pbnB1dCB7XG4gICAgZmxleDogMSAxIGF1dG87XG4gICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XG4gICAganVzdGlmeS1jb250ZW50OiBzdGFydDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZm9udC1mYW1pbHk6IHZhcigtLXNsLWlucHV0LWZvbnQtZmFtaWx5KTtcbiAgICBmb250LXdlaWdodDogdmFyKC0tc2wtaW5wdXQtZm9udC13ZWlnaHQpO1xuICAgIGxldHRlci1zcGFjaW5nOiB2YXIoLS1zbC1pbnB1dC1sZXR0ZXItc3BhY2luZyk7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGN1cnNvcjogdGV4dDtcbiAgICB0cmFuc2l0aW9uOlxuICAgICAgdmFyKC0tc2wtdHJhbnNpdGlvbi1mYXN0KSBjb2xvcixcbiAgICAgIHZhcigtLXNsLXRyYW5zaXRpb24tZmFzdCkgYm9yZGVyLFxuICAgICAgdmFyKC0tc2wtdHJhbnNpdGlvbi1mYXN0KSBib3gtc2hhZG93LFxuICAgICAgdmFyKC0tc2wtdHJhbnNpdGlvbi1mYXN0KSBiYWNrZ3JvdW5kLWNvbG9yO1xuICB9XG5cbiAgLyogU3RhbmRhcmQgaW5wdXRzICovXG4gIC5pbnB1dC0tc3RhbmRhcmQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWlucHV0LWJhY2tncm91bmQtY29sb3IpO1xuICAgIGJvcmRlcjogc29saWQgdmFyKC0tc2wtaW5wdXQtYm9yZGVyLXdpZHRoKSB2YXIoLS1zbC1pbnB1dC1ib3JkZXItY29sb3IpO1xuICB9XG5cbiAgLmlucHV0LS1zdGFuZGFyZDpob3Zlcjpub3QoLmlucHV0LS1kaXNhYmxlZCkge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNsLWlucHV0LWJhY2tncm91bmQtY29sb3ItaG92ZXIpO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2wtaW5wdXQtYm9yZGVyLWNvbG9yLWhvdmVyKTtcbiAgfVxuXG4gIC5pbnB1dC0tc3RhbmRhcmQuaW5wdXQtLWZvY3VzZWQ6bm90KC5pbnB1dC0tZGlzYWJsZWQpIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zbC1pbnB1dC1iYWNrZ3JvdW5kLWNvbG9yLWZvY3VzKTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNsLWlucHV0LWJvcmRlci1jb2xvci1mb2N1cyk7XG4gICAgYm94LXNoYWRvdzogMCAwIDAgdmFyKC0tc2wtZm9jdXMtcmluZy13aWR0aCkgdmFyKC0tc2wtaW5wdXQtZm9jdXMtcmluZy1jb2xvcik7XG4gIH1cblxuICAuaW5wdXQtLXN0YW5kYXJkLmlucHV0LS1mb2N1c2VkOm5vdCguaW5wdXQtLWRpc2FibGVkKSAuaW5wdXRfX2NvbnRyb2wge1xuICAgIGNvbG9yOiB2YXIoLS1zbC1pbnB1dC1jb2xvci1mb2N1cyk7XG4gIH1cblxuICAuaW5wdXQtLXN0YW5kYXJkLmlucHV0LS1kaXNhYmxlZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtaW5wdXQtYmFja2dyb3VuZC1jb2xvci1kaXNhYmxlZCk7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1zbC1pbnB1dC1ib3JkZXItY29sb3ItZGlzYWJsZWQpO1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICB9XG5cbiAgLmlucHV0LS1zdGFuZGFyZC5pbnB1dC0tZGlzYWJsZWQgLmlucHV0X19jb250cm9sIHtcbiAgICBjb2xvcjogdmFyKC0tc2wtaW5wdXQtY29sb3ItZGlzYWJsZWQpO1xuICB9XG5cbiAgLmlucHV0LS1zdGFuZGFyZC5pbnB1dC0tZGlzYWJsZWQgLmlucHV0X19jb250cm9sOjpwbGFjZWhvbGRlciB7XG4gICAgY29sb3I6IHZhcigtLXNsLWlucHV0LXBsYWNlaG9sZGVyLWNvbG9yLWRpc2FibGVkKTtcbiAgfVxuXG4gIC8qIEZpbGxlZCBpbnB1dHMgKi9cbiAgLmlucHV0LS1maWxsZWQge1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zbC1pbnB1dC1maWxsZWQtYmFja2dyb3VuZC1jb2xvcik7XG4gICAgY29sb3I6IHZhcigtLXNsLWlucHV0LWNvbG9yKTtcbiAgfVxuXG4gIC5pbnB1dC0tZmlsbGVkOmhvdmVyOm5vdCguaW5wdXQtLWRpc2FibGVkKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtaW5wdXQtZmlsbGVkLWJhY2tncm91bmQtY29sb3ItaG92ZXIpO1xuICB9XG5cbiAgLmlucHV0LS1maWxsZWQuaW5wdXQtLWZvY3VzZWQ6bm90KC5pbnB1dC0tZGlzYWJsZWQpIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zbC1pbnB1dC1maWxsZWQtYmFja2dyb3VuZC1jb2xvci1mb2N1cyk7XG4gICAgb3V0bGluZTogdmFyKC0tc2wtZm9jdXMtcmluZyk7XG4gICAgb3V0bGluZS1vZmZzZXQ6IHZhcigtLXNsLWZvY3VzLXJpbmctb2Zmc2V0KTtcbiAgfVxuXG4gIC5pbnB1dC0tZmlsbGVkLmlucHV0LS1kaXNhYmxlZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2wtaW5wdXQtZmlsbGVkLWJhY2tncm91bmQtY29sb3ItZGlzYWJsZWQpO1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICB9XG5cbiAgLmlucHV0X19jb250cm9sIHtcbiAgICBmbGV4OiAxIDEgYXV0bztcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgICBmb250LXNpemU6IGluaGVyaXQ7XG4gICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XG4gICAgbWluLXdpZHRoOiAwO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBjb2xvcjogdmFyKC0tc2wtaW5wdXQtY29sb3IpO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBiYWNrZ3JvdW5kOiBpbmhlcml0O1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IDA7XG4gICAgY3Vyc29yOiBpbmhlcml0O1xuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgfVxuXG4gIC5pbnB1dF9fY29udHJvbDo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbixcbiAgLmlucHV0X19jb250cm9sOjotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uLFxuICAuaW5wdXRfX2NvbnRyb2w6Oi13ZWJraXQtc2VhcmNoLXJlc3VsdHMtYnV0dG9uLFxuICAuaW5wdXRfX2NvbnRyb2w6Oi13ZWJraXQtc2VhcmNoLXJlc3VsdHMtZGVjb3JhdGlvbiB7XG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICB9XG5cbiAgLmlucHV0X19jb250cm9sOi13ZWJraXQtYXV0b2ZpbGwsXG4gIC5pbnB1dF9fY29udHJvbDotd2Via2l0LWF1dG9maWxsOmhvdmVyLFxuICAuaW5wdXRfX2NvbnRyb2w6LXdlYmtpdC1hdXRvZmlsbDpmb2N1cyxcbiAgLmlucHV0X19jb250cm9sOi13ZWJraXQtYXV0b2ZpbGw6YWN0aXZlIHtcbiAgICBib3gtc2hhZG93OiAwIDAgMCB2YXIoLS1zbC1pbnB1dC1oZWlnaHQtbGFyZ2UpIHZhcigtLXNsLWlucHV0LWJhY2tncm91bmQtY29sb3ItaG92ZXIpIGluc2V0ICFpbXBvcnRhbnQ7XG4gICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNTAwKTtcbiAgICBjYXJldC1jb2xvcjogdmFyKC0tc2wtaW5wdXQtY29sb3IpO1xuICB9XG5cbiAgLmlucHV0LS1maWxsZWQgLmlucHV0X19jb250cm9sOi13ZWJraXQtYXV0b2ZpbGwsXG4gIC5pbnB1dC0tZmlsbGVkIC5pbnB1dF9fY29udHJvbDotd2Via2l0LWF1dG9maWxsOmhvdmVyLFxuICAuaW5wdXQtLWZpbGxlZCAuaW5wdXRfX2NvbnRyb2w6LXdlYmtpdC1hdXRvZmlsbDpmb2N1cyxcbiAgLmlucHV0LS1maWxsZWQgLmlucHV0X19jb250cm9sOi13ZWJraXQtYXV0b2ZpbGw6YWN0aXZlIHtcbiAgICBib3gtc2hhZG93OiAwIDAgMCB2YXIoLS1zbC1pbnB1dC1oZWlnaHQtbGFyZ2UpIHZhcigtLXNsLWlucHV0LWZpbGxlZC1iYWNrZ3JvdW5kLWNvbG9yKSBpbnNldCAhaW1wb3J0YW50O1xuICB9XG5cbiAgLmlucHV0X19jb250cm9sOjpwbGFjZWhvbGRlciB7XG4gICAgY29sb3I6IHZhcigtLXNsLWlucHV0LXBsYWNlaG9sZGVyLWNvbG9yKTtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICB9XG5cbiAgLmlucHV0OmhvdmVyOm5vdCguaW5wdXQtLWRpc2FibGVkKSAuaW5wdXRfX2NvbnRyb2wge1xuICAgIGNvbG9yOiB2YXIoLS1zbC1pbnB1dC1jb2xvci1ob3Zlcik7XG4gIH1cblxuICAuaW5wdXRfX2NvbnRyb2w6Zm9jdXMge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gIH1cblxuICAuaW5wdXRfX3ByZWZpeCxcbiAgLmlucHV0X19zdWZmaXgge1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgIGZsZXg6IDAgMCBhdXRvO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgY3Vyc29yOiBkZWZhdWx0O1xuICB9XG5cbiAgLmlucHV0X19wcmVmaXggOjpzbG90dGVkKHNsLWljb24pLFxuICAuaW5wdXRfX3N1ZmZpeCA6OnNsb3R0ZWQoc2wtaWNvbikge1xuICAgIGNvbG9yOiB2YXIoLS1zbC1pbnB1dC1pY29uLWNvbG9yKTtcbiAgfVxuXG4gIC8qXG4gICAqIFNpemUgbW9kaWZpZXJzXG4gICAqL1xuXG4gIC5pbnB1dC0tc21hbGwge1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXNsLWlucHV0LWJvcmRlci1yYWRpdXMtc21hbGwpO1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tc2wtaW5wdXQtZm9udC1zaXplLXNtYWxsKTtcbiAgICBoZWlnaHQ6IHZhcigtLXNsLWlucHV0LWhlaWdodC1zbWFsbCk7XG4gIH1cblxuICAuaW5wdXQtLXNtYWxsIC5pbnB1dF9fY29udHJvbCB7XG4gICAgaGVpZ2h0OiBjYWxjKHZhcigtLXNsLWlucHV0LWhlaWdodC1zbWFsbCkgLSB2YXIoLS1zbC1pbnB1dC1ib3JkZXItd2lkdGgpICogMik7XG4gICAgcGFkZGluZzogMCB2YXIoLS1zbC1pbnB1dC1zcGFjaW5nLXNtYWxsKTtcbiAgfVxuXG4gIC5pbnB1dC0tc21hbGwgLmlucHV0X19jbGVhcixcbiAgLmlucHV0LS1zbWFsbCAuaW5wdXRfX3Bhc3N3b3JkLXRvZ2dsZSB7XG4gICAgd2lkdGg6IGNhbGMoMWVtICsgdmFyKC0tc2wtaW5wdXQtc3BhY2luZy1zbWFsbCkgKiAyKTtcbiAgfVxuXG4gIC5pbnB1dC0tc21hbGwgLmlucHV0X19wcmVmaXggOjpzbG90dGVkKCopIHtcbiAgICBtYXJnaW4taW5saW5lLXN0YXJ0OiB2YXIoLS1zbC1pbnB1dC1zcGFjaW5nLXNtYWxsKTtcbiAgfVxuXG4gIC5pbnB1dC0tc21hbGwgLmlucHV0X19zdWZmaXggOjpzbG90dGVkKCopIHtcbiAgICBtYXJnaW4taW5saW5lLWVuZDogdmFyKC0tc2wtaW5wdXQtc3BhY2luZy1zbWFsbCk7XG4gIH1cblxuICAuaW5wdXQtLW1lZGl1bSB7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tc2wtaW5wdXQtYm9yZGVyLXJhZGl1cy1tZWRpdW0pO1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tc2wtaW5wdXQtZm9udC1zaXplLW1lZGl1bSk7XG4gICAgaGVpZ2h0OiB2YXIoLS1zbC1pbnB1dC1oZWlnaHQtbWVkaXVtKTtcbiAgfVxuXG4gIC5pbnB1dC0tbWVkaXVtIC5pbnB1dF9fY29udHJvbCB7XG4gICAgaGVpZ2h0OiBjYWxjKHZhcigtLXNsLWlucHV0LWhlaWdodC1tZWRpdW0pIC0gdmFyKC0tc2wtaW5wdXQtYm9yZGVyLXdpZHRoKSAqIDIpO1xuICAgIHBhZGRpbmc6IDAgdmFyKC0tc2wtaW5wdXQtc3BhY2luZy1tZWRpdW0pO1xuICB9XG5cbiAgLmlucHV0LS1tZWRpdW0gLmlucHV0X19jbGVhcixcbiAgLmlucHV0LS1tZWRpdW0gLmlucHV0X19wYXNzd29yZC10b2dnbGUge1xuICAgIHdpZHRoOiBjYWxjKDFlbSArIHZhcigtLXNsLWlucHV0LXNwYWNpbmctbWVkaXVtKSAqIDIpO1xuICB9XG5cbiAgLmlucHV0LS1tZWRpdW0gLmlucHV0X19wcmVmaXggOjpzbG90dGVkKCopIHtcbiAgICBtYXJnaW4taW5saW5lLXN0YXJ0OiB2YXIoLS1zbC1pbnB1dC1zcGFjaW5nLW1lZGl1bSk7XG4gIH1cblxuICAuaW5wdXQtLW1lZGl1bSAuaW5wdXRfX3N1ZmZpeCA6OnNsb3R0ZWQoKikge1xuICAgIG1hcmdpbi1pbmxpbmUtZW5kOiB2YXIoLS1zbC1pbnB1dC1zcGFjaW5nLW1lZGl1bSk7XG4gIH1cblxuICAuaW5wdXQtLWxhcmdlIHtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1zbC1pbnB1dC1ib3JkZXItcmFkaXVzLWxhcmdlKTtcbiAgICBmb250LXNpemU6IHZhcigtLXNsLWlucHV0LWZvbnQtc2l6ZS1sYXJnZSk7XG4gICAgaGVpZ2h0OiB2YXIoLS1zbC1pbnB1dC1oZWlnaHQtbGFyZ2UpO1xuICB9XG5cbiAgLmlucHV0LS1sYXJnZSAuaW5wdXRfX2NvbnRyb2wge1xuICAgIGhlaWdodDogY2FsYyh2YXIoLS1zbC1pbnB1dC1oZWlnaHQtbGFyZ2UpIC0gdmFyKC0tc2wtaW5wdXQtYm9yZGVyLXdpZHRoKSAqIDIpO1xuICAgIHBhZGRpbmc6IDAgdmFyKC0tc2wtaW5wdXQtc3BhY2luZy1sYXJnZSk7XG4gIH1cblxuICAuaW5wdXQtLWxhcmdlIC5pbnB1dF9fY2xlYXIsXG4gIC5pbnB1dC0tbGFyZ2UgLmlucHV0X19wYXNzd29yZC10b2dnbGUge1xuICAgIHdpZHRoOiBjYWxjKDFlbSArIHZhcigtLXNsLWlucHV0LXNwYWNpbmctbGFyZ2UpICogMik7XG4gIH1cblxuICAuaW5wdXQtLWxhcmdlIC5pbnB1dF9fcHJlZml4IDo6c2xvdHRlZCgqKSB7XG4gICAgbWFyZ2luLWlubGluZS1zdGFydDogdmFyKC0tc2wtaW5wdXQtc3BhY2luZy1sYXJnZSk7XG4gIH1cblxuICAuaW5wdXQtLWxhcmdlIC5pbnB1dF9fc3VmZml4IDo6c2xvdHRlZCgqKSB7XG4gICAgbWFyZ2luLWlubGluZS1lbmQ6IHZhcigtLXNsLWlucHV0LXNwYWNpbmctbGFyZ2UpO1xuICB9XG5cbiAgLypcbiAgICogUGlsbCBtb2RpZmllclxuICAgKi9cblxuICAuaW5wdXQtLXBpbGwuaW5wdXQtLXNtYWxsIHtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1zbC1pbnB1dC1oZWlnaHQtc21hbGwpO1xuICB9XG5cbiAgLmlucHV0LS1waWxsLmlucHV0LS1tZWRpdW0ge1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXNsLWlucHV0LWhlaWdodC1tZWRpdW0pO1xuICB9XG5cbiAgLmlucHV0LS1waWxsLmlucHV0LS1sYXJnZSB7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tc2wtaW5wdXQtaGVpZ2h0LWxhcmdlKTtcbiAgfVxuXG4gIC8qXG4gICAqIENsZWFyYWJsZSArIFBhc3N3b3JkIFRvZ2dsZVxuICAgKi9cblxuICAuaW5wdXRfX2NsZWFyLFxuICAuaW5wdXRfX3Bhc3N3b3JkLXRvZ2dsZSB7XG4gICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBmb250LXNpemU6IGluaGVyaXQ7XG4gICAgY29sb3I6IHZhcigtLXNsLWlucHV0LWljb24tY29sb3IpO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tc2wtdHJhbnNpdGlvbi1mYXN0KSBjb2xvcjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cblxuICAuaW5wdXRfX2NsZWFyOmhvdmVyLFxuICAuaW5wdXRfX3Bhc3N3b3JkLXRvZ2dsZTpob3ZlciB7XG4gICAgY29sb3I6IHZhcigtLXNsLWlucHV0LWljb24tY29sb3ItaG92ZXIpO1xuICB9XG5cbiAgLmlucHV0X19jbGVhcjpmb2N1cyxcbiAgLmlucHV0X19wYXNzd29yZC10b2dnbGU6Zm9jdXMge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gIH1cblxuICAvKiBEb24ndCBzaG93IHRoZSBicm93c2VyJ3MgcGFzc3dvcmQgdG9nZ2xlIGluIEVkZ2UgKi9cbiAgOjotbXMtcmV2ZWFsIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG5cbiAgLyogSGlkZSB0aGUgYnVpbHQtaW4gbnVtYmVyIHNwaW5uZXIgKi9cbiAgLmlucHV0LS1uby1zcGluLWJ1dHRvbnMgaW5wdXRbdHlwZT0nbnVtYmVyJ106Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b24sXG4gIC5pbnB1dC0tbm8tc3Bpbi1idXR0b25zIGlucHV0W3R5cGU9J251bWJlciddOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uIHtcbiAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gIC5pbnB1dC0tbm8tc3Bpbi1idXR0b25zIGlucHV0W3R5cGU9J251bWJlciddIHtcbiAgICAtbW96LWFwcGVhcmFuY2U6IHRleHRmaWVsZDtcbiAgfVxuYDtcblxuZXhwb3J0IHtcbiAgaW5wdXRfc3R5bGVzX2RlZmF1bHRcbn07XG4iLCAiLy8gc3JjL2ludGVybmFsL2RlZmF1bHQtdmFsdWUudHNcbmltcG9ydCB7IGRlZmF1bHRDb252ZXJ0ZXIgfSBmcm9tIFwibGl0XCI7XG52YXIgZGVmYXVsdFZhbHVlID0gKHByb3BlcnR5TmFtZSA9IFwidmFsdWVcIikgPT4gKHByb3RvLCBrZXkpID0+IHtcbiAgY29uc3QgY3RvciA9IHByb3RvLmNvbnN0cnVjdG9yO1xuICBjb25zdCBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sgPSBjdG9yLnByb3RvdHlwZS5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2s7XG4gIGN0b3IucHJvdG90eXBlLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayA9IGZ1bmN0aW9uKG5hbWUsIG9sZCwgdmFsdWUpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGN0b3IuZ2V0UHJvcGVydHlPcHRpb25zKHByb3BlcnR5TmFtZSk7XG4gICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IHR5cGVvZiBvcHRpb25zLmF0dHJpYnV0ZSA9PT0gXCJzdHJpbmdcIiA/IG9wdGlvbnMuYXR0cmlidXRlIDogcHJvcGVydHlOYW1lO1xuICAgIGlmIChuYW1lID09PSBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICBjb25zdCBjb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlciB8fCBkZWZhdWx0Q29udmVydGVyO1xuICAgICAgY29uc3QgZnJvbUF0dHJpYnV0ZSA9IHR5cGVvZiBjb252ZXJ0ZXIgPT09IFwiZnVuY3Rpb25cIiA/IGNvbnZlcnRlciA6IChfYSA9IGNvbnZlcnRlciA9PSBudWxsID8gdm9pZCAwIDogY29udmVydGVyLmZyb21BdHRyaWJ1dGUpICE9IG51bGwgPyBfYSA6IGRlZmF1bHRDb252ZXJ0ZXIuZnJvbUF0dHJpYnV0ZTtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gZnJvbUF0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucy50eXBlKTtcbiAgICAgIGlmICh0aGlzW3Byb3BlcnR5TmFtZV0gIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgIHRoaXNba2V5XSA9IG5ld1ZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBuYW1lLCBvbGQsIHZhbHVlKTtcbiAgfTtcbn07XG5cbmV4cG9ydCB7XG4gIGRlZmF1bHRWYWx1ZVxufTtcbiIsICIvLyBzcmMvc3R5bGVzL2Zvcm0tY29udHJvbC5zdHlsZXMudHNcbmltcG9ydCB7IGNzcyB9IGZyb20gXCJsaXRcIjtcbnZhciBmb3JtX2NvbnRyb2xfc3R5bGVzX2RlZmF1bHQgPSBjc3NgXG4gIC5mb3JtLWNvbnRyb2wgLmZvcm0tY29udHJvbF9fbGFiZWwge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICAuZm9ybS1jb250cm9sIC5mb3JtLWNvbnRyb2xfX2hlbHAtdGV4dCB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gIC8qIExhYmVsICovXG4gIC5mb3JtLWNvbnRyb2wtLWhhcy1sYWJlbCAuZm9ybS1jb250cm9sX19sYWJlbCB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1pbnB1dC1sYWJlbC1jb2xvcik7XG4gICAgbWFyZ2luLWJvdHRvbTogdmFyKC0tc2wtc3BhY2luZy0zeC1zbWFsbCk7XG4gIH1cblxuICAuZm9ybS1jb250cm9sLS1oYXMtbGFiZWwuZm9ybS1jb250cm9sLS1zbWFsbCAuZm9ybS1jb250cm9sX19sYWJlbCB7XG4gICAgZm9udC1zaXplOiB2YXIoLS1zbC1pbnB1dC1sYWJlbC1mb250LXNpemUtc21hbGwpO1xuICB9XG5cbiAgLmZvcm0tY29udHJvbC0taGFzLWxhYmVsLmZvcm0tY29udHJvbC0tbWVkaXVtIC5mb3JtLWNvbnRyb2xfX2xhYmVsIHtcbiAgICBmb250LXNpemU6IHZhcigtLXNsLWlucHV0LWxhYmVsLWZvbnQtc2l6ZS1tZWRpdW0pO1xuICB9XG5cbiAgLmZvcm0tY29udHJvbC0taGFzLWxhYmVsLmZvcm0tY29udHJvbC0tbGFyZ2UgLmZvcm0tY29udHJvbF9fbGFiZWwge1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tc2wtaW5wdXQtbGFiZWwtZm9udC1zaXplLWxhcmdlKTtcbiAgfVxuXG4gIDpob3N0KFtyZXF1aXJlZF0pIC5mb3JtLWNvbnRyb2wtLWhhcy1sYWJlbCAuZm9ybS1jb250cm9sX19sYWJlbDo6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6IHZhcigtLXNsLWlucHV0LXJlcXVpcmVkLWNvbnRlbnQpO1xuICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IHZhcigtLXNsLWlucHV0LXJlcXVpcmVkLWNvbnRlbnQtb2Zmc2V0KTtcbiAgICBjb2xvcjogdmFyKC0tc2wtaW5wdXQtcmVxdWlyZWQtY29udGVudC1jb2xvcik7XG4gIH1cblxuICAvKiBIZWxwIHRleHQgKi9cbiAgLmZvcm0tY29udHJvbC0taGFzLWhlbHAtdGV4dCAuZm9ybS1jb250cm9sX19oZWxwLXRleHQge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1pbnB1dC1oZWxwLXRleHQtY29sb3IpO1xuICAgIG1hcmdpbi10b3A6IHZhcigtLXNsLXNwYWNpbmctM3gtc21hbGwpO1xuICB9XG5cbiAgLmZvcm0tY29udHJvbC0taGFzLWhlbHAtdGV4dC5mb3JtLWNvbnRyb2wtLXNtYWxsIC5mb3JtLWNvbnRyb2xfX2hlbHAtdGV4dCB7XG4gICAgZm9udC1zaXplOiB2YXIoLS1zbC1pbnB1dC1oZWxwLXRleHQtZm9udC1zaXplLXNtYWxsKTtcbiAgfVxuXG4gIC5mb3JtLWNvbnRyb2wtLWhhcy1oZWxwLXRleHQuZm9ybS1jb250cm9sLS1tZWRpdW0gLmZvcm0tY29udHJvbF9faGVscC10ZXh0IHtcbiAgICBmb250LXNpemU6IHZhcigtLXNsLWlucHV0LWhlbHAtdGV4dC1mb250LXNpemUtbWVkaXVtKTtcbiAgfVxuXG4gIC5mb3JtLWNvbnRyb2wtLWhhcy1oZWxwLXRleHQuZm9ybS1jb250cm9sLS1sYXJnZSAuZm9ybS1jb250cm9sX19oZWxwLXRleHQge1xuICAgIGZvbnQtc2l6ZTogdmFyKC0tc2wtaW5wdXQtaGVscC10ZXh0LWZvbnQtc2l6ZS1sYXJnZSk7XG4gIH1cblxuICAuZm9ybS1jb250cm9sLS1oYXMtaGVscC10ZXh0LmZvcm0tY29udHJvbC0tcmFkaW8tZ3JvdXAgLmZvcm0tY29udHJvbF9faGVscC10ZXh0IHtcbiAgICBtYXJnaW4tdG9wOiB2YXIoLS1zbC1zcGFjaW5nLTJ4LXNtYWxsKTtcbiAgfVxuYDtcblxuZXhwb3J0IHtcbiAgZm9ybV9jb250cm9sX3N0eWxlc19kZWZhdWx0XG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG5pbXBvcnQge0F0dHJpYnV0ZVBhcnQsIG5vQ2hhbmdlLCBub3RoaW5nfSBmcm9tICcuLi9saXQtaHRtbC5qcyc7XG5pbXBvcnQge1xuICBkaXJlY3RpdmUsXG4gIERpcmVjdGl2ZSxcbiAgRGlyZWN0aXZlUGFyYW1ldGVycyxcbiAgUGFydEluZm8sXG4gIFBhcnRUeXBlLFxufSBmcm9tICcuLi9kaXJlY3RpdmUuanMnO1xuaW1wb3J0IHtpc1NpbmdsZUV4cHJlc3Npb24sIHNldENvbW1pdHRlZFZhbHVlfSBmcm9tICcuLi9kaXJlY3RpdmUtaGVscGVycy5qcyc7XG5cbmNsYXNzIExpdmVEaXJlY3RpdmUgZXh0ZW5kcyBEaXJlY3RpdmUge1xuICBjb25zdHJ1Y3RvcihwYXJ0SW5mbzogUGFydEluZm8pIHtcbiAgICBzdXBlcihwYXJ0SW5mbyk7XG4gICAgaWYgKFxuICAgICAgIShcbiAgICAgICAgcGFydEluZm8udHlwZSA9PT0gUGFydFR5cGUuUFJPUEVSVFkgfHxcbiAgICAgICAgcGFydEluZm8udHlwZSA9PT0gUGFydFR5cGUuQVRUUklCVVRFIHx8XG4gICAgICAgIHBhcnRJbmZvLnR5cGUgPT09IFBhcnRUeXBlLkJPT0xFQU5fQVRUUklCVVRFXG4gICAgICApXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgYGxpdmVgIGRpcmVjdGl2ZSBpcyBub3QgYWxsb3dlZCBvbiBjaGlsZCBvciBldmVudCBiaW5kaW5ncydcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghaXNTaW5nbGVFeHByZXNzaW9uKHBhcnRJbmZvKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgbGl2ZWAgYmluZGluZ3MgY2FuIG9ubHkgY29udGFpbiBhIHNpbmdsZSBleHByZXNzaW9uJyk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKHZhbHVlOiB1bmtub3duKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgb3ZlcnJpZGUgdXBkYXRlKHBhcnQ6IEF0dHJpYnV0ZVBhcnQsIFt2YWx1ZV06IERpcmVjdGl2ZVBhcmFtZXRlcnM8dGhpcz4pIHtcbiAgICBpZiAodmFsdWUgPT09IG5vQ2hhbmdlIHx8IHZhbHVlID09PSBub3RoaW5nKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnQgPSBwYXJ0LmVsZW1lbnQ7XG4gICAgY29uc3QgbmFtZSA9IHBhcnQubmFtZTtcblxuICAgIGlmIChwYXJ0LnR5cGUgPT09IFBhcnRUeXBlLlBST1BFUlRZKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgaWYgKHZhbHVlID09PSAoZWxlbWVudCBhcyBhbnkpW25hbWVdKSB7XG4gICAgICAgIHJldHVybiBub0NoYW5nZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBhcnQudHlwZSA9PT0gUGFydFR5cGUuQk9PTEVBTl9BVFRSSUJVVEUpIHtcbiAgICAgIGlmICghIXZhbHVlID09PSBlbGVtZW50Lmhhc0F0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgICByZXR1cm4gbm9DaGFuZ2U7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYXJ0LnR5cGUgPT09IFBhcnRUeXBlLkFUVFJJQlVURSkge1xuICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpID09PSBTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBub0NoYW5nZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gUmVzZXRzIHRoZSBwYXJ0J3MgdmFsdWUsIGNhdXNpbmcgaXRzIGRpcnR5LWNoZWNrIHRvIGZhaWwgc28gdGhhdCBpdFxuICAgIC8vIGFsd2F5cyBzZXRzIHRoZSB2YWx1ZS5cbiAgICBzZXRDb21taXR0ZWRWYWx1ZShwYXJ0KTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVja3MgYmluZGluZyB2YWx1ZXMgYWdhaW5zdCBsaXZlIERPTSB2YWx1ZXMsIGluc3RlYWQgb2YgcHJldmlvdXNseSBib3VuZFxuICogdmFsdWVzLCB3aGVuIGRldGVybWluaW5nIHdoZXRoZXIgdG8gdXBkYXRlIHRoZSB2YWx1ZS5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY2FzZXMgd2hlcmUgdGhlIERPTSB2YWx1ZSBtYXkgY2hhbmdlIGZyb20gb3V0c2lkZSBvZlxuICogbGl0LWh0bWwsIHN1Y2ggYXMgd2l0aCBhIGJpbmRpbmcgdG8gYW4gYDxpbnB1dD5gIGVsZW1lbnQncyBgdmFsdWVgIHByb3BlcnR5LFxuICogYSBjb250ZW50IGVkaXRhYmxlIGVsZW1lbnRzIHRleHQsIG9yIHRvIGEgY3VzdG9tIGVsZW1lbnQgdGhhdCBjaGFuZ2VzIGl0J3NcbiAqIG93biBwcm9wZXJ0aWVzIG9yIGF0dHJpYnV0ZXMuXG4gKlxuICogSW4gdGhlc2UgY2FzZXMgaWYgdGhlIERPTSB2YWx1ZSBjaGFuZ2VzLCBidXQgdGhlIHZhbHVlIHNldCB0aHJvdWdoIGxpdC1odG1sXG4gKiBiaW5kaW5ncyBoYXNuJ3QsIGxpdC1odG1sIHdvbid0IGtub3cgdG8gdXBkYXRlIHRoZSBET00gdmFsdWUgYW5kIHdpbGwgbGVhdmVcbiAqIGl0IGFsb25lLiBJZiB0aGlzIGlzIG5vdCB3aGF0IHlvdSB3YW50LS1pZiB5b3Ugd2FudCB0byBvdmVyd3JpdGUgdGhlIERPTVxuICogdmFsdWUgd2l0aCB0aGUgYm91bmQgdmFsdWUgbm8gbWF0dGVyIHdoYXQtLXVzZSB0aGUgYGxpdmUoKWAgZGlyZWN0aXZlOlxuICpcbiAqIGBgYGpzXG4gKiBodG1sYDxpbnB1dCAudmFsdWU9JHtsaXZlKHgpfT5gXG4gKiBgYGBcbiAqXG4gKiBgbGl2ZSgpYCBwZXJmb3JtcyBhIHN0cmljdCBlcXVhbGl0eSBjaGVjayBhZ2FpbnN0IHRoZSBsaXZlIERPTSB2YWx1ZSwgYW5kIGlmXG4gKiB0aGUgbmV3IHZhbHVlIGlzIGVxdWFsIHRvIHRoZSBsaXZlIHZhbHVlLCBkb2VzIG5vdGhpbmcuIFRoaXMgbWVhbnMgdGhhdFxuICogYGxpdmUoKWAgc2hvdWxkIG5vdCBiZSB1c2VkIHdoZW4gdGhlIGJpbmRpbmcgd2lsbCBjYXVzZSBhIHR5cGUgY29udmVyc2lvbi4gSWZcbiAqIHlvdSB1c2UgYGxpdmUoKWAgd2l0aCBhbiBhdHRyaWJ1dGUgYmluZGluZywgbWFrZSBzdXJlIHRoYXQgb25seSBzdHJpbmdzIGFyZVxuICogcGFzc2VkIGluLCBvciB0aGUgYmluZGluZyB3aWxsIHVwZGF0ZSBldmVyeSByZW5kZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBsaXZlID0gZGlyZWN0aXZlKExpdmVEaXJlY3RpdmUpO1xuXG4vKipcbiAqIFRoZSB0eXBlIG9mIHRoZSBjbGFzcyB0aGF0IHBvd2VycyB0aGlzIGRpcmVjdGl2ZS4gTmVjZXNzYXJ5IGZvciBuYW1pbmcgdGhlXG4gKiBkaXJlY3RpdmUncyByZXR1cm4gdHlwZS5cbiAqL1xuZXhwb3J0IHR5cGUge0xpdmVEaXJlY3RpdmV9O1xuIiwgImltcG9ydCB7XG4gIGlucHV0X3N0eWxlc19kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLkdHVDcySjYyLmpzXCI7XG5pbXBvcnQge1xuICBkZWZhdWx0VmFsdWVcbn0gZnJvbSBcIi4vY2h1bmsuR0k3VkRJV1guanNcIjtcbmltcG9ydCB7XG4gIGZvcm1fY29udHJvbF9zdHlsZXNfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay5TSTRBQ0JGSy5qc1wiO1xuaW1wb3J0IHtcbiAgRm9ybUNvbnRyb2xDb250cm9sbGVyXG59IGZyb20gXCIuL2NodW5rLktXUEJEUTZJLmpzXCI7XG5pbXBvcnQge1xuICBMb2NhbGl6ZUNvbnRyb2xsZXJcbn0gZnJvbSBcIi4vY2h1bmsuV0xWM0ZWQlIuanNcIjtcbmltcG9ydCB7XG4gIEhhc1Nsb3RDb250cm9sbGVyXG59IGZyb20gXCIuL2NodW5rLk5ZSUlEUDVOLmpzXCI7XG5pbXBvcnQge1xuICBTbEljb25cbn0gZnJvbSBcIi4vY2h1bmsuSDMzQzNNUk0uanNcIjtcbmltcG9ydCB7XG4gIHdhdGNoXG59IGZyb20gXCIuL2NodW5rLjJGQjVUSzVILmpzXCI7XG5pbXBvcnQge1xuICBjb21wb25lbnRfc3R5bGVzX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmsuVFVWSktZN1MuanNcIjtcbmltcG9ydCB7XG4gIFNob2VsYWNlRWxlbWVudFxufSBmcm9tIFwiLi9jaHVuay5TRlNUWENYQy5qc1wiO1xuaW1wb3J0IHtcbiAgX19kZWNvcmF0ZUNsYXNzXG59IGZyb20gXCIuL2NodW5rLklGRFdNNlA0LmpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2lucHV0L2lucHV0LmNvbXBvbmVudC50c1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwLmpzXCI7XG5pbXBvcnQgeyBodG1sIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgaWZEZWZpbmVkIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWQuanNcIjtcbmltcG9ydCB7IGxpdmUgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvbGl2ZS5qc1wiO1xuaW1wb3J0IHsgcHJvcGVydHksIHF1ZXJ5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9ycy5qc1wiO1xudmFyIFNsSW5wdXQgPSBjbGFzcyBleHRlbmRzIFNob2VsYWNlRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5mb3JtQ29udHJvbENvbnRyb2xsZXIgPSBuZXcgRm9ybUNvbnRyb2xDb250cm9sbGVyKHRoaXMsIHtcbiAgICAgIGFzc3VtZUludGVyYWN0aW9uT246IFtcInNsLWJsdXJcIiwgXCJzbC1pbnB1dFwiXVxuICAgIH0pO1xuICAgIHRoaXMuaGFzU2xvdENvbnRyb2xsZXIgPSBuZXcgSGFzU2xvdENvbnRyb2xsZXIodGhpcywgXCJoZWxwLXRleHRcIiwgXCJsYWJlbFwiKTtcbiAgICB0aGlzLmxvY2FsaXplID0gbmV3IExvY2FsaXplQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLmhhc0ZvY3VzID0gZmFsc2U7XG4gICAgdGhpcy50aXRsZSA9IFwiXCI7XG4gICAgLy8gbWFrZSByZWFjdGl2ZSB0byBwYXNzIHRocm91Z2hcbiAgICB0aGlzLl9fbnVtYmVySW5wdXQgPSBPYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSwgeyB0eXBlOiBcIm51bWJlclwiIH0pO1xuICAgIHRoaXMuX19kYXRlSW5wdXQgPSBPYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSwgeyB0eXBlOiBcImRhdGVcIiB9KTtcbiAgICB0aGlzLnR5cGUgPSBcInRleHRcIjtcbiAgICB0aGlzLm5hbWUgPSBcIlwiO1xuICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gXCJcIjtcbiAgICB0aGlzLnNpemUgPSBcIm1lZGl1bVwiO1xuICAgIHRoaXMuZmlsbGVkID0gZmFsc2U7XG4gICAgdGhpcy5waWxsID0gZmFsc2U7XG4gICAgdGhpcy5sYWJlbCA9IFwiXCI7XG4gICAgdGhpcy5oZWxwVGV4dCA9IFwiXCI7XG4gICAgdGhpcy5jbGVhcmFibGUgPSBmYWxzZTtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5wbGFjZWhvbGRlciA9IFwiXCI7XG4gICAgdGhpcy5yZWFkb25seSA9IGZhbHNlO1xuICAgIHRoaXMucGFzc3dvcmRUb2dnbGUgPSBmYWxzZTtcbiAgICB0aGlzLnBhc3N3b3JkVmlzaWJsZSA9IGZhbHNlO1xuICAgIHRoaXMubm9TcGluQnV0dG9ucyA9IGZhbHNlO1xuICAgIHRoaXMuZm9ybSA9IFwiXCI7XG4gICAgdGhpcy5yZXF1aXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuc3BlbGxjaGVjayA9IHRydWU7XG4gIH1cbiAgLy9cbiAgLy8gTk9URTogV2UgdXNlIGFuIGluLW1lbW9yeSBpbnB1dCBmb3IgdGhlc2UgZ2V0dGVycy9zZXR0ZXJzIGluc3RlYWQgb2YgdGhlIG9uZSBpbiB0aGUgdGVtcGxhdGUgYmVjYXVzZSB0aGUgcHJvcGVydGllc1xuICAvLyBjYW4gYmUgc2V0IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHJlbmRlcmVkLlxuICAvL1xuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBjdXJyZW50IHZhbHVlIGFzIGEgYERhdGVgIG9iamVjdC4gUmV0dXJucyBgbnVsbGAgaWYgdGhlIHZhbHVlIGNhbid0IGJlIGNvbnZlcnRlZC4gVGhpcyB3aWxsIHVzZSB0aGUgbmF0aXZlIGA8aW5wdXQgdHlwZT1cInt7dHlwZX19XCI+YCBpbXBsZW1lbnRhdGlvbiBhbmQgbWF5IHJlc3VsdCBpbiBhbiBlcnJvci5cbiAgICovXG4gIGdldCB2YWx1ZUFzRGF0ZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgdGhpcy5fX2RhdGVJbnB1dC50eXBlID0gdGhpcy50eXBlO1xuICAgIHRoaXMuX19kYXRlSW5wdXQudmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgIHJldHVybiAoKF9hID0gdGhpcy5pbnB1dCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnZhbHVlQXNEYXRlKSB8fCB0aGlzLl9fZGF0ZUlucHV0LnZhbHVlQXNEYXRlO1xuICB9XG4gIHNldCB2YWx1ZUFzRGF0ZShuZXdWYWx1ZSkge1xuICAgIHRoaXMuX19kYXRlSW5wdXQudHlwZSA9IHRoaXMudHlwZTtcbiAgICB0aGlzLl9fZGF0ZUlucHV0LnZhbHVlQXNEYXRlID0gbmV3VmFsdWU7XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuX19kYXRlSW5wdXQudmFsdWU7XG4gIH1cbiAgLyoqIEdldHMgb3Igc2V0cyB0aGUgY3VycmVudCB2YWx1ZSBhcyBhIG51bWJlci4gUmV0dXJucyBgTmFOYCBpZiB0aGUgdmFsdWUgY2FuJ3QgYmUgY29udmVydGVkLiAqL1xuICBnZXQgdmFsdWVBc051bWJlcigpIHtcbiAgICB2YXIgX2E7XG4gICAgdGhpcy5fX251bWJlcklucHV0LnZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICByZXR1cm4gKChfYSA9IHRoaXMuaW5wdXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS52YWx1ZUFzTnVtYmVyKSB8fCB0aGlzLl9fbnVtYmVySW5wdXQudmFsdWVBc051bWJlcjtcbiAgfVxuICBzZXQgdmFsdWVBc051bWJlcihuZXdWYWx1ZSkge1xuICAgIHRoaXMuX19udW1iZXJJbnB1dC52YWx1ZUFzTnVtYmVyID0gbmV3VmFsdWU7XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuX19udW1iZXJJbnB1dC52YWx1ZTtcbiAgfVxuICAvKiogR2V0cyB0aGUgdmFsaWRpdHkgc3RhdGUgb2JqZWN0ICovXG4gIGdldCB2YWxpZGl0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dC52YWxpZGl0eTtcbiAgfVxuICAvKiogR2V0cyB0aGUgdmFsaWRhdGlvbiBtZXNzYWdlICovXG4gIGdldCB2YWxpZGF0aW9uTWVzc2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgfVxuICBmaXJzdFVwZGF0ZWQoKSB7XG4gICAgdGhpcy5mb3JtQ29udHJvbENvbnRyb2xsZXIudXBkYXRlVmFsaWRpdHkoKTtcbiAgfVxuICBoYW5kbGVCbHVyKCkge1xuICAgIHRoaXMuaGFzRm9jdXMgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoXCJzbC1ibHVyXCIpO1xuICB9XG4gIGhhbmRsZUNoYW5nZSgpIHtcbiAgICB0aGlzLnZhbHVlID0gdGhpcy5pbnB1dC52YWx1ZTtcbiAgICB0aGlzLmVtaXQoXCJzbC1jaGFuZ2VcIik7XG4gIH1cbiAgaGFuZGxlQ2xlYXJDbGljayhldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHRoaXMudmFsdWUgIT09IFwiXCIpIHtcbiAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgdGhpcy5lbWl0KFwic2wtY2xlYXJcIik7XG4gICAgICB0aGlzLmVtaXQoXCJzbC1pbnB1dFwiKTtcbiAgICAgIHRoaXMuZW1pdChcInNsLWNoYW5nZVwiKTtcbiAgICB9XG4gICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICB9XG4gIGhhbmRsZUZvY3VzKCkge1xuICAgIHRoaXMuaGFzRm9jdXMgPSB0cnVlO1xuICAgIHRoaXMuZW1pdChcInNsLWZvY3VzXCIpO1xuICB9XG4gIGhhbmRsZUlucHV0KCkge1xuICAgIHRoaXMudmFsdWUgPSB0aGlzLmlucHV0LnZhbHVlO1xuICAgIHRoaXMuZm9ybUNvbnRyb2xDb250cm9sbGVyLnVwZGF0ZVZhbGlkaXR5KCk7XG4gICAgdGhpcy5lbWl0KFwic2wtaW5wdXRcIik7XG4gIH1cbiAgaGFuZGxlSW52YWxpZChldmVudCkge1xuICAgIHRoaXMuZm9ybUNvbnRyb2xDb250cm9sbGVyLnNldFZhbGlkaXR5KGZhbHNlKTtcbiAgICB0aGlzLmZvcm1Db250cm9sQ29udHJvbGxlci5lbWl0SW52YWxpZEV2ZW50KGV2ZW50KTtcbiAgfVxuICBoYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgY29uc3QgaGFzTW9kaWZpZXIgPSBldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5O1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIiAmJiAhaGFzTW9kaWZpZXIpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgJiYgIWV2ZW50LmlzQ29tcG9zaW5nKSB7XG4gICAgICAgICAgdGhpcy5mb3JtQ29udHJvbENvbnRyb2xsZXIuc3VibWl0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBoYW5kbGVQYXNzd29yZFRvZ2dsZSgpIHtcbiAgICB0aGlzLnBhc3N3b3JkVmlzaWJsZSA9ICF0aGlzLnBhc3N3b3JkVmlzaWJsZTtcbiAgfVxuICBoYW5kbGVEaXNhYmxlZENoYW5nZSgpIHtcbiAgICB0aGlzLmZvcm1Db250cm9sQ29udHJvbGxlci5zZXRWYWxpZGl0eSh0aGlzLmRpc2FibGVkKTtcbiAgfVxuICBoYW5kbGVTdGVwQ2hhbmdlKCkge1xuICAgIHRoaXMuaW5wdXQuc3RlcCA9IFN0cmluZyh0aGlzLnN0ZXApO1xuICAgIHRoaXMuZm9ybUNvbnRyb2xDb250cm9sbGVyLnVwZGF0ZVZhbGlkaXR5KCk7XG4gIH1cbiAgYXN5bmMgaGFuZGxlVmFsdWVDaGFuZ2UoKSB7XG4gICAgYXdhaXQgdGhpcy51cGRhdGVDb21wbGV0ZTtcbiAgICB0aGlzLmZvcm1Db250cm9sQ29udHJvbGxlci51cGRhdGVWYWxpZGl0eSgpO1xuICB9XG4gIC8qKiBTZXRzIGZvY3VzIG9uIHRoZSBpbnB1dC4gKi9cbiAgZm9jdXMob3B0aW9ucykge1xuICAgIHRoaXMuaW5wdXQuZm9jdXMob3B0aW9ucyk7XG4gIH1cbiAgLyoqIFJlbW92ZXMgZm9jdXMgZnJvbSB0aGUgaW5wdXQuICovXG4gIGJsdXIoKSB7XG4gICAgdGhpcy5pbnB1dC5ibHVyKCk7XG4gIH1cbiAgLyoqIFNlbGVjdHMgYWxsIHRoZSB0ZXh0IGluIHRoZSBpbnB1dC4gKi9cbiAgc2VsZWN0KCkge1xuICAgIHRoaXMuaW5wdXQuc2VsZWN0KCk7XG4gIH1cbiAgLyoqIFNldHMgdGhlIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb25zIG9mIHRoZSB0ZXh0IHNlbGVjdGlvbiAoMC1iYXNlZCkuICovXG4gIHNldFNlbGVjdGlvblJhbmdlKHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQsIHNlbGVjdGlvbkRpcmVjdGlvbiA9IFwibm9uZVwiKSB7XG4gICAgdGhpcy5pbnB1dC5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kLCBzZWxlY3Rpb25EaXJlY3Rpb24pO1xuICB9XG4gIC8qKiBSZXBsYWNlcyBhIHJhbmdlIG9mIHRleHQgd2l0aCBhIG5ldyBzdHJpbmcuICovXG4gIHNldFJhbmdlVGV4dChyZXBsYWNlbWVudCwgc3RhcnQsIGVuZCwgc2VsZWN0TW9kZSA9IFwicHJlc2VydmVcIikge1xuICAgIGNvbnN0IHNlbGVjdGlvblN0YXJ0ID0gc3RhcnQgIT0gbnVsbCA/IHN0YXJ0IDogdGhpcy5pbnB1dC5zZWxlY3Rpb25TdGFydDtcbiAgICBjb25zdCBzZWxlY3Rpb25FbmQgPSBlbmQgIT0gbnVsbCA/IGVuZCA6IHRoaXMuaW5wdXQuc2VsZWN0aW9uRW5kO1xuICAgIHRoaXMuaW5wdXQuc2V0UmFuZ2VUZXh0KHJlcGxhY2VtZW50LCBzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kLCBzZWxlY3RNb2RlKTtcbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gdGhpcy5pbnB1dC52YWx1ZSkge1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuaW5wdXQudmFsdWU7XG4gICAgfVxuICB9XG4gIC8qKiBEaXNwbGF5cyB0aGUgYnJvd3NlciBwaWNrZXIgZm9yIGFuIGlucHV0IGVsZW1lbnQgKG9ubHkgd29ya3MgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgaXQgZm9yIHRoZSBpbnB1dCB0eXBlKS4gKi9cbiAgc2hvd1BpY2tlcigpIHtcbiAgICBpZiAoXCJzaG93UGlja2VyXCIgaW4gSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUpIHtcbiAgICAgIHRoaXMuaW5wdXQuc2hvd1BpY2tlcigpO1xuICAgIH1cbiAgfVxuICAvKiogSW5jcmVtZW50cyB0aGUgdmFsdWUgb2YgYSBudW1lcmljIGlucHV0IHR5cGUgYnkgdGhlIHZhbHVlIG9mIHRoZSBzdGVwIGF0dHJpYnV0ZS4gKi9cbiAgc3RlcFVwKCkge1xuICAgIHRoaXMuaW5wdXQuc3RlcFVwKCk7XG4gICAgaWYgKHRoaXMudmFsdWUgIT09IHRoaXMuaW5wdXQudmFsdWUpIHtcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmlucHV0LnZhbHVlO1xuICAgIH1cbiAgfVxuICAvKiogRGVjcmVtZW50cyB0aGUgdmFsdWUgb2YgYSBudW1lcmljIGlucHV0IHR5cGUgYnkgdGhlIHZhbHVlIG9mIHRoZSBzdGVwIGF0dHJpYnV0ZS4gKi9cbiAgc3RlcERvd24oKSB7XG4gICAgdGhpcy5pbnB1dC5zdGVwRG93bigpO1xuICAgIGlmICh0aGlzLnZhbHVlICE9PSB0aGlzLmlucHV0LnZhbHVlKSB7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5pbnB1dC52YWx1ZTtcbiAgICB9XG4gIH1cbiAgLyoqIENoZWNrcyBmb3IgdmFsaWRpdHkgYnV0IGRvZXMgbm90IHNob3cgYSB2YWxpZGF0aW9uIG1lc3NhZ2UuIFJldHVybnMgYHRydWVgIHdoZW4gdmFsaWQgYW5kIGBmYWxzZWAgd2hlbiBpbnZhbGlkLiAqL1xuICBjaGVja1ZhbGlkaXR5KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0LmNoZWNrVmFsaWRpdHkoKTtcbiAgfVxuICAvKiogR2V0cyB0aGUgYXNzb2NpYXRlZCBmb3JtLCBpZiBvbmUgZXhpc3RzLiAqL1xuICBnZXRGb3JtKCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1Db250cm9sQ29udHJvbGxlci5nZXRGb3JtKCk7XG4gIH1cbiAgLyoqIENoZWNrcyBmb3IgdmFsaWRpdHkgYW5kIHNob3dzIHRoZSBicm93c2VyJ3MgdmFsaWRhdGlvbiBtZXNzYWdlIGlmIHRoZSBjb250cm9sIGlzIGludmFsaWQuICovXG4gIHJlcG9ydFZhbGlkaXR5KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0LnJlcG9ydFZhbGlkaXR5KCk7XG4gIH1cbiAgLyoqIFNldHMgYSBjdXN0b20gdmFsaWRhdGlvbiBtZXNzYWdlLiBQYXNzIGFuIGVtcHR5IHN0cmluZyB0byByZXN0b3JlIHZhbGlkaXR5LiAqL1xuICBzZXRDdXN0b21WYWxpZGl0eShtZXNzYWdlKSB7XG4gICAgdGhpcy5pbnB1dC5zZXRDdXN0b21WYWxpZGl0eShtZXNzYWdlKTtcbiAgICB0aGlzLmZvcm1Db250cm9sQ29udHJvbGxlci51cGRhdGVWYWxpZGl0eSgpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBoYXNMYWJlbFNsb3QgPSB0aGlzLmhhc1Nsb3RDb250cm9sbGVyLnRlc3QoXCJsYWJlbFwiKTtcbiAgICBjb25zdCBoYXNIZWxwVGV4dFNsb3QgPSB0aGlzLmhhc1Nsb3RDb250cm9sbGVyLnRlc3QoXCJoZWxwLXRleHRcIik7XG4gICAgY29uc3QgaGFzTGFiZWwgPSB0aGlzLmxhYmVsID8gdHJ1ZSA6ICEhaGFzTGFiZWxTbG90O1xuICAgIGNvbnN0IGhhc0hlbHBUZXh0ID0gdGhpcy5oZWxwVGV4dCA/IHRydWUgOiAhIWhhc0hlbHBUZXh0U2xvdDtcbiAgICBjb25zdCBoYXNDbGVhckljb24gPSB0aGlzLmNsZWFyYWJsZSAmJiAhdGhpcy5kaXNhYmxlZCAmJiAhdGhpcy5yZWFkb25seTtcbiAgICBjb25zdCBpc0NsZWFySWNvblZpc2libGUgPSBoYXNDbGVhckljb24gJiYgKHR5cGVvZiB0aGlzLnZhbHVlID09PSBcIm51bWJlclwiIHx8IHRoaXMudmFsdWUubGVuZ3RoID4gMCk7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2XG4gICAgICAgIHBhcnQ9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICBjbGFzcz0ke2NsYXNzTWFwKHtcbiAgICAgIFwiZm9ybS1jb250cm9sXCI6IHRydWUsXG4gICAgICBcImZvcm0tY29udHJvbC0tc21hbGxcIjogdGhpcy5zaXplID09PSBcInNtYWxsXCIsXG4gICAgICBcImZvcm0tY29udHJvbC0tbWVkaXVtXCI6IHRoaXMuc2l6ZSA9PT0gXCJtZWRpdW1cIixcbiAgICAgIFwiZm9ybS1jb250cm9sLS1sYXJnZVwiOiB0aGlzLnNpemUgPT09IFwibGFyZ2VcIixcbiAgICAgIFwiZm9ybS1jb250cm9sLS1oYXMtbGFiZWxcIjogaGFzTGFiZWwsXG4gICAgICBcImZvcm0tY29udHJvbC0taGFzLWhlbHAtdGV4dFwiOiBoYXNIZWxwVGV4dFxuICAgIH0pfVxuICAgICAgPlxuICAgICAgICA8bGFiZWxcbiAgICAgICAgICBwYXJ0PVwiZm9ybS1jb250cm9sLWxhYmVsXCJcbiAgICAgICAgICBjbGFzcz1cImZvcm0tY29udHJvbF9fbGFiZWxcIlxuICAgICAgICAgIGZvcj1cImlucHV0XCJcbiAgICAgICAgICBhcmlhLWhpZGRlbj0ke2hhc0xhYmVsID8gXCJmYWxzZVwiIDogXCJ0cnVlXCJ9XG4gICAgICAgID5cbiAgICAgICAgICA8c2xvdCBuYW1lPVwibGFiZWxcIj4ke3RoaXMubGFiZWx9PC9zbG90PlxuICAgICAgICA8L2xhYmVsPlxuXG4gICAgICAgIDxkaXYgcGFydD1cImZvcm0tY29udHJvbC1pbnB1dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgcGFydD1cImJhc2VcIlxuICAgICAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7XG4gICAgICBpbnB1dDogdHJ1ZSxcbiAgICAgIC8vIFNpemVzXG4gICAgICBcImlucHV0LS1zbWFsbFwiOiB0aGlzLnNpemUgPT09IFwic21hbGxcIixcbiAgICAgIFwiaW5wdXQtLW1lZGl1bVwiOiB0aGlzLnNpemUgPT09IFwibWVkaXVtXCIsXG4gICAgICBcImlucHV0LS1sYXJnZVwiOiB0aGlzLnNpemUgPT09IFwibGFyZ2VcIixcbiAgICAgIC8vIFN0YXRlc1xuICAgICAgXCJpbnB1dC0tcGlsbFwiOiB0aGlzLnBpbGwsXG4gICAgICBcImlucHV0LS1zdGFuZGFyZFwiOiAhdGhpcy5maWxsZWQsXG4gICAgICBcImlucHV0LS1maWxsZWRcIjogdGhpcy5maWxsZWQsXG4gICAgICBcImlucHV0LS1kaXNhYmxlZFwiOiB0aGlzLmRpc2FibGVkLFxuICAgICAgXCJpbnB1dC0tZm9jdXNlZFwiOiB0aGlzLmhhc0ZvY3VzLFxuICAgICAgXCJpbnB1dC0tZW1wdHlcIjogIXRoaXMudmFsdWUsXG4gICAgICBcImlucHV0LS1uby1zcGluLWJ1dHRvbnNcIjogdGhpcy5ub1NwaW5CdXR0b25zXG4gICAgfSl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gcGFydD1cInByZWZpeFwiIGNsYXNzPVwiaW5wdXRfX3ByZWZpeFwiPlxuICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwicHJlZml4XCI+PC9zbG90PlxuICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgcGFydD1cImlucHV0XCJcbiAgICAgICAgICAgICAgaWQ9XCJpbnB1dFwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiaW5wdXRfX2NvbnRyb2xcIlxuICAgICAgICAgICAgICB0eXBlPSR7dGhpcy50eXBlID09PSBcInBhc3N3b3JkXCIgJiYgdGhpcy5wYXNzd29yZFZpc2libGUgPyBcInRleHRcIiA6IHRoaXMudHlwZX1cbiAgICAgICAgICAgICAgdGl0bGU9JHt0aGlzLnRpdGxlfVxuICAgICAgICAgICAgICBuYW1lPSR7aWZEZWZpbmVkKHRoaXMubmFtZSl9XG4gICAgICAgICAgICAgID9kaXNhYmxlZD0ke3RoaXMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgID9yZWFkb25seT0ke3RoaXMucmVhZG9ubHl9XG4gICAgICAgICAgICAgID9yZXF1aXJlZD0ke3RoaXMucmVxdWlyZWR9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSR7aWZEZWZpbmVkKHRoaXMucGxhY2Vob2xkZXIpfVxuICAgICAgICAgICAgICBtaW5sZW5ndGg9JHtpZkRlZmluZWQodGhpcy5taW5sZW5ndGgpfVxuICAgICAgICAgICAgICBtYXhsZW5ndGg9JHtpZkRlZmluZWQodGhpcy5tYXhsZW5ndGgpfVxuICAgICAgICAgICAgICBtaW49JHtpZkRlZmluZWQodGhpcy5taW4pfVxuICAgICAgICAgICAgICBtYXg9JHtpZkRlZmluZWQodGhpcy5tYXgpfVxuICAgICAgICAgICAgICBzdGVwPSR7aWZEZWZpbmVkKHRoaXMuc3RlcCl9XG4gICAgICAgICAgICAgIC52YWx1ZT0ke2xpdmUodGhpcy52YWx1ZSl9XG4gICAgICAgICAgICAgIGF1dG9jYXBpdGFsaXplPSR7aWZEZWZpbmVkKHRoaXMuYXV0b2NhcGl0YWxpemUpfVxuICAgICAgICAgICAgICBhdXRvY29tcGxldGU9JHtpZkRlZmluZWQodGhpcy5hdXRvY29tcGxldGUpfVxuICAgICAgICAgICAgICBhdXRvY29ycmVjdD0ke2lmRGVmaW5lZCh0aGlzLmF1dG9jb3JyZWN0KX1cbiAgICAgICAgICAgICAgP2F1dG9mb2N1cz0ke3RoaXMuYXV0b2ZvY3VzfVxuICAgICAgICAgICAgICBzcGVsbGNoZWNrPSR7dGhpcy5zcGVsbGNoZWNrfVxuICAgICAgICAgICAgICBwYXR0ZXJuPSR7aWZEZWZpbmVkKHRoaXMucGF0dGVybil9XG4gICAgICAgICAgICAgIGVudGVya2V5aGludD0ke2lmRGVmaW5lZCh0aGlzLmVudGVya2V5aGludCl9XG4gICAgICAgICAgICAgIGlucHV0bW9kZT0ke2lmRGVmaW5lZCh0aGlzLmlucHV0bW9kZSl9XG4gICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJoZWxwLXRleHRcIlxuICAgICAgICAgICAgICBAY2hhbmdlPSR7dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgIEBpbnB1dD0ke3RoaXMuaGFuZGxlSW5wdXR9XG4gICAgICAgICAgICAgIEBpbnZhbGlkPSR7dGhpcy5oYW5kbGVJbnZhbGlkfVxuICAgICAgICAgICAgICBAa2V5ZG93bj0ke3RoaXMuaGFuZGxlS2V5RG93bn1cbiAgICAgICAgICAgICAgQGZvY3VzPSR7dGhpcy5oYW5kbGVGb2N1c31cbiAgICAgICAgICAgICAgQGJsdXI9JHt0aGlzLmhhbmRsZUJsdXJ9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAke2lzQ2xlYXJJY29uVmlzaWJsZSA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHBhcnQ9XCJjbGVhci1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImlucHV0X19jbGVhclwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPSR7dGhpcy5sb2NhbGl6ZS50ZXJtKFwiY2xlYXJFbnRyeVwiKX1cbiAgICAgICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5oYW5kbGVDbGVhckNsaWNrfVxuICAgICAgICAgICAgICAgICAgICB0YWJpbmRleD1cIi0xXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNsb3QgbmFtZT1cImNsZWFyLWljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c2wtaWNvbiBuYW1lPVwieC1jaXJjbGUtZmlsbFwiIGxpYnJhcnk9XCJzeXN0ZW1cIj48L3NsLWljb24+XG4gICAgICAgICAgICAgICAgICAgIDwvc2xvdD5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIGAgOiBcIlwifVxuICAgICAgICAgICAgJHt0aGlzLnBhc3N3b3JkVG9nZ2xlICYmICF0aGlzLmRpc2FibGVkID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgcGFydD1cInBhc3N3b3JkLXRvZ2dsZS1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImlucHV0X19wYXNzd29yZC10b2dnbGVcIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD0ke3RoaXMubG9jYWxpemUudGVybSh0aGlzLnBhc3N3b3JkVmlzaWJsZSA/IFwiaGlkZVBhc3N3b3JkXCIgOiBcInNob3dQYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5oYW5kbGVQYXNzd29yZFRvZ2dsZX1cbiAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCItMVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5wYXNzd29yZFZpc2libGUgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwic2hvdy1wYXNzd29yZC1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNsLWljb24gbmFtZT1cImV5ZS1zbGFzaFwiIGxpYnJhcnk9XCJzeXN0ZW1cIj48L3NsLWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2xvdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIGAgOiBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwiaGlkZS1wYXNzd29yZC1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNsLWljb24gbmFtZT1cImV5ZVwiIGxpYnJhcnk9XCJzeXN0ZW1cIj48L3NsLWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2xvdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICBgIDogXCJcIn1cblxuICAgICAgICAgICAgPHNwYW4gcGFydD1cInN1ZmZpeFwiIGNsYXNzPVwiaW5wdXRfX3N1ZmZpeFwiPlxuICAgICAgICAgICAgICA8c2xvdCBuYW1lPVwic3VmZml4XCI+PC9zbG90PlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcGFydD1cImZvcm0tY29udHJvbC1oZWxwLXRleHRcIlxuICAgICAgICAgIGlkPVwiaGVscC10ZXh0XCJcbiAgICAgICAgICBjbGFzcz1cImZvcm0tY29udHJvbF9faGVscC10ZXh0XCJcbiAgICAgICAgICBhcmlhLWhpZGRlbj0ke2hhc0hlbHBUZXh0ID8gXCJmYWxzZVwiIDogXCJ0cnVlXCJ9XG4gICAgICAgID5cbiAgICAgICAgICA8c2xvdCBuYW1lPVwiaGVscC10ZXh0XCI+JHt0aGlzLmhlbHBUZXh0fTwvc2xvdD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG59O1xuU2xJbnB1dC5zdHlsZXMgPSBbY29tcG9uZW50X3N0eWxlc19kZWZhdWx0LCBmb3JtX2NvbnRyb2xfc3R5bGVzX2RlZmF1bHQsIGlucHV0X3N0eWxlc19kZWZhdWx0XTtcblNsSW5wdXQuZGVwZW5kZW5jaWVzID0geyBcInNsLWljb25cIjogU2xJY29uIH07XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBxdWVyeShcIi5pbnB1dF9fY29udHJvbFwiKVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwiaW5wdXRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBzdGF0ZSgpXG5dLCBTbElucHV0LnByb3RvdHlwZSwgXCJoYXNGb2N1c1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsSW5wdXQucHJvdG90eXBlLCBcInRpdGxlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbElucHV0LnByb3RvdHlwZSwgXCJ0eXBlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoKVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwibmFtZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsSW5wdXQucHJvdG90eXBlLCBcInZhbHVlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgZGVmYXVsdFZhbHVlKClcbl0sIFNsSW5wdXQucHJvdG90eXBlLCBcImRlZmF1bHRWYWx1ZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwic2l6ZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwiZmlsbGVkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbElucHV0LnByb3RvdHlwZSwgXCJwaWxsXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoKVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwibGFiZWxcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogXCJoZWxwLXRleHRcIiB9KVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwiaGVscFRleHRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbl0sIFNsSW5wdXQucHJvdG90eXBlLCBcImNsZWFyYWJsZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbElucHV0LnByb3RvdHlwZSwgXCJwbGFjZWhvbGRlclwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwicmVhZG9ubHlcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogXCJwYXNzd29yZC10b2dnbGVcIiwgdHlwZTogQm9vbGVhbiB9KVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwicGFzc3dvcmRUb2dnbGVcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogXCJwYXNzd29yZC12aXNpYmxlXCIsIHR5cGU6IEJvb2xlYW4gfSlcbl0sIFNsSW5wdXQucHJvdG90eXBlLCBcInBhc3N3b3JkVmlzaWJsZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgYXR0cmlidXRlOiBcIm5vLXNwaW4tYnV0dG9uc1wiLCB0eXBlOiBCb29sZWFuIH0pXG5dLCBTbElucHV0LnByb3RvdHlwZSwgXCJub1NwaW5CdXR0b25zXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbElucHV0LnByb3RvdHlwZSwgXCJmb3JtXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbElucHV0LnByb3RvdHlwZSwgXCJyZXF1aXJlZFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsSW5wdXQucHJvdG90eXBlLCBcInBhdHRlcm5cIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciB9KVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwibWlubGVuZ3RoXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIgfSlcbl0sIFNsSW5wdXQucHJvdG90eXBlLCBcIm1heGxlbmd0aFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsSW5wdXQucHJvdG90eXBlLCBcIm1pblwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsSW5wdXQucHJvdG90eXBlLCBcIm1heFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsSW5wdXQucHJvdG90eXBlLCBcInN0ZXBcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbElucHV0LnByb3RvdHlwZSwgXCJhdXRvY2FwaXRhbGl6ZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsSW5wdXQucHJvdG90eXBlLCBcImF1dG9jb3JyZWN0XCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoKVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwiYXV0b2NvbXBsZXRlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG5dLCBTbElucHV0LnByb3RvdHlwZSwgXCJhdXRvZm9jdXNcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbElucHV0LnByb3RvdHlwZSwgXCJlbnRlcmtleWhpbnRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBjb252ZXJ0ZXI6IHtcbiAgICAgIC8vIEFsbG93IFwidHJ1ZXxmYWxzZVwiIGF0dHJpYnV0ZSB2YWx1ZXMgYnV0IGtlZXAgdGhlIHByb3BlcnR5IGJvb2xlYW5cbiAgICAgIGZyb21BdHRyaWJ1dGU6ICh2YWx1ZSkgPT4gIXZhbHVlIHx8IHZhbHVlID09PSBcImZhbHNlXCIgPyBmYWxzZSA6IHRydWUsXG4gICAgICB0b0F0dHJpYnV0ZTogKHZhbHVlKSA9PiB2YWx1ZSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiXG4gICAgfVxuICB9KVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwic3BlbGxjaGVja1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsSW5wdXQucHJvdG90eXBlLCBcImlucHV0bW9kZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHdhdGNoKFwiZGlzYWJsZWRcIiwgeyB3YWl0VW50aWxGaXJzdFVwZGF0ZTogdHJ1ZSB9KVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwiaGFuZGxlRGlzYWJsZWRDaGFuZ2VcIiwgMSk7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICB3YXRjaChcInN0ZXBcIiwgeyB3YWl0VW50aWxGaXJzdFVwZGF0ZTogdHJ1ZSB9KVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwiaGFuZGxlU3RlcENoYW5nZVwiLCAxKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHdhdGNoKFwidmFsdWVcIiwgeyB3YWl0VW50aWxGaXJzdFVwZGF0ZTogdHJ1ZSB9KVxuXSwgU2xJbnB1dC5wcm90b3R5cGUsIFwiaGFuZGxlVmFsdWVDaGFuZ2VcIiwgMSk7XG5cbmV4cG9ydCB7XG4gIFNsSW5wdXRcbn07XG4iLCAiaW1wb3J0IHtcbiAgU2xJbnB1dFxufSBmcm9tIFwiLi9jaHVuay5QU01YSUYyVC5qc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9pbnB1dC9pbnB1dC50c1xudmFyIGlucHV0X2RlZmF1bHQgPSBTbElucHV0O1xuU2xJbnB1dC5kZWZpbmUoXCJzbC1pbnB1dFwiKTtcblxuZXhwb3J0IHtcbiAgaW5wdXRfZGVmYXVsdFxufTtcbiIsICIvLyBzcmMvY29tcG9uZW50cy9yYXRpbmcvcmF0aW5nLnN0eWxlcy50c1xuaW1wb3J0IHsgY3NzIH0gZnJvbSBcImxpdFwiO1xudmFyIHJhdGluZ19zdHlsZXNfZGVmYXVsdCA9IGNzc2BcbiAgOmhvc3Qge1xuICAgIC0tc3ltYm9sLWNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTMwMCk7XG4gICAgLS1zeW1ib2wtY29sb3ItYWN0aXZlOiB2YXIoLS1zbC1jb2xvci1hbWJlci01MDApO1xuICAgIC0tc3ltYm9sLXNpemU6IDEuMnJlbTtcbiAgICAtLXN5bWJvbC1zcGFjaW5nOiB2YXIoLS1zbC1zcGFjaW5nLTN4LXNtYWxsKTtcblxuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICB9XG5cbiAgLnJhdGluZyB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXNsLWJvcmRlci1yYWRpdXMtbWVkaXVtKTtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICB9XG5cbiAgLnJhdGluZzpmb2N1cyB7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgfVxuXG4gIC5yYXRpbmc6Zm9jdXMtdmlzaWJsZSB7XG4gICAgb3V0bGluZTogdmFyKC0tc2wtZm9jdXMtcmluZyk7XG4gICAgb3V0bGluZS1vZmZzZXQ6IHZhcigtLXNsLWZvY3VzLXJpbmctb2Zmc2V0KTtcbiAgfVxuXG4gIC5yYXRpbmdfX3N5bWJvbHMge1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBmb250LXNpemU6IHZhcigtLXN5bWJvbC1zaXplKTtcbiAgICBsaW5lLWhlaWdodDogMDtcbiAgICBjb2xvcjogdmFyKC0tc3ltYm9sLWNvbG9yKTtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4gIC5yYXRpbmdfX3N5bWJvbHMgPiAqIHtcbiAgICBwYWRkaW5nOiB2YXIoLS1zeW1ib2wtc3BhY2luZyk7XG4gIH1cblxuICAucmF0aW5nX19zeW1ib2wtLWFjdGl2ZSxcbiAgLnJhdGluZ19fcGFydGlhbC0tZmlsbGVkIHtcbiAgICBjb2xvcjogdmFyKC0tc3ltYm9sLWNvbG9yLWFjdGl2ZSk7XG4gIH1cblxuICAucmF0aW5nX19wYXJ0aWFsLXN5bWJvbC1jb250YWluZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuXG4gIC5yYXRpbmdfX3BhcnRpYWwtLWZpbGxlZCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogdmFyKC0tc3ltYm9sLXNwYWNpbmcpO1xuICAgIGxlZnQ6IHZhcigtLXN5bWJvbC1zcGFjaW5nKTtcbiAgfVxuXG4gIC5yYXRpbmdfX3N5bWJvbCB7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tc2wtdHJhbnNpdGlvbi1mYXN0KSBzY2FsZTtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgfVxuXG4gIC5yYXRpbmdfX3N5bWJvbC0taG92ZXIge1xuICAgIHNjYWxlOiAxLjI7XG4gIH1cblxuICAucmF0aW5nLS1kaXNhYmxlZCAucmF0aW5nX19zeW1ib2xzLFxuICAucmF0aW5nLS1yZWFkb25seSAucmF0aW5nX19zeW1ib2xzIHtcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gIH1cblxuICAucmF0aW5nLS1kaXNhYmxlZCAucmF0aW5nX19zeW1ib2wtLWhvdmVyLFxuICAucmF0aW5nLS1yZWFkb25seSAucmF0aW5nX19zeW1ib2wtLWhvdmVyIHtcbiAgICBzY2FsZTogbm9uZTtcbiAgfVxuXG4gIC5yYXRpbmctLWRpc2FibGVkIHtcbiAgICBvcGFjaXR5OiAwLjU7XG4gIH1cblxuICAucmF0aW5nLS1kaXNhYmxlZCAucmF0aW5nX19zeW1ib2xzIHtcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICB9XG5cbiAgLyogRm9yY2VkIGNvbG9ycyBtb2RlICovXG4gIEBtZWRpYSAoZm9yY2VkLWNvbG9yczogYWN0aXZlKSB7XG4gICAgLnJhdGluZ19fc3ltYm9sLS1hY3RpdmUge1xuICAgICAgY29sb3I6IFNlbGVjdGVkSXRlbTtcbiAgICB9XG4gIH1cbmA7XG5cbmV4cG9ydCB7XG4gIHJhdGluZ19zdHlsZXNfZGVmYXVsdFxufTtcbiIsICIvLyBzcmMvaW50ZXJuYWwvbWF0aC50c1xuZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gIGNvbnN0IG5vTmVnYXRpdmVaZXJvID0gKG4pID0+IE9iamVjdC5pcyhuLCAtMCkgPyAwIDogbjtcbiAgaWYgKHZhbHVlIDwgbWluKSB7XG4gICAgcmV0dXJuIG5vTmVnYXRpdmVaZXJvKG1pbik7XG4gIH1cbiAgaWYgKHZhbHVlID4gbWF4KSB7XG4gICAgcmV0dXJuIG5vTmVnYXRpdmVaZXJvKG1heCk7XG4gIH1cbiAgcmV0dXJuIG5vTmVnYXRpdmVaZXJvKHZhbHVlKTtcbn1cblxuZXhwb3J0IHtcbiAgY2xhbXBcbn07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbmltcG9ydCB7QXR0cmlidXRlUGFydCwgbm9DaGFuZ2V9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcbmltcG9ydCB7XG4gIGRpcmVjdGl2ZSxcbiAgRGlyZWN0aXZlLFxuICBEaXJlY3RpdmVQYXJhbWV0ZXJzLFxuICBQYXJ0SW5mbyxcbiAgUGFydFR5cGUsXG59IGZyb20gJy4uL2RpcmVjdGl2ZS5qcyc7XG5cbi8qKlxuICogQSBrZXktdmFsdWUgc2V0IG9mIENTUyBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMuXG4gKlxuICogVGhlIGtleSBzaG91bGQgYmUgZWl0aGVyIGEgdmFsaWQgQ1NTIHByb3BlcnR5IG5hbWUgc3RyaW5nLCBsaWtlXG4gKiBgJ2JhY2tncm91bmQtY29sb3InYCwgb3IgYSB2YWxpZCBKYXZhU2NyaXB0IGNhbWVsIGNhc2UgcHJvcGVydHkgbmFtZVxuICogZm9yIENTU1N0eWxlRGVjbGFyYXRpb24gbGlrZSBgYmFja2dyb3VuZENvbG9yYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHlsZUluZm8ge1xuICBbbmFtZTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgdW5kZWZpbmVkIHwgbnVsbDtcbn1cblxuY29uc3QgaW1wb3J0YW50ID0gJ2ltcG9ydGFudCc7XG4vLyBUaGUgbGVhZGluZyBzcGFjZSBpcyBpbXBvcnRhbnRcbmNvbnN0IGltcG9ydGFudEZsYWcgPSAnICEnICsgaW1wb3J0YW50O1xuLy8gSG93IG1hbnkgY2hhcmFjdGVycyB0byByZW1vdmUgZnJvbSBhIHZhbHVlLCBhcyBhIG5lZ2F0aXZlIG51bWJlclxuY29uc3QgZmxhZ1RyaW0gPSAwIC0gaW1wb3J0YW50RmxhZy5sZW5ndGg7XG5cbmNsYXNzIFN0eWxlTWFwRGlyZWN0aXZlIGV4dGVuZHMgRGlyZWN0aXZlIHtcbiAgcHJpdmF0ZSBfcHJldmlvdXNTdHlsZVByb3BlcnRpZXM/OiBTZXQ8c3RyaW5nPjtcblxuICBjb25zdHJ1Y3RvcihwYXJ0SW5mbzogUGFydEluZm8pIHtcbiAgICBzdXBlcihwYXJ0SW5mbyk7XG4gICAgaWYgKFxuICAgICAgcGFydEluZm8udHlwZSAhPT0gUGFydFR5cGUuQVRUUklCVVRFIHx8XG4gICAgICBwYXJ0SW5mby5uYW1lICE9PSAnc3R5bGUnIHx8XG4gICAgICAocGFydEluZm8uc3RyaW5ncz8ubGVuZ3RoIGFzIG51bWJlcikgPiAyXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgYHN0eWxlTWFwYCBkaXJlY3RpdmUgbXVzdCBiZSB1c2VkIGluIHRoZSBgc3R5bGVgIGF0dHJpYnV0ZSAnICtcbiAgICAgICAgICAnYW5kIG11c3QgYmUgdGhlIG9ubHkgcGFydCBpbiB0aGUgYXR0cmlidXRlLidcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKHN0eWxlSW5mbzogUmVhZG9ubHk8U3R5bGVJbmZvPikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZUluZm8pLnJlZHVjZSgoc3R5bGUsIHByb3ApID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gc3R5bGVJbmZvW3Byb3BdO1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgICAgfVxuICAgICAgLy8gQ29udmVydCBwcm9wZXJ0eSBuYW1lcyBmcm9tIGNhbWVsLWNhc2UgdG8gZGFzaC1jYXNlLCBpLmUuOlxuICAgICAgLy8gIGBiYWNrZ3JvdW5kQ29sb3JgIC0+IGBiYWNrZ3JvdW5kLWNvbG9yYFxuICAgICAgLy8gVmVuZG9yLXByZWZpeGVkIG5hbWVzIG5lZWQgYW4gZXh0cmEgYC1gIGFwcGVuZGVkIHRvIGZyb250OlxuICAgICAgLy8gIGB3ZWJraXRBcHBlYXJhbmNlYCAtPiBgLXdlYmtpdC1hcHBlYXJhbmNlYFxuICAgICAgLy8gRXhjZXB0aW9uIGlzIGFueSBwcm9wZXJ0eSBuYW1lIGNvbnRhaW5pbmcgYSBkYXNoLCBpbmNsdWRpbmdcbiAgICAgIC8vIGN1c3RvbSBwcm9wZXJ0aWVzOyB3ZSBhc3N1bWUgdGhlc2UgYXJlIGFscmVhZHkgZGFzaC1jYXNlZCBpLmUuOlxuICAgICAgLy8gIGAtLW15LWJ1dHRvbi1jb2xvcmAgLS0+IGAtLW15LWJ1dHRvbi1jb2xvcmBcbiAgICAgIHByb3AgPSBwcm9wLmluY2x1ZGVzKCctJylcbiAgICAgICAgPyBwcm9wXG4gICAgICAgIDogcHJvcFxuICAgICAgICAgICAgLnJlcGxhY2UoLyg/Ol4od2Via2l0fG1venxtc3xvKXwpKD89W0EtWl0pL2csICctJCYnKVxuICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gc3R5bGUgKyBgJHtwcm9wfToke3ZhbHVlfTtgO1xuICAgIH0sICcnKTtcbiAgfVxuXG4gIG92ZXJyaWRlIHVwZGF0ZShwYXJ0OiBBdHRyaWJ1dGVQYXJ0LCBbc3R5bGVJbmZvXTogRGlyZWN0aXZlUGFyYW1ldGVyczx0aGlzPikge1xuICAgIGNvbnN0IHtzdHlsZX0gPSBwYXJ0LmVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICBpZiAodGhpcy5fcHJldmlvdXNTdHlsZVByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fcHJldmlvdXNTdHlsZVByb3BlcnRpZXMgPSBuZXcgU2V0KE9iamVjdC5rZXlzKHN0eWxlSW5mbykpO1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKHN0eWxlSW5mbyk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIG9sZCBwcm9wZXJ0aWVzIHRoYXQgbm8gbG9uZ2VyIGV4aXN0IGluIHN0eWxlSW5mb1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiB0aGlzLl9wcmV2aW91c1N0eWxlUHJvcGVydGllcykge1xuICAgICAgLy8gSWYgdGhlIG5hbWUgaXNuJ3QgaW4gc3R5bGVJbmZvIG9yIGl0J3MgbnVsbC91bmRlZmluZWRcbiAgICAgIGlmIChzdHlsZUluZm9bbmFtZV0gPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9wcmV2aW91c1N0eWxlUHJvcGVydGllcyEuZGVsZXRlKG5hbWUpO1xuICAgICAgICBpZiAobmFtZS5pbmNsdWRlcygnLScpKSB7XG4gICAgICAgICAgc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAoc3R5bGUgYXMgYW55KVtuYW1lXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgb3IgdXBkYXRlIHByb3BlcnRpZXNcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gc3R5bGVJbmZvKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHN0eWxlSW5mb1tuYW1lXTtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGVQcm9wZXJ0aWVzLmFkZChuYW1lKTtcbiAgICAgICAgY29uc3QgaXNJbXBvcnRhbnQgPVxuICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUuZW5kc1dpdGgoaW1wb3J0YW50RmxhZyk7XG4gICAgICAgIGlmIChuYW1lLmluY2x1ZGVzKCctJykgfHwgaXNJbXBvcnRhbnQpIHtcbiAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBpc0ltcG9ydGFudFxuICAgICAgICAgICAgICA/ICh2YWx1ZSBhcyBzdHJpbmcpLnNsaWNlKDAsIGZsYWdUcmltKVxuICAgICAgICAgICAgICA6ICh2YWx1ZSBhcyBzdHJpbmcpLFxuICAgICAgICAgICAgaXNJbXBvcnRhbnQgPyBpbXBvcnRhbnQgOiAnJ1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAoc3R5bGUgYXMgYW55KVtuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub0NoYW5nZTtcbiAgfVxufVxuXG4vKipcbiAqIEEgZGlyZWN0aXZlIHRoYXQgYXBwbGllcyBDU1MgcHJvcGVydGllcyB0byBhbiBlbGVtZW50LlxuICpcbiAqIGBzdHlsZU1hcGAgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgYHN0eWxlYCBhdHRyaWJ1dGUgYW5kIG11c3QgYmUgdGhlIG9ubHlcbiAqIGV4cHJlc3Npb24gaW4gdGhlIGF0dHJpYnV0ZS4gSXQgdGFrZXMgdGhlIHByb3BlcnR5IG5hbWVzIGluIHRoZVxuICoge0BsaW5rIFN0eWxlSW5mbyBzdHlsZUluZm99IG9iamVjdCBhbmQgYWRkcyB0aGUgcHJvcGVydGllcyB0byB0aGUgaW5saW5lXG4gKiBzdHlsZSBvZiB0aGUgZWxlbWVudC5cbiAqXG4gKiBQcm9wZXJ0eSBuYW1lcyB3aXRoIGRhc2hlcyAoYC1gKSBhcmUgYXNzdW1lZCB0byBiZSB2YWxpZCBDU1NcbiAqIHByb3BlcnR5IG5hbWVzIGFuZCBzZXQgb24gdGhlIGVsZW1lbnQncyBzdHlsZSBvYmplY3QgdXNpbmcgYHNldFByb3BlcnR5KClgLlxuICogTmFtZXMgd2l0aG91dCBkYXNoZXMgYXJlIGFzc3VtZWQgdG8gYmUgY2FtZWxDYXNlZCBKYXZhU2NyaXB0IHByb3BlcnR5IG5hbWVzXG4gKiBhbmQgc2V0IG9uIHRoZSBlbGVtZW50J3Mgc3R5bGUgb2JqZWN0IHVzaW5nIHByb3BlcnR5IGFzc2lnbm1lbnQsIGFsbG93aW5nIHRoZVxuICogc3R5bGUgb2JqZWN0IHRvIHRyYW5zbGF0ZSBKYXZhU2NyaXB0LXN0eWxlIG5hbWVzIHRvIENTUyBwcm9wZXJ0eSBuYW1lcy5cbiAqXG4gKiBGb3IgZXhhbXBsZSBgc3R5bGVNYXAoe2JhY2tncm91bmRDb2xvcjogJ3JlZCcsICdib3JkZXItdG9wJzogJzVweCcsICctLXNpemUnOlxuICogJzAnfSlgIHNldHMgdGhlIGBiYWNrZ3JvdW5kLWNvbG9yYCwgYGJvcmRlci10b3BgIGFuZCBgLS1zaXplYCBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSBzdHlsZUluZm9cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vbGl0LmRldi9kb2NzL3RlbXBsYXRlcy9kaXJlY3RpdmVzLyNzdHlsZW1hcCBzdHlsZU1hcCBjb2RlIHNhbXBsZXMgb24gTGl0LmRldn1cbiAqL1xuZXhwb3J0IGNvbnN0IHN0eWxlTWFwID0gZGlyZWN0aXZlKFN0eWxlTWFwRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBUaGUgdHlwZSBvZiB0aGUgY2xhc3MgdGhhdCBwb3dlcnMgdGhpcyBkaXJlY3RpdmUuIE5lY2Vzc2FyeSBmb3IgbmFtaW5nIHRoZVxuICogZGlyZWN0aXZlJ3MgcmV0dXJuIHR5cGUuXG4gKi9cbmV4cG9ydCB0eXBlIHtTdHlsZU1hcERpcmVjdGl2ZX07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbmltcG9ydCB7bm90aGluZywgVGVtcGxhdGVSZXN1bHQsIG5vQ2hhbmdlfSBmcm9tICcuLi9saXQtaHRtbC5qcyc7XG5pbXBvcnQge2RpcmVjdGl2ZSwgRGlyZWN0aXZlLCBQYXJ0SW5mbywgUGFydFR5cGV9IGZyb20gJy4uL2RpcmVjdGl2ZS5qcyc7XG5cbmNvbnN0IEhUTUxfUkVTVUxUID0gMTtcblxuZXhwb3J0IGNsYXNzIFVuc2FmZUhUTUxEaXJlY3RpdmUgZXh0ZW5kcyBEaXJlY3RpdmUge1xuICBzdGF0aWMgZGlyZWN0aXZlTmFtZSA9ICd1bnNhZmVIVE1MJztcbiAgc3RhdGljIHJlc3VsdFR5cGUgPSBIVE1MX1JFU1VMVDtcblxuICBwcml2YXRlIF92YWx1ZTogdW5rbm93biA9IG5vdGhpbmc7XG4gIHByaXZhdGUgX3RlbXBsYXRlUmVzdWx0PzogVGVtcGxhdGVSZXN1bHQ7XG5cbiAgY29uc3RydWN0b3IocGFydEluZm86IFBhcnRJbmZvKSB7XG4gICAgc3VwZXIocGFydEluZm8pO1xuICAgIGlmIChwYXJ0SW5mby50eXBlICE9PSBQYXJ0VHlwZS5DSElMRCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgJHtcbiAgICAgICAgICAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgVW5zYWZlSFRNTERpcmVjdGl2ZSkuZGlyZWN0aXZlTmFtZVxuICAgICAgICB9KCkgY2FuIG9ubHkgYmUgdXNlZCBpbiBjaGlsZCBiaW5kaW5nc2BcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKHZhbHVlOiBzdHJpbmcgfCB0eXBlb2Ygbm90aGluZyB8IHR5cGVvZiBub0NoYW5nZSB8IHVuZGVmaW5lZCB8IG51bGwpIHtcbiAgICBpZiAodmFsdWUgPT09IG5vdGhpbmcgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgdGhpcy5fdGVtcGxhdGVSZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gKHRoaXMuX3ZhbHVlID0gdmFsdWUpO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYCR7XG4gICAgICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFVuc2FmZUhUTUxEaXJlY3RpdmUpLmRpcmVjdGl2ZU5hbWVcbiAgICAgICAgfSgpIGNhbGxlZCB3aXRoIGEgbm9uLXN0cmluZyB2YWx1ZWBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl90ZW1wbGF0ZVJlc3VsdDtcbiAgICB9XG4gICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICBjb25zdCBzdHJpbmdzID0gW3ZhbHVlXSBhcyB1bmtub3duIGFzIFRlbXBsYXRlU3RyaW5nc0FycmF5O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgKHN0cmluZ3MgYXMgYW55KS5yYXcgPSBzdHJpbmdzO1xuICAgIC8vIFdBUk5JTkc6IGltcGVyc29uYXRpbmcgYSBUZW1wbGF0ZVJlc3VsdCBsaWtlIHRoaXMgaXMgZXh0cmVtZWx5XG4gICAgLy8gZGFuZ2Vyb3VzLiBUaGlyZC1wYXJ0eSBkaXJlY3RpdmVzIHNob3VsZCBub3QgZG8gdGhpcy5cbiAgICByZXR1cm4gKHRoaXMuX3RlbXBsYXRlUmVzdWx0ID0ge1xuICAgICAgLy8gQ2FzdCB0byBhIGtub3duIHNldCBvZiBpbnRlZ2VycyB0aGF0IHNhdGlzZnkgUmVzdWx0VHlwZSBzbyB0aGF0IHdlXG4gICAgICAvLyBkb24ndCBoYXZlIHRvIGV4cG9ydCBSZXN1bHRUeXBlIGFuZCBwb3NzaWJseSBlbmNvdXJhZ2UgdGhpcyBwYXR0ZXJuLlxuICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAgIFsnXyRsaXRUeXBlJCddOiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgVW5zYWZlSFRNTERpcmVjdGl2ZSlcbiAgICAgICAgLnJlc3VsdFR5cGUgYXMgMSB8IDIsXG4gICAgICBzdHJpbmdzLFxuICAgICAgdmFsdWVzOiBbXSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbmRlcnMgdGhlIHJlc3VsdCBhcyBIVE1MLCByYXRoZXIgdGhhbiB0ZXh0LlxuICpcbiAqIFRoZSB2YWx1ZXMgYHVuZGVmaW5lZGAsIGBudWxsYCwgYW5kIGBub3RoaW5nYCwgd2lsbCBhbGwgcmVzdWx0IGluIG5vIGNvbnRlbnRcbiAqIChlbXB0eSBzdHJpbmcpIGJlaW5nIHJlbmRlcmVkLlxuICpcbiAqIE5vdGUsIHRoaXMgaXMgdW5zYWZlIHRvIHVzZSB3aXRoIGFueSB1c2VyLXByb3ZpZGVkIGlucHV0IHRoYXQgaGFzbid0IGJlZW5cbiAqIHNhbml0aXplZCBvciBlc2NhcGVkLCBhcyBpdCBtYXkgbGVhZCB0byBjcm9zcy1zaXRlLXNjcmlwdGluZ1xuICogdnVsbmVyYWJpbGl0aWVzLlxuICovXG5leHBvcnQgY29uc3QgdW5zYWZlSFRNTCA9IGRpcmVjdGl2ZShVbnNhZmVIVE1MRGlyZWN0aXZlKTtcbiIsICJpbXBvcnQge1xuICByYXRpbmdfc3R5bGVzX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmsuWDJXVzJUV0ouanNcIjtcbmltcG9ydCB7XG4gIGNsYW1wXG59IGZyb20gXCIuL2NodW5rLkhGN0dFU01aLmpzXCI7XG5pbXBvcnQge1xuICBMb2NhbGl6ZUNvbnRyb2xsZXJcbn0gZnJvbSBcIi4vY2h1bmsuV0xWM0ZWQlIuanNcIjtcbmltcG9ydCB7XG4gIFNsSWNvblxufSBmcm9tIFwiLi9jaHVuay5IMzNDM01STS5qc1wiO1xuaW1wb3J0IHtcbiAgd2F0Y2hcbn0gZnJvbSBcIi4vY2h1bmsuMkZCNVRLNUguanNcIjtcbmltcG9ydCB7XG4gIGNvbXBvbmVudF9zdHlsZXNfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay5UVVZKS1k3Uy5qc1wiO1xuaW1wb3J0IHtcbiAgU2hvZWxhY2VFbGVtZW50XG59IGZyb20gXCIuL2NodW5rLlNGU1RYQ1hDLmpzXCI7XG5pbXBvcnQge1xuICBfX2RlY29yYXRlQ2xhc3Ncbn0gZnJvbSBcIi4vY2h1bmsuSUZEV002UDQuanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvcmF0aW5nL3JhdGluZy5jb21wb25lbnQudHNcbmltcG9ydCB7IGNsYXNzTWFwIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qc1wiO1xuaW1wb3J0IHsgZXZlbnRPcHRpb25zLCBwcm9wZXJ0eSwgcXVlcnksIHN0YXRlIH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzLmpzXCI7XG5pbXBvcnQgeyBodG1sIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgc3R5bGVNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvc3R5bGUtbWFwLmpzXCI7XG5pbXBvcnQgeyB1bnNhZmVIVE1MIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLmpzXCI7XG52YXIgU2xSYXRpbmcgPSBjbGFzcyBleHRlbmRzIFNob2VsYWNlRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5sb2NhbGl6ZSA9IG5ldyBMb2NhbGl6ZUNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5ob3ZlclZhbHVlID0gMDtcbiAgICB0aGlzLmlzSG92ZXJpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmxhYmVsID0gXCJcIjtcbiAgICB0aGlzLnZhbHVlID0gMDtcbiAgICB0aGlzLm1heCA9IDU7XG4gICAgdGhpcy5wcmVjaXNpb24gPSAxO1xuICAgIHRoaXMucmVhZG9ubHkgPSBmYWxzZTtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5nZXRTeW1ib2wgPSAoKSA9PiAnPHNsLWljb24gbmFtZT1cInN0YXItZmlsbFwiIGxpYnJhcnk9XCJzeXN0ZW1cIj48L3NsLWljb24+JztcbiAgfVxuICBnZXRWYWx1ZUZyb21Nb3VzZVBvc2l0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVGcm9tWENvb3JkaW5hdGUoZXZlbnQuY2xpZW50WCk7XG4gIH1cbiAgZ2V0VmFsdWVGcm9tVG91Y2hQb3NpdGlvbihldmVudCkge1xuICAgIHJldHVybiB0aGlzLmdldFZhbHVlRnJvbVhDb29yZGluYXRlKGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCk7XG4gIH1cbiAgZ2V0VmFsdWVGcm9tWENvb3JkaW5hdGUoY29vcmRpbmF0ZSkge1xuICAgIGNvbnN0IGlzUnRsID0gdGhpcy5sb2NhbGl6ZS5kaXIoKSA9PT0gXCJydGxcIjtcbiAgICBjb25zdCB7IGxlZnQsIHJpZ2h0LCB3aWR0aCB9ID0gdGhpcy5yYXRpbmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgdmFsdWUgPSBpc1J0bCA/IHRoaXMucm91bmRUb1ByZWNpc2lvbigocmlnaHQgLSBjb29yZGluYXRlKSAvIHdpZHRoICogdGhpcy5tYXgsIHRoaXMucHJlY2lzaW9uKSA6IHRoaXMucm91bmRUb1ByZWNpc2lvbigoY29vcmRpbmF0ZSAtIGxlZnQpIC8gd2lkdGggKiB0aGlzLm1heCwgdGhpcy5wcmVjaXNpb24pO1xuICAgIHJldHVybiBjbGFtcCh2YWx1ZSwgMCwgdGhpcy5tYXgpO1xuICB9XG4gIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRWYWx1ZSh0aGlzLmdldFZhbHVlRnJvbU1vdXNlUG9zaXRpb24oZXZlbnQpKTtcbiAgICB0aGlzLmVtaXQoXCJzbC1jaGFuZ2VcIik7XG4gIH1cbiAgc2V0VmFsdWUobmV3VmFsdWUpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCB0aGlzLnJlYWRvbmx5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZSA9PT0gdGhpcy52YWx1ZSA/IDAgOiBuZXdWYWx1ZTtcbiAgICB0aGlzLmlzSG92ZXJpbmcgPSBmYWxzZTtcbiAgfVxuICBoYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgY29uc3QgaXNMdHIgPSB0aGlzLmxvY2FsaXplLmRpcigpID09PSBcImx0clwiO1xuICAgIGNvbnN0IGlzUnRsID0gdGhpcy5sb2NhbGl6ZS5kaXIoKSA9PT0gXCJydGxcIjtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5yZWFkb25seSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93RG93blwiIHx8IGlzTHRyICYmIGV2ZW50LmtleSA9PT0gXCJBcnJvd0xlZnRcIiB8fCBpc1J0bCAmJiBldmVudC5rZXkgPT09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgICBjb25zdCBkZWNyZW1lbnQgPSBldmVudC5zaGlmdEtleSA/IDEgOiB0aGlzLnByZWNpc2lvbjtcbiAgICAgIHRoaXMudmFsdWUgPSBNYXRoLm1heCgwLCB0aGlzLnZhbHVlIC0gZGVjcmVtZW50KTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dVcFwiIHx8IGlzTHRyICYmIGV2ZW50LmtleSA9PT0gXCJBcnJvd1JpZ2h0XCIgfHwgaXNSdGwgJiYgZXZlbnQua2V5ID09PSBcIkFycm93TGVmdFwiKSB7XG4gICAgICBjb25zdCBpbmNyZW1lbnQgPSBldmVudC5zaGlmdEtleSA/IDEgOiB0aGlzLnByZWNpc2lvbjtcbiAgICAgIHRoaXMudmFsdWUgPSBNYXRoLm1pbih0aGlzLm1heCwgdGhpcy52YWx1ZSArIGluY3JlbWVudCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkhvbWVcIikge1xuICAgICAgdGhpcy52YWx1ZSA9IDA7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVuZFwiKSB7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5tYXg7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgIHRoaXMuZW1pdChcInNsLWNoYW5nZVwiKTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlTW91c2VFbnRlcihldmVudCkge1xuICAgIHRoaXMuaXNIb3ZlcmluZyA9IHRydWU7XG4gICAgdGhpcy5ob3ZlclZhbHVlID0gdGhpcy5nZXRWYWx1ZUZyb21Nb3VzZVBvc2l0aW9uKGV2ZW50KTtcbiAgfVxuICBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHtcbiAgICB0aGlzLmhvdmVyVmFsdWUgPSB0aGlzLmdldFZhbHVlRnJvbU1vdXNlUG9zaXRpb24oZXZlbnQpO1xuICB9XG4gIGhhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgdGhpcy5pc0hvdmVyaW5nID0gZmFsc2U7XG4gIH1cbiAgaGFuZGxlVG91Y2hTdGFydChldmVudCkge1xuICAgIHRoaXMuaXNIb3ZlcmluZyA9IHRydWU7XG4gICAgdGhpcy5ob3ZlclZhbHVlID0gdGhpcy5nZXRWYWx1ZUZyb21Ub3VjaFBvc2l0aW9uKGV2ZW50KTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIGhhbmRsZVRvdWNoTW92ZShldmVudCkge1xuICAgIHRoaXMuaG92ZXJWYWx1ZSA9IHRoaXMuZ2V0VmFsdWVGcm9tVG91Y2hQb3NpdGlvbihldmVudCk7XG4gIH1cbiAgaGFuZGxlVG91Y2hFbmQoZXZlbnQpIHtcbiAgICB0aGlzLmlzSG92ZXJpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnNldFZhbHVlKHRoaXMuaG92ZXJWYWx1ZSk7XG4gICAgdGhpcy5lbWl0KFwic2wtY2hhbmdlXCIpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgcm91bmRUb1ByZWNpc2lvbihudW1iZXJUb1JvdW5kLCBwcmVjaXNpb24gPSAwLjUpIHtcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gMSAvIHByZWNpc2lvbjtcbiAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlclRvUm91bmQgKiBtdWx0aXBsaWVyKSAvIG11bHRpcGxpZXI7XG4gIH1cbiAgaGFuZGxlSG92ZXJWYWx1ZUNoYW5nZSgpIHtcbiAgICB0aGlzLmVtaXQoXCJzbC1ob3ZlclwiLCB7XG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgcGhhc2U6IFwibW92ZVwiLFxuICAgICAgICB2YWx1ZTogdGhpcy5ob3ZlclZhbHVlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaGFuZGxlSXNIb3ZlcmluZ0NoYW5nZSgpIHtcbiAgICB0aGlzLmVtaXQoXCJzbC1ob3ZlclwiLCB7XG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgcGhhc2U6IHRoaXMuaXNIb3ZlcmluZyA/IFwic3RhcnRcIiA6IFwiZW5kXCIsXG4gICAgICAgIHZhbHVlOiB0aGlzLmhvdmVyVmFsdWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKiogU2V0cyBmb2N1cyBvbiB0aGUgcmF0aW5nLiAqL1xuICBmb2N1cyhvcHRpb25zKSB7XG4gICAgdGhpcy5yYXRpbmcuZm9jdXMob3B0aW9ucyk7XG4gIH1cbiAgLyoqIFJlbW92ZXMgZm9jdXMgZnJvbSB0aGUgcmF0aW5nLiAqL1xuICBibHVyKCkge1xuICAgIHRoaXMucmF0aW5nLmJsdXIoKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNSdGwgPSB0aGlzLmxvY2FsaXplLmRpcigpID09PSBcInJ0bFwiO1xuICAgIGNvbnN0IGNvdW50ZXIgPSBBcnJheS5mcm9tKEFycmF5KHRoaXMubWF4KS5rZXlzKCkpO1xuICAgIGxldCBkaXNwbGF5VmFsdWUgPSAwO1xuICAgIGlmICh0aGlzLmRpc2FibGVkIHx8IHRoaXMucmVhZG9ubHkpIHtcbiAgICAgIGRpc3BsYXlWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BsYXlWYWx1ZSA9IHRoaXMuaXNIb3ZlcmluZyA/IHRoaXMuaG92ZXJWYWx1ZSA6IHRoaXMudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdlxuICAgICAgICBwYXJ0PVwiYmFzZVwiXG4gICAgICAgIGNsYXNzPSR7Y2xhc3NNYXAoe1xuICAgICAgcmF0aW5nOiB0cnVlLFxuICAgICAgXCJyYXRpbmctLXJlYWRvbmx5XCI6IHRoaXMucmVhZG9ubHksXG4gICAgICBcInJhdGluZy0tZGlzYWJsZWRcIjogdGhpcy5kaXNhYmxlZCxcbiAgICAgIFwicmF0aW5nLS1ydGxcIjogaXNSdGxcbiAgICB9KX1cbiAgICAgICAgcm9sZT1cInNsaWRlclwiXG4gICAgICAgIGFyaWEtbGFiZWw9JHt0aGlzLmxhYmVsfVxuICAgICAgICBhcmlhLWRpc2FibGVkPSR7dGhpcy5kaXNhYmxlZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwifVxuICAgICAgICBhcmlhLXJlYWRvbmx5PSR7dGhpcy5yZWFkb25seSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwifVxuICAgICAgICBhcmlhLXZhbHVlbm93PSR7dGhpcy52YWx1ZX1cbiAgICAgICAgYXJpYS12YWx1ZW1pbj0kezB9XG4gICAgICAgIGFyaWEtdmFsdWVtYXg9JHt0aGlzLm1heH1cbiAgICAgICAgdGFiaW5kZXg9JHt0aGlzLmRpc2FibGVkID8gXCItMVwiIDogXCIwXCJ9XG4gICAgICAgIEBjbGljaz0ke3RoaXMuaGFuZGxlQ2xpY2t9XG4gICAgICAgIEBrZXlkb3duPSR7dGhpcy5oYW5kbGVLZXlEb3dufVxuICAgICAgICBAbW91c2VlbnRlcj0ke3RoaXMuaGFuZGxlTW91c2VFbnRlcn1cbiAgICAgICAgQHRvdWNoc3RhcnQ9JHt0aGlzLmhhbmRsZVRvdWNoU3RhcnR9XG4gICAgICAgIEBtb3VzZWxlYXZlPSR7dGhpcy5oYW5kbGVNb3VzZUxlYXZlfVxuICAgICAgICBAdG91Y2hlbmQ9JHt0aGlzLmhhbmRsZVRvdWNoRW5kfVxuICAgICAgICBAbW91c2Vtb3ZlPSR7dGhpcy5oYW5kbGVNb3VzZU1vdmV9XG4gICAgICAgIEB0b3VjaG1vdmU9JHt0aGlzLmhhbmRsZVRvdWNoTW92ZX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJyYXRpbmdfX3N5bWJvbHNcIj5cbiAgICAgICAgICAke2NvdW50ZXIubWFwKChpbmRleCkgPT4ge1xuICAgICAgaWYgKGRpc3BsYXlWYWx1ZSA+IGluZGV4ICYmIGRpc3BsYXlWYWx1ZSA8IGluZGV4ICsgMSkge1xuICAgICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7XG4gICAgICAgICAgcmF0aW5nX19zeW1ib2w6IHRydWUsXG4gICAgICAgICAgXCJyYXRpbmdfX3BhcnRpYWwtc3ltYm9sLWNvbnRhaW5lclwiOiB0cnVlLFxuICAgICAgICAgIFwicmF0aW5nX19zeW1ib2wtLWhvdmVyXCI6IHRoaXMuaXNIb3ZlcmluZyAmJiBNYXRoLmNlaWwoZGlzcGxheVZhbHVlKSA9PT0gaW5kZXggKyAxXG4gICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICBjbGlwUGF0aDogaXNSdGwgPyBgaW5zZXQoMCAkeyhkaXNwbGF5VmFsdWUgLSBpbmRleCkgKiAxMDB9JSAwIDApYCA6IGBpbnNldCgwIDAgMCAkeyhkaXNwbGF5VmFsdWUgLSBpbmRleCkgKiAxMDB9JSlgXG4gICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAke3Vuc2FmZUhUTUwodGhpcy5nZXRTeW1ib2woaW5kZXggKyAxKSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyYXRpbmdfX3BhcnRpYWwtLWZpbGxlZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPSR7c3R5bGVNYXAoe1xuICAgICAgICAgIGNsaXBQYXRoOiBpc1J0bCA/IGBpbnNldCgwIDAgMCAkezEwMCAtIChkaXNwbGF5VmFsdWUgLSBpbmRleCkgKiAxMDB9JSlgIDogYGluc2V0KDAgJHsxMDAgLSAoZGlzcGxheVZhbHVlIC0gaW5kZXgpICogMTAwfSUgMCAwKWBcbiAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICR7dW5zYWZlSFRNTCh0aGlzLmdldFN5bWJvbChpbmRleCArIDEpKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzPSR7Y2xhc3NNYXAoe1xuICAgICAgICByYXRpbmdfX3N5bWJvbDogdHJ1ZSxcbiAgICAgICAgXCJyYXRpbmdfX3N5bWJvbC0taG92ZXJcIjogdGhpcy5pc0hvdmVyaW5nICYmIE1hdGguY2VpbChkaXNwbGF5VmFsdWUpID09PSBpbmRleCArIDEsXG4gICAgICAgIFwicmF0aW5nX19zeW1ib2wtLWFjdGl2ZVwiOiBkaXNwbGF5VmFsdWUgPj0gaW5kZXggKyAxXG4gICAgICB9KX1cbiAgICAgICAgICAgICAgICByb2xlPVwicHJlc2VudGF0aW9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICR7dW5zYWZlSFRNTCh0aGlzLmdldFN5bWJvbChpbmRleCArIDEpKX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgYDtcbiAgICB9KX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxufTtcblNsUmF0aW5nLnN0eWxlcyA9IFtjb21wb25lbnRfc3R5bGVzX2RlZmF1bHQsIHJhdGluZ19zdHlsZXNfZGVmYXVsdF07XG5TbFJhdGluZy5kZXBlbmRlbmNpZXMgPSB7IFwic2wtaWNvblwiOiBTbEljb24gfTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHF1ZXJ5KFwiLnJhdGluZ1wiKVxuXSwgU2xSYXRpbmcucHJvdG90eXBlLCBcInJhdGluZ1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHN0YXRlKClcbl0sIFNsUmF0aW5nLnByb3RvdHlwZSwgXCJob3ZlclZhbHVlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgc3RhdGUoKVxuXSwgU2xSYXRpbmcucHJvdG90eXBlLCBcImlzSG92ZXJpbmdcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbFJhdGluZy5wcm90b3R5cGUsIFwibGFiZWxcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciB9KVxuXSwgU2xSYXRpbmcucHJvdG90eXBlLCBcInZhbHVlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIgfSlcbl0sIFNsUmF0aW5nLnByb3RvdHlwZSwgXCJtYXhcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciB9KVxuXSwgU2xSYXRpbmcucHJvdG90eXBlLCBcInByZWNpc2lvblwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xSYXRpbmcucHJvdG90eXBlLCBcInJlYWRvbmx5XCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbFJhdGluZy5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbFJhdGluZy5wcm90b3R5cGUsIFwiZ2V0U3ltYm9sXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgZXZlbnRPcHRpb25zKHsgcGFzc2l2ZTogdHJ1ZSB9KVxuXSwgU2xSYXRpbmcucHJvdG90eXBlLCBcImhhbmRsZVRvdWNoTW92ZVwiLCAxKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHdhdGNoKFwiaG92ZXJWYWx1ZVwiKVxuXSwgU2xSYXRpbmcucHJvdG90eXBlLCBcImhhbmRsZUhvdmVyVmFsdWVDaGFuZ2VcIiwgMSk7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICB3YXRjaChcImlzSG92ZXJpbmdcIilcbl0sIFNsUmF0aW5nLnByb3RvdHlwZSwgXCJoYW5kbGVJc0hvdmVyaW5nQ2hhbmdlXCIsIDEpO1xuXG5leHBvcnQge1xuICBTbFJhdGluZ1xufTtcbiIsICJpbXBvcnQge1xuICBTbFJhdGluZ1xufSBmcm9tIFwiLi9jaHVuay5HUFFUWVMzRC5qc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9yYXRpbmcvcmF0aW5nLnRzXG52YXIgcmF0aW5nX2RlZmF1bHQgPSBTbFJhdGluZztcblNsUmF0aW5nLmRlZmluZShcInNsLXJhdGluZ1wiKTtcblxuZXhwb3J0IHtcbiAgcmF0aW5nX2RlZmF1bHRcbn07XG4iLCAiLy8gc3JjL2NvbXBvbmVudHMvdGFiLWdyb3VwL3RhYi1ncm91cC5zdHlsZXMudHNcbmltcG9ydCB7IGNzcyB9IGZyb20gXCJsaXRcIjtcbnZhciB0YWJfZ3JvdXBfc3R5bGVzX2RlZmF1bHQgPSBjc3NgXG4gIDpob3N0IHtcbiAgICAtLWluZGljYXRvci1jb2xvcjogdmFyKC0tc2wtY29sb3ItcHJpbWFyeS02MDApO1xuICAgIC0tdHJhY2stY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtMjAwKTtcbiAgICAtLXRyYWNrLXdpZHRoOiAycHg7XG5cbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuXG4gIC50YWItZ3JvdXAge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYm9yZGVyLXJhZGl1czogMDtcbiAgfVxuXG4gIC50YWItZ3JvdXBfX3RhYnMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG5cbiAgLnRhYi1ncm91cF9faW5kaWNhdG9yIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdHJhbnNpdGlvbjpcbiAgICAgIHZhcigtLXNsLXRyYW5zaXRpb24tZmFzdCkgdHJhbnNsYXRlIGVhc2UsXG4gICAgICB2YXIoLS1zbC10cmFuc2l0aW9uLWZhc3QpIHdpZHRoIGVhc2U7XG4gIH1cblxuICAudGFiLWdyb3VwLS1oYXMtc2Nyb2xsLWNvbnRyb2xzIC50YWItZ3JvdXBfX25hdi1jb250YWluZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBwYWRkaW5nOiAwIHZhcigtLXNsLXNwYWNpbmcteC1sYXJnZSk7XG4gIH1cblxuICAudGFiLWdyb3VwX19ib2R5IHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBvdmVyZmxvdzogYXV0bztcbiAgfVxuXG4gIC50YWItZ3JvdXBfX3Njcm9sbC1idXR0b24ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICB3aWR0aDogdmFyKC0tc2wtc3BhY2luZy14LWxhcmdlKTtcbiAgfVxuXG4gIC50YWItZ3JvdXBfX3Njcm9sbC1idXR0b24tLXN0YXJ0IHtcbiAgICBsZWZ0OiAwO1xuICB9XG5cbiAgLnRhYi1ncm91cF9fc2Nyb2xsLWJ1dHRvbi0tZW5kIHtcbiAgICByaWdodDogMDtcbiAgfVxuXG4gIC50YWItZ3JvdXAtLXJ0bCAudGFiLWdyb3VwX19zY3JvbGwtYnV0dG9uLS1zdGFydCB7XG4gICAgbGVmdDogYXV0bztcbiAgICByaWdodDogMDtcbiAgfVxuXG4gIC50YWItZ3JvdXAtLXJ0bCAudGFiLWdyb3VwX19zY3JvbGwtYnV0dG9uLS1lbmQge1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IGF1dG87XG4gIH1cblxuICAvKlxuICAgKiBUb3BcbiAgICovXG5cbiAgLnRhYi1ncm91cC0tdG9wIHtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG5cbiAgLnRhYi1ncm91cC0tdG9wIC50YWItZ3JvdXBfX25hdi1jb250YWluZXIge1xuICAgIG9yZGVyOiAxO1xuICB9XG5cbiAgLnRhYi1ncm91cC0tdG9wIC50YWItZ3JvdXBfX25hdiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBvdmVyZmxvdy14OiBhdXRvO1xuXG4gICAgLyogSGlkZSBzY3JvbGxiYXIgaW4gRmlyZWZveCAqL1xuICAgIHNjcm9sbGJhci13aWR0aDogbm9uZTtcbiAgfVxuXG4gIC8qIEhpZGUgc2Nyb2xsYmFyIGluIENocm9tZS9TYWZhcmkgKi9cbiAgLnRhYi1ncm91cC0tdG9wIC50YWItZ3JvdXBfX25hdjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgIHdpZHRoOiAwO1xuICAgIGhlaWdodDogMDtcbiAgfVxuXG4gIC50YWItZ3JvdXAtLXRvcCAudGFiLWdyb3VwX190YWJzIHtcbiAgICBmbGV4OiAxIDEgYXV0bztcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBib3JkZXItYm90dG9tOiBzb2xpZCB2YXIoLS10cmFjay13aWR0aCkgdmFyKC0tdHJhY2stY29sb3IpO1xuICB9XG5cbiAgLnRhYi1ncm91cC0tdG9wIC50YWItZ3JvdXBfX2luZGljYXRvciB7XG4gICAgYm90dG9tOiBjYWxjKC0xICogdmFyKC0tdHJhY2std2lkdGgpKTtcbiAgICBib3JkZXItYm90dG9tOiBzb2xpZCB2YXIoLS10cmFjay13aWR0aCkgdmFyKC0taW5kaWNhdG9yLWNvbG9yKTtcbiAgfVxuXG4gIC50YWItZ3JvdXAtLXRvcCAudGFiLWdyb3VwX19ib2R5IHtcbiAgICBvcmRlcjogMjtcbiAgfVxuXG4gIC50YWItZ3JvdXAtLXRvcCA6OnNsb3R0ZWQoc2wtdGFiLXBhbmVsKSB7XG4gICAgLS1wYWRkaW5nOiB2YXIoLS1zbC1zcGFjaW5nLW1lZGl1bSkgMDtcbiAgfVxuXG4gIC8qXG4gICAqIEJvdHRvbVxuICAgKi9cblxuICAudGFiLWdyb3VwLS1ib3R0b20ge1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIH1cblxuICAudGFiLWdyb3VwLS1ib3R0b20gLnRhYi1ncm91cF9fbmF2LWNvbnRhaW5lciB7XG4gICAgb3JkZXI6IDI7XG4gIH1cblxuICAudGFiLWdyb3VwLS1ib3R0b20gLnRhYi1ncm91cF9fbmF2IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG92ZXJmbG93LXg6IGF1dG87XG5cbiAgICAvKiBIaWRlIHNjcm9sbGJhciBpbiBGaXJlZm94ICovXG4gICAgc2Nyb2xsYmFyLXdpZHRoOiBub25lO1xuICB9XG5cbiAgLyogSGlkZSBzY3JvbGxiYXIgaW4gQ2hyb21lL1NhZmFyaSAqL1xuICAudGFiLWdyb3VwLS1ib3R0b20gLnRhYi1ncm91cF9fbmF2Ojotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgd2lkdGg6IDA7XG4gICAgaGVpZ2h0OiAwO1xuICB9XG5cbiAgLnRhYi1ncm91cC0tYm90dG9tIC50YWItZ3JvdXBfX3RhYnMge1xuICAgIGZsZXg6IDEgMSBhdXRvO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGJvcmRlci10b3A6IHNvbGlkIHZhcigtLXRyYWNrLXdpZHRoKSB2YXIoLS10cmFjay1jb2xvcik7XG4gIH1cblxuICAudGFiLWdyb3VwLS1ib3R0b20gLnRhYi1ncm91cF9faW5kaWNhdG9yIHtcbiAgICB0b3A6IGNhbGMoLTEgKiB2YXIoLS10cmFjay13aWR0aCkpO1xuICAgIGJvcmRlci10b3A6IHNvbGlkIHZhcigtLXRyYWNrLXdpZHRoKSB2YXIoLS1pbmRpY2F0b3ItY29sb3IpO1xuICB9XG5cbiAgLnRhYi1ncm91cC0tYm90dG9tIC50YWItZ3JvdXBfX2JvZHkge1xuICAgIG9yZGVyOiAxO1xuICB9XG5cbiAgLnRhYi1ncm91cC0tYm90dG9tIDo6c2xvdHRlZChzbC10YWItcGFuZWwpIHtcbiAgICAtLXBhZGRpbmc6IHZhcigtLXNsLXNwYWNpbmctbWVkaXVtKSAwO1xuICB9XG5cbiAgLypcbiAgICogU3RhcnRcbiAgICovXG5cbiAgLnRhYi1ncm91cC0tc3RhcnQge1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIH1cblxuICAudGFiLWdyb3VwLS1zdGFydCAudGFiLWdyb3VwX19uYXYtY29udGFpbmVyIHtcbiAgICBvcmRlcjogMTtcbiAgfVxuXG4gIC50YWItZ3JvdXAtLXN0YXJ0IC50YWItZ3JvdXBfX3RhYnMge1xuICAgIGZsZXg6IDAgMCBhdXRvO1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYm9yZGVyLWlubGluZS1lbmQ6IHNvbGlkIHZhcigtLXRyYWNrLXdpZHRoKSB2YXIoLS10cmFjay1jb2xvcik7XG4gIH1cblxuICAudGFiLWdyb3VwLS1zdGFydCAudGFiLWdyb3VwX19pbmRpY2F0b3Ige1xuICAgIHJpZ2h0OiBjYWxjKC0xICogdmFyKC0tdHJhY2std2lkdGgpKTtcbiAgICBib3JkZXItcmlnaHQ6IHNvbGlkIHZhcigtLXRyYWNrLXdpZHRoKSB2YXIoLS1pbmRpY2F0b3ItY29sb3IpO1xuICB9XG5cbiAgLnRhYi1ncm91cC0tc3RhcnQudGFiLWdyb3VwLS1ydGwgLnRhYi1ncm91cF9faW5kaWNhdG9yIHtcbiAgICByaWdodDogYXV0bztcbiAgICBsZWZ0OiBjYWxjKC0xICogdmFyKC0tdHJhY2std2lkdGgpKTtcbiAgfVxuXG4gIC50YWItZ3JvdXAtLXN0YXJ0IC50YWItZ3JvdXBfX2JvZHkge1xuICAgIGZsZXg6IDEgMSBhdXRvO1xuICAgIG9yZGVyOiAyO1xuICB9XG5cbiAgLnRhYi1ncm91cC0tc3RhcnQgOjpzbG90dGVkKHNsLXRhYi1wYW5lbCkge1xuICAgIC0tcGFkZGluZzogMCB2YXIoLS1zbC1zcGFjaW5nLW1lZGl1bSk7XG4gIH1cblxuICAvKlxuICAgKiBFbmRcbiAgICovXG5cbiAgLnRhYi1ncm91cC0tZW5kIHtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICB9XG5cbiAgLnRhYi1ncm91cC0tZW5kIC50YWItZ3JvdXBfX25hdi1jb250YWluZXIge1xuICAgIG9yZGVyOiAyO1xuICB9XG5cbiAgLnRhYi1ncm91cC0tZW5kIC50YWItZ3JvdXBfX3RhYnMge1xuICAgIGZsZXg6IDAgMCBhdXRvO1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYm9yZGVyLWxlZnQ6IHNvbGlkIHZhcigtLXRyYWNrLXdpZHRoKSB2YXIoLS10cmFjay1jb2xvcik7XG4gIH1cblxuICAudGFiLWdyb3VwLS1lbmQgLnRhYi1ncm91cF9faW5kaWNhdG9yIHtcbiAgICBsZWZ0OiBjYWxjKC0xICogdmFyKC0tdHJhY2std2lkdGgpKTtcbiAgICBib3JkZXItaW5saW5lLXN0YXJ0OiBzb2xpZCB2YXIoLS10cmFjay13aWR0aCkgdmFyKC0taW5kaWNhdG9yLWNvbG9yKTtcbiAgfVxuXG4gIC50YWItZ3JvdXAtLWVuZC50YWItZ3JvdXAtLXJ0bCAudGFiLWdyb3VwX19pbmRpY2F0b3Ige1xuICAgIHJpZ2h0OiBjYWxjKC0xICogdmFyKC0tdHJhY2std2lkdGgpKTtcbiAgICBsZWZ0OiBhdXRvO1xuICB9XG5cbiAgLnRhYi1ncm91cC0tZW5kIC50YWItZ3JvdXBfX2JvZHkge1xuICAgIGZsZXg6IDEgMSBhdXRvO1xuICAgIG9yZGVyOiAxO1xuICB9XG5cbiAgLnRhYi1ncm91cC0tZW5kIDo6c2xvdHRlZChzbC10YWItcGFuZWwpIHtcbiAgICAtLXBhZGRpbmc6IDAgdmFyKC0tc2wtc3BhY2luZy1tZWRpdW0pO1xuICB9XG5gO1xuXG5leHBvcnQge1xuICB0YWJfZ3JvdXBfc3R5bGVzX2RlZmF1bHRcbn07XG4iLCAiLy8gc3JjL2ludGVybmFsL29mZnNldC50c1xuZnVuY3Rpb24gZ2V0T2Zmc2V0KGVsZW1lbnQsIHBhcmVudCkge1xuICByZXR1cm4ge1xuICAgIHRvcDogTWF0aC5yb3VuZChlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ApLFxuICAgIGxlZnQ6IE1hdGgucm91bmQoZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpXG4gIH07XG59XG5cbi8vIHNyYy9pbnRlcm5hbC9zY3JvbGwudHNcbnZhciBsb2NrcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5mdW5jdGlvbiBnZXRTY3JvbGxiYXJXaWR0aCgpIHtcbiAgY29uc3QgZG9jdW1lbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgcmV0dXJuIE1hdGguYWJzKHdpbmRvdy5pbm5lcldpZHRoIC0gZG9jdW1lbnRXaWR0aCk7XG59XG5mdW5jdGlvbiBnZXRFeGlzdGluZ0JvZHlQYWRkaW5nKCkge1xuICBjb25zdCBwYWRkaW5nID0gTnVtYmVyKGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkucGFkZGluZ1JpZ2h0LnJlcGxhY2UoL3B4LywgXCJcIikpO1xuICBpZiAoaXNOYU4ocGFkZGluZykgfHwgIXBhZGRpbmcpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICByZXR1cm4gcGFkZGluZztcbn1cbmZ1bmN0aW9uIGxvY2tCb2R5U2Nyb2xsaW5nKGxvY2tpbmdFbCkge1xuICBsb2Nrcy5hZGQobG9ja2luZ0VsKTtcbiAgaWYgKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2wtc2Nyb2xsLWxvY2tcIikpIHtcbiAgICBjb25zdCBzY3JvbGxiYXJXaWR0aCA9IGdldFNjcm9sbGJhcldpZHRoKCkgKyBnZXRFeGlzdGluZ0JvZHlQYWRkaW5nKCk7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzbC1zY3JvbGwtbG9ja1wiKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItLXNsLXNjcm9sbC1sb2NrLXNpemVcIiwgYCR7c2Nyb2xsYmFyV2lkdGh9cHhgKTtcbiAgfVxufVxuZnVuY3Rpb24gdW5sb2NrQm9keVNjcm9sbGluZyhsb2NraW5nRWwpIHtcbiAgbG9ja3MuZGVsZXRlKGxvY2tpbmdFbCk7XG4gIGlmIChsb2Nrcy5zaXplID09PSAwKSB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzbC1zY3JvbGwtbG9ja1wiKTtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCItLXNsLXNjcm9sbC1sb2NrLXNpemVcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHNjcm9sbEludG9WaWV3KGVsZW1lbnQsIGNvbnRhaW5lciwgZGlyZWN0aW9uID0gXCJ2ZXJ0aWNhbFwiLCBiZWhhdmlvciA9IFwic21vb3RoXCIpIHtcbiAgY29uc3Qgb2Zmc2V0ID0gZ2V0T2Zmc2V0KGVsZW1lbnQsIGNvbnRhaW5lcik7XG4gIGNvbnN0IG9mZnNldFRvcCA9IG9mZnNldC50b3AgKyBjb250YWluZXIuc2Nyb2xsVG9wO1xuICBjb25zdCBvZmZzZXRMZWZ0ID0gb2Zmc2V0LmxlZnQgKyBjb250YWluZXIuc2Nyb2xsTGVmdDtcbiAgY29uc3QgbWluWCA9IGNvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICBjb25zdCBtYXhYID0gY29udGFpbmVyLnNjcm9sbExlZnQgKyBjb250YWluZXIub2Zmc2V0V2lkdGg7XG4gIGNvbnN0IG1pblkgPSBjb250YWluZXIuc2Nyb2xsVG9wO1xuICBjb25zdCBtYXhZID0gY29udGFpbmVyLnNjcm9sbFRvcCArIGNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XG4gIGlmIChkaXJlY3Rpb24gPT09IFwiaG9yaXpvbnRhbFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJib3RoXCIpIHtcbiAgICBpZiAob2Zmc2V0TGVmdCA8IG1pblgpIHtcbiAgICAgIGNvbnRhaW5lci5zY3JvbGxUbyh7IGxlZnQ6IG9mZnNldExlZnQsIGJlaGF2aW9yIH0pO1xuICAgIH0gZWxzZSBpZiAob2Zmc2V0TGVmdCArIGVsZW1lbnQuY2xpZW50V2lkdGggPiBtYXhYKSB7XG4gICAgICBjb250YWluZXIuc2Nyb2xsVG8oeyBsZWZ0OiBvZmZzZXRMZWZ0IC0gY29udGFpbmVyLm9mZnNldFdpZHRoICsgZWxlbWVudC5jbGllbnRXaWR0aCwgYmVoYXZpb3IgfSk7XG4gICAgfVxuICB9XG4gIGlmIChkaXJlY3Rpb24gPT09IFwidmVydGljYWxcIiB8fCBkaXJlY3Rpb24gPT09IFwiYm90aFwiKSB7XG4gICAgaWYgKG9mZnNldFRvcCA8IG1pblkpIHtcbiAgICAgIGNvbnRhaW5lci5zY3JvbGxUbyh7IHRvcDogb2Zmc2V0VG9wLCBiZWhhdmlvciB9KTtcbiAgICB9IGVsc2UgaWYgKG9mZnNldFRvcCArIGVsZW1lbnQuY2xpZW50SGVpZ2h0ID4gbWF4WSkge1xuICAgICAgY29udGFpbmVyLnNjcm9sbFRvKHsgdG9wOiBvZmZzZXRUb3AgLSBjb250YWluZXIub2Zmc2V0SGVpZ2h0ICsgZWxlbWVudC5jbGllbnRIZWlnaHQsIGJlaGF2aW9yIH0pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge1xuICBsb2NrQm9keVNjcm9sbGluZyxcbiAgdW5sb2NrQm9keVNjcm9sbGluZyxcbiAgc2Nyb2xsSW50b1ZpZXdcbn07XG4iLCAiLy8gc3JjL2NvbXBvbmVudHMvaWNvbi1idXR0b24vaWNvbi1idXR0b24uc3R5bGVzLnRzXG5pbXBvcnQgeyBjc3MgfSBmcm9tIFwibGl0XCI7XG52YXIgaWNvbl9idXR0b25fc3R5bGVzX2RlZmF1bHQgPSBjc3NgXG4gIDpob3N0IHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLW5ldXRyYWwtNjAwKTtcbiAgfVxuXG4gIC5pY29uLWJ1dHRvbiB7XG4gICAgZmxleDogMCAwIGF1dG87XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXNsLWJvcmRlci1yYWRpdXMtbWVkaXVtKTtcbiAgICBmb250LXNpemU6IGluaGVyaXQ7XG4gICAgY29sb3I6IGluaGVyaXQ7XG4gICAgcGFkZGluZzogdmFyKC0tc2wtc3BhY2luZy14LXNtYWxsKTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tc2wtdHJhbnNpdGlvbi14LWZhc3QpIGNvbG9yO1xuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgfVxuXG4gIC5pY29uLWJ1dHRvbjpob3Zlcjpub3QoLmljb24tYnV0dG9uLS1kaXNhYmxlZCksXG4gIC5pY29uLWJ1dHRvbjpmb2N1cy12aXNpYmxlOm5vdCguaWNvbi1idXR0b24tLWRpc2FibGVkKSB7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNjAwKTtcbiAgfVxuXG4gIC5pY29uLWJ1dHRvbjphY3RpdmU6bm90KC5pY29uLWJ1dHRvbi0tZGlzYWJsZWQpIHtcbiAgICBjb2xvcjogdmFyKC0tc2wtY29sb3ItcHJpbWFyeS03MDApO1xuICB9XG5cbiAgLmljb24tYnV0dG9uOmZvY3VzIHtcbiAgICBvdXRsaW5lOiBub25lO1xuICB9XG5cbiAgLmljb24tYnV0dG9uLS1kaXNhYmxlZCB7XG4gICAgb3BhY2l0eTogMC41O1xuICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gIH1cblxuICAuaWNvbi1idXR0b246Zm9jdXMtdmlzaWJsZSB7XG4gICAgb3V0bGluZTogdmFyKC0tc2wtZm9jdXMtcmluZyk7XG4gICAgb3V0bGluZS1vZmZzZXQ6IHZhcigtLXNsLWZvY3VzLXJpbmctb2Zmc2V0KTtcbiAgfVxuXG4gIC5pY29uLWJ1dHRvbl9faWNvbiB7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIH1cbmA7XG5cbmV4cG9ydCB7XG4gIGljb25fYnV0dG9uX3N0eWxlc19kZWZhdWx0XG59O1xuIiwgImltcG9ydCB7XG4gIGljb25fYnV0dG9uX3N0eWxlc19kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLjZJMlQzRExJLmpzXCI7XG5pbXBvcnQge1xuICBTbEljb25cbn0gZnJvbSBcIi4vY2h1bmsuSDMzQzNNUk0uanNcIjtcbmltcG9ydCB7XG4gIGNvbXBvbmVudF9zdHlsZXNfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay5UVVZKS1k3Uy5qc1wiO1xuaW1wb3J0IHtcbiAgU2hvZWxhY2VFbGVtZW50XG59IGZyb20gXCIuL2NodW5rLlNGU1RYQ1hDLmpzXCI7XG5pbXBvcnQge1xuICBfX2RlY29yYXRlQ2xhc3Ncbn0gZnJvbSBcIi4vY2h1bmsuSUZEV002UDQuanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvaWNvbi1idXR0b24vaWNvbi1idXR0b24uY29tcG9uZW50LnRzXG5pbXBvcnQgeyBjbGFzc01hcCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9jbGFzcy1tYXAuanNcIjtcbmltcG9ydCB7IGh0bWwsIGxpdGVyYWwgfSBmcm9tIFwibGl0L3N0YXRpYy1odG1sLmpzXCI7XG5pbXBvcnQgeyBpZkRlZmluZWQgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvaWYtZGVmaW5lZC5qc1wiO1xuaW1wb3J0IHsgcHJvcGVydHksIHF1ZXJ5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9ycy5qc1wiO1xudmFyIFNsSWNvbkJ1dHRvbiA9IGNsYXNzIGV4dGVuZHMgU2hvZWxhY2VFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmhhc0ZvY3VzID0gZmFsc2U7XG4gICAgdGhpcy5sYWJlbCA9IFwiXCI7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG4gIGhhbmRsZUJsdXIoKSB7XG4gICAgdGhpcy5oYXNGb2N1cyA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdChcInNsLWJsdXJcIik7XG4gIH1cbiAgaGFuZGxlRm9jdXMoKSB7XG4gICAgdGhpcy5oYXNGb2N1cyA9IHRydWU7XG4gICAgdGhpcy5lbWl0KFwic2wtZm9jdXNcIik7XG4gIH1cbiAgaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgfVxuICAvKiogU2ltdWxhdGVzIGEgY2xpY2sgb24gdGhlIGljb24gYnV0dG9uLiAqL1xuICBjbGljaygpIHtcbiAgICB0aGlzLmJ1dHRvbi5jbGljaygpO1xuICB9XG4gIC8qKiBTZXRzIGZvY3VzIG9uIHRoZSBpY29uIGJ1dHRvbi4gKi9cbiAgZm9jdXMob3B0aW9ucykge1xuICAgIHRoaXMuYnV0dG9uLmZvY3VzKG9wdGlvbnMpO1xuICB9XG4gIC8qKiBSZW1vdmVzIGZvY3VzIGZyb20gdGhlIGljb24gYnV0dG9uLiAqL1xuICBibHVyKCkge1xuICAgIHRoaXMuYnV0dG9uLmJsdXIoKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNMaW5rID0gdGhpcy5ocmVmID8gdHJ1ZSA6IGZhbHNlO1xuICAgIGNvbnN0IHRhZyA9IGlzTGluayA/IGxpdGVyYWxgYWAgOiBsaXRlcmFsYGJ1dHRvbmA7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8JHt0YWd9XG4gICAgICAgIHBhcnQ9XCJiYXNlXCJcbiAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7XG4gICAgICBcImljb24tYnV0dG9uXCI6IHRydWUsXG4gICAgICBcImljb24tYnV0dG9uLS1kaXNhYmxlZFwiOiAhaXNMaW5rICYmIHRoaXMuZGlzYWJsZWQsXG4gICAgICBcImljb24tYnV0dG9uLS1mb2N1c2VkXCI6IHRoaXMuaGFzRm9jdXNcbiAgICB9KX1cbiAgICAgICAgP2Rpc2FibGVkPSR7aWZEZWZpbmVkKGlzTGluayA/IHZvaWQgMCA6IHRoaXMuZGlzYWJsZWQpfVxuICAgICAgICB0eXBlPSR7aWZEZWZpbmVkKGlzTGluayA/IHZvaWQgMCA6IFwiYnV0dG9uXCIpfVxuICAgICAgICBocmVmPSR7aWZEZWZpbmVkKGlzTGluayA/IHRoaXMuaHJlZiA6IHZvaWQgMCl9XG4gICAgICAgIHRhcmdldD0ke2lmRGVmaW5lZChpc0xpbmsgPyB0aGlzLnRhcmdldCA6IHZvaWQgMCl9XG4gICAgICAgIGRvd25sb2FkPSR7aWZEZWZpbmVkKGlzTGluayA/IHRoaXMuZG93bmxvYWQgOiB2b2lkIDApfVxuICAgICAgICByZWw9JHtpZkRlZmluZWQoaXNMaW5rICYmIHRoaXMudGFyZ2V0ID8gXCJub3JlZmVycmVyIG5vb3BlbmVyXCIgOiB2b2lkIDApfVxuICAgICAgICByb2xlPSR7aWZEZWZpbmVkKGlzTGluayA/IHZvaWQgMCA6IFwiYnV0dG9uXCIpfVxuICAgICAgICBhcmlhLWRpc2FibGVkPSR7dGhpcy5kaXNhYmxlZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwifVxuICAgICAgICBhcmlhLWxhYmVsPVwiJHt0aGlzLmxhYmVsfVwiXG4gICAgICAgIHRhYmluZGV4PSR7dGhpcy5kaXNhYmxlZCA/IFwiLTFcIiA6IFwiMFwifVxuICAgICAgICBAYmx1cj0ke3RoaXMuaGFuZGxlQmx1cn1cbiAgICAgICAgQGZvY3VzPSR7dGhpcy5oYW5kbGVGb2N1c31cbiAgICAgICAgQGNsaWNrPSR7dGhpcy5oYW5kbGVDbGlja31cbiAgICAgID5cbiAgICAgICAgPHNsLWljb25cbiAgICAgICAgICBjbGFzcz1cImljb24tYnV0dG9uX19pY29uXCJcbiAgICAgICAgICBuYW1lPSR7aWZEZWZpbmVkKHRoaXMubmFtZSl9XG4gICAgICAgICAgbGlicmFyeT0ke2lmRGVmaW5lZCh0aGlzLmxpYnJhcnkpfVxuICAgICAgICAgIHNyYz0ke2lmRGVmaW5lZCh0aGlzLnNyYyl9XG4gICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgPjwvc2wtaWNvbj5cbiAgICAgIDwvJHt0YWd9PlxuICAgIGA7XG4gIH1cbn07XG5TbEljb25CdXR0b24uc3R5bGVzID0gW2NvbXBvbmVudF9zdHlsZXNfZGVmYXVsdCwgaWNvbl9idXR0b25fc3R5bGVzX2RlZmF1bHRdO1xuU2xJY29uQnV0dG9uLmRlcGVuZGVuY2llcyA9IHsgXCJzbC1pY29uXCI6IFNsSWNvbiB9O1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcXVlcnkoXCIuaWNvbi1idXR0b25cIilcbl0sIFNsSWNvbkJ1dHRvbi5wcm90b3R5cGUsIFwiYnV0dG9uXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgc3RhdGUoKVxuXSwgU2xJY29uQnV0dG9uLnByb3RvdHlwZSwgXCJoYXNGb2N1c1wiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsSWNvbkJ1dHRvbi5wcm90b3R5cGUsIFwibmFtZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsSWNvbkJ1dHRvbi5wcm90b3R5cGUsIFwibGlicmFyeVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KClcbl0sIFNsSWNvbkJ1dHRvbi5wcm90b3R5cGUsIFwic3JjXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoKVxuXSwgU2xJY29uQnV0dG9uLnByb3RvdHlwZSwgXCJocmVmXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoKVxuXSwgU2xJY29uQnV0dG9uLnByb3RvdHlwZSwgXCJ0YXJnZXRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbEljb25CdXR0b24ucHJvdG90eXBlLCBcImRvd25sb2FkXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoKVxuXSwgU2xJY29uQnV0dG9uLnByb3RvdHlwZSwgXCJsYWJlbFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xJY29uQnV0dG9uLnByb3RvdHlwZSwgXCJkaXNhYmxlZFwiLCAyKTtcblxuZXhwb3J0IHtcbiAgU2xJY29uQnV0dG9uXG59O1xuIiwgImltcG9ydCB7XG4gIHRhYl9ncm91cF9zdHlsZXNfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay5HNFhJQUNUVC5qc1wiO1xuaW1wb3J0IHtcbiAgc2Nyb2xsSW50b1ZpZXdcbn0gZnJvbSBcIi4vY2h1bmsuQlRFTlI0QkkuanNcIjtcbmltcG9ydCB7XG4gIFNsSWNvbkJ1dHRvblxufSBmcm9tIFwiLi9jaHVuay5XUTRMQUFQNC5qc1wiO1xuaW1wb3J0IHtcbiAgTG9jYWxpemVDb250cm9sbGVyXG59IGZyb20gXCIuL2NodW5rLldMVjNGVkJSLmpzXCI7XG5pbXBvcnQge1xuICB3YXRjaFxufSBmcm9tIFwiLi9jaHVuay4yRkI1VEs1SC5qc1wiO1xuaW1wb3J0IHtcbiAgY29tcG9uZW50X3N0eWxlc19kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLlRVVkpLWTdTLmpzXCI7XG5pbXBvcnQge1xuICBTaG9lbGFjZUVsZW1lbnRcbn0gZnJvbSBcIi4vY2h1bmsuU0ZTVFhDWEMuanNcIjtcbmltcG9ydCB7XG4gIF9fZGVjb3JhdGVDbGFzcyxcbiAgX19zcHJlYWRWYWx1ZXNcbn0gZnJvbSBcIi4vY2h1bmsuSUZEV002UDQuanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvdGFiLWdyb3VwL3RhYi1ncm91cC5jb21wb25lbnQudHNcbmltcG9ydCB7IGNsYXNzTWFwIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qc1wiO1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IHByb3BlcnR5LCBxdWVyeSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnMuanNcIjtcbnZhciBTbFRhYkdyb3VwID0gY2xhc3MgZXh0ZW5kcyBTaG9lbGFjZUVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMubG9jYWxpemUgPSBuZXcgTG9jYWxpemVDb250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMudGFicyA9IFtdO1xuICAgIHRoaXMucGFuZWxzID0gW107XG4gICAgdGhpcy5oYXNTY3JvbGxDb250cm9scyA9IGZhbHNlO1xuICAgIHRoaXMucGxhY2VtZW50ID0gXCJ0b3BcIjtcbiAgICB0aGlzLmFjdGl2YXRpb24gPSBcImF1dG9cIjtcbiAgICB0aGlzLm5vU2Nyb2xsQ29udHJvbHMgPSBmYWxzZTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBjb25zdCB3aGVuQWxsRGVmaW5lZCA9IFByb21pc2UuYWxsKFtcbiAgICAgIGN1c3RvbUVsZW1lbnRzLndoZW5EZWZpbmVkKFwic2wtdGFiXCIpLFxuICAgICAgY3VzdG9tRWxlbWVudHMud2hlbkRlZmluZWQoXCJzbC10YWItcGFuZWxcIilcbiAgICBdKTtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgdGhpcy5yZXBvc2l0aW9uSW5kaWNhdG9yKCk7XG4gICAgICB0aGlzLnVwZGF0ZVNjcm9sbENvbnRyb2xzKCk7XG4gICAgfSk7XG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgaWYgKG11dGF0aW9ucy5zb21lKChtKSA9PiAhW1wiYXJpYS1sYWJlbGxlZGJ5XCIsIFwiYXJpYS1jb250cm9sc1wiXS5pbmNsdWRlcyhtLmF0dHJpYnV0ZU5hbWUpKSkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2V0QXJpYUxhYmVscygpKTtcbiAgICAgIH1cbiAgICAgIGlmIChtdXRhdGlvbnMuc29tZSgobSkgPT4gbS5hdHRyaWJ1dGVOYW1lID09PSBcImRpc2FibGVkXCIpKSB7XG4gICAgICAgIHRoaXMuc3luY1RhYnNBbmRQYW5lbHMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZUNvbXBsZXRlLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5zeW5jVGFic0FuZFBhbmVscygpO1xuICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcywgeyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7XG4gICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5uYXYpO1xuICAgICAgd2hlbkFsbERlZmluZWQudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGludGVyc2VjdGlvbk9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xuICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICBpZiAoZW50cmllc1swXS5pbnRlcnNlY3Rpb25SYXRpbyA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QXJpYUxhYmVscygpO1xuICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVUYWIoKF9hID0gdGhpcy5nZXRBY3RpdmVUYWIoKSkgIT0gbnVsbCA/IF9hIDogdGhpcy50YWJzWzBdLCB7IGVtaXRFdmVudHM6IGZhbHNlIH0pO1xuICAgICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJpZXNbMF0udGFyZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMudGFiR3JvdXApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMubmF2KTtcbiAgfVxuICBnZXRBbGxUYWJzKG9wdGlvbnMgPSB7IGluY2x1ZGVEaXNhYmxlZDogdHJ1ZSB9KSB7XG4gICAgY29uc3Qgc2xvdCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdzbG90W25hbWU9XCJuYXZcIl0nKTtcbiAgICByZXR1cm4gWy4uLnNsb3QuYXNzaWduZWRFbGVtZW50cygpXS5maWx0ZXIoKGVsKSA9PiB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbmNsdWRlRGlzYWJsZWQgPyBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwic2wtdGFiXCIgOiBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwic2wtdGFiXCIgJiYgIWVsLmRpc2FibGVkO1xuICAgIH0pO1xuICB9XG4gIGdldEFsbFBhbmVscygpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuYm9keS5hc3NpZ25lZEVsZW1lbnRzKCldLmZpbHRlcigoZWwpID0+IGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJzbC10YWItcGFuZWxcIik7XG4gIH1cbiAgZ2V0QWN0aXZlVGFiKCkge1xuICAgIHJldHVybiB0aGlzLnRhYnMuZmluZCgoZWwpID0+IGVsLmFjdGl2ZSk7XG4gIH1cbiAgaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3QgdGFiID0gdGFyZ2V0LmNsb3Nlc3QoXCJzbC10YWJcIik7XG4gICAgY29uc3QgdGFiR3JvdXAgPSB0YWIgPT0gbnVsbCA/IHZvaWQgMCA6IHRhYi5jbG9zZXN0KFwic2wtdGFiLWdyb3VwXCIpO1xuICAgIGlmICh0YWJHcm91cCAhPT0gdGhpcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGFiICE9PSBudWxsKSB7XG4gICAgICB0aGlzLnNldEFjdGl2ZVRhYih0YWIsIHsgc2Nyb2xsQmVoYXZpb3I6IFwic21vb3RoXCIgfSk7XG4gICAgfVxuICB9XG4gIGhhbmRsZUtleURvd24oZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3QgdGFiID0gdGFyZ2V0LmNsb3Nlc3QoXCJzbC10YWJcIik7XG4gICAgY29uc3QgdGFiR3JvdXAgPSB0YWIgPT0gbnVsbCA/IHZvaWQgMCA6IHRhYi5jbG9zZXN0KFwic2wtdGFiLWdyb3VwXCIpO1xuICAgIGlmICh0YWJHcm91cCAhPT0gdGhpcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoW1wiRW50ZXJcIiwgXCIgXCJdLmluY2x1ZGVzKGV2ZW50LmtleSkpIHtcbiAgICAgIGlmICh0YWIgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVUYWIodGFiLCB7IHNjcm9sbEJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoW1wiQXJyb3dMZWZ0XCIsIFwiQXJyb3dSaWdodFwiLCBcIkFycm93VXBcIiwgXCJBcnJvd0Rvd25cIiwgXCJIb21lXCIsIFwiRW5kXCJdLmluY2x1ZGVzKGV2ZW50LmtleSkpIHtcbiAgICAgIGNvbnN0IGFjdGl2ZUVsID0gdGhpcy50YWJzLmZpbmQoKHQpID0+IHQubWF0Y2hlcyhcIjpmb2N1c1wiKSk7XG4gICAgICBjb25zdCBpc1J0bCA9IHRoaXMubG9jYWxpemUuZGlyKCkgPT09IFwicnRsXCI7XG4gICAgICBpZiAoKGFjdGl2ZUVsID09IG51bGwgPyB2b2lkIDAgOiBhY3RpdmVFbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpID09PSBcInNsLXRhYlwiKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMudGFicy5pbmRleE9mKGFjdGl2ZUVsKTtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJIb21lXCIpIHtcbiAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkVuZFwiKSB7XG4gICAgICAgICAgaW5kZXggPSB0aGlzLnRhYnMubGVuZ3RoIC0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChbXCJ0b3BcIiwgXCJib3R0b21cIl0uaW5jbHVkZXModGhpcy5wbGFjZW1lbnQpICYmIGV2ZW50LmtleSA9PT0gKGlzUnRsID8gXCJBcnJvd1JpZ2h0XCIgOiBcIkFycm93TGVmdFwiKSB8fCBbXCJzdGFydFwiLCBcImVuZFwiXS5pbmNsdWRlcyh0aGlzLnBsYWNlbWVudCkgJiYgZXZlbnQua2V5ID09PSBcIkFycm93VXBcIikge1xuICAgICAgICAgIGluZGV4LS07XG4gICAgICAgIH0gZWxzZSBpZiAoW1widG9wXCIsIFwiYm90dG9tXCJdLmluY2x1ZGVzKHRoaXMucGxhY2VtZW50KSAmJiBldmVudC5rZXkgPT09IChpc1J0bCA/IFwiQXJyb3dMZWZ0XCIgOiBcIkFycm93UmlnaHRcIikgfHwgW1wic3RhcnRcIiwgXCJlbmRcIl0uaW5jbHVkZXModGhpcy5wbGFjZW1lbnQpICYmIGV2ZW50LmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgIGluZGV4ID0gdGhpcy50YWJzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ID4gdGhpcy50YWJzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50YWJzW2luZGV4XS5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2YXRpb24gPT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgdGhpcy5zZXRBY3RpdmVUYWIodGhpcy50YWJzW2luZGV4XSwgeyBzY3JvbGxCZWhhdmlvcjogXCJzbW9vdGhcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoW1widG9wXCIsIFwiYm90dG9tXCJdLmluY2x1ZGVzKHRoaXMucGxhY2VtZW50KSkge1xuICAgICAgICAgIHNjcm9sbEludG9WaWV3KHRoaXMudGFic1tpbmRleF0sIHRoaXMubmF2LCBcImhvcml6b250YWxcIik7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaGFuZGxlU2Nyb2xsVG9TdGFydCgpIHtcbiAgICB0aGlzLm5hdi5zY3JvbGwoe1xuICAgICAgbGVmdDogdGhpcy5sb2NhbGl6ZS5kaXIoKSA9PT0gXCJydGxcIiA/IHRoaXMubmF2LnNjcm9sbExlZnQgKyB0aGlzLm5hdi5jbGllbnRXaWR0aCA6IHRoaXMubmF2LnNjcm9sbExlZnQgLSB0aGlzLm5hdi5jbGllbnRXaWR0aCxcbiAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiXG4gICAgfSk7XG4gIH1cbiAgaGFuZGxlU2Nyb2xsVG9FbmQoKSB7XG4gICAgdGhpcy5uYXYuc2Nyb2xsKHtcbiAgICAgIGxlZnQ6IHRoaXMubG9jYWxpemUuZGlyKCkgPT09IFwicnRsXCIgPyB0aGlzLm5hdi5zY3JvbGxMZWZ0IC0gdGhpcy5uYXYuY2xpZW50V2lkdGggOiB0aGlzLm5hdi5zY3JvbGxMZWZ0ICsgdGhpcy5uYXYuY2xpZW50V2lkdGgsXG4gICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIlxuICAgIH0pO1xuICB9XG4gIHNldEFjdGl2ZVRhYih0YWIsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgZW1pdEV2ZW50czogdHJ1ZSxcbiAgICAgIHNjcm9sbEJlaGF2aW9yOiBcImF1dG9cIlxuICAgIH0sIG9wdGlvbnMpO1xuICAgIGlmICh0YWIgIT09IHRoaXMuYWN0aXZlVGFiICYmICF0YWIuZGlzYWJsZWQpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzVGFiID0gdGhpcy5hY3RpdmVUYWI7XG4gICAgICB0aGlzLmFjdGl2ZVRhYiA9IHRhYjtcbiAgICAgIHRoaXMudGFicy5mb3JFYWNoKChlbCkgPT4gZWwuYWN0aXZlID0gZWwgPT09IHRoaXMuYWN0aXZlVGFiKTtcbiAgICAgIHRoaXMucGFuZWxzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIGVsLmFjdGl2ZSA9IGVsLm5hbWUgPT09ICgoX2EgPSB0aGlzLmFjdGl2ZVRhYikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnBhbmVsKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zeW5jSW5kaWNhdG9yKCk7XG4gICAgICBpZiAoW1widG9wXCIsIFwiYm90dG9tXCJdLmluY2x1ZGVzKHRoaXMucGxhY2VtZW50KSkge1xuICAgICAgICBzY3JvbGxJbnRvVmlldyh0aGlzLmFjdGl2ZVRhYiwgdGhpcy5uYXYsIFwiaG9yaXpvbnRhbFwiLCBvcHRpb25zLnNjcm9sbEJlaGF2aW9yKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmVtaXRFdmVudHMpIHtcbiAgICAgICAgaWYgKHByZXZpb3VzVGFiKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KFwic2wtdGFiLWhpZGVcIiwgeyBkZXRhaWw6IHsgbmFtZTogcHJldmlvdXNUYWIucGFuZWwgfSB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoXCJzbC10YWItc2hvd1wiLCB7IGRldGFpbDogeyBuYW1lOiB0aGlzLmFjdGl2ZVRhYi5wYW5lbCB9IH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBzZXRBcmlhTGFiZWxzKCkge1xuICAgIHRoaXMudGFicy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgIGNvbnN0IHBhbmVsID0gdGhpcy5wYW5lbHMuZmluZCgoZWwpID0+IGVsLm5hbWUgPT09IHRhYi5wYW5lbCk7XG4gICAgICBpZiAocGFuZWwpIHtcbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZShcImFyaWEtY29udHJvbHNcIiwgcGFuZWwuZ2V0QXR0cmlidXRlKFwiaWRcIikpO1xuICAgICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIiwgdGFiLmdldEF0dHJpYnV0ZShcImlkXCIpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXBvc2l0aW9uSW5kaWNhdG9yKCkge1xuICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0aGlzLmdldEFjdGl2ZVRhYigpO1xuICAgIGlmICghY3VycmVudFRhYikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB3aWR0aCA9IGN1cnJlbnRUYWIuY2xpZW50V2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gY3VycmVudFRhYi5jbGllbnRIZWlnaHQ7XG4gICAgY29uc3QgaXNSdGwgPSB0aGlzLmxvY2FsaXplLmRpcigpID09PSBcInJ0bFwiO1xuICAgIGNvbnN0IGFsbFRhYnMgPSB0aGlzLmdldEFsbFRhYnMoKTtcbiAgICBjb25zdCBwcmVjZWRpbmdUYWJzID0gYWxsVGFicy5zbGljZSgwLCBhbGxUYWJzLmluZGV4T2YoY3VycmVudFRhYikpO1xuICAgIGNvbnN0IG9mZnNldCA9IHByZWNlZGluZ1RhYnMucmVkdWNlKFxuICAgICAgKHByZXZpb3VzLCBjdXJyZW50KSA9PiAoe1xuICAgICAgICBsZWZ0OiBwcmV2aW91cy5sZWZ0ICsgY3VycmVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgdG9wOiBwcmV2aW91cy50b3AgKyBjdXJyZW50LmNsaWVudEhlaWdodFxuICAgICAgfSksXG4gICAgICB7IGxlZnQ6IDAsIHRvcDogMCB9XG4gICAgKTtcbiAgICBzd2l0Y2ggKHRoaXMucGxhY2VtZW50KSB7XG4gICAgICBjYXNlIFwidG9wXCI6XG4gICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgIHRoaXMuaW5kaWNhdG9yLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICB0aGlzLmluZGljYXRvci5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIjtcbiAgICAgICAgdGhpcy5pbmRpY2F0b3Iuc3R5bGUudHJhbnNsYXRlID0gaXNSdGwgPyBgJHstMSAqIG9mZnNldC5sZWZ0fXB4YCA6IGAke29mZnNldC5sZWZ0fXB4YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgdGhpcy5pbmRpY2F0b3Iuc3R5bGUud2lkdGggPSBcImF1dG9cIjtcbiAgICAgICAgdGhpcy5pbmRpY2F0b3Iuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgICAgICAgdGhpcy5pbmRpY2F0b3Iuc3R5bGUudHJhbnNsYXRlID0gYDAgJHtvZmZzZXQudG9wfXB4YDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8vIFRoaXMgc3RvcmVzIHRhYnMgYW5kIHBhbmVscyBzbyB3ZSBjYW4gcmVmZXIgdG8gYSBjYWNoZSBpbnN0ZWFkIG9mIGNhbGxpbmcgcXVlcnlTZWxlY3RvckFsbCgpIG11bHRpcGxlIHRpbWVzLlxuICBzeW5jVGFic0FuZFBhbmVscygpIHtcbiAgICB0aGlzLnRhYnMgPSB0aGlzLmdldEFsbFRhYnMoeyBpbmNsdWRlRGlzYWJsZWQ6IGZhbHNlIH0pO1xuICAgIHRoaXMucGFuZWxzID0gdGhpcy5nZXRBbGxQYW5lbHMoKTtcbiAgICB0aGlzLnN5bmNJbmRpY2F0b3IoKTtcbiAgICB0aGlzLnVwZGF0ZUNvbXBsZXRlLnRoZW4oKCkgPT4gdGhpcy51cGRhdGVTY3JvbGxDb250cm9scygpKTtcbiAgfVxuICB1cGRhdGVTY3JvbGxDb250cm9scygpIHtcbiAgICBpZiAodGhpcy5ub1Njcm9sbENvbnRyb2xzKSB7XG4gICAgICB0aGlzLmhhc1Njcm9sbENvbnRyb2xzID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFzU2Nyb2xsQ29udHJvbHMgPSBbXCJ0b3BcIiwgXCJib3R0b21cIl0uaW5jbHVkZXModGhpcy5wbGFjZW1lbnQpICYmIHRoaXMubmF2LnNjcm9sbFdpZHRoID4gdGhpcy5uYXYuY2xpZW50V2lkdGggKyAxO1xuICAgIH1cbiAgfVxuICBzeW5jSW5kaWNhdG9yKCkge1xuICAgIGNvbnN0IHRhYiA9IHRoaXMuZ2V0QWN0aXZlVGFiKCk7XG4gICAgaWYgKHRhYikge1xuICAgICAgdGhpcy5pbmRpY2F0b3Iuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIHRoaXMucmVwb3NpdGlvbkluZGljYXRvcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluZGljYXRvci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuICB9XG4gIC8qKiBTaG93cyB0aGUgc3BlY2lmaWVkIHRhYiBwYW5lbC4gKi9cbiAgc2hvdyhwYW5lbCkge1xuICAgIGNvbnN0IHRhYiA9IHRoaXMudGFicy5maW5kKChlbCkgPT4gZWwucGFuZWwgPT09IHBhbmVsKTtcbiAgICBpZiAodGFiKSB7XG4gICAgICB0aGlzLnNldEFjdGl2ZVRhYih0YWIsIHsgc2Nyb2xsQmVoYXZpb3I6IFwic21vb3RoXCIgfSk7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1J0bCA9IHRoaXMubG9jYWxpemUuZGlyKCkgPT09IFwicnRsXCI7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2XG4gICAgICAgIHBhcnQ9XCJiYXNlXCJcbiAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7XG4gICAgICBcInRhYi1ncm91cFwiOiB0cnVlLFxuICAgICAgXCJ0YWItZ3JvdXAtLXRvcFwiOiB0aGlzLnBsYWNlbWVudCA9PT0gXCJ0b3BcIixcbiAgICAgIFwidGFiLWdyb3VwLS1ib3R0b21cIjogdGhpcy5wbGFjZW1lbnQgPT09IFwiYm90dG9tXCIsXG4gICAgICBcInRhYi1ncm91cC0tc3RhcnRcIjogdGhpcy5wbGFjZW1lbnQgPT09IFwic3RhcnRcIixcbiAgICAgIFwidGFiLWdyb3VwLS1lbmRcIjogdGhpcy5wbGFjZW1lbnQgPT09IFwiZW5kXCIsXG4gICAgICBcInRhYi1ncm91cC0tcnRsXCI6IHRoaXMubG9jYWxpemUuZGlyKCkgPT09IFwicnRsXCIsXG4gICAgICBcInRhYi1ncm91cC0taGFzLXNjcm9sbC1jb250cm9sc1wiOiB0aGlzLmhhc1Njcm9sbENvbnRyb2xzXG4gICAgfSl9XG4gICAgICAgIEBjbGljaz0ke3RoaXMuaGFuZGxlQ2xpY2t9XG4gICAgICAgIEBrZXlkb3duPSR7dGhpcy5oYW5kbGVLZXlEb3dufVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFiLWdyb3VwX19uYXYtY29udGFpbmVyXCIgcGFydD1cIm5hdlwiPlxuICAgICAgICAgICR7dGhpcy5oYXNTY3JvbGxDb250cm9scyA/IGh0bWxgXG4gICAgICAgICAgICAgICAgPHNsLWljb24tYnV0dG9uXG4gICAgICAgICAgICAgICAgICBwYXJ0PVwic2Nyb2xsLWJ1dHRvbiBzY3JvbGwtYnV0dG9uLS1zdGFydFwiXG4gICAgICAgICAgICAgICAgICBleHBvcnRwYXJ0cz1cImJhc2U6c2Nyb2xsLWJ1dHRvbl9fYmFzZVwiXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInRhYi1ncm91cF9fc2Nyb2xsLWJ1dHRvbiB0YWItZ3JvdXBfX3Njcm9sbC1idXR0b24tLXN0YXJ0XCJcbiAgICAgICAgICAgICAgICAgIG5hbWU9JHtpc1J0bCA/IFwiY2hldnJvbi1yaWdodFwiIDogXCJjaGV2cm9uLWxlZnRcIn1cbiAgICAgICAgICAgICAgICAgIGxpYnJhcnk9XCJzeXN0ZW1cIlxuICAgICAgICAgICAgICAgICAgbGFiZWw9JHt0aGlzLmxvY2FsaXplLnRlcm0oXCJzY3JvbGxUb1N0YXJ0XCIpfVxuICAgICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5oYW5kbGVTY3JvbGxUb1N0YXJ0fVxuICAgICAgICAgICAgICAgID48L3NsLWljb24tYnV0dG9uPlxuICAgICAgICAgICAgICBgIDogXCJcIn1cblxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWItZ3JvdXBfX25hdlwiPlxuICAgICAgICAgICAgPGRpdiBwYXJ0PVwidGFic1wiIGNsYXNzPVwidGFiLWdyb3VwX190YWJzXCIgcm9sZT1cInRhYmxpc3RcIj5cbiAgICAgICAgICAgICAgPGRpdiBwYXJ0PVwiYWN0aXZlLXRhYi1pbmRpY2F0b3JcIiBjbGFzcz1cInRhYi1ncm91cF9faW5kaWNhdG9yXCI+PC9kaXY+XG4gICAgICAgICAgICAgIDxzbG90IG5hbWU9XCJuYXZcIiBAc2xvdGNoYW5nZT0ke3RoaXMuc3luY1RhYnNBbmRQYW5lbHN9Pjwvc2xvdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgJHt0aGlzLmhhc1Njcm9sbENvbnRyb2xzID8gaHRtbGBcbiAgICAgICAgICAgICAgICA8c2wtaWNvbi1idXR0b25cbiAgICAgICAgICAgICAgICAgIHBhcnQ9XCJzY3JvbGwtYnV0dG9uIHNjcm9sbC1idXR0b24tLWVuZFwiXG4gICAgICAgICAgICAgICAgICBleHBvcnRwYXJ0cz1cImJhc2U6c2Nyb2xsLWJ1dHRvbl9fYmFzZVwiXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInRhYi1ncm91cF9fc2Nyb2xsLWJ1dHRvbiB0YWItZ3JvdXBfX3Njcm9sbC1idXR0b24tLWVuZFwiXG4gICAgICAgICAgICAgICAgICBuYW1lPSR7aXNSdGwgPyBcImNoZXZyb24tbGVmdFwiIDogXCJjaGV2cm9uLXJpZ2h0XCJ9XG4gICAgICAgICAgICAgICAgICBsaWJyYXJ5PVwic3lzdGVtXCJcbiAgICAgICAgICAgICAgICAgIGxhYmVsPSR7dGhpcy5sb2NhbGl6ZS50ZXJtKFwic2Nyb2xsVG9FbmRcIil9XG4gICAgICAgICAgICAgICAgICBAY2xpY2s9JHt0aGlzLmhhbmRsZVNjcm9sbFRvRW5kfVxuICAgICAgICAgICAgICAgID48L3NsLWljb24tYnV0dG9uPlxuICAgICAgICAgICAgICBgIDogXCJcIn1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPHNsb3QgcGFydD1cImJvZHlcIiBjbGFzcz1cInRhYi1ncm91cF9fYm9keVwiIEBzbG90Y2hhbmdlPSR7dGhpcy5zeW5jVGFic0FuZFBhbmVsc30+PC9zbG90PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxufTtcblNsVGFiR3JvdXAuc3R5bGVzID0gW2NvbXBvbmVudF9zdHlsZXNfZGVmYXVsdCwgdGFiX2dyb3VwX3N0eWxlc19kZWZhdWx0XTtcblNsVGFiR3JvdXAuZGVwZW5kZW5jaWVzID0geyBcInNsLWljb24tYnV0dG9uXCI6IFNsSWNvbkJ1dHRvbiB9O1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcXVlcnkoXCIudGFiLWdyb3VwXCIpXG5dLCBTbFRhYkdyb3VwLnByb3RvdHlwZSwgXCJ0YWJHcm91cFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHF1ZXJ5KFwiLnRhYi1ncm91cF9fYm9keVwiKVxuXSwgU2xUYWJHcm91cC5wcm90b3R5cGUsIFwiYm9keVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHF1ZXJ5KFwiLnRhYi1ncm91cF9fbmF2XCIpXG5dLCBTbFRhYkdyb3VwLnByb3RvdHlwZSwgXCJuYXZcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBxdWVyeShcIi50YWItZ3JvdXBfX2luZGljYXRvclwiKVxuXSwgU2xUYWJHcm91cC5wcm90b3R5cGUsIFwiaW5kaWNhdG9yXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgc3RhdGUoKVxuXSwgU2xUYWJHcm91cC5wcm90b3R5cGUsIFwiaGFzU2Nyb2xsQ29udHJvbHNcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbFRhYkdyb3VwLnByb3RvdHlwZSwgXCJwbGFjZW1lbnRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSgpXG5dLCBTbFRhYkdyb3VwLnByb3RvdHlwZSwgXCJhY3RpdmF0aW9uXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyBhdHRyaWJ1dGU6IFwibm8tc2Nyb2xsLWNvbnRyb2xzXCIsIHR5cGU6IEJvb2xlYW4gfSlcbl0sIFNsVGFiR3JvdXAucHJvdG90eXBlLCBcIm5vU2Nyb2xsQ29udHJvbHNcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICB3YXRjaChcIm5vU2Nyb2xsQ29udHJvbHNcIiwgeyB3YWl0VW50aWxGaXJzdFVwZGF0ZTogdHJ1ZSB9KVxuXSwgU2xUYWJHcm91cC5wcm90b3R5cGUsIFwidXBkYXRlU2Nyb2xsQ29udHJvbHNcIiwgMSk7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICB3YXRjaChcInBsYWNlbWVudFwiLCB7IHdhaXRVbnRpbEZpcnN0VXBkYXRlOiB0cnVlIH0pXG5dLCBTbFRhYkdyb3VwLnByb3RvdHlwZSwgXCJzeW5jSW5kaWNhdG9yXCIsIDEpO1xuXG5leHBvcnQge1xuICBTbFRhYkdyb3VwXG59O1xuIiwgImltcG9ydCB7XG4gIFNsVGFiR3JvdXBcbn0gZnJvbSBcIi4vY2h1bmsuWkJWVlVZRVYuanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvdGFiLWdyb3VwL3RhYi1ncm91cC50c1xudmFyIHRhYl9ncm91cF9kZWZhdWx0ID0gU2xUYWJHcm91cDtcblNsVGFiR3JvdXAuZGVmaW5lKFwic2wtdGFiLWdyb3VwXCIpO1xuXG5leHBvcnQge1xuICB0YWJfZ3JvdXBfZGVmYXVsdFxufTtcbiIsICIvLyBzcmMvY29tcG9uZW50cy90YWItcGFuZWwvdGFiLXBhbmVsLnN0eWxlcy50c1xuaW1wb3J0IHsgY3NzIH0gZnJvbSBcImxpdFwiO1xudmFyIHRhYl9wYW5lbF9zdHlsZXNfZGVmYXVsdCA9IGNzc2BcbiAgOmhvc3Qge1xuICAgIC0tcGFkZGluZzogMDtcblxuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICA6aG9zdChbYWN0aXZlXSkge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICB9XG5cbiAgLnRhYi1wYW5lbCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgcGFkZGluZzogdmFyKC0tcGFkZGluZyk7XG4gIH1cbmA7XG5cbmV4cG9ydCB7XG4gIHRhYl9wYW5lbF9zdHlsZXNfZGVmYXVsdFxufTtcbiIsICJpbXBvcnQge1xuICB0YWJfcGFuZWxfc3R5bGVzX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmsuQlFTRUpEN1guanNcIjtcbmltcG9ydCB7XG4gIHdhdGNoXG59IGZyb20gXCIuL2NodW5rLjJGQjVUSzVILmpzXCI7XG5pbXBvcnQge1xuICBjb21wb25lbnRfc3R5bGVzX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmsuVFVWSktZN1MuanNcIjtcbmltcG9ydCB7XG4gIFNob2VsYWNlRWxlbWVudFxufSBmcm9tIFwiLi9jaHVuay5TRlNUWENYQy5qc1wiO1xuaW1wb3J0IHtcbiAgX19kZWNvcmF0ZUNsYXNzXG59IGZyb20gXCIuL2NodW5rLklGRFdNNlA0LmpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL3RhYi1wYW5lbC90YWItcGFuZWwuY29tcG9uZW50LnRzXG5pbXBvcnQgeyBjbGFzc01hcCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9jbGFzcy1tYXAuanNcIjtcbmltcG9ydCB7IGh0bWwgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gXCJsaXQvZGVjb3JhdG9ycy5qc1wiO1xudmFyIGlkID0gMDtcbnZhciBTbFRhYlBhbmVsID0gY2xhc3MgZXh0ZW5kcyBTaG9lbGFjZUVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuYXR0cklkID0gKytpZDtcbiAgICB0aGlzLmNvbXBvbmVudElkID0gYHNsLXRhYi1wYW5lbC0ke3RoaXMuYXR0cklkfWA7XG4gICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5pZCA9IHRoaXMuaWQubGVuZ3RoID4gMCA/IHRoaXMuaWQgOiB0aGlzLmNvbXBvbmVudElkO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInRhYnBhbmVsXCIpO1xuICB9XG4gIGhhbmRsZUFjdGl2ZUNoYW5nZSgpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIHRoaXMuYWN0aXZlID8gXCJmYWxzZVwiIDogXCJ0cnVlXCIpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxzbG90XG4gICAgICAgIHBhcnQ9XCJiYXNlXCJcbiAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7XG4gICAgICBcInRhYi1wYW5lbFwiOiB0cnVlLFxuICAgICAgXCJ0YWItcGFuZWwtLWFjdGl2ZVwiOiB0aGlzLmFjdGl2ZVxuICAgIH0pfVxuICAgICAgPjwvc2xvdD5cbiAgICBgO1xuICB9XG59O1xuU2xUYWJQYW5lbC5zdHlsZXMgPSBbY29tcG9uZW50X3N0eWxlc19kZWZhdWx0LCB0YWJfcGFuZWxfc3R5bGVzX2RlZmF1bHRdO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbFRhYlBhbmVsLnByb3RvdHlwZSwgXCJuYW1lXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbFRhYlBhbmVsLnByb3RvdHlwZSwgXCJhY3RpdmVcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICB3YXRjaChcImFjdGl2ZVwiKVxuXSwgU2xUYWJQYW5lbC5wcm90b3R5cGUsIFwiaGFuZGxlQWN0aXZlQ2hhbmdlXCIsIDEpO1xuXG5leHBvcnQge1xuICBTbFRhYlBhbmVsXG59O1xuIiwgImltcG9ydCB7XG4gIFNsVGFiUGFuZWxcbn0gZnJvbSBcIi4vY2h1bmsuSkJKUUhJWEsuanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvdGFiLXBhbmVsL3RhYi1wYW5lbC50c1xudmFyIHRhYl9wYW5lbF9kZWZhdWx0ID0gU2xUYWJQYW5lbDtcblNsVGFiUGFuZWwuZGVmaW5lKFwic2wtdGFiLXBhbmVsXCIpO1xuXG5leHBvcnQge1xuICB0YWJfcGFuZWxfZGVmYXVsdFxufTtcbiIsICIvLyBzcmMvY29tcG9uZW50cy90YWIvdGFiLnN0eWxlcy50c1xuaW1wb3J0IHsgY3NzIH0gZnJvbSBcImxpdFwiO1xudmFyIHRhYl9zdHlsZXNfZGVmYXVsdCA9IGNzc2BcbiAgOmhvc3Qge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuXG4gIC50YWIge1xuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZm9udC1mYW1pbHk6IHZhcigtLXNsLWZvbnQtc2Fucyk7XG4gICAgZm9udC1zaXplOiB2YXIoLS1zbC1mb250LXNpemUtc21hbGwpO1xuICAgIGZvbnQtd2VpZ2h0OiB2YXIoLS1zbC1mb250LXdlaWdodC1zZW1pYm9sZCk7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tc2wtYm9yZGVyLXJhZGl1cy1tZWRpdW0pO1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1uZXV0cmFsLTYwMCk7XG4gICAgcGFkZGluZzogdmFyKC0tc2wtc3BhY2luZy1tZWRpdW0pIHZhcigtLXNsLXNwYWNpbmctbGFyZ2UpO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjpcbiAgICAgIHZhcigtLXRyYW5zaXRpb24tc3BlZWQpIGJveC1zaGFkb3csXG4gICAgICB2YXIoLS10cmFuc2l0aW9uLXNwZWVkKSBjb2xvcjtcbiAgfVxuXG4gIC50YWI6aG92ZXI6bm90KC50YWItLWRpc2FibGVkKSB7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNjAwKTtcbiAgfVxuXG4gIC50YWI6Zm9jdXMge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gIH1cblxuICAudGFiOmZvY3VzLXZpc2libGU6bm90KC50YWItLWRpc2FibGVkKSB7XG4gICAgY29sb3I6IHZhcigtLXNsLWNvbG9yLXByaW1hcnktNjAwKTtcbiAgfVxuXG4gIC50YWI6Zm9jdXMtdmlzaWJsZSB7XG4gICAgb3V0bGluZTogdmFyKC0tc2wtZm9jdXMtcmluZyk7XG4gICAgb3V0bGluZS1vZmZzZXQ6IGNhbGMoLTEgKiB2YXIoLS1zbC1mb2N1cy1yaW5nLXdpZHRoKSAtIHZhcigtLXNsLWZvY3VzLXJpbmctb2Zmc2V0KSk7XG4gIH1cblxuICAudGFiLnRhYi0tYWN0aXZlOm5vdCgudGFiLS1kaXNhYmxlZCkge1xuICAgIGNvbG9yOiB2YXIoLS1zbC1jb2xvci1wcmltYXJ5LTYwMCk7XG4gIH1cblxuICAudGFiLnRhYi0tY2xvc2FibGUge1xuICAgIHBhZGRpbmctaW5saW5lLWVuZDogdmFyKC0tc2wtc3BhY2luZy1zbWFsbCk7XG4gIH1cblxuICAudGFiLnRhYi0tZGlzYWJsZWQge1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICB9XG5cbiAgLnRhYl9fY2xvc2UtYnV0dG9uIHtcbiAgICBmb250LXNpemU6IHZhcigtLXNsLWZvbnQtc2l6ZS1zbWFsbCk7XG4gICAgbWFyZ2luLWlubGluZS1zdGFydDogdmFyKC0tc2wtc3BhY2luZy1zbWFsbCk7XG4gIH1cblxuICAudGFiX19jbG9zZS1idXR0b246OnBhcnQoYmFzZSkge1xuICAgIHBhZGRpbmc6IHZhcigtLXNsLXNwYWNpbmctM3gtc21hbGwpO1xuICB9XG5cbiAgQG1lZGlhIChmb3JjZWQtY29sb3JzOiBhY3RpdmUpIHtcbiAgICAudGFiLnRhYi0tYWN0aXZlOm5vdCgudGFiLS1kaXNhYmxlZCkge1xuICAgICAgb3V0bGluZTogc29saWQgMXB4IHRyYW5zcGFyZW50O1xuICAgICAgb3V0bGluZS1vZmZzZXQ6IC0zcHg7XG4gICAgfVxuICB9XG5gO1xuXG5leHBvcnQge1xuICB0YWJfc3R5bGVzX2RlZmF1bHRcbn07XG4iLCAiaW1wb3J0IHtcbiAgdGFiX3N0eWxlc19kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLlA2SkU2NllKLmpzXCI7XG5pbXBvcnQge1xuICBTbEljb25CdXR0b25cbn0gZnJvbSBcIi4vY2h1bmsuV1E0TEFBUDQuanNcIjtcbmltcG9ydCB7XG4gIExvY2FsaXplQ29udHJvbGxlclxufSBmcm9tIFwiLi9jaHVuay5XTFYzRlZCUi5qc1wiO1xuaW1wb3J0IHtcbiAgd2F0Y2hcbn0gZnJvbSBcIi4vY2h1bmsuMkZCNVRLNUguanNcIjtcbmltcG9ydCB7XG4gIGNvbXBvbmVudF9zdHlsZXNfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay5UVVZKS1k3Uy5qc1wiO1xuaW1wb3J0IHtcbiAgU2hvZWxhY2VFbGVtZW50XG59IGZyb20gXCIuL2NodW5rLlNGU1RYQ1hDLmpzXCI7XG5pbXBvcnQge1xuICBfX2RlY29yYXRlQ2xhc3Ncbn0gZnJvbSBcIi4vY2h1bmsuSUZEV002UDQuanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvdGFiL3RhYi5jb21wb25lbnQudHNcbmltcG9ydCB7IGNsYXNzTWFwIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qc1wiO1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IHByb3BlcnR5LCBxdWVyeSB9IGZyb20gXCJsaXQvZGVjb3JhdG9ycy5qc1wiO1xudmFyIGlkID0gMDtcbnZhciBTbFRhYiA9IGNsYXNzIGV4dGVuZHMgU2hvZWxhY2VFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmxvY2FsaXplID0gbmV3IExvY2FsaXplQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLmF0dHJJZCA9ICsraWQ7XG4gICAgdGhpcy5jb21wb25lbnRJZCA9IGBzbC10YWItJHt0aGlzLmF0dHJJZH1gO1xuICAgIHRoaXMucGFuZWwgPSBcIlwiO1xuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5jbG9zYWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInRhYlwiKTtcbiAgfVxuICBoYW5kbGVDbG9zZUNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5lbWl0KFwic2wtY2xvc2VcIik7XG4gIH1cbiAgaGFuZGxlQWN0aXZlQ2hhbmdlKCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCB0aGlzLmFjdGl2ZSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcbiAgfVxuICBoYW5kbGVEaXNhYmxlZENoYW5nZSgpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwgdGhpcy5kaXNhYmxlZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcbiAgfVxuICAvKiogU2V0cyBmb2N1cyB0byB0aGUgdGFiLiAqL1xuICBmb2N1cyhvcHRpb25zKSB7XG4gICAgdGhpcy50YWIuZm9jdXMob3B0aW9ucyk7XG4gIH1cbiAgLyoqIFJlbW92ZXMgZm9jdXMgZnJvbSB0aGUgdGFiLiAqL1xuICBibHVyKCkge1xuICAgIHRoaXMudGFiLmJsdXIoKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5pZCA9IHRoaXMuaWQubGVuZ3RoID4gMCA/IHRoaXMuaWQgOiB0aGlzLmNvbXBvbmVudElkO1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdlxuICAgICAgICBwYXJ0PVwiYmFzZVwiXG4gICAgICAgIGNsYXNzPSR7Y2xhc3NNYXAoe1xuICAgICAgdGFiOiB0cnVlLFxuICAgICAgXCJ0YWItLWFjdGl2ZVwiOiB0aGlzLmFjdGl2ZSxcbiAgICAgIFwidGFiLS1jbG9zYWJsZVwiOiB0aGlzLmNsb3NhYmxlLFxuICAgICAgXCJ0YWItLWRpc2FibGVkXCI6IHRoaXMuZGlzYWJsZWRcbiAgICB9KX1cbiAgICAgICAgdGFiaW5kZXg9JHt0aGlzLmRpc2FibGVkID8gXCItMVwiIDogXCIwXCJ9XG4gICAgICA+XG4gICAgICAgIDxzbG90Pjwvc2xvdD5cbiAgICAgICAgJHt0aGlzLmNsb3NhYmxlID8gaHRtbGBcbiAgICAgICAgICAgICAgPHNsLWljb24tYnV0dG9uXG4gICAgICAgICAgICAgICAgcGFydD1cImNsb3NlLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgZXhwb3J0cGFydHM9XCJiYXNlOmNsb3NlLWJ1dHRvbl9fYmFzZVwiXG4gICAgICAgICAgICAgICAgbmFtZT1cIngtbGdcIlxuICAgICAgICAgICAgICAgIGxpYnJhcnk9XCJzeXN0ZW1cIlxuICAgICAgICAgICAgICAgIGxhYmVsPSR7dGhpcy5sb2NhbGl6ZS50ZXJtKFwiY2xvc2VcIil9XG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ0YWJfX2Nsb3NlLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5oYW5kbGVDbG9zZUNsaWNrfVxuICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiLTFcIlxuICAgICAgICAgICAgICA+PC9zbC1pY29uLWJ1dHRvbj5cbiAgICAgICAgICAgIGAgOiBcIlwifVxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxufTtcblNsVGFiLnN0eWxlcyA9IFtjb21wb25lbnRfc3R5bGVzX2RlZmF1bHQsIHRhYl9zdHlsZXNfZGVmYXVsdF07XG5TbFRhYi5kZXBlbmRlbmNpZXMgPSB7IFwic2wtaWNvbi1idXR0b25cIjogU2xJY29uQnV0dG9uIH07XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBxdWVyeShcIi50YWJcIilcbl0sIFNsVGFiLnByb3RvdHlwZSwgXCJ0YWJcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICBwcm9wZXJ0eSh7IHJlZmxlY3Q6IHRydWUgfSlcbl0sIFNsVGFiLnByb3RvdHlwZSwgXCJwYW5lbFwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuXSwgU2xUYWIucHJvdG90eXBlLCBcImFjdGl2ZVwiLCAyKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuXSwgU2xUYWIucHJvdG90eXBlLCBcImNsb3NhYmxlXCIsIDIpO1xuX19kZWNvcmF0ZUNsYXNzKFtcbiAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pXG5dLCBTbFRhYi5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgMik7XG5fX2RlY29yYXRlQ2xhc3MoW1xuICB3YXRjaChcImFjdGl2ZVwiKVxuXSwgU2xUYWIucHJvdG90eXBlLCBcImhhbmRsZUFjdGl2ZUNoYW5nZVwiLCAxKTtcbl9fZGVjb3JhdGVDbGFzcyhbXG4gIHdhdGNoKFwiZGlzYWJsZWRcIilcbl0sIFNsVGFiLnByb3RvdHlwZSwgXCJoYW5kbGVEaXNhYmxlZENoYW5nZVwiLCAxKTtcblxuZXhwb3J0IHtcbiAgU2xUYWJcbn07XG4iLCAiaW1wb3J0IHtcbiAgU2xUYWJcbn0gZnJvbSBcIi4vY2h1bmsuSzRUUEdQUDMuanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvdGFiL3RhYi50c1xudmFyIHRhYl9kZWZhdWx0ID0gU2xUYWI7XG5TbFRhYi5kZWZpbmUoXCJzbC10YWJcIik7XG5cbmV4cG9ydCB7XG4gIHRhYl9kZWZhdWx0XG59O1xuIiwgImltcG9ydCB7IENyYWZ0eU5vZGUgfSBmcm9tIFwibm9kZXMvbm9kZXNcIjtcclxuaW1wb3J0IHsgVEZpbGUsIFZhdWx0IH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsZUhhbmRsZXIge1xyXG5cdHN0YXRpYyBhc3luYyB1cGRhdGVDYW52YXNOb2RlKG5vZGU6IENyYWZ0eU5vZGUsIGZpbGU6IFRGaWxlLCB2YXVsdDogVmF1bHQpIHtcclxuXHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB2YXVsdC5yZWFkKGZpbGUpO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgcGFyc2VkX2RhdGEgPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xyXG5cdFx0XHRmb3IgKGNvbnN0IGVsZW0gb2YgcGFyc2VkX2RhdGEubm9kZXMpIHtcclxuXHRcdFx0XHRpZiAoZWxlbS5pZCA9PSBub2RlLmlkKSB7XHJcblx0XHRcdFx0XHRkZWxldGUgZWxlbS5kZXNjcmlwdGlvbjtcclxuXHRcdFx0XHRcdGRlbGV0ZSBlbGVtLnRpdGxlO1xyXG5cdFx0XHRcdFx0aWYgKG5vZGUuZGVzY3JpcHRpb24gJiYgbm9kZS5kZXNjcmlwdGlvbiAhPSBcIlwiKSB7XHJcblx0XHRcdFx0XHRcdGVsZW0uZGVzY3JpcHRpb24gPSBub2RlLmRlc2NyaXB0aW9uO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmIChub2RlLnRpdGxlICYmIG5vZGUudGl0bGUgIT0gXCJcIikge1xyXG5cdFx0XHRcdFx0XHRlbGVtLnRpdGxlID0gbm9kZS50aXRsZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRhd2FpdCB2YXVsdC5tb2RpZnkoZmlsZSwgSlNPTi5zdHJpbmdpZnkocGFyc2VkX2RhdGEpKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgU2xEcm9wZG93biwgU2xNZW51IH0gZnJvbSBcIkBzaG9lbGFjZS1zdHlsZS9zaG9lbGFjZVwiO1xuaW1wb3J0IHsgRmlsZUhhbmRsZXIgfSBmcm9tIFwiaW8vZmlsZUhhbmRsZXJcIjtcbmltcG9ydCBDcmFmdHkgZnJvbSBcIm1haW5cIjtcbmltcG9ydCB7IENyYWZ0eU5vZGUsIEZJTEVfVFlQRSwgTm9kZUZpbHRlciB9IGZyb20gXCJub2Rlcy9ub2Rlc1wiO1xuaW1wb3J0IHsgZGVib3VuY2UsIHNldEljb24gfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuZXhwb3J0IGNsYXNzIERPTUhhbmRsZXIge1xuXHRwcml2YXRlIHN0YXRpYyBzZWxlY3Rpb25fbGlzdGVuZXJzX2NiOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xuXHRwcml2YXRlIHN0YXRpYyBub2Rlc19jbGlja19saXN0ZXJfY2I6ICgoKSA9PiB2b2lkKVtdID0gW107XG5cdHByaXZhdGUgc3RhdGljIHRpdGxlX2VkaXRfbGlzdGVyX2NiOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xuXHRwcml2YXRlIHN0YXRpYyBzZWFyY2hiYXJfbGlzdGVyX2NiOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xuXHRwcml2YXRlIHN0YXRpYyBzb3J0X21lbnVfbGlzdGVyX2NiOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xuXHRwcml2YXRlIHN0YXRpYyBmaWx0ZXJfbWVudV9iYWRnZV9saXN0ZXJfY2I6ICgoKSA9PiB2b2lkKVtdID0gW107XG5cdHByaXZhdGUgc3RhdGljIGxhc3Rfbm9kZV9pZCA9IFwiXCI7XG5cdHByaXZhdGUgc3RhdGljIHRpdGxlSW5wdXQ6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgc3RhdGljIHRpdGxlRGlzcGxheTogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBzdGF0aWMgdGV4dEFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBzdGF0aWMgc2F2ZV9zdGF0ZTogSFRNTFNwYW5FbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgc3RhdGljIHNlYXJjaF9iYXI6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBzdGF0aWMgbm9kZXNfY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIHN0YXRpYyBmaWx0ZXJzX2NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBzdGF0aWMgZmlsdGVyc19kaXNwbGF5OiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIHN0YXRpYyBzb3J0X2J1dHRvbjogU2xEcm9wZG93biB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIHN0YXRpYyBmaWx0ZXJfYnV0dG9uOiBTbERyb3Bkb3duIHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgc3RhdGljIHNvcnRfbWVudTogU2xNZW51IHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgc3RhdGljIGZpbHRlcl9tZW51OiBTbE1lbnUgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBzdGF0aWMgY3JhZnR5OiBDcmFmdHkgfCBudWxsO1xuXG5cdHN0YXRpYyAjZnJlZVNlbGVjdGlvbkxpc3RlbmVycygpIHtcblx0XHRsZXQgY2FsbGJhY2sgPSB0aGlzLnNlbGVjdGlvbl9saXN0ZW5lcnNfY2IucG9wKCk7XG5cdFx0d2hpbGUgKGNhbGxiYWNrKSB7XG5cdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0Y2FsbGJhY2sgPSB0aGlzLnNlbGVjdGlvbl9saXN0ZW5lcnNfY2IucG9wKCk7XG5cdFx0fVxuXHR9XG5cblx0c3RhdGljICNmcmVlTm9kZXNDbGlja0xpc3RlbmVycygpIHtcblx0XHRsZXQgY2FsbGJhY2sgPSB0aGlzLm5vZGVzX2NsaWNrX2xpc3Rlcl9jYi5wb3AoKTtcblx0XHR3aGlsZSAoY2FsbGJhY2spIHtcblx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRjYWxsYmFjayA9IHRoaXMubm9kZXNfY2xpY2tfbGlzdGVyX2NiLnBvcCgpO1xuXHRcdH1cblx0fVxuXG5cdHN0YXRpYyAjZnJlZVRpdGxlRWRpdExpc3RlbmVycygpIHtcblx0XHRsZXQgY2FsbGJhY2sgPSB0aGlzLnRpdGxlX2VkaXRfbGlzdGVyX2NiLnBvcCgpO1xuXHRcdHdoaWxlIChjYWxsYmFjaykge1xuXHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdGNhbGxiYWNrID0gdGhpcy50aXRsZV9lZGl0X2xpc3Rlcl9jYi5wb3AoKTtcblx0XHR9XG5cdH1cblxuXHRzdGF0aWMgI2ZyZWVTZWFyY2hCYXJMaXN0ZW5lcnMoKSB7XG5cdFx0bGV0IGNhbGxiYWNrID0gdGhpcy5zZWFyY2hiYXJfbGlzdGVyX2NiLnBvcCgpO1xuXHRcdHdoaWxlIChjYWxsYmFjaykge1xuXHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdGNhbGxiYWNrID0gdGhpcy5zZWFyY2hiYXJfbGlzdGVyX2NiLnBvcCgpO1xuXHRcdH1cblx0fVxuXG5cdHN0YXRpYyAjZnJlZVNvcnRNZW51TGlzdGVuZXJzKCkge1xuXHRcdGxldCBjYWxsYmFjayA9IHRoaXMuc29ydF9tZW51X2xpc3Rlcl9jYi5wb3AoKTtcblx0XHR3aGlsZSAoY2FsbGJhY2spIHtcblx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRjYWxsYmFjayA9IHRoaXMuc29ydF9tZW51X2xpc3Rlcl9jYi5wb3AoKTtcblx0XHR9XG5cdH1cblxuXHRzdGF0aWMgI2ZyZWVGaWx0ZXJNZW51QmFkZ2VMaXN0ZW5lcnMoKSB7XG5cdFx0bGV0IGNhbGxiYWNrID0gdGhpcy5maWx0ZXJfbWVudV9iYWRnZV9saXN0ZXJfY2IucG9wKCk7XG5cdFx0d2hpbGUgKGNhbGxiYWNrKSB7XG5cdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0Y2FsbGJhY2sgPSB0aGlzLmZpbHRlcl9tZW51X2JhZGdlX2xpc3Rlcl9jYi5wb3AoKTtcblx0XHR9XG5cdH1cblxuXHRzdGF0aWMgYXN5bmMgcG9wdWxhdGVOb2Rlcyhub2RlczogQ3JhZnR5Tm9kZVtdIHwgbnVsbCkge1xuXHRcdGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5vZGVzLWJvZHlcIik7XG5cblx0XHRpZiAobm9kZXMgPT0gbnVsbCB8fCAhYm9keSkgcmV0dXJuO1xuXHRcdERPTUhhbmRsZXIuI2ZyZWVOb2Rlc0NsaWNrTGlzdGVuZXJzKCk7XG5cdFx0Ym9keS5lbXB0eSgpO1xuXG5cdFx0Zm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7XG5cdFx0XHRjb25zdCBjbHMgPSBbXCJub2RlLWVsZW1lbnRcIl07XG5cdFx0XHRpZiAobm9kZS5zZWxlY3RlZCkgY2xzLnB1c2goXCJub2RlLWFjdGl2ZVwiKTtcblx0XHRcdGNvbnN0IGNoaWxkID0gY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0XHR0ZXh0OiBub2RlLnRpdGxlLFxuXHRcdFx0XHRhdHRyOiB7IGNsYXNzOiBjbHMuam9pbihcIiBcIikgfSxcblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zdCBjbGlja0NhbGxiYWNrID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuXHRcdFx0XHQvL0B0cy1pZ25vcmVcblx0XHRcdFx0bm9kZS5jb250YWluZXIuY2xpY2soKTtcblx0XHRcdH07XG5cdFx0XHRjaGlsZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tDYWxsYmFjayk7XG5cblx0XHRcdHRoaXMubm9kZXNfY2xpY2tfbGlzdGVyX2NiLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRjaGlsZC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tDYWxsYmFjayk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ym9keS5hcHBlbmRDaGlsZChjaGlsZCk7XG5cdFx0fVxuXHR9XG5cblx0c3RhdGljIHNob3dTZWxlY3RlZE5vZGUoKSB7XG5cdFx0aWYgKCF0aGlzLmNyYWZ0eSkgcmV0dXJuO1xuXHRcdGNvbnN0IG5vZGUgPSB0aGlzLmNyYWZ0eS5zZWxlY3RlZE5vZGU7XG5cdFx0aWYgKCFub2RlIHx8IHRoaXMubGFzdF9ub2RlX2lkID09IG5vZGUuaWQpIHJldHVybjtcblx0XHR0aGlzLiNmcmVlU2VsZWN0aW9uTGlzdGVuZXJzKCk7XG5cdFx0Y29uc3QgdGl0bGVfY29udGFpbmVyID0gdGhpcy5nZXRUaXRsZURpc3BsYXkoKTtcblx0XHRjb25zdCB0aXRsZSA9IHRpdGxlX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwic3BhblwiKTtcblxuXHRcdGNvbnN0IHRleHRfYXJlYSA9IHRoaXMuZ2V0VGV4dEFyZWEoKTtcblx0XHRjb25zdCBzYXZlX3N0YXRlID0gdGhpcy5nZXRTYXZlU3RhdGUoKTtcblxuXHRcdHRleHRfYXJlYS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuXHRcdHNhdmVfc3RhdGUuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcblxuXHRcdGlmICghdGl0bGUpIHJldHVybjtcblxuXHRcdC8vIGluaXRpYWwgc3RhdGVcblxuXHRcdHRpdGxlX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuXHRcdHRpdGxlLnNldFRleHQobm9kZS50aXRsZSk7XG5cdFx0dGhpcy51cGRhdGVUZXh0QXJlYShub2RlLmRlc2NyaXB0aW9uIHx8IFwiXCIpO1xuXHR9XG5cblx0c3RhdGljIGFzeW5jIHNob3dFbXB0eUVkaXQoKSB7XG5cdFx0dGhpcy4jZnJlZVNlbGVjdGlvbkxpc3RlbmVycygpO1xuXG5cdFx0Y29uc3QgdGV4dF9hcmVhID0gdGhpcy5nZXRUZXh0QXJlYSgpO1xuXHRcdGNvbnN0IHNhdmVfc3RhdGUgPSB0aGlzLmdldFNhdmVTdGF0ZSgpO1xuXG5cdFx0dGV4dF9hcmVhLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG5cdFx0c2F2ZV9zdGF0ZS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuXG5cdFx0RE9NSGFuZGxlci5oaWRlVGl0bGUoKTtcblx0fVxuXG5cdHN0YXRpYyBhc3luYyBzaG93RW1wdHlOb2RlcygpIHtcblx0XHRjb25zdCBzZWFyY2hfYmFyID0gdGhpcy5nZXRTZWFyY2hCYXIoKTtcblx0XHRjb25zdCBub2Rlc19jb250YWluZXIgPSB0aGlzLmdldE5vZGVzQ29udGFpbmVyKCk7XG5cdFx0Y29uc3Qgc29ydF9idXR0b24gPSB0aGlzLmdldFNvcnRCdXR0b24oKTtcblx0XHRjb25zdCBmaWx0ZXJfYnV0dG9uID0gdGhpcy5nZXRGaWx0ZXJzQnV0dG9uKCk7XG5cdFx0c2VhcmNoX2Jhci5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuXHRcdG5vZGVzX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuXHRcdHNvcnRfYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG5cdFx0ZmlsdGVyX2J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuXHR9XG5cblx0c3RhdGljIGFzeW5jIHNob3dOb2RlcygpIHtcblx0XHRjb25zdCBzZWFyY2hfYmFyID0gdGhpcy5nZXRTZWFyY2hCYXIoKTtcblx0XHRjb25zdCBub2Rlc19jb250YWluZXIgPSB0aGlzLmdldE5vZGVzQ29udGFpbmVyKCk7XG5cdFx0Y29uc3Qgc29ydF9idXR0b24gPSB0aGlzLmdldFNvcnRCdXR0b24oKTtcblx0XHRjb25zdCBmaWx0ZXJfYnV0dG9uID0gdGhpcy5nZXRGaWx0ZXJzQnV0dG9uKCk7XG5cdFx0c2VhcmNoX2Jhci5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuXHRcdG5vZGVzX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuXHRcdHNvcnRfYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG5cdFx0ZmlsdGVyX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuXHR9XG5cblx0c3RhdGljIGhpZGVUaXRsZSgpIHtcblx0XHRjb25zdCB0aXRsZV9kaXNwbGF5ID0gdGhpcy5nZXRUaXRsZURpc3BsYXkoKTtcblx0XHRjb25zdCB0aXRsZV9pbnB1dCA9IHRoaXMuZ2V0VGl0bGVJbnB1dCgpO1xuXHRcdHRpdGxlX2Rpc3BsYXkuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcblx0XHR0aXRsZV9pbnB1dC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuXHR9XG5cblx0c3RhdGljIGdldFRpdGxlRGlzcGxheSgpIHtcblx0XHRpZiAoIXRoaXMudGl0bGVEaXNwbGF5KSB7XG5cdFx0XHRjb25zdCBlbGVtZW50ID0gY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0XHRhdHRyOiB7IGNsYXNzOiBcInRpdGxlLWVkaXQtZGl2XCIgfSxcblx0XHRcdH0pO1xuXG5cdFx0XHRlbGVtZW50LmNyZWF0ZUVsKFwic3BhblwiLCB7XG5cdFx0XHRcdGF0dHI6IHsgY2xhc3M6IFwidGl0bGVcIiB9LFxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IGljb25fY29udGFpbmVyID0gZWxlbWVudC5jcmVhdGVFbChcInNwYW5cIiwge1xuXHRcdFx0XHRhdHRyOiB7IGNsYXNzOiBcImVkaXQtaWNvblwiIH0sXG5cdFx0XHR9KTtcblxuXHRcdFx0c2V0SWNvbihpY29uX2NvbnRhaW5lciwgXCJwZW5jaWxcIik7XG5cblx0XHRcdGNvbnN0IGljb25fY2xpY2tfY2IgPSAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGlucHV0ID0gRE9NSGFuZGxlci5nZXRUaXRsZUlucHV0KCk7XG5cdFx0XHRcdGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcblx0XHRcdFx0aW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcblx0XHRcdFx0aW5wdXQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuXHRcdFx0XHRjb25zdCBpbm5lcl9pbnB1dCA9IGlucHV0LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcblx0XHRcdFx0aWYgKCFpbm5lcl9pbnB1dCkgcmV0dXJuO1xuXHRcdFx0XHRjb25zdCBzcGFuOiBIVE1MU3BhbkVsZW1lbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG5cdFx0XHRcdFx0XCJzcGFuXCJcblx0XHRcdFx0KSBhcyBIVE1MU3BhbkVsZW1lbnQ7XG5cblx0XHRcdFx0aW5uZXJfaW5wdXQudmFsdWUgPSBzcGFuLnRleHRDb250ZW50IHx8IFwiXCI7XG5cdFx0XHRcdGlubmVyX2lucHV0LmZvY3VzKCk7XG5cdFx0XHR9O1xuXHRcdFx0aWNvbl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGljb25fY2xpY2tfY2IpO1xuXG5cdFx0XHR0aGlzLnRpdGxlX2VkaXRfbGlzdGVyX2NiLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRpY29uX2NvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaWNvbl9jbGlja19jYik7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy50aXRsZURpc3BsYXkgPSBlbGVtZW50O1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy50aXRsZURpc3BsYXk7XG5cdH1cblxuXHRzdGF0aWMgZ2V0U2F2ZVN0YXRlKCkge1xuXHRcdGlmICghdGhpcy5zYXZlX3N0YXRlKSB7XG5cdFx0XHRjb25zdCBzYXZlX3N0YXRlID0gY3JlYXRlRWwoXCJzcGFuXCIsIHtcblx0XHRcdFx0dGV4dDogXCJTYXZlZFwiLFxuXHRcdFx0XHRhdHRyOiB7IGNsYXNzOiBcInNhdmVfc3RhdGVcIiB9LFxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuc2F2ZV9zdGF0ZSA9IHNhdmVfc3RhdGU7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLnNhdmVfc3RhdGU7XG5cdH1cblxuXHRzdGF0aWMgdXBkYXRlVGV4dEFyZWEodmFsdWU6IHN0cmluZykge1xuXHRcdGlmICghdGhpcy5jcmFmdHkgfHwgIXRoaXMuY3JhZnR5Lm5vZGVTdGF0ZSkgcmV0dXJuO1xuXHRcdGlmICh0aGlzLmNyYWZ0eS5ub2RlU3RhdGUuaXNOb2RlU2FtZSkgcmV0dXJuO1xuXHRcdGNvbnN0IHRleHRfYXJlYSA9IHRoaXMuZ2V0VGV4dEFyZWEoKTtcblx0XHR0ZXh0X2FyZWEudmFsdWUgPSB2YWx1ZTtcblx0fVxuXG5cdHN0YXRpYyBnZXRUZXh0QXJlYSgpIHtcblx0XHRpZiAoIXRoaXMudGV4dEFyZWEpIHtcblx0XHRcdGNvbnN0IGVsZW1lbnQgPSBjcmVhdGVFbChcInRleHRhcmVhXCIsIHtcblx0XHRcdFx0YXR0cjogeyBjbGFzczogXCJkZXNjcmlwdGlvbi1pbnB1dFwiIH0sXG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy50ZXh0QXJlYSA9IGVsZW1lbnQ7XG5cdFx0fVxuXHRcdHRoaXMuI2ZyZWVTZWxlY3Rpb25MaXN0ZW5lcnMoKTtcblx0XHRjb25zdCBpbnB1dENoYW5nZUNhbGxiYWNrID0gZGVib3VuY2UoXG5cdFx0XHRhc3luYyAodCkgPT4ge1xuXHRcdFx0XHRpZiAoIXRoaXMuY3JhZnR5IHx8ICF0aGlzLmNyYWZ0eS5zZWxlY3RlZE5vZGUgfHwgIXRoaXMudGV4dEFyZWEpXG5cdFx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRcdGNvbnN0IG5vZGUgPSB0aGlzLmNyYWZ0eS5zZWxlY3RlZE5vZGU7XG5cdFx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmNyYWZ0eS5jdXJyZW50RmlsZTtcblx0XHRcdFx0Y29uc3QgdmF1bHQgPSB0aGlzLmNyYWZ0eS52YXVsdDtcblx0XHRcdFx0Y29uc3Qgc2F2ZV9zdGF0ZSA9IERPTUhhbmRsZXIuZ2V0U2F2ZVN0YXRlKCk7XG5cdFx0XHRcdHNhdmVfc3RhdGUuc2V0VGV4dChcIlNhdmluZy4uLlwiKTtcblx0XHRcdFx0bm9kZS5kZXNjcmlwdGlvbiA9IHRoaXMudGV4dEFyZWEudmFsdWU7XG5cdFx0XHRcdGF3YWl0IEZpbGVIYW5kbGVyLnVwZGF0ZUNhbnZhc05vZGUobm9kZSwgZmlsZSwgdmF1bHQpO1xuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRzYXZlX3N0YXRlLnNldFRleHQoXCJTYXZlZFwiKTtcblx0XHRcdFx0fSwgMjAwKTtcblx0XHRcdH0sXG5cdFx0XHQxMDAwLFxuXHRcdFx0dHJ1ZVxuXHRcdCk7XG5cblx0XHR0aGlzLnRleHRBcmVhLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBpbnB1dENoYW5nZUNhbGxiYWNrKTtcblx0XHR0aGlzLnNlbGVjdGlvbl9saXN0ZW5lcnNfY2IucHVzaCgoKSA9PiB7XG5cdFx0XHRpZiAoIXRoaXMudGV4dEFyZWEpIHJldHVybjtcblx0XHRcdHRoaXMudGV4dEFyZWEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGlucHV0Q2hhbmdlQ2FsbGJhY2spO1xuXHRcdH0pO1xuXHRcdHJldHVybiB0aGlzLnRleHRBcmVhO1xuXHR9XG5cblx0c3RhdGljIGdldFNlYXJjaEJhcigpIHtcblx0XHRpZiAoIXRoaXMuc2VhcmNoX2Jhcikge1xuXHRcdFx0Y29uc3Qgc2VhcmNoX2JhciA9IGNyZWF0ZUVsKFwiaW5wdXRcIiwge1xuXHRcdFx0XHRhdHRyOiB7IGNsYXNzOiBcInNlYXJjaEJhci1pbnB1dFwiIH0sXG5cdFx0XHR9KTtcblxuXHRcdFx0c2VhcmNoX2Jhci5wbGFjZWhvbGRlciA9IFwiU2VhcmNoXCI7XG5cdFx0XHRjb25zdCBzZWFyY2hfY2hhbmdlX2NiID0gZGVib3VuY2UoKCkgPT4ge1xuXHRcdFx0XHRpZiAoIXRoaXMuY3JhZnR5IHx8ICF0aGlzLmNyYWZ0eS5ub2RlU3RhdGUpIHJldHVybjtcblx0XHRcdFx0Y29uc3Qgbm9kZV9zdGF0ZSA9IHRoaXMuY3JhZnR5Lm5vZGVTdGF0ZTtcblx0XHRcdFx0bm9kZV9zdGF0ZS5zZXRTZWFyY2hXb3JkKHNlYXJjaF9iYXIudmFsdWUpO1xuXHRcdFx0fSwgMTAwMCk7XG5cdFx0XHRzZWFyY2hfYmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBzZWFyY2hfY2hhbmdlX2NiKTtcblxuXHRcdFx0dGhpcy5zZWFyY2hiYXJfbGlzdGVyX2NiLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRzZWFyY2hfYmFyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBzZWFyY2hfY2hhbmdlX2NiKTtcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5zZWFyY2hfYmFyID0gc2VhcmNoX2Jhcjtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5zZWFyY2hfYmFyO1xuXHR9XG5cblx0c3RhdGljICN0b2dnbGVTb3J0TWVudSgpIHtcblx0XHRjb25zdCBzb3J0X2J1dHRvbiA9IHRoaXMuZ2V0U29ydEJ1dHRvbigpO1xuXHRcdGNvbnN0IGF0dHJpYnV0ZXNfbmFtZSA9IHNvcnRfYnV0dG9uLmdldEF0dHJpYnV0ZU5hbWVzKCk7XG5cdFx0aWYgKGF0dHJpYnV0ZXNfbmFtZS5pbmNsdWRlcyhcIm9wZW5cIikpXG5cdFx0XHRzb3J0X2J1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJvcGVuXCIpO1xuXHRcdGVsc2Ugc29ydF9idXR0b24uc2V0QXR0cihcIm9wZW5cIiwgdHJ1ZSk7XG5cdH1cblxuXHRzdGF0aWMgI3NvcnRJdGVtVGVtcGxhdGUoXG5cdFx0dGl0bGU6IHN0cmluZyxcblx0XHRncm91cGU6IHN0cmluZyxcblx0XHRjaGVja19tYXJrZXI6IHN0cmluZyxcblx0XHRjYWxsYmFjazogKCkgPT4gdm9pZFxuXHQpIHtcblx0XHRjb25zdCBjb250YWluZXIgPSBjcmVhdGVFbChcImRpdlwiLCB7XG5cdFx0XHRhdHRyOiB7IGNsYXNzOiBgc29ydC1pdGVtIGAgfSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IGl0ZW0gPSBjcmVhdGVFbChcImRpdlwiLCB7fSk7XG5cdFx0aXRlbS5zZXRUZXh0KHRpdGxlKTtcblx0XHRjb25zdCBjaGVja19sb2dvID0gY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0YXR0cjogeyBjbGFzczogYCR7Z3JvdXBlfSBzb3J0LWNoZWNrICR7Y2hlY2tfbWFya2VyfWAgfSxcblx0XHR9KTtcblx0XHRzZXRJY29uKGNoZWNrX2xvZ28sIFwiY2hlY2tcIik7XG5cblx0XHRjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNhbGxiYWNrKTtcblx0XHR0aGlzLnNvcnRfbWVudV9saXN0ZXJfY2IucHVzaCgoKSA9PiB7XG5cdFx0XHRjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNhbGxiYWNrKTtcblx0XHR9KTtcblxuXHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChjaGVja19sb2dvKTtcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7XG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcblx0fVxuXG5cdHN0YXRpYyBnZXRTb3J0TWVudSgpIHtcblx0XHRpZiAoIXRoaXMuc29ydF9tZW51KSB7XG5cdFx0XHRjb25zdCBtZW51ID0gY3JlYXRlRWwoXCJzbC1tZW51XCIsIHtcblx0XHRcdFx0YXR0cjogeyBjbGFzczogXCJzb3J0LW1lbnVcIiB9LFxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IHNlbGVjdE5hbWUgPSAoKSA9PiB7XG5cdFx0XHRcdGlmICghdGhpcy5jcmFmdHkgfHwgIXRoaXMuY3JhZnR5Lm5vZGVTdGF0ZSkgcmV0dXJuO1xuXHRcdFx0XHR0aGlzLmNyYWZ0eS5ub2RlU3RhdGUuc29ydEJ5KFwibmFtZVwiKTtcblx0XHRcdFx0dGhpcy4jdG9nZ2xlU29ydE1lbnUoKTtcblx0XHRcdH07XG5cblx0XHRcdGNvbnN0IHNlbGVjdENyZWF0ZWQgPSAoKSA9PiB7XG5cdFx0XHRcdGlmICghdGhpcy5jcmFmdHkgfHwgIXRoaXMuY3JhZnR5Lm5vZGVTdGF0ZSkgcmV0dXJuO1xuXHRcdFx0XHR0aGlzLmNyYWZ0eS5ub2RlU3RhdGUuc29ydEJ5KFwiY3JlYXRlZF9hdFwiKTtcblx0XHRcdFx0dGhpcy4jdG9nZ2xlU29ydE1lbnUoKTtcblx0XHRcdH07XG5cblx0XHRcdGNvbnN0IHNlbGVjdExhc3RNb2RpZmllZCA9ICgpID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLmNyYWZ0eSB8fCAhdGhpcy5jcmFmdHkubm9kZVN0YXRlKSByZXR1cm47XG5cdFx0XHRcdHRoaXMuY3JhZnR5Lm5vZGVTdGF0ZS5zb3J0QnkoXCJsYXN0X21vZGlmaWVkXCIpO1xuXHRcdFx0XHR0aGlzLiN0b2dnbGVTb3J0TWVudSgpO1xuXHRcdFx0fTtcblxuXHRcdFx0Y29uc3Qgc2VsZWN0QXNjZW5kaW5nID0gKCkgPT4ge1xuXHRcdFx0XHRpZiAoIXRoaXMuY3JhZnR5IHx8ICF0aGlzLmNyYWZ0eS5ub2RlU3RhdGUpIHJldHVybjtcblx0XHRcdFx0dGhpcy5jcmFmdHkubm9kZVN0YXRlLm9yZGVyKFwiYXNjXCIpO1xuXHRcdFx0XHR0aGlzLiN0b2dnbGVTb3J0TWVudSgpO1xuXHRcdFx0fTtcblxuXHRcdFx0Y29uc3Qgc2VsZWN0RGVzY2VuZGluZyA9ICgpID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLmNyYWZ0eSB8fCAhdGhpcy5jcmFmdHkubm9kZVN0YXRlKSByZXR1cm47XG5cdFx0XHRcdHRoaXMuY3JhZnR5Lm5vZGVTdGF0ZS5vcmRlcihcImRlc1wiKTtcblx0XHRcdFx0dGhpcy4jdG9nZ2xlU29ydE1lbnUoKTtcblx0XHRcdH07XG5cblx0XHRcdGNvbnN0IHBpY2tfbmFtZSA9IHRoaXMuI3NvcnRJdGVtVGVtcGxhdGUoXG5cdFx0XHRcdFwiTmFtZVwiLFxuXHRcdFx0XHRcImcxXCIsXG5cdFx0XHRcdFwicy1uYW1lXCIsXG5cdFx0XHRcdHNlbGVjdE5hbWVcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwaWNrX2NyZWF0ZWQgPSB0aGlzLiNzb3J0SXRlbVRlbXBsYXRlKFxuXHRcdFx0XHRcIkNyZWF0ZWRfQXRcIixcblx0XHRcdFx0XCJnMVwiLFxuXHRcdFx0XHRcInMtY3JlYXRlZFwiLFxuXHRcdFx0XHRzZWxlY3RDcmVhdGVkXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCBwaWNrX2xhc3QgPSB0aGlzLiNzb3J0SXRlbVRlbXBsYXRlKFxuXHRcdFx0XHRcIkxhc3RfTW9kaWZpZWRcIixcblx0XHRcdFx0XCJnMVwiLFxuXHRcdFx0XHRcInMtbGFzdFwiLFxuXHRcdFx0XHRzZWxlY3RMYXN0TW9kaWZpZWRcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwaWNrX2FzYyA9IHRoaXMuI3NvcnRJdGVtVGVtcGxhdGUoXG5cdFx0XHRcdFwiQXNjZW5kaW5nXCIsXG5cdFx0XHRcdFwiZzJcIixcblx0XHRcdFx0XCJzLWFzY1wiLFxuXHRcdFx0XHRzZWxlY3RBc2NlbmRpbmdcblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwaWNrX2Rlc2MgPSB0aGlzLiNzb3J0SXRlbVRlbXBsYXRlKFxuXHRcdFx0XHRcIkRlc2NlbmRpbmdcIixcblx0XHRcdFx0XCJnMlwiLFxuXHRcdFx0XHRcInMtZGVzY1wiLFxuXHRcdFx0XHRzZWxlY3REZXNjZW5kaW5nXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCBkaXZpZGVyID0gY3JlYXRlRWwoXCJzbC1kaXZpZGVyXCIsIHt9KTtcblxuXHRcdFx0bWVudS5hcHBlbmRDaGlsZChwaWNrX25hbWUpO1xuXHRcdFx0bWVudS5hcHBlbmRDaGlsZChwaWNrX2NyZWF0ZWQpO1xuXHRcdFx0bWVudS5hcHBlbmRDaGlsZChwaWNrX2xhc3QpO1xuXHRcdFx0bWVudS5hcHBlbmRDaGlsZChkaXZpZGVyKTtcblx0XHRcdG1lbnUuYXBwZW5kQ2hpbGQocGlja19hc2MpO1xuXHRcdFx0bWVudS5hcHBlbmRDaGlsZChwaWNrX2Rlc2MpO1xuXG5cdFx0XHR0aGlzLnNvcnRfbWVudSA9IG1lbnU7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLnNvcnRfbWVudTtcblx0fVxuXG5cdHN0YXRpYyBnZXRTb3J0QnV0dG9uKCkge1xuXHRcdGlmICghdGhpcy5zb3J0X2J1dHRvbikge1xuXHRcdFx0Y29uc3Qgc29ydF9idXR0b24gPSBjcmVhdGVFbChcInNsLWRyb3Bkb3duXCIsIHtcblx0XHRcdFx0YXR0cjoge1xuXHRcdFx0XHRcdGNsYXNzOiBcInNvcnQtYnV0dG9uLWNvbnRhaW5lclwiLFxuXHRcdFx0XHRcdGRpc3RhbmNlOiBcIi00MFwiLFxuXHRcdFx0XHRcdHNraWRkaW5nOiBcIi0xMFwiLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IGJ1dHRvbiA9IGNyZWF0ZUVsKFwiYnV0dG9uXCIsIHtcblx0XHRcdFx0YXR0cjogeyBjbGFzczogXCJzb3J0LWJ1dHRvblwiLCBzbG90OiBcInRyaWdnZXJcIiB9LFxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IHRleHQgPSBjcmVhdGVFbChcInNwYW5cIiwge1xuXHRcdFx0XHRhdHRyOiB7IGNsYXNzOiBcInNvcnQtYnV0dG9uLWxhcmdlIHNiLXRleHRcIiB9LFxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IGxvZ28gPSBjcmVhdGVFbChcImRpdlwiLCB7fSk7XG5cblx0XHRcdHNldEljb24obG9nbywgXCJhcnJvdy1kb3duLXVwXCIpO1xuXG5cdFx0XHRidXR0b24uYXBwZW5kQ2hpbGQobG9nbyk7XG5cdFx0XHRidXR0b24uYXBwZW5kQ2hpbGQodGV4dCk7XG5cblx0XHRcdHNvcnRfYnV0dG9uLmFwcGVuZENoaWxkKGJ1dHRvbik7XG5cblx0XHRcdHNvcnRfYnV0dG9uLmFwcGVuZENoaWxkKHRoaXMuZ2V0U29ydE1lbnUoKSk7XG5cblx0XHRcdHRoaXMuc29ydF9idXR0b24gPSBzb3J0X2J1dHRvbjtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5zb3J0X2J1dHRvbjtcblx0fVxuXG5cdHN0YXRpYyBnZXROb2Rlc0NvbnRhaW5lcigpIHtcblx0XHRpZiAoIXRoaXMubm9kZXNfY29udGFpbmVyKSB7XG5cdFx0XHRjb25zdCBub2Rlc19jb250YWluZXIgPSBjcmVhdGVFbChcImRpdlwiLCB7XG5cdFx0XHRcdGF0dHI6IHsgY2xhc3M6IFwibm9kZXMtY29udGFpbmVyXCIgfSxcblx0XHRcdH0pO1xuXHRcdFx0bm9kZXNfY29udGFpbmVyLmNyZWF0ZUVsKFwiZGl2XCIsIHtcblx0XHRcdFx0YXR0cjogeyBjbGFzczogXCJub2Rlcy1ib2R5XCIgfSxcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5ub2Rlc19jb250YWluZXIgPSBub2Rlc19jb250YWluZXI7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLm5vZGVzX2NvbnRhaW5lcjtcblx0fVxuXG5cdHN0YXRpYyAjZ2V0RmlsdGVyU2VjdGlvbihcblx0XHRncm91cDogXCJEb2N1bWVudFwiIHwgXCJWaWRlb1wiIHwgXCJBdWRpb1wiIHwgXCJJbWFnZVwiIHwgXCJHZW5lcmFsXCJcblx0KSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0YXR0cjoge1xuXHRcdFx0XHRjbGFzczogXCJmaWx0ZXItbWVudS1iYWRnZS1jb250YWluZXJcIixcblx0XHRcdH0sXG5cdFx0fSk7XG5cdFx0bGV0IGZpbHRlcnM6IE5vZGVGaWx0ZXJbXSA9IFtdO1xuXHRcdHN3aXRjaCAoZ3JvdXApIHtcblx0XHRcdGNhc2UgXCJEb2N1bWVudFwiOlxuXHRcdFx0XHRpZiAodGhpcy5jcmFmdHkgJiYgdGhpcy5jcmFmdHkubm9kZUZpbHRlclN0YXRlKSB7XG5cdFx0XHRcdFx0ZmlsdGVycyA9XG5cdFx0XHRcdFx0XHR0aGlzLmNyYWZ0eS5ub2RlRmlsdGVyU3RhdGUuZ2V0RmlsdGVyQnlHcm91cChcblx0XHRcdFx0XHRcdFx0XCJEb2N1bWVudFwiXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcIkltYWdlXCI6XG5cdFx0XHRcdGlmICh0aGlzLmNyYWZ0eSAmJiB0aGlzLmNyYWZ0eS5ub2RlRmlsdGVyU3RhdGUpIHtcblx0XHRcdFx0XHRmaWx0ZXJzID1cblx0XHRcdFx0XHRcdHRoaXMuY3JhZnR5Lm5vZGVGaWx0ZXJTdGF0ZS5nZXRGaWx0ZXJCeUdyb3VwKFwiSW1hZ2VcIik7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgXCJBdWRpb1wiOlxuXHRcdFx0XHRpZiAodGhpcy5jcmFmdHkgJiYgdGhpcy5jcmFmdHkubm9kZUZpbHRlclN0YXRlKSB7XG5cdFx0XHRcdFx0ZmlsdGVycyA9XG5cdFx0XHRcdFx0XHR0aGlzLmNyYWZ0eS5ub2RlRmlsdGVyU3RhdGUuZ2V0RmlsdGVyQnlHcm91cChcIkF1ZGlvXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFwiVmlkZW9cIjpcblx0XHRcdFx0aWYgKHRoaXMuY3JhZnR5ICYmIHRoaXMuY3JhZnR5Lm5vZGVGaWx0ZXJTdGF0ZSkge1xuXHRcdFx0XHRcdGZpbHRlcnMgPVxuXHRcdFx0XHRcdFx0dGhpcy5jcmFmdHkubm9kZUZpbHRlclN0YXRlLmdldEZpbHRlckJ5R3JvdXAoXCJWaWRlb1wiKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBcIkdlbmVyYWxcIjpcblx0XHRcdFx0aWYgKHRoaXMuY3JhZnR5ICYmIHRoaXMuY3JhZnR5Lm5vZGVGaWx0ZXJTdGF0ZSkge1xuXHRcdFx0XHRcdGZpbHRlcnMgPVxuXHRcdFx0XHRcdFx0dGhpcy5jcmFmdHkubm9kZUZpbHRlclN0YXRlLmdldEZpbHRlckJ5R3JvdXAoXCJHZW5lcmFsXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IGVsIG9mIGZpbHRlcnMpIHtcblx0XHRcdGNvbnN0IGJhZGdlID0gY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0XHRhdHRyOiB7XG5cdFx0XHRcdFx0Y2xhc3M6IFwiZmlsdGVyLW1lbnUtYmFkZ2VcIixcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXHRcdFx0Y29uc3QgYmFkZ2Vfc3BhbiA9IGNyZWF0ZUVsKFwic3BhblwiLCB7fSk7XG5cdFx0XHRiYWRnZV9zcGFuLnNldFRleHQoZWwudGl0bGUpO1xuXHRcdFx0YmFkZ2UuYXBwZW5kQ2hpbGQoYmFkZ2Vfc3Bhbik7XG5cblx0XHRcdGNvbnN0IGJhZGdlX2NsaWNrX2NiID0gKCkgPT4ge1xuXHRcdFx0XHRpZiAoYmFkZ2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYmFkZ2UtYWN0aXZlXCIpKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuY3JhZnR5ICYmIHRoaXMuY3JhZnR5Lm5vZGVGaWx0ZXJTdGF0ZSkge1xuXHRcdFx0XHRcdFx0dGhpcy5jcmFmdHkubm9kZUZpbHRlclN0YXRlLnJlbW92ZUZpbHRlcihcblx0XHRcdFx0XHRcdFx0ZWwudGl0bGUgYXMgRklMRV9UWVBFXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRiYWRnZS5jbGFzc0xpc3QucmVtb3ZlKFwiYmFkZ2UtYWN0aXZlXCIpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICh0aGlzLmNyYWZ0eSAmJiB0aGlzLmNyYWZ0eS5ub2RlRmlsdGVyU3RhdGUpIHtcblx0XHRcdFx0XHRcdHRoaXMuY3JhZnR5Lm5vZGVGaWx0ZXJTdGF0ZS5hZGRGaWx0ZXIoXG5cdFx0XHRcdFx0XHRcdGVsLnRpdGxlIGFzIEZJTEVfVFlQRVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YmFkZ2UuY2xhc3NMaXN0LmFkZChcImJhZGdlLWFjdGl2ZVwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGJhZGdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBiYWRnZV9jbGlja19jYik7XG5cblx0XHRcdHRoaXMuZmlsdGVyX21lbnVfYmFkZ2VfbGlzdGVyX2NiLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRiYWRnZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYmFkZ2VfY2xpY2tfY2IpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChiYWRnZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcblx0fVxuXG5cdHN0YXRpYyBnZXRGaWx0ZXJNZW51KCkge1xuXHRcdGlmICghdGhpcy5maWx0ZXJfbWVudSkge1xuXHRcdFx0dGhpcy4jZnJlZUZpbHRlck1lbnVCYWRnZUxpc3RlbmVycygpO1xuXHRcdFx0Y29uc3QgZmlsdGVyX21lbnUgPSBjcmVhdGVFbChcInNsLW1lbnVcIiwge1xuXHRcdFx0XHRhdHRyOiB7XG5cdFx0XHRcdFx0Y2xhc3M6IFwiZmlsdGVyLW1lbnVcIixcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5cdFx0XHQvL0RvY3VtZW50XG5cdFx0XHRjb25zdCBnZW5lcmFsID0gY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0XHRhdHRyOiB7XG5cdFx0XHRcdFx0Y2xhc3M6IFwiZmlsdGVyLW1lbnUtc2VjdGlvblwiLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cdFx0XHRjb25zdCBnZW5lcmFsX3RpdGxlID0gY3JlYXRlRWwoXCJzcGFuXCIsIHt9KTtcblx0XHRcdGdlbmVyYWxfdGl0bGUuc2V0VGV4dChcIkdlbmVyYWxcIik7XG5cdFx0XHRnZW5lcmFsLmFwcGVuZENoaWxkKGdlbmVyYWxfdGl0bGUpO1xuXHRcdFx0Z2VuZXJhbC5hcHBlbmRDaGlsZCh0aGlzLiNnZXRGaWx0ZXJTZWN0aW9uKFwiR2VuZXJhbFwiKSk7XG5cblx0XHRcdC8vRG9jdW1lbnRcblx0XHRcdGNvbnN0IGRvY3VtZW50ID0gY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0XHRhdHRyOiB7XG5cdFx0XHRcdFx0Y2xhc3M6IFwiZmlsdGVyLW1lbnUtc2VjdGlvblwiLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cdFx0XHRjb25zdCBkb2N1bWVudF90aXRsZSA9IGNyZWF0ZUVsKFwic3BhblwiLCB7fSk7XG5cdFx0XHRkb2N1bWVudF90aXRsZS5zZXRUZXh0KFwiRG9jdW1lbnRzXCIpO1xuXHRcdFx0ZG9jdW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnRfdGl0bGUpO1xuXHRcdFx0ZG9jdW1lbnQuYXBwZW5kQ2hpbGQodGhpcy4jZ2V0RmlsdGVyU2VjdGlvbihcIkRvY3VtZW50XCIpKTtcblxuXHRcdFx0Ly9JbWFnZVxuXHRcdFx0Y29uc3QgaW1hZ2UgPSBjcmVhdGVFbChcImRpdlwiLCB7XG5cdFx0XHRcdGF0dHI6IHtcblx0XHRcdFx0XHRjbGFzczogXCJmaWx0ZXItbWVudS1zZWN0aW9uXCIsXG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblx0XHRcdGNvbnN0IGltYWdlX3RpdGxlID0gY3JlYXRlRWwoXCJzcGFuXCIsIHt9KTtcblx0XHRcdGltYWdlX3RpdGxlLnNldFRleHQoXCJJbWFnZVwiKTtcblx0XHRcdGltYWdlLmFwcGVuZENoaWxkKGltYWdlX3RpdGxlKTtcblx0XHRcdGltYWdlLmFwcGVuZENoaWxkKHRoaXMuI2dldEZpbHRlclNlY3Rpb24oXCJJbWFnZVwiKSk7XG5cblx0XHRcdC8vQXVkaW9cblx0XHRcdGNvbnN0IGF1ZGlvID0gY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0XHRhdHRyOiB7XG5cdFx0XHRcdFx0Y2xhc3M6IFwiZmlsdGVyLW1lbnUtc2VjdGlvblwiLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cdFx0XHRjb25zdCBhdWRpb190aXRsZSA9IGNyZWF0ZUVsKFwic3BhblwiLCB7fSk7XG5cdFx0XHRhdWRpb190aXRsZS5zZXRUZXh0KFwiQXVkaW9cIik7XG5cdFx0XHRhdWRpby5hcHBlbmRDaGlsZChhdWRpb190aXRsZSk7XG5cdFx0XHRhdWRpby5hcHBlbmRDaGlsZCh0aGlzLiNnZXRGaWx0ZXJTZWN0aW9uKFwiQXVkaW9cIikpO1xuXG5cdFx0XHQvL1ZpZGVvXG5cdFx0XHRjb25zdCB2aWRlbyA9IGNyZWF0ZUVsKFwiZGl2XCIsIHtcblx0XHRcdFx0YXR0cjoge1xuXHRcdFx0XHRcdGNsYXNzOiBcImZpbHRlci1tZW51LXNlY3Rpb25cIixcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXHRcdFx0Y29uc3QgdmlkZW9fdGl0bGUgPSBjcmVhdGVFbChcInNwYW5cIiwge30pO1xuXHRcdFx0dmlkZW9fdGl0bGUuc2V0VGV4dChcIlZpZGVvXCIpO1xuXHRcdFx0dmlkZW8uYXBwZW5kQ2hpbGQodmlkZW9fdGl0bGUpO1xuXHRcdFx0dmlkZW8uYXBwZW5kQ2hpbGQodGhpcy4jZ2V0RmlsdGVyU2VjdGlvbihcIkltYWdlXCIpKTtcblxuXHRcdFx0ZmlsdGVyX21lbnUuYXBwZW5kQ2hpbGQoZ2VuZXJhbCk7XG5cdFx0XHRmaWx0ZXJfbWVudS5hcHBlbmRDaGlsZChkb2N1bWVudCk7XG5cdFx0XHRmaWx0ZXJfbWVudS5hcHBlbmRDaGlsZChpbWFnZSk7XG5cdFx0XHRmaWx0ZXJfbWVudS5hcHBlbmRDaGlsZChhdWRpbyk7XG5cdFx0XHRmaWx0ZXJfbWVudS5hcHBlbmRDaGlsZCh2aWRlbyk7XG5cblx0XHRcdHRoaXMuZmlsdGVyX21lbnUgPSBmaWx0ZXJfbWVudTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyX21lbnU7XG5cdH1cblxuXHRzdGF0aWMgZ2V0RmlsdGVyc0J1dHRvbigpIHtcblx0XHRpZiAoIXRoaXMuZmlsdGVyX2J1dHRvbikge1xuXHRcdFx0Y29uc3QgZmlsdGVyX2J1dHRvbiA9IGNyZWF0ZUVsKFwic2wtZHJvcGRvd25cIiwge1xuXHRcdFx0XHRhdHRyOiB7XG5cdFx0XHRcdFx0Y2xhc3M6IFwiXCIsXG5cdFx0XHRcdFx0ZGlzdGFuY2U6IFwiLTQwXCIsXG5cdFx0XHRcdFx0c2tpZGRpbmc6IFwiLTEwXCIsXG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblxuXHRcdFx0Y29uc3QgZXhwYW5kX2J1dHRvbiA9IGNyZWF0ZUVsKFwiYnV0dG9uXCIsIHtcblx0XHRcdFx0YXR0cjogeyBjbGFzczogXCJmaWx0ZXJzLWJ1dHRvblwiLCBzbG90OiBcInRyaWdnZXJcIiB9LFxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IGxvZ29fY29udGFpbmVyID0gY3JlYXRlRWwoXCJkaXZcIiwge30pO1xuXHRcdFx0c2V0SWNvbihsb2dvX2NvbnRhaW5lciwgXCJwbHVzXCIpO1xuXHRcdFx0Y29uc3QgYnV0dG9uX3RleHQgPSBjcmVhdGVFbChcInNwYW5cIik7XG5cdFx0XHRidXR0b25fdGV4dC5zZXRUZXh0KFwiRmlsdGVyXCIpO1xuXG5cdFx0XHRleHBhbmRfYnV0dG9uLmFwcGVuZENoaWxkKGxvZ29fY29udGFpbmVyKTtcblx0XHRcdGV4cGFuZF9idXR0b24uYXBwZW5kQ2hpbGQoYnV0dG9uX3RleHQpO1xuXG5cdFx0XHRmaWx0ZXJfYnV0dG9uLmFwcGVuZENoaWxkKGV4cGFuZF9idXR0b24pO1xuXG5cdFx0XHRmaWx0ZXJfYnV0dG9uLmFwcGVuZENoaWxkKHRoaXMuZ2V0RmlsdGVyTWVudSgpKTtcblxuXHRcdFx0dGhpcy5maWx0ZXJfYnV0dG9uID0gZmlsdGVyX2J1dHRvbjtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyX2J1dHRvbjtcblx0fVxuXG5cdHN0YXRpYyBnZXRGaWx0ZXJzRGlzcGxheSgpIHtcblx0XHRpZiAoIXRoaXMuZmlsdGVyc19kaXNwbGF5KSB7XG5cdFx0XHRjb25zdCBmaWx0ZXJzX2Rpc3BsYXkgPSBjcmVhdGVFbChcImRpdlwiLCB7XG5cdFx0XHRcdGF0dHI6IHsgY2xhc3M6IFwiZmlsdGVyc19kaXNwbGF5XCIgfSxcblx0XHRcdH0pO1xuXG5cdFx0XHRsZXQgZmlsdGVyczogTm9kZUZpbHRlcltdID0gW107XG5cblx0XHRcdGlmICh0aGlzLmNyYWZ0eSAmJiB0aGlzLmNyYWZ0eS5ub2RlRmlsdGVyU3RhdGUpIHtcblx0XHRcdFx0ZmlsdGVycyA9IHRoaXMuY3JhZnR5Lm5vZGVGaWx0ZXJTdGF0ZS5hbGxGaWx0ZXJzO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGNvbnN0IGVsIG9mIGZpbHRlcnMpIHtcblx0XHRcdFx0Y29uc3QgYmFkZ2UgPSBjcmVhdGVFbChcImRpdlwiLCB7XG5cdFx0XHRcdFx0YXR0cjoge1xuXHRcdFx0XHRcdFx0Y2xhc3M6IFwiZmlsdGVyLW1lbnUtYmFkZ2UtZGlzcGxheVwiLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjb25zdCBiYWRnZV9zcGFuID0gY3JlYXRlRWwoXCJzcGFuXCIsIHt9KTtcblx0XHRcdFx0YmFkZ2Vfc3Bhbi5zZXRUZXh0KGVsLnRpdGxlKTtcblx0XHRcdFx0YmFkZ2UuYXBwZW5kQ2hpbGQoYmFkZ2Vfc3Bhbik7XG5cblx0XHRcdFx0aWYgKGVsLmlzQWN0aXZlKSBiYWRnZS5jbGFzc0xpc3QuYWRkKFwiYmFkZ2UtZGlzcGxheS1hY3RpdmVcIik7XG5cblx0XHRcdFx0ZmlsdGVyc19kaXNwbGF5LmFwcGVuZENoaWxkKGJhZGdlKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5maWx0ZXJzX2Rpc3BsYXkgPSBmaWx0ZXJzX2Rpc3BsYXk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmZpbHRlcnNfZGlzcGxheTtcblx0fVxuXG5cdHN0YXRpYyBnZXRGaWx0ZXJzQ29udGFpbmVyKCkge1xuXHRcdGlmICghdGhpcy5maWx0ZXJzX2NvbnRhaW5lcikge1xuXHRcdFx0Y29uc3QgY29udGFpbmVyID0gY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0XHRhdHRyOiB7XG5cdFx0XHRcdFx0Y2xhc3M6IFwiZmlsdGVycy1jb250YWluZXJcIixcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZ2V0RmlsdGVyc0Rpc3BsYXkoKSk7XG5cdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5nZXRGaWx0ZXJzQnV0dG9uKCkpO1xuXG5cdFx0XHR0aGlzLmZpbHRlcnNfY29udGFpbmVyID0gY29udGFpbmVyO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5maWx0ZXJzX2NvbnRhaW5lcjtcblx0fVxuXG5cdHN0YXRpYyBzZXRDcmFmdHlJbnN0YW5jZShjcmFmdHk6IENyYWZ0eSkge1xuXHRcdHRoaXMuY3JhZnR5ID0gY3JhZnR5O1xuXHR9XG5cblx0c3RhdGljIGdldFRpdGxlSW5wdXQoKSB7XG5cdFx0aWYgKCF0aGlzLnRpdGxlSW5wdXQpIHtcblx0XHRcdGNvbnN0IGVsZW1lbnQgPSBjcmVhdGVFbChcImRpdlwiLCB7XG5cdFx0XHRcdGF0dHI6IHsgY2xhc3M6IFwidGl0bGUtZWRpdC1kaXYgaGlkZGVuXCIgfSxcblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zdCBpbnB1dCA9IGVsZW1lbnQuY3JlYXRlRWwoXCJpbnB1dFwiLCB7XG5cdFx0XHRcdGF0dHI6IHsgY2xhc3M6IFwidGl0bGUtaW5wdXRcIiB9LFxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IGlucHV0X2ZvY3VzX2xvc3RfY2IgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuI3NhdmVUaXRsZShlbGVtZW50LCBpbnB1dCk7XG5cdFx0XHR9O1xuXG5cdFx0XHRjb25zdCBpbnB1dF9lbnRlcl9jYiA9IGFzeW5jIChldjogS2V5Ym9hcmRFdmVudCkgPT4ge1xuXHRcdFx0XHRpZiAoZXYua2V5ID09IFwiRW50ZXJcIikge1xuXHRcdFx0XHRcdHRoaXMuI3NhdmVUaXRsZShlbGVtZW50LCBpbnB1dCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLCBpbnB1dF9mb2N1c19sb3N0X2NiKTtcblxuXHRcdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaW5wdXRfZW50ZXJfY2IpO1xuXG5cdFx0XHR0aGlzLnRpdGxlX2VkaXRfbGlzdGVyX2NiLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRpbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBpbnB1dF9lbnRlcl9jYik7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy50aXRsZV9lZGl0X2xpc3Rlcl9jYi5wdXNoKCgpID0+IHtcblx0XHRcdFx0aW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIGlucHV0X2ZvY3VzX2xvc3RfY2IpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMudGl0bGVJbnB1dCA9IGVsZW1lbnQ7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLnRpdGxlSW5wdXQ7XG5cdH1cblx0c3RhdGljIGFzeW5jICNzYXZlVGl0bGUoZWxlbWVudDogSFRNTERpdkVsZW1lbnQsIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50KSB7XG5cdFx0Y29uc3QgZGlzcGxheSA9IERPTUhhbmRsZXIuZ2V0VGl0bGVEaXNwbGF5KCk7XG5cdFx0ZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuXHRcdGRpc3BsYXkuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcblx0XHRpZiAoIXRoaXMuY3JhZnR5IHx8ICF0aGlzLmNyYWZ0eS5zZWxlY3RlZE5vZGUgfHwgIXRoaXMudGV4dEFyZWEpIHJldHVybjtcblx0XHRjb25zdCBub2RlID0gdGhpcy5jcmFmdHkuc2VsZWN0ZWROb2RlO1xuXHRcdGNvbnN0IGZpbGUgPSB0aGlzLmNyYWZ0eS5jdXJyZW50RmlsZTtcblx0XHRjb25zdCB2YXVsdCA9IHRoaXMuY3JhZnR5LnZhdWx0O1xuXHRcdG5vZGUudGl0bGUgPSBpbnB1dC52YWx1ZTtcblx0XHRhd2FpdCBGaWxlSGFuZGxlci51cGRhdGVDYW52YXNOb2RlKG5vZGUsIGZpbGUsIHZhdWx0KTtcblx0fVxuXG5cdHN0YXRpYyBmcmVlKCkge1xuXHRcdHRoaXMuI2ZyZWVOb2Rlc0NsaWNrTGlzdGVuZXJzKCk7XG5cdFx0dGhpcy4jZnJlZVNlbGVjdGlvbkxpc3RlbmVycygpO1xuXHRcdHRoaXMuI2ZyZWVUaXRsZUVkaXRMaXN0ZW5lcnMoKTtcblx0XHR0aGlzLiNmcmVlU2VhcmNoQmFyTGlzdGVuZXJzKCk7XG5cdFx0dGhpcy4jZnJlZVNvcnRNZW51TGlzdGVuZXJzKCk7XG5cdFx0dGhpcy4jZnJlZUZpbHRlck1lbnVCYWRnZUxpc3RlbmVycygpO1xuXHR9XG59XG4iLCAiLy8gSU5URVJGQUNFUyAvL1xuZXhwb3J0IGludGVyZmFjZSBSYXdOb2RlIHtcblx0ZGVzY3JpcHRpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcblx0ZmlsZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHR0ZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cdGxhYmVsOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cdHVybDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHR0aXRsZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHRoZWlnaHQ6IG51bWJlcjtcblx0aWQ6IHN0cmluZztcblx0dHlwZTogc3RyaW5nO1xuXHR3aWR0aDogbnVtYmVyO1xuXHR4OiBudW1iZXI7XG5cdHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmFmdHlOb2RlIHtcblx0aWQ6IHN0cmluZztcblx0dGl0bGU6IHN0cmluZztcblx0ZGVzY3JpcHRpb246IHN0cmluZztcblx0Y29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGw7XG5cdHNlbGVjdGVkOiBib29sZWFuO1xuXHR0eXBlOiBOT0RFX1RZUEU7XG5cdGV4dGVuc2lvbjogRklMRV9UWVBFO1xuXHRjcmVhdGVkX2F0OiBudW1iZXI7XG5cdGxhc3RfbW9kaWZpZWQ6IG51bWJlcjtcbn1cblxuYWJzdHJhY3QgY2xhc3MgRXhwbG9yZXIge1xuXHRhZGQ6IChub2RlOiBDcmFmdHlOb2RlKSA9PiB2b2lkO1xuXHRyZW1vdmU6IChub2RlOiBDcmFmdHlOb2RlKSA9PiBDcmFmdHlOb2RlIHwgbnVsbDtcblx0c2VhcmNoOiAod29yZDogc3RyaW5nKSA9PiBDcmFmdHlOb2RlW107XG5cdGNsZWFyOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgTm9kZUZpbHRlciB7XG5cdHByaXZhdGUgX2dyb3VwOiBzdHJpbmc7XG5cdHByaXZhdGUgX3RpdGxlOiBzdHJpbmc7XG5cdHByaXZhdGUgX3R5cGU6IEZJTEVfVFlQRTtcblx0cHJpdmF0ZSBhY3RpdmUgPSBmYWxzZTtcblxuXHRjb25zdHJ1Y3Rvcihncm91cDogc3RyaW5nLCB0eXBlOiBGSUxFX1RZUEUpIHtcblx0XHR0aGlzLl9ncm91cCA9IGdyb3VwO1xuXHRcdHRoaXMuX3RpdGxlID0gdHlwZSA9PSBcIlwiID8gXCJkZWZhdWx0XCIgOiB0eXBlO1xuXHRcdHRoaXMuX3R5cGUgPSB0eXBlO1xuXHR9XG5cblx0ZW5hYmxlKCkge1xuXHRcdHRoaXMuYWN0aXZlID0gdHJ1ZTtcblx0fVxuXG5cdGRpc2FibGUoKSB7XG5cdFx0dGhpcy5hY3RpdmUgPSBmYWxzZTtcblx0fVxuXG5cdGdldCBncm91cCgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZ3JvdXA7XG5cdH1cblxuXHRnZXQgdGl0bGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3RpdGxlO1xuXHR9XG5cblx0Z2V0IHR5cGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3R5cGU7XG5cdH1cblxuXHRnZXQgaXNBY3RpdmUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWN0aXZlO1xuXHR9XG59XG5cbi8vIElOVEVSRkFDRVMgLy9cblxuLy8gVFlQRVMgLy9cblxuZXhwb3J0IHR5cGUgQVVESU9fRk9STUFUID1cblx0fCBcImZsYWNcIlxuXHR8IFwibTRhXCJcblx0fCBcIm1wM1wiXG5cdHwgXCJvZ2dcIlxuXHR8IFwid2F2XCJcblx0fCBcIndlYm1cIlxuXHR8IFwiM2dwXCI7XG5leHBvcnQgdHlwZSBJTUFHRV9GT1JNQVQgPVxuXHR8IFwiYXZpZlwiXG5cdHwgXCJibXBcIlxuXHR8IFwiZ2lmXCJcblx0fCBcImpwZWdcIlxuXHR8IFwianBnXCJcblx0fCBcInBuZ1wiXG5cdHwgXCJzdmdcIlxuXHR8IFwid2VicFwiO1xuZXhwb3J0IHR5cGUgVklERU9fRk9STUFUID0gXCJta3ZcIiB8IFwibW92XCIgfCBcIm1wNFwiIHwgXCJvZ3ZcIiB8IFwid2VibVwiO1xuZXhwb3J0IHR5cGUgRE9DVU1FTlRfRk9STUFUID0gXCJjYW52YXNcIiB8IFwianNvblwiIHwgXCJwZGZcIiB8IFwibWRcIjtcbmV4cG9ydCB0eXBlIE5PREVfVFlQRSA9IFwibGlua1wiIHwgXCJ0ZXh0XCIgfCBcImdyb3VwXCIgfCBcImZpbGVcIiB8IFwiXCI7XG5leHBvcnQgdHlwZSBGSUxFX1RZUEUgPVxuXHR8IEFVRElPX0ZPUk1BVFxuXHR8IFZJREVPX0ZPUk1BVFxuXHR8IElNQUdFX0ZPUk1BVFxuXHR8IERPQ1VNRU5UX0ZPUk1BVFxuXHR8IE5PREVfVFlQRVxuXHR8IFwiYXVkaW9cIlxuXHR8IFwidmlkZW9cIlxuXHR8IFwiaW1hZ2VcIjtcblxuZXhwb3J0IGNvbnN0IEZJTEVfRk9STUFUID0ge1xuXHRBdWRpbzoge1xuXHRcdGZsYWM6IFwiZmxhY1wiLFxuXHRcdG00YTogXCJtNGFcIixcblx0XHRtcDM6IFwibXAzXCIsXG5cdFx0b2dnOiBcIm9nZ1wiLFxuXHRcdHdhdjogXCJ3YXZcIixcblx0XHR3ZWJtOiBcIndlYm1cIixcblx0XHRcIjNncFwiOiBcIjNncFwiLFxuXHR9LFxuXHRJbWFnZToge1xuXHRcdGF2aWY6IFwiYXZpZlwiLFxuXHRcdGJtcDogXCJibXBcIixcblx0XHRnaWY6IFwiZ2lmXCIsXG5cdFx0anBlZzogXCJqcGVnXCIsXG5cdFx0anBnOiBcImpwZ1wiLFxuXHRcdHBuZzogXCJwbmdcIixcblx0XHRzdmc6IFwic3ZnXCIsXG5cdFx0d2VicDogXCJ3ZWJwXCIsXG5cdH0sXG5cdFZpZGVvOiB7IG1rdjogXCJta3ZcIiwgbW92OiBcIm1vdlwiLCBtcDQ6IFwibXA0XCIsIG9ndjogXCJvZ3ZcIiwgd2VibTogXCJ3ZWJtXCIgfSxcblx0RG9jdW1lbnQ6IHsgY2FudmFzOiBcImNhbnZhc1wiLCBtZDogXCJtZFwiLCBwZGY6IFwicGRmXCIsIGpzb246IFwianNvblwiIH0sXG5cdEdlbmVyYWw6IHtcblx0XHRsaW5rOiBcImxpbmtcIixcblx0XHR0ZXh0OiBcInRleHRcIixcblx0XHRncm91cDogXCJncm91cFwiLFxuXHRcdHZpZGVvOiBcInZpZGVvXCIsXG5cdFx0YXVkaW86IFwiYXVkaW9cIixcblx0XHRpbWFnZTogXCJpbWFnZVwiLFxuXHR9LFxufTtcblxuZXhwb3J0IHR5cGUgQ1JBRlRZX05PREVfU09SVF9UWVBFID0gXCJuYW1lXCIgfCBcImNyZWF0ZWRfYXRcIiB8IFwibGFzdF9tb2RpZmllZFwiO1xuZXhwb3J0IHR5cGUgTk9ERV9PUkRFUiA9IFwiYXNjXCIgfCBcImRlc1wiO1xuXG4vLyBUWVBFUyAvL1xuXG5leHBvcnQgY2xhc3MgTm9kZXNFeHBsb3JlciBpbXBsZW1lbnRzIEV4cGxvcmVyIHtcblx0I3Jvb3QgPSB7fTtcblx0I3NpemUgPSAwO1xuXG5cdCNpbmNyZWFzZVNpemUoKSB7XG5cdFx0dGhpcy4jc2l6ZSsrO1xuXHR9XG5cblx0I2RlY3JlYXNlU2l6ZSgpIHtcblx0XHRpZiAodGhpcy4jc2l6ZSA+IDApIHRoaXMuI3NpemUtLTtcblx0fVxuXG5cdCNhZGROb2RlKHBvczogb2JqZWN0LCBub2RlOiBDcmFmdHlOb2RlKSB7XG5cdFx0Ly9AdHMtaWdub3JlXG5cdFx0bGV0IGFycjogQ3JhZnR5Tm9kZVtdID0gcG9zW1wiZW5kXCJdO1xuXHRcdGlmICghYXJyKSB7XG5cdFx0XHRhcnIgPSBbXTtcblx0XHRcdC8vQHRzLWlnbm9yZVxuXHRcdFx0cG9zW1wiZW5kXCJdID0gYXJyO1xuXHRcdH1cblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoYXJyW2ldLmlkID09IG5vZGUuaWQpIHtcblx0XHRcdFx0YXJyW2ldID0gbm9kZTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRhcnIucHVzaChub2RlKTtcblx0XHR0aGlzLiNpbmNyZWFzZVNpemUoKTtcblx0fVxuXHQjc3BsaXRQYXJ0KHdvcmQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcblx0XHRjb25zdCByZXN1bHQ6IHN0cmluZ1tdID0gW107XG5cdFx0Y29uc3QgbGVuID0gd29yZC5sZW5ndGg7XG5cdFx0Zm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuOyBpZHgrKykge1xuXHRcdFx0cmVzdWx0LnB1c2god29yZC5zdWJzdHJpbmcobGVuIC0gaWR4IC0gMSwgbGVuKSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQjYWRkU2luZ2xlKHRpdGxlOiBzdHJpbmcsIG5vZGU6IENyYWZ0eU5vZGUpIHtcblx0XHR0aXRsZSA9IHRpdGxlLnRvTG93ZXJDYXNlKCk7XG5cdFx0bGV0IGN1cnJlbnQgPSB0aGlzLiNyb290O1xuXG5cdFx0Zm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgdGl0bGUubGVuZ3RoOyBpZHgrKykge1xuXHRcdFx0Y29uc3QgY2hhciA9IHRpdGxlW2lkeF07XG5cdFx0XHQvL0B0cy1pZ25vcmVcblx0XHRcdGlmIChjdXJyZW50W2NoYXJdKSBjdXJyZW50ID0gY3VycmVudFtjaGFyXTtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHQvL0B0cy1pZ25vcmVcblx0XHRcdFx0Y3VycmVudFtjaGFyXSA9IHt9O1xuXHRcdFx0XHQvL0B0cy1pZ25vcmVcblx0XHRcdFx0Y3VycmVudCA9IGN1cnJlbnRbY2hhcl07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuI2FkZE5vZGUoY3VycmVudCwgbm9kZSk7XG5cdH1cblxuXHRhZGQobm9kZTogQ3JhZnR5Tm9kZSkge1xuXHRcdGZvciAoY29uc3Qgd29yZCBvZiB0aGlzLiNzcGxpdFBhcnQobm9kZS50aXRsZSkpIHtcblx0XHRcdHRoaXMuI2FkZFNpbmdsZSh3b3JkLCBub2RlKTtcblx0XHR9XG5cdH1cblxuXHQjcmVtb3ZlTm9kZShhcnI6IENyYWZ0eU5vZGVbXSwgaWQ/OiBzdHJpbmcpIHtcblx0XHRjb25zdCBuID0gYXJyLmxlbmd0aDtcblx0XHRpZiAoIWlkKSB7XG5cdFx0XHR3aGlsZSAoYXJyLmxlbmd0aCA+IDApIGFyci5wb3AoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcblx0XHRcdGlmIChpZCA9PSBhcnJbaV0uaWQpIHtcblx0XHRcdFx0W2FycltpXV0gPSBbYXJyW24gLSAxXV07XG5cdFx0XHRcdGFyci5wb3AoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQjcmVtb3ZlUihcblx0XHR3b3JkOiBzdHJpbmcsXG5cdFx0aWR4OiBudW1iZXIsXG5cdFx0cm9vdDogb2JqZWN0LFxuXHRcdGxhc3Q6IG9iamVjdCxcblx0XHRsYXN0X2lkeDogbnVtYmVyLFxuXHRcdGlkPzogc3RyaW5nXG5cdCkge1xuXHRcdGlmIChpZHggPj0gd29yZC5sZW5ndGgpIHtcblx0XHRcdGlmICghcm9vdCkgcmV0dXJuO1xuXHRcdFx0Ly9AdHMtaWdub3JlXG5cdFx0XHRjb25zdCBhcnIgPSByb290W1wiZW5kXCJdO1xuXHRcdFx0aWYgKCFhcnIpIHJldHVybjtcblx0XHRcdHRoaXMuI3JlbW92ZU5vZGUoYXJyLCBpZCk7XG5cdFx0XHRpZiAoYXJyLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdC8vQHRzLWlnbm9yZVxuXHRcdFx0XHRkZWxldGUgcm9vdFtcImVuZFwiXTtcblx0XHRcdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJvb3QpO1xuXHRcdFx0XHQvL0B0cy1pZ25vcmVcblx0XHRcdFx0aWYgKGtleXMubGVuZ3RoID09IDApIGRlbGV0ZSBsYXN0W3dvcmRbbGFzdF9pZHhdXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIXJvb3QpIHJldHVybjtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRjb25zdCBuZXh0ID0gcm9vdFt3b3JkW2lkeF1dO1xuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyb290KTtcblx0XHRsZXQgbGVuID0ga2V5cy5sZW5ndGg7XG5cdFx0aWYgKGtleXMuaW5jbHVkZXMoXCJlbmRcIikpIGxlbi0tO1xuXHRcdGlmIChsZW4gPiAxKSB7XG5cdFx0XHRsYXN0ID0gcm9vdDtcblx0XHRcdGxhc3RfaWR4ID0gaWR4O1xuXHRcdH1cblx0XHR0aGlzLiNyZW1vdmVSKHdvcmQsIGlkeCArIDEsIG5leHQsIHJvb3QsIGxhc3RfaWR4LCBpZCk7XG5cdH1cblxuXHRyZW1vdmUobm9kZTogQ3JhZnR5Tm9kZSkge1xuXHRcdGZvciAoY29uc3Qgd29yZCBvZiB0aGlzLiNzcGxpdFBhcnQobm9kZS50aXRsZSkpIHtcblx0XHRcdHRoaXMuI3JlbW92ZVIod29yZCwgMCwgdGhpcy4jcm9vdCwge30sIDAsIG5vZGUuaWQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0I3NlYXJjaFIod29yZDogc3RyaW5nLCBpZHg6IG51bWJlciwgcm9vdDogb2JqZWN0KTogQ3JhZnR5Tm9kZVtdIHtcblx0XHR3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuXHRcdGlmIChpZHggPj0gd29yZC5sZW5ndGgpIHtcblx0XHRcdGlmICghcm9vdCkgcmV0dXJuIFtdO1xuXHRcdFx0Ly9AdHMtaWdub3JlXG5cdFx0XHRyZXR1cm4gcm9vdFtcImVuZFwiXSB8fCBbXTtcblx0XHR9XG5cdFx0aWYgKCFyb290KSByZXR1cm4gW107XG5cdFx0Ly9AdHMtaWdub3JlXG5cdFx0Y29uc3QgbmV4dCA9IHJvb3Rbd29yZFtpZHhdXTtcblx0XHRpZiAoIW5leHQpIHJldHVybiBbXTtcblx0XHRyZXR1cm4gdGhpcy4jc2VhcmNoUih3b3JkLCBpZHggKyAxLCBuZXh0KTtcblx0fVxuXG5cdHNlYXJjaCh3b3JkOiBzdHJpbmcpOiBDcmFmdHlOb2RlW10ge1xuXHRcdHJldHVybiB0aGlzLiNzZWFyY2hSKHdvcmQsIDAsIHRoaXMuI3Jvb3QpO1xuXHR9XG5cblx0I3ByZWZpeFNlYXJjaFIod29yZDogc3RyaW5nLCBpZHg6IG51bWJlciwgcm9vdDogb2JqZWN0LCBhY2M6IENyYWZ0eU5vZGVbXSkge1xuXHRcdHdvcmQgPSB3b3JkLnRvTG93ZXJDYXNlKCk7XG5cdFx0aWYgKCFyb290KSByZXR1cm47XG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJvb3QpO1xuXHRcdGlmIChpZHggPj0gd29yZC5sZW5ndGgpIHtcblx0XHRcdC8vQHRzLWlnbm9yZVxuXHRcdFx0Y29uc3Qgbm9kZXMgPSByb290W1wiZW5kXCJdO1xuXHRcdFx0aWYgKG5vZGVzKSBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIGFjYy5wdXNoKG5vZGUpO1xuXHRcdFx0Zm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuXHRcdFx0XHQvL0B0cy1pZ25vcmVcblx0XHRcdFx0Y29uc3QgbmV4dCA9IHJvb3Rba2V5XTtcblx0XHRcdFx0aWYgKCFuZXh0KSByZXR1cm47XG5cdFx0XHRcdGlmIChrZXkgIT0gXCJlbmRcIikgdGhpcy4jcHJlZml4U2VhcmNoUih3b3JkLCBpZHggKyAxLCBuZXh0LCBhY2MpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvL0B0cy1pZ25vcmVcblx0XHRcdGNvbnN0IFt1cCwgbG93XSA9IFtcblx0XHRcdFx0d29yZFtpZHhdLnRvTG9jYWxlTG93ZXJDYXNlKCksXG5cdFx0XHRcdHdvcmRbaWR4XS50b0xvY2FsZVVwcGVyQ2FzZSgpLFxuXHRcdFx0XTtcblx0XHRcdC8vQHRzLWlnbm9yZVxuXHRcdFx0Y29uc3QgbmV4dF9sb3dlciA9IHJvb3RbdXBdO1xuXHRcdFx0Ly9AdHMtaWdub3JlXG5cdFx0XHRjb25zdCBuZXh0X3VwcGVyID0gcm9vdFtsb3ddO1xuXHRcdFx0aWYgKCFuZXh0X2xvd2VyICYmICFuZXh0X3VwcGVyKSByZXR1cm47XG5cdFx0XHR0aGlzLiNwcmVmaXhTZWFyY2hSKHdvcmQsIGlkeCArIDEsIG5leHRfbG93ZXIsIGFjYyk7XG5cdFx0XHR0aGlzLiNwcmVmaXhTZWFyY2hSKHdvcmQsIGlkeCArIDEsIG5leHRfdXBwZXIsIGFjYyk7XG5cdFx0fVxuXHR9XG5cblx0cHJlZml4U2VhcmNoKHdvcmQ6IHN0cmluZyk6IENyYWZ0eU5vZGVbXSB7XG5cdFx0Y29uc3QgcmVzOiBDcmFmdHlOb2RlW10gPSBbXTtcblx0XHR0aGlzLiNwcmVmaXhTZWFyY2hSKHdvcmQsIDAsIHRoaXMuI3Jvb3QsIHJlcyk7XG5cdFx0cmV0dXJuIHJlcztcblx0fVxuXG5cdCNmaW5kU2ltaWxhclIoXG5cdFx0cm9vdDogb2JqZWN0LFxuXHRcdGxldHRlcjogc3RyaW5nLFxuXHRcdHdvcmQ6IHN0cmluZyxcblx0XHRwcmV2aW91c1JvdzogbnVtYmVyW10sXG5cdFx0cmVzOiBBcnJheTxbQ3JhZnR5Tm9kZSwgbnVtYmVyXT4sXG5cdFx0cHJlY2lzaW9uOiBudW1iZXJcblx0KTogdm9pZCB7XG5cdFx0d29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcblx0XHRjb25zdCBuID0gd29yZC5sZW5ndGg7XG5cdFx0Y29uc3QgY3VycmVudFJvdyA9IG5ldyBBcnJheShuICsgMSkuZmlsbCgwKTtcblx0XHRjdXJyZW50Um93WzBdID0gcHJldmlvdXNSb3dbMF0gKyAxO1xuXHRcdGxldCBtaW4gPSBJbmZpbml0eTtcblx0XHRmb3IgKGxldCBpID0gMTsgaSA8PSBuOyBpKyspIHtcblx0XHRcdGNvbnN0IGluc2VydGlvbkNvc3QgPSBjdXJyZW50Um93W2kgLSAxXSArIDE7XG5cdFx0XHRjb25zdCBkZWxldGVDb3N0ID0gcHJldmlvdXNSb3dbaV0gKyAxO1xuXHRcdFx0bGV0IHJlcGxhY2VDb3N0ID0gcHJldmlvdXNSb3dbaSAtIDFdO1xuXHRcdFx0aWYgKHdvcmRbaSAtIDFdICE9IGxldHRlcikgcmVwbGFjZUNvc3QrKztcblxuXHRcdFx0Y3VycmVudFJvd1tpXSA9IE1hdGgubWluKGluc2VydGlvbkNvc3QsIGRlbGV0ZUNvc3QsIHJlcGxhY2VDb3N0KTtcblx0XHRcdG1pbiA9IE1hdGgubWluKG1pbiwgY3VycmVudFJvd1tpXSk7XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnRSb3dbbl0gPD0gcHJlY2lzaW9uKSB7XG5cdFx0XHQvL0B0cy1pZ25vcmVcblx0XHRcdGNvbnN0IG5vZGVzID0gcm9vdFtcImVuZFwiXTtcblx0XHRcdGlmIChub2RlcyAmJiBub2Rlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGZvciAoY29uc3Qgbm9kZSBvZiBub2RlcykgcmVzLnB1c2goW25vZGUsIGN1cnJlbnRSb3dbbl1dKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAobWluIDw9IHByZWNpc2lvbikge1xuXHRcdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJvb3QpO1xuXHRcdFx0Zm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuXHRcdFx0XHRpZiAoa2V5ID09IFwiZW5kXCIpIGNvbnRpbnVlO1xuXHRcdFx0XHR0aGlzLiNmaW5kU2ltaWxhclIoXG5cdFx0XHRcdFx0Ly9AdHMtaWdub3JlXG5cdFx0XHRcdFx0cm9vdFtrZXldLFxuXHRcdFx0XHRcdGtleSxcblx0XHRcdFx0XHR3b3JkLFxuXHRcdFx0XHRcdGN1cnJlbnRSb3csXG5cdFx0XHRcdFx0cmVzLFxuXHRcdFx0XHRcdHByZWNpc2lvblxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdCNsY3MoczE6IHN0cmluZywgczI6IHN0cmluZykge1xuXHRcdGNvbnN0IG4gPSBzMS5sZW5ndGgsXG5cdFx0XHRtID0gczIubGVuZ3RoO1xuXHRcdGNvbnN0IGRwID0gbmV3IEFycmF5KG4gKyAxKVxuXHRcdFx0LmZpbGwobnVsbClcblx0XHRcdC5tYXAoKCkgPT4gbmV3IEFycmF5KG0gKyAxKS5maWxsKDApKTtcblx0XHRmb3IgKGxldCBpID0gbiAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRmb3IgKGxldCBqID0gbSAtIDE7IGogPj0gMDsgai0tKSB7XG5cdFx0XHRcdGlmIChzMVtpXSA9PSBzMltqXSkgZHBbaV1bal0gPSAxICsgZHBbaSArIDFdW2ogKyAxXTtcblx0XHRcdFx0ZWxzZSBkcFtpXVtqXSA9IE1hdGgubWF4KGRwW2kgKyAxXVtqXSwgZHBbaV1baiArIDFdKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGRwWzBdWzBdO1xuXHR9XG5cblx0ZmluZFNpbWlsYXIod29yZDogc3RyaW5nLCBwcmVjaXNpb246IG51bWJlcik6IENyYWZ0eU5vZGVbXSB7XG5cdFx0d29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcblx0XHRjb25zdCByZXM6IEFycmF5PFtDcmFmdHlOb2RlLCBudW1iZXJdPiA9IFtdO1xuXHRcdGNvbnN0IG4gPSB3b3JkLmxlbmd0aDtcblx0XHRjb25zdCBjdXJyZW50Um93ID0gbmV3IEFycmF5KG4gKyAxKS5maWxsKDApO1xuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLiNyb290KTtcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG5cdFx0XHR0aGlzLiNmaW5kU2ltaWxhclIoXG5cdFx0XHRcdC8vQHRzLWlnbm9yZVxuXHRcdFx0XHR0aGlzLiNyb290W2tleV0sXG5cdFx0XHRcdGtleSxcblx0XHRcdFx0d29yZCxcblx0XHRcdFx0Y3VycmVudFJvdyxcblx0XHRcdFx0cmVzLFxuXHRcdFx0XHRwcmVjaXNpb25cblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJlcy5zb3J0KChhLCBiKSA9PiBhWzFdIC0gYlsxXSk7XG5cdFx0cmV0dXJuIHJlc1xuXHRcdFx0LmZpbHRlcigodmFsKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGxjc19yYXRpb24gPVxuXHRcdFx0XHRcdHRoaXMuI2xjcyh3b3JkLCB2YWxbMF0udGl0bGUudG9Mb3dlckNhc2UoKSkgL1xuXHRcdFx0XHRcdE1hdGgubWF4KHZhbFswXS50aXRsZS5sZW5ndGgsIHdvcmQubGVuZ3RoKTtcblx0XHRcdFx0cmV0dXJuIGxjc19yYXRpb24gPiAwLjQ7XG5cdFx0XHR9KVxuXHRcdFx0Lm1hcCgodmFsKSA9PiB2YWxbMF0pO1xuXHR9XG5cblx0I2NsZWFyUihyb290OiBvYmplY3QpIHtcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyb290KSkge1xuXHRcdFx0aWYgKGtleSA9PSBcImVuZFwiKSB7XG5cdFx0XHRcdC8vQHRzLWlnbm9yZVxuXHRcdFx0XHRjb25zdCBhcnIgPSByb290W1wiZW5kXCJdO1xuXHRcdFx0XHR3aGlsZSAoYXJyLmxlbmd0aCA+IDApIGFyci5wb3AoKTtcblx0XHRcdH1cblx0XHRcdC8vQHRzLWlnbm9yZVxuXHRcdFx0ZWxzZSB0aGlzLiNjbGVhclIocm9vdFtrZXldKTtcblx0XHRcdC8vQHRzLWlnbm9yZVxuXHRcdFx0ZGVsZXRlIHJvb3Rba2V5XTtcblx0XHR9XG5cdH1cblxuXHRjbGVhcigpIHtcblx0XHR0aGlzLiNjbGVhclIodGhpcy4jcm9vdCk7XG5cdFx0dGhpcy4jc2l6ZSA9IDA7XG5cdH1cblxuXHRnZXQgc2l6ZSgpIHtcblx0XHRyZXR1cm4gdGhpcy4jc2l6ZTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgTm9kZUNvbXBhcmF0b3Ige1xuXHRzdGF0aWMgU09SVF9CWV9DUkVBVEVEX0FUKG5vZGUxOiBDcmFmdHlOb2RlLCBub2RlMjogQ3JhZnR5Tm9kZSkge1xuXHRcdGlmIChub2RlMS50eXBlICE9IFwiZmlsZVwiICYmIG5vZGUyLnR5cGUgIT0gXCJmaWxlXCIpIHJldHVybiAwO1xuXHRcdGlmIChub2RlMS50eXBlICE9IFwiZmlsZVwiKSByZXR1cm4gMTtcblx0XHRpZiAobm9kZTIudHlwZSAhPSBcImZpbGVcIikgcmV0dXJuIC0xO1xuXHRcdHJldHVybiBub2RlMS5jcmVhdGVkX2F0IC0gbm9kZTIuY3JlYXRlZF9hdDtcblx0fVxuXG5cdHN0YXRpYyBTT1JUX0JZX0xBU1RfTU9ESUZJRUQobm9kZTE6IENyYWZ0eU5vZGUsIG5vZGUyOiBDcmFmdHlOb2RlKSB7XG5cdFx0aWYgKG5vZGUxLnR5cGUgIT0gXCJmaWxlXCIgJiYgbm9kZTIudHlwZSAhPSBcImZpbGVcIikgcmV0dXJuIDA7XG5cdFx0aWYgKG5vZGUxLnR5cGUgIT0gXCJmaWxlXCIpIHJldHVybiAxO1xuXHRcdGlmIChub2RlMi50eXBlICE9IFwiZmlsZVwiKSByZXR1cm4gLTE7XG5cdFx0cmV0dXJuIG5vZGUyLmxhc3RfbW9kaWZpZWQgLSBub2RlMS5sYXN0X21vZGlmaWVkO1xuXHR9XG5cblx0c3RhdGljIFNPUlRfQllfTkFNRShub2RlMTogQ3JhZnR5Tm9kZSwgbm9kZTI6IENyYWZ0eU5vZGUpIHtcblx0XHRjb25zdCBbdDEsIHQyXSA9IFtub2RlMS50aXRsZS50b0xvd2VyQ2FzZSgpLCBub2RlMi50aXRsZS50b0xvd2VyQ2FzZSgpXTtcblx0XHRpZiAodDEgPiB0MikgcmV0dXJuIDE7XG5cdFx0ZWxzZSBpZiAodDEgPCB0MikgcmV0dXJuIC0xO1xuXHRcdHJldHVybiAwO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgRklMRV9GT1JNQVQgfSBmcm9tIFwibm9kZXMvbm9kZXNcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNwZWNpZmljYXRpb248VD4ge1xuXHRhbmQ6IChzcGVjaWZpY2F0aW9uOiBTcGVjaWZpY2F0aW9uPFQ+KSA9PiBTcGVjaWZpY2F0aW9uPFQ+O1xuXHRvcjogKHNwZWNpZmljYXRpb246IFNwZWNpZmljYXRpb248VD4pID0+IFNwZWNpZmljYXRpb248VD47XG5cdG5vdDogKHNwZWNpZmljYXRpb246IFNwZWNpZmljYXRpb248VD4pID0+IFNwZWNpZmljYXRpb248VD47XG5cdGlzU2F0aXNmaWVkOiAob2JqZWN0OiBUKSA9PiBib29sZWFuO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tcG9zaXRlU3BlY2lmaWNhdGlvbjxUPiBpbXBsZW1lbnRzIFNwZWNpZmljYXRpb248VD4ge1xuXHRhbmQob3RoZXI6IFNwZWNpZmljYXRpb248VD4pOiBTcGVjaWZpY2F0aW9uPFQ+IHtcblx0XHRyZXR1cm4gbmV3IEFuZFNwZWNpZmljYXRpb248VD4odGhpcywgb3RoZXIpO1xuXHR9XG5cblx0b3Iob3RoZXI6IFNwZWNpZmljYXRpb248VD4pOiBTcGVjaWZpY2F0aW9uPFQ+IHtcblx0XHRyZXR1cm4gbmV3IE9yU3BlY2lmaWNhdGlvbjxUPih0aGlzLCBvdGhlcik7XG5cdH1cblxuXHRub3QoKTogU3BlY2lmaWNhdGlvbjxUPiB7XG5cdFx0cmV0dXJuIG5ldyBOb3RTcGVjaWZpY2F0aW9uPFQ+KHRoaXMpO1xuXHR9XG5cblx0YWJzdHJhY3QgaXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbjtcbn1cblxuY2xhc3MgQW5kU3BlY2lmaWNhdGlvbjxUPiBleHRlbmRzIENvbXBvc2l0ZVNwZWNpZmljYXRpb248VD4ge1xuXHRwcml2YXRlIGxlZnQ6IFNwZWNpZmljYXRpb248VD47XG5cdHByaXZhdGUgcmlnaHQ6IFNwZWNpZmljYXRpb248VD47XG5cblx0Y29uc3RydWN0b3IobGVmdDogU3BlY2lmaWNhdGlvbjxUPiwgcmlnaHQ6IFNwZWNpZmljYXRpb248VD4pIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMubGVmdCA9IGxlZnQ7XG5cdFx0dGhpcy5yaWdodCA9IHJpZ2h0O1xuXHR9XG5cblx0aXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMubGVmdC5pc1NhdGlzZmllZChjYW5kaWRhdGUpICYmXG5cdFx0XHR0aGlzLnJpZ2h0LmlzU2F0aXNmaWVkKGNhbmRpZGF0ZSlcblx0XHQpO1xuXHR9XG59XG5cbmNsYXNzIE9yU3BlY2lmaWNhdGlvbjxUPiBleHRlbmRzIENvbXBvc2l0ZVNwZWNpZmljYXRpb248VD4ge1xuXHRwcml2YXRlIGxlZnQ6IFNwZWNpZmljYXRpb248VD47XG5cdHByaXZhdGUgcmlnaHQ6IFNwZWNpZmljYXRpb248VD47XG5cblx0Y29uc3RydWN0b3IobGVmdDogU3BlY2lmaWNhdGlvbjxUPiwgcmlnaHQ6IFNwZWNpZmljYXRpb248VD4pIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMubGVmdCA9IGxlZnQ7XG5cdFx0dGhpcy5yaWdodCA9IHJpZ2h0O1xuXHR9XG5cblx0aXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMubGVmdC5pc1NhdGlzZmllZChjYW5kaWRhdGUpIHx8XG5cdFx0XHR0aGlzLnJpZ2h0LmlzU2F0aXNmaWVkKGNhbmRpZGF0ZSlcblx0XHQpO1xuXHR9XG59XG5cbmNsYXNzIE5vdFNwZWNpZmljYXRpb248VD4gZXh0ZW5kcyBDb21wb3NpdGVTcGVjaWZpY2F0aW9uPFQ+IHtcblx0cHJpdmF0ZSBvdGhlcjogU3BlY2lmaWNhdGlvbjxUPjtcblx0Y29uc3RydWN0b3Iob3RoZXI6IFNwZWNpZmljYXRpb248VD4pIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMub3RoZXIgPSBvdGhlcjtcblx0fVxuXG5cdGlzU2F0aXNmaWVkKGNhbmRpZGF0ZTogVCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiAhdGhpcy5vdGhlci5pc1NhdGlzZmllZChjYW5kaWRhdGUpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uU3BlY2lmaWNhdGlvbjxUPiBleHRlbmRzIENvbXBvc2l0ZVNwZWNpZmljYXRpb248VD4ge1xuXHRwcml2YXRlIGNhbGxiYWNrOiAoY2FuZGlkYXRlOiBUKSA9PiBib29sZWFuO1xuXHRjb25zdHJ1Y3RvcihjYWxsYmFjazogKGNhbmRpZGF0ZTogVCkgPT4gYm9vbGVhbikge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuXHR9XG5cblx0aXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuY2FsbGJhY2soY2FuZGlkYXRlKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQXVkaW9TcGVjaWZpY2F0aW9uPFQ+IGV4dGVuZHMgQ29tcG9zaXRlU3BlY2lmaWNhdGlvbjxUPiB7XG5cdGlzU2F0aXNmaWVkKGNhbmRpZGF0ZTogVCk6IGJvb2xlYW4ge1xuXHRcdC8vQHRzLWlnbm9yZVxuXHRcdGlmICghY2FuZGlkYXRlLnR5cGUgPT0gXCJmaWxlXCIpIHJldHVybiBmYWxzZTtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRyZXR1cm4gY2FuZGlkYXRlLmV4dGVuc2lvbiBpbiBGSUxFX0ZPUk1BVC5BdWRpbztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgSW1hZ2VTcGVjaWZpY2F0aW9uPFQ+IGV4dGVuZHMgQ29tcG9zaXRlU3BlY2lmaWNhdGlvbjxUPiB7XG5cdGlzU2F0aXNmaWVkKGNhbmRpZGF0ZTogVCk6IGJvb2xlYW4ge1xuXHRcdC8vQHRzLWlnbm9yZVxuXHRcdGlmICghY2FuZGlkYXRlLnR5cGUgPT0gXCJmaWxlXCIpIHJldHVybiBmYWxzZTtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRyZXR1cm4gY2FuZGlkYXRlLmV4dGVuc2lvbiBpbiBGSUxFX0ZPUk1BVC5JbWFnZTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgVmlkZW9TcGVjaWZpY2F0aW9uPFQ+IGV4dGVuZHMgQ29tcG9zaXRlU3BlY2lmaWNhdGlvbjxUPiB7XG5cdGlzU2F0aXNmaWVkKGNhbmRpZGF0ZTogVCk6IGJvb2xlYW4ge1xuXHRcdC8vQHRzLWlnbm9yZVxuXHRcdGlmICghY2FuZGlkYXRlLnR5cGUgPT0gXCJmaWxlXCIpIHJldHVybiBmYWxzZTtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRyZXR1cm4gY2FuZGlkYXRlLmV4dGVuc2lvbiBpbiBGSUxFX0ZPUk1BVC5WaWRlbztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRG9jdW1lbnRTcGVjaWZpY2F0aW9uPFQ+IGV4dGVuZHMgQ29tcG9zaXRlU3BlY2lmaWNhdGlvbjxUPiB7XG5cdGlzU2F0aXNmaWVkKGNhbmRpZGF0ZTogVCk6IGJvb2xlYW4ge1xuXHRcdC8vQHRzLWlnbm9yZVxuXHRcdGlmICghY2FuZGlkYXRlLnR5cGUgPT0gXCJmaWxlXCIpIHJldHVybiBmYWxzZTtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRyZXR1cm4gY2FuZGlkYXRlLmV4dGVuc2lvbiBpbiBGSUxFX0ZPUk1BVC5Eb2N1bWVudDtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRmlsZVNwZWNpZmljYXRpb248VD4gZXh0ZW5kcyBDb21wb3NpdGVTcGVjaWZpY2F0aW9uPFQ+IHtcblx0aXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbiB7XG5cdFx0Ly9AdHMtaWdub3JlXG5cdFx0cmV0dXJuIGNhbmRpZGF0ZS50eXBlID09IFwiZmlsZVwiO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0U3BlY2lmaWNhdGlvbjxUPiBleHRlbmRzIENvbXBvc2l0ZVNwZWNpZmljYXRpb248VD4ge1xuXHRpc1NhdGlzZmllZChjYW5kaWRhdGU6IFQpOiBib29sZWFuIHtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRyZXR1cm4gY2FuZGlkYXRlLnR5cGUgPT0gXCJ0ZXh0XCI7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFdlYlNwZWNpZmljYXRpb248VD4gZXh0ZW5kcyBDb21wb3NpdGVTcGVjaWZpY2F0aW9uPFQ+IHtcblx0aXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbiB7XG5cdFx0Ly9AdHMtaWdub3JlXG5cdFx0cmV0dXJuIGNhbmRpZGF0ZS50eXBlID09IFwibGlua1wiO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBHcm91cFNwZWNpZmljYXRpb248VD4gZXh0ZW5kcyBDb21wb3NpdGVTcGVjaWZpY2F0aW9uPFQ+IHtcblx0aXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbiB7XG5cdFx0Ly9AdHMtaWdub3JlXG5cdFx0cmV0dXJuIGNhbmRpZGF0ZS50eXBlID09IFwiZ3JvdXBcIjtcblx0fVxufVxuIiwgImltcG9ydCB7IERPTUhhbmRsZXIgfSBmcm9tIFwiZG9tL2hhbmRsZXJcIjtcbmltcG9ydCB7XG5cdENSQUZUWV9OT0RFX1NPUlRfVFlQRSxcblx0Q3JhZnR5Tm9kZSxcblx0RklMRV9GT1JNQVQsXG5cdEZJTEVfVFlQRSxcblx0Tk9ERV9PUkRFUixcblx0Tk9ERV9UWVBFLFxuXHROb2RlQ29tcGFyYXRvcixcblx0Tm9kZUZpbHRlcixcblx0Tm9kZXNFeHBsb3Jlcixcbn0gZnJvbSBcIm5vZGVzL25vZGVzXCI7XG5pbXBvcnQgeyBXb3Jrc3BhY2VMZWFmIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge1xuXHRBdWRpb1NwZWNpZmljYXRpb24sXG5cdEV4cHJlc3Npb25TcGVjaWZpY2F0aW9uLFxuXHRJbWFnZVNwZWNpZmljYXRpb24sXG5cdFNwZWNpZmljYXRpb24sXG5cdFZpZGVvU3BlY2lmaWNhdGlvbixcbn0gZnJvbSBcInNwZWNpZmljYXRpb25cIjtcbi8vIFRZUEUgLy9cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE9ic2VydmVyIHtcblx0dXBkYXRlOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOYXZpZ2F0b3I8VD4ge1xuXHRjdXJyZW50OiAoZWxlbTogVCkgPT4gdm9pZDtcblx0bmV4dDogKCkgPT4gdm9pZDtcblx0cHJldmlvdXM6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdWJqZWN0IHtcblx0cmVnaXN0ZXJPYnNlcnZlcjogKG9ic2VydmVyOiBPYnNlcnZlcikgPT4gdm9pZDtcblx0cmVtb3ZlT2JzZXJ2ZXI6IChvYnNlcnZlcjogT2JzZXJ2ZXIpID0+IHZvaWQ7XG5cdG5vdGlmeU9ic2VydmVyOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgTm9kZU9ic2VydmVyIGltcGxlbWVudHMgT2JzZXJ2ZXIge1xuXHRjYWxsYmFjazogKG5vZGVzOiBDcmFmdHlOb2RlW10pID0+IHZvaWQ7XG5cdGNvbnN0cnVjdG9yKGNhbGxiYWNrOiAobm9kZXM6IENyYWZ0eU5vZGVbXSkgPT4gdm9pZCkge1xuXHRcdHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcblx0fVxuXHR1cGRhdGUobm9kZXM6IENyYWZ0eU5vZGVbXSkge1xuXHRcdHRoaXMuY2FsbGJhY2sobm9kZXMpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBOb2RlRmlsdGVyT2JzZXJ2ZXIgaW1wbGVtZW50cyBPYnNlcnZlciB7XG5cdGNhbGxiYWNrOiAoZmlsdGVyczogTm9kZUZpbHRlcltdKSA9PiB2b2lkO1xuXHRjb25zdHJ1Y3RvcihjYWxsYmFjazogKGZpbHRlcnM6IE5vZGVGaWx0ZXJbXSkgPT4gdm9pZCkge1xuXHRcdHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcblx0fVxuXHR1cGRhdGUoZmlsdGVyczogTm9kZUZpbHRlcltdKSB7XG5cdFx0dGhpcy5jYWxsYmFjayhmaWx0ZXJzKTtcblx0fVxufVxuXG4vLyBUWVBFIC8vXG5cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVPYnNlcnZlciB7XG5cdHByaXZhdGUgb2JzZXJ2ZXI6IE11dGF0aW9uT2JzZXJ2ZXIgfCBudWxsO1xuXHRwcml2YXRlIGNvbmZpZyA9IHsgYXR0cmlidXRlczogdHJ1ZSwgYXR0cmlidXRlRmlsdGVyOiBbXCJjbGFzc1wiXSB9O1xuXG5cdG9ic2VydmUobGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwsIG5vZGVfc3RhdGU6IE5vZGVzU3RhdGUpIHtcblx0XHRpZiAoIWxlYWYpIHJldHVybjtcblx0XHRpZiAodGhpcy5vYnNlcnZlcikgdGhpcy5kaXNjb25uZWN0KCk7XG5cdFx0dGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbikgPT4ge1xuXHRcdFx0dGhpcy4jY2FsbGJhY2sobGVhZiwgbm9kZV9zdGF0ZSk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLiNhZGRPYnNlcnZhYmxlRWxlbWVudChsZWFmKTtcblx0fVxuXG5cdCNjYWxsYmFjayhsZWFmOiBXb3Jrc3BhY2VMZWFmLCBub2RlX3N0YXRlOiBOb2Rlc1N0YXRlKSB7XG5cdFx0Y29uc3Qgdmlld19zdGF0ZSA9IGxlYWYuZ2V0Vmlld1N0YXRlKCk7XG5cdFx0aWYgKHZpZXdfc3RhdGUudHlwZSAhPSBcImNhbnZhc1wiKSByZXR1cm47XG5cdFx0Y29uc3Qgc2VsZWN0aW9uID0gQXJyYXkuZnJvbShcblx0XHRcdC8vQHRzLWlnbm9yZVxuXHRcdFx0bGVhZi52aWV3LmNhbnZhcy5zZWxlY3Rpb24sXG5cdFx0XHQvL0B0cy1pZ25vcmVcblx0XHRcdCh2YWwpID0+IHZhbC5pZFxuXHRcdCk7XG5cblx0XHRub2RlX3N0YXRlLnNlbGVjdE5vZGVzKHNlbGVjdGlvbik7XG5cdH1cblxuXHQjYWRkT2JzZXJ2YWJsZUVsZW1lbnQobGVhZjogV29ya3NwYWNlTGVhZikge1xuXHRcdGNvbnN0IHZpZXdfc3RhdGUgPSBsZWFmLmdldFZpZXdTdGF0ZSgpO1xuXHRcdGlmICh2aWV3X3N0YXRlLnR5cGUgIT0gXCJjYW52YXNcIikgcmV0dXJuO1xuXHRcdGNvbnN0IG5vZGVzID0gQXJyYXkuZnJvbShcblx0XHRcdC8vQHRzLWlnbm9yZVxuXHRcdFx0bGVhZi52aWV3LmNhbnZhcy5ub2Rlcyxcblx0XHRcdC8vQHRzLWlnbm9yZVxuXHRcdFx0KFtpZCwgdmFsdWVdKSA9PiAoe1xuXHRcdFx0XHRpZCxcblx0XHRcdFx0Y29udGFpbmVyOiB2YWx1ZS5ub2RlRWwsXG5cdFx0XHRcdGRhdGE6IHZhbHVlLnVua25vd25EYXRhLFxuXHRcdFx0fSlcblx0XHQpO1xuXG5cdFx0aWYgKHRoaXMub2JzZXJ2ZXIpIHtcblx0XHRcdGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlcykge1xuXHRcdFx0XHR0aGlzLm9ic2VydmVyLm9ic2VydmUobm9kZS5jb250YWluZXIsIHRoaXMuY29uZmlnKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRkaXNjb25uZWN0KCkge1xuXHRcdGlmICh0aGlzLm9ic2VydmVyKSB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblx0XHR0aGlzLm9ic2VydmVyID0gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBOb2Rlc1N0YXRlIGltcGxlbWVudHMgU3ViamVjdCwgTmF2aWdhdG9yPHN0cmluZz4ge1xuXHRwcml2YXRlIG9ic2VydmVyczogTm9kZU9ic2VydmVyW10gPSBbXTtcblxuXHRwcml2YXRlIG5vZGVfbWFwOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xuXHRwcml2YXRlIHJlbF9ub2RlX21hcDogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcblx0cHJpdmF0ZSBub2RlX2FycjogQ3JhZnR5Tm9kZVtdID0gW107XG5cdHByaXZhdGUgcmVsX25vZGVfYXJyOiBDcmFmdHlOb2RlW10gPSBbXTtcblx0cHJpdmF0ZSBzZWxlY3RlZDogc3RyaW5nW10gPSBbXTtcblx0cHJpdmF0ZSBmaXJzdElEOiBzdHJpbmc7XG5cdHByaXZhdGUgY3VycmVudElEID0gXCJcIjtcblx0cHJpdmF0ZSBsYXN0SUQgPSBcIlwiO1xuXHRwcml2YXRlIG5vZGVfZXhwbG9yZXIgPSBuZXcgTm9kZXNFeHBsb3JlcigpO1xuXHRwcml2YXRlIGN1cnJlbnRTZWFyY2ggPSBcIlwiO1xuXHRwcml2YXRlIHNvcnRfYnk6IENSQUZUWV9OT0RFX1NPUlRfVFlQRSA9IFwibmFtZVwiO1xuXHRwcml2YXRlIG5vZGVfb3JkZXI6IE5PREVfT1JERVIgPSBcImFzY1wiO1xuXHRwcml2YXRlIGZpbHRlcnM6IE5vZGVGaWx0ZXJbXSA9IFtdO1xuXG5cdHJlZ2lzdGVyT2JzZXJ2ZXIob2JzZXJ2ZXI6IE5vZGVPYnNlcnZlcikge1xuXHRcdHRoaXMub2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuXHR9XG5cdHJlbW92ZU9ic2VydmVyKG9ic2VydmVyOiBOb2RlT2JzZXJ2ZXIpIHtcblx0XHR0aGlzLm9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzLmZpbHRlcigodmFsKSA9PiB2YWwgIT0gb2JzZXJ2ZXIpO1xuXHR9XG5cdG5vdGlmeU9ic2VydmVyKCkge1xuXHRcdGZvciAoY29uc3Qgb2JzIG9mIHRoaXMub2JzZXJ2ZXJzKSB7XG5cdFx0XHRvYnMudXBkYXRlKHRoaXMubm9kZXMpO1xuXHRcdH1cblx0fVxuXG5cdC8vIExpc3Rcblx0I3N3YXBJZHgobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKSB7XG5cdFx0Y29uc3Qgbm9kZTEgPSB0aGlzLm5vZGVfYXJyW2xlZnRdO1xuXHRcdGNvbnN0IG5vZGUyID0gdGhpcy5ub2RlX2FycltyaWdodF07XG5cblx0XHR0aGlzLm5vZGVfbWFwLnNldChub2RlMS5pZCwgcmlnaHQpO1xuXHRcdHRoaXMubm9kZV9tYXAuc2V0KG5vZGUyLmlkLCBsZWZ0KTtcblxuXHRcdFt0aGlzLm5vZGVfYXJyW2xlZnRdLCB0aGlzLm5vZGVfYXJyW3JpZ2h0XV0gPSBbXG5cdFx0XHR0aGlzLm5vZGVfYXJyW3JpZ2h0XSxcblx0XHRcdHRoaXMubm9kZV9hcnJbbGVmdF0sXG5cdFx0XTtcblx0fVxuXG5cdCNpbmRleE5vZGVzKCkge1xuXHRcdHRoaXMucmVsX25vZGVfbWFwLmNsZWFyKCk7XG5cdFx0Y29uc3QgbiA9IHRoaXMucmVsX25vZGVfYXJyLmxlbmd0aDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKylcblx0XHRcdHRoaXMucmVsX25vZGVfbWFwLnNldCh0aGlzLnJlbF9ub2RlX2FycltpXS5pZCwgaSk7XG5cdH1cblxuXHQjY2xlYXJSZWxOb2RlcygpIHtcblx0XHR3aGlsZSAodGhpcy5yZWxfbm9kZV9hcnIubGVuZ3RoID4gMCkgdGhpcy5yZWxfbm9kZV9hcnIucG9wKCk7XG5cdH1cblxuXHQjc29ydCgpIHtcblx0XHRjb25zdCBzb3J0X2J1dHRvbiA9IERPTUhhbmRsZXIuZ2V0U29ydEJ1dHRvbigpO1xuXHRcdGNvbnN0IHRleHQgPSBzb3J0X2J1dHRvbi5xdWVyeVNlbGVjdG9yKFwiLnNiLXRleHRcIikgYXMgSFRNTFNwYW5FbGVtZW50O1xuXHRcdGNvbnN0IHNvcnRfbWVudSA9IERPTUhhbmRsZXIuZ2V0U29ydE1lbnUoKTtcblx0XHRjb25zdCBzb3J0X25hbWUgPSBzb3J0X21lbnUucXVlcnlTZWxlY3RvcihcIi5zLW5hbWVcIik7XG5cdFx0Y29uc3Qgc29ydF9jcmVhdGVkID0gc29ydF9tZW51LnF1ZXJ5U2VsZWN0b3IoXCIucy1jcmVhdGVkXCIpO1xuXHRcdGNvbnN0IHNvcnRfbGFzdCA9IHNvcnRfbWVudS5xdWVyeVNlbGVjdG9yKFwiLnMtbGFzdFwiKTtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRmb3IgKGNvbnN0IG5vZGUgb2YgW3NvcnRfbmFtZSwgc29ydF9jcmVhdGVkLCBzb3J0X2xhc3RdKSB7XG5cdFx0XHRpZiAoIW5vZGUpIGNvbnRpbnVlO1xuXHRcdFx0bm9kZS5jbGFzc0xpc3QucmVtb3ZlKFwiY2hlY2stYWN0aXZlXCIpO1xuXHRcdH1cblx0XHRzd2l0Y2ggKHRoaXMuc29ydF9ieSkge1xuXHRcdFx0Y2FzZSBcIm5hbWVcIjpcblx0XHRcdFx0dGhpcy5yZWxfbm9kZV9hcnIuc29ydChOb2RlQ29tcGFyYXRvci5TT1JUX0JZX05BTUUpO1xuXHRcdFx0XHRpZiAodGV4dCkgdGV4dC5zZXRUZXh0KFwiTmFtZVwiKTtcblx0XHRcdFx0aWYgKHNvcnRfbmFtZSkgc29ydF9uYW1lLmNsYXNzTGlzdC5hZGQoXCJjaGVjay1hY3RpdmVcIik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImNyZWF0ZWRfYXRcIjpcblx0XHRcdFx0dGhpcy5yZWxfbm9kZV9hcnIuc29ydChOb2RlQ29tcGFyYXRvci5TT1JUX0JZX0NSRUFURURfQVQpO1xuXHRcdFx0XHRpZiAodGV4dCkgdGV4dC5zZXRUZXh0KFwiQ3JlYXRlZF9hdFwiKTtcblx0XHRcdFx0aWYgKHNvcnRfY3JlYXRlZCkgc29ydF9jcmVhdGVkLmNsYXNzTGlzdC5hZGQoXCJjaGVjay1hY3RpdmVcIik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImxhc3RfbW9kaWZpZWRcIjpcblx0XHRcdFx0dGhpcy5yZWxfbm9kZV9hcnIuc29ydChOb2RlQ29tcGFyYXRvci5TT1JUX0JZX0xBU1RfTU9ESUZJRUQpO1xuXHRcdFx0XHRpZiAodGV4dCkgdGV4dC5zZXRUZXh0KFwiTGFzdF9tb2RpZmllZFwiKTtcblx0XHRcdFx0aWYgKHNvcnRfbGFzdCkgc29ydF9sYXN0LmNsYXNzTGlzdC5hZGQoXCJjaGVjay1hY3RpdmVcIik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhpcy5yZWxfbm9kZV9hcnIuc29ydChOb2RlQ29tcGFyYXRvci5TT1JUX0JZX05BTUUpO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHQjb3JkZXIoKSB7XG5cdFx0Y29uc3Qgc29ydF9tZW51ID0gRE9NSGFuZGxlci5nZXRTb3J0TWVudSgpO1xuXHRcdGNvbnN0IHNvcnRfYXNjID0gc29ydF9tZW51LnF1ZXJ5U2VsZWN0b3IoXCIucy1hc2NcIik7XG5cdFx0Y29uc3Qgc29ydF9kZXNjID0gc29ydF9tZW51LnF1ZXJ5U2VsZWN0b3IoXCIucy1kZXNjXCIpO1xuXHRcdC8vQHRzLWlnbm9yZVxuXHRcdGZvciAoY29uc3Qgbm9kZSBvZiBbc29ydF9hc2MsIHNvcnRfZGVzY10pIHtcblx0XHRcdGlmICghbm9kZSkgY29udGludWU7XG5cdFx0XHRub2RlLmNsYXNzTGlzdC5yZW1vdmUoXCJjaGVjay1hY3RpdmVcIik7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMubm9kZV9vcmRlciA9PSBcImRlc1wiKSB7XG5cdFx0XHR0aGlzLnJlbF9ub2RlX2Fyci5yZXZlcnNlKCk7XG5cdFx0XHRpZiAoc29ydF9kZXNjKSBzb3J0X2Rlc2MuY2xhc3NMaXN0LmFkZChcImNoZWNrLWFjdGl2ZVwiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHNvcnRfYXNjKSBzb3J0X2FzYy5jbGFzc0xpc3QuYWRkKFwiY2hlY2stYWN0aXZlXCIpO1xuXHRcdH1cblx0fVxuXG5cdCNnZXRGaWx0ZXJTcGVjKCkge1xuXHRcdGlmICh0aGlzLmZpbHRlcnMubGVuZ3RoID09IDApXG5cdFx0XHRyZXR1cm4gbmV3IEV4cHJlc3Npb25TcGVjaWZpY2F0aW9uPENyYWZ0eU5vZGU+KCgpID0+IHRydWUpO1xuXHRcdGxldCBzcGVjaWZpY2F0aW9uOiBTcGVjaWZpY2F0aW9uPENyYWZ0eU5vZGU+ID1cblx0XHRcdG5ldyBFeHByZXNzaW9uU3BlY2lmaWNhdGlvbjxDcmFmdHlOb2RlPigoKSA9PiBmYWxzZSk7XG5cblx0XHRmb3IgKGNvbnN0IGZpbHRlciBvZiB0aGlzLmZpbHRlcnMpIHtcblx0XHRcdGlmIChmaWx0ZXIudHlwZSA9PSBcImF1ZGlvXCIpIHtcblx0XHRcdFx0c3BlY2lmaWNhdGlvbiA9IHNwZWNpZmljYXRpb24ub3IoXG5cdFx0XHRcdFx0bmV3IEF1ZGlvU3BlY2lmaWNhdGlvbjxDcmFmdHlOb2RlPigpXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2UgaWYgKGZpbHRlci50eXBlID09IFwidmlkZW9cIikge1xuXHRcdFx0XHRzcGVjaWZpY2F0aW9uID0gc3BlY2lmaWNhdGlvbi5vcihcblx0XHRcdFx0XHRuZXcgVmlkZW9TcGVjaWZpY2F0aW9uPENyYWZ0eU5vZGU+KClcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSBpZiAoZmlsdGVyLnR5cGUgPT0gXCJpbWFnZVwiKSB7XG5cdFx0XHRcdHNwZWNpZmljYXRpb24gPSBzcGVjaWZpY2F0aW9uLm9yKFxuXHRcdFx0XHRcdG5ldyBJbWFnZVNwZWNpZmljYXRpb248Q3JhZnR5Tm9kZT4oKVxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3Qgb3Jfc3BlY2lmaWNhdGlvbiA9XG5cdFx0XHRcdFx0bmV3IEV4cHJlc3Npb25TcGVjaWZpY2F0aW9uPENyYWZ0eU5vZGU+KChjYW5kaWRhdGUpID0+IHtcblx0XHRcdFx0XHRcdGlmIChjYW5kaWRhdGUudHlwZSA9PSBcImZpbGVcIilcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGNhbmRpZGF0ZS5leHRlbnNpb24gPT0gZmlsdGVyLnR5cGU7XG5cdFx0XHRcdFx0XHRlbHNlIHJldHVybiBjYW5kaWRhdGUudHlwZSA9PSBmaWx0ZXIudHlwZTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0c3BlY2lmaWNhdGlvbiA9IHNwZWNpZmljYXRpb24ub3Iob3Jfc3BlY2lmaWNhdGlvbik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHNwZWNpZmljYXRpb247XG5cdH1cblxuXHQjUG9wdWxhdGVSZWxOb2Rlcyhub2RlczogQ3JhZnR5Tm9kZVtdKSB7XG5cdFx0dGhpcy4jY2xlYXJSZWxOb2RlcygpO1xuXHRcdGNvbnN0IHNwZWMgPSB0aGlzLiNnZXRGaWx0ZXJTcGVjKCk7XG5cdFx0Zm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7XG5cdFx0XHRpZiAoc3BlYy5pc1NhdGlzZmllZChub2RlKSkgdGhpcy5yZWxfbm9kZV9hcnIucHVzaChub2RlKTtcblx0XHR9XG5cblx0XHR0aGlzLiNzb3J0KCk7XG5cdFx0dGhpcy4jb3JkZXIoKTtcblx0XHR0aGlzLiNpbmRleE5vZGVzKCk7XG5cdH1cblxuXHRhZGQobm9kZXM6IENyYWZ0eU5vZGVbXSkge1xuXHRcdGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlcykge1xuXHRcdFx0aWYgKHRoaXMubm9kZV9tYXAuc2l6ZSA9PSAwKSB0aGlzLmZpcnN0SUQgPSBub2RlLmlkO1xuXHRcdFx0aWYgKHRoaXMuc2VsZWN0ZWQuaW5jbHVkZXMobm9kZS5pZCkpIG5vZGUuc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0dGhpcy5ub2RlX21hcC5zZXQobm9kZS5pZCwgdGhpcy5ub2RlX2Fyci5sZW5ndGgpO1xuXHRcdFx0dGhpcy5ub2RlX2Fyci5wdXNoKG5vZGUpO1xuXHRcdFx0dGhpcy5ub2RlX2V4cGxvcmVyLmFkZChub2RlKTtcblx0XHR9XG5cdFx0dGhpcy5maXJzdElEID0gXCJcIjtcblx0XHRpZiAobm9kZXMubGVuZ3RoID4gMCkgdGhpcy5maXJzdElEID0gdGhpcy5ub2RlX2FyclswXS5pZDtcblx0XHR0aGlzLm5vdGlmeU9ic2VydmVyKCk7XG5cdH1cblxuXHRyZW1vdmUoaWRfbGlzdDogc3RyaW5nW10pIHtcblx0XHRmb3IgKGNvbnN0IGlkIG9mIGlkX2xpc3QpIHtcblx0XHRcdGlmICh0aGlzLm5vZGVfbWFwLmhhcyhpZCkpIHtcblx0XHRcdFx0Ly9AdHMtaWdub3JlXG5cdFx0XHRcdHRoaXMuI3N3YXBJZHgodGhpcy5ub2RlX21hcC5nZXQoaWQpLCB0aGlzLm5vZGVfYXJyLmxlbmd0aCAtIDEpO1xuXHRcdFx0XHRjb25zdCBub2RlID0gdGhpcy5ub2RlX2Fyci5wb3AoKTtcblx0XHRcdFx0aWYgKG5vZGUpIHRoaXMubm9kZV9leHBsb3Jlci5yZW1vdmUobm9kZSk7XG5cdFx0XHRcdHRoaXMubm9kZV9tYXAuZGVsZXRlKGlkKTtcblx0XHRcdFx0Ly9AdHMtaWdub3JlXG5cdFx0XHRcdHRoaXMuI3N3YXBJZHgodGhpcy5ub2RlX21hcC5nZXQoaWQpLCB0aGlzLm5vZGVfYXJyLmxlbmd0aCAtIDEpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMubm90aWZ5T2JzZXJ2ZXIoKTtcblx0fVxuXG5cdHJlcGxhY2Uobm9kZXM6IENyYWZ0eU5vZGVbXSkge1xuXHRcdHdoaWxlICh0aGlzLm5vZGVfYXJyLmxlbmd0aCA+IDApIHRoaXMubm9kZV9hcnIucG9wKCk7XG5cdFx0dGhpcy5ub2RlX21hcC5jbGVhcigpO1xuXHRcdHRoaXMubm9kZV9leHBsb3Jlci5jbGVhcigpO1xuXHRcdHRoaXMuYWRkKG5vZGVzKTtcblx0fVxuXG5cdHNlbGVjdE5vZGVzKGlkX2xpc3Q6IHN0cmluZ1tdKSB7XG5cdFx0Y29uc3QgbiA9IGlkX2xpc3QubGVuZ3RoO1xuXHRcdHRoaXMuc2VsZWN0ZWQgPSBpZF9saXN0O1xuXHRcdGlmIChuID09IDApIHtcblx0XHRcdHRoaXMuY3VycmVudElEID0gXCJcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5sYXN0SUQgPSB0aGlzLmN1cnJlbnRJRDtcblx0XHRcdHRoaXMuY3VycmVudElEID0gaWRfbGlzdFswXTtcblx0XHR9XG5cdFx0Zm9yIChjb25zdCBub2RlIG9mIHRoaXMubm9kZV9hcnIpIG5vZGUuc2VsZWN0ZWQgPSBmYWxzZTtcblx0XHRmb3IgKGNvbnN0IGlkIG9mIGlkX2xpc3QpIHtcblx0XHRcdGNvbnN0IG5vZGVfaWR4ID0gdGhpcy5ub2RlX21hcC5nZXQoaWQpO1xuXHRcdFx0aWYgKG5vZGVfaWR4ID09IHVuZGVmaW5lZCkgY29udGludWU7XG5cdFx0XHR0aGlzLm5vZGVfYXJyW25vZGVfaWR4XS5zZWxlY3RlZCA9IHRydWU7XG5cdFx0fVxuXHRcdHRoaXMubm90aWZ5T2JzZXJ2ZXIoKTtcblx0fVxuXG5cdG9yZGVyKG9yZGVyOiBOT0RFX09SREVSKSB7XG5cdFx0aWYgKHRoaXMubm9kZV9vcmRlciAhPSBvcmRlcikge1xuXHRcdFx0dGhpcy5ub2RlX29yZGVyID0gb3JkZXI7XG5cdFx0XHR0aGlzLm5vdGlmeU9ic2VydmVyKCk7XG5cdFx0fVxuXHR9XG5cblx0c29ydEJ5KHNvcnRfYnk6IENSQUZUWV9OT0RFX1NPUlRfVFlQRSkge1xuXHRcdGlmICh0aGlzLnNvcnRfYnkgIT0gc29ydF9ieSkge1xuXHRcdFx0dGhpcy5zb3J0X2J5ID0gc29ydF9ieTtcblx0XHRcdHRoaXMubm90aWZ5T2JzZXJ2ZXIoKTtcblx0XHR9XG5cdH1cblxuXHRzZXRGaWx0ZXJzKGZpbHRlcnM6IE5vZGVGaWx0ZXJbXSkge1xuXHRcdHRoaXMuZmlsdGVycyA9IGZpbHRlcnM7XG5cdFx0dGhpcy5ub3RpZnlPYnNlcnZlcigpO1xuXHR9XG5cblx0Ly8gU2VhcmNoXG5cblx0I3VwZGF0ZSgpIHtcblx0XHRpZiAodGhpcy5jdXJyZW50U2VhcmNoID09IFwiXCIpIHRoaXMuI1BvcHVsYXRlUmVsTm9kZXModGhpcy5ub2RlX2Fycik7XG5cdFx0ZWxzZSB7XG5cdFx0XHR0aGlzLiNQb3B1bGF0ZVJlbE5vZGVzKFxuXHRcdFx0XHQvLyB0aGlzLm5vZGVfZXhwbG9yZXIuZmluZFNpbWlsYXIodGhpcy5jdXJyZW50U2VhcmNoLCA0KVxuXHRcdFx0XHR0aGlzLm5vZGVfZXhwbG9yZXIucHJlZml4U2VhcmNoKHRoaXMuY3VycmVudFNlYXJjaClcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0c2V0U2VhcmNoV29yZCh3b3JkOiBzdHJpbmcpIHtcblx0XHR0aGlzLmN1cnJlbnRTZWFyY2ggPSB3b3JkO1xuXHRcdHRoaXMubm90aWZ5T2JzZXJ2ZXIoKTtcblx0fVxuXG5cdC8vIE5hdmlnYXRvclxuXHRjdXJyZW50KGlkOiBzdHJpbmcpIHtcblx0XHR0aGlzLmN1cnJlbnRJRCA9IGlkO1xuXHRcdGNvbnN0IGlkeCA9IHRoaXMubm9kZV9tYXAuZ2V0KGlkKTtcblx0XHRpZiAoaWR4ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuXHRcdGNvbnN0IG5leHRfbm9kZSA9IHRoaXMubm9kZV9hcnJbaWR4XTtcblx0XHRpZiAoIW5leHRfbm9kZS5jb250YWluZXIpIHJldHVybjtcblx0XHRuZXh0X25vZGUuY29udGFpbmVyLmNsaWNrKCk7XG5cdH1cblxuXHQjZmluZEZpcnN0Tm9kZSgpIHtcblx0XHRjb25zdCBpZCA9IHRoaXMucmVsX25vZGVfYXJyWzBdLmlkO1xuXHRcdHRoaXMuY3VycmVudElEID0gaWQgfHwgXCJcIjtcblxuXHRcdGNvbnN0IGlkeCA9IHRoaXMucmVsX25vZGVfbWFwLmdldChpZCk7XG5cdFx0aWYgKGlkeCA9PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuXG5cdFx0Y29uc3QgbmV4dF9ub2RlID0gdGhpcy5yZWxfbm9kZV9hcnJbaWR4XTtcblx0XHRpZiAoIW5leHRfbm9kZS5jb250YWluZXIpIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIG5leHRfbm9kZTtcblx0fVxuXG5cdG5leHQoKSB7XG5cdFx0Y29uc3QgaWR4ID0gdGhpcy5yZWxfbm9kZV9tYXAuZ2V0KHRoaXMuY3VycmVudElEKTtcblxuXHRcdGlmIChpZHggPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29uc3QgbmV4dF9ub2RlID0gdGhpcy4jZmluZEZpcnN0Tm9kZSgpO1xuXHRcdFx0aWYgKCFuZXh0X25vZGUgfHwgIW5leHRfbm9kZS5jb250YWluZXIpIHJldHVybjtcblx0XHRcdG5leHRfbm9kZS5jb250YWluZXIuY2xpY2soKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBuZXh0X2lkeCA9IChpZHggKyAxKSAlIHRoaXMucmVsX25vZGVfYXJyLmxlbmd0aDtcblx0XHRjb25zdCBuZXh0X25vZGUgPSB0aGlzLnJlbF9ub2RlX2FycltuZXh0X2lkeF07XG5cdFx0aWYgKCFuZXh0X25vZGUuY29udGFpbmVyKSByZXR1cm47XG5cdFx0bmV4dF9ub2RlLmNvbnRhaW5lci5jbGljaygpO1xuXHR9XG5cdHByZXZpb3VzKCkge1xuXHRcdGNvbnN0IGlkeCA9IHRoaXMucmVsX25vZGVfbWFwLmdldCh0aGlzLmN1cnJlbnRJRCk7XG5cblx0XHRpZiAoaWR4ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbnN0IG5leHRfbm9kZSA9IHRoaXMuI2ZpbmRGaXJzdE5vZGUoKTtcblx0XHRcdGlmICghbmV4dF9ub2RlIHx8ICFuZXh0X25vZGUuY29udGFpbmVyKSByZXR1cm47XG5cdFx0XHRuZXh0X25vZGUuY29udGFpbmVyLmNsaWNrKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgcHJldl9pZHggPSBpZHggLSAxIDwgMCA/IHRoaXMucmVsX25vZGVfYXJyLmxlbmd0aCAtIDEgOiBpZHggLSAxO1xuXHRcdGNvbnN0IG5leHRfbm9kZSA9IHRoaXMucmVsX25vZGVfYXJyW3ByZXZfaWR4XTtcblx0XHRpZiAoIW5leHRfbm9kZS5jb250YWluZXIpIHJldHVybjtcblx0XHRuZXh0X25vZGUuY29udGFpbmVyLmNsaWNrKCk7XG5cdH1cblxuXHRnZXQgbm9kZXMoKSB7XG5cdFx0dGhpcy4jdXBkYXRlKCk7XG5cdFx0cmV0dXJuIHRoaXMucmVsX25vZGVfYXJyO1xuXHR9XG5cblx0Z2V0IGFsbE5vZGVzKCkge1xuXHRcdHJldHVybiB0aGlzLm5vZGVfYXJyO1xuXHR9XG5cblx0Z2V0IHNlbGVjdGVkTm9kZSgpIHtcblx0XHRjb25zdCBpZHggPSB0aGlzLm5vZGVfbWFwLmdldCh0aGlzLmN1cnJlbnRJRCk7XG5cdFx0aWYgKGlkeCA9PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuXHRcdHJldHVybiB0aGlzLm5vZGVfYXJyW2lkeF07XG5cdH1cblxuXHRnZXQgaXNOb2RlU2FtZSgpIHtcblx0XHRpZiAodGhpcy5jdXJyZW50SUQgPT0gXCJcIiB8fCB0aGlzLmxhc3RJRCA9PSBcIlwiKSByZXR1cm4gZmFsc2U7XG5cdFx0cmV0dXJuIHRoaXMuY3VycmVudElEID09IHRoaXMubGFzdElEO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBOb2Rlc0ZpbHRlclN0YXRlIGltcGxlbWVudHMgU3ViamVjdCB7XG5cdHByaXZhdGUgb2JzZXJ2ZXJzOiBOb2RlRmlsdGVyT2JzZXJ2ZXJbXSA9IFtdO1xuXHRwcml2YXRlIGZpbHRlcl9pbmRleDogTWFwPEZJTEVfVFlQRSB8IE5PREVfVFlQRSwgbnVtYmVyPiA9IG5ldyBNYXAoKTtcblx0cHJpdmF0ZSBmaWx0ZXJfbGlzdDogTm9kZUZpbHRlcltdID0gW107XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0bGV0IGlkeCA9IDA7XG5cdFx0Zm9yIChjb25zdCBncm91cCBpbiBGSUxFX0ZPUk1BVCkge1xuXHRcdFx0Ly9AdHMtaWdub3JlXG5cdFx0XHRmb3IgKGNvbnN0IHR5cGUgaW4gRklMRV9GT1JNQVRbZ3JvdXBdKSB7XG5cdFx0XHRcdGNvbnN0IHQgPSB0eXBlIGFzIEZJTEVfVFlQRTtcblx0XHRcdFx0dGhpcy5maWx0ZXJfbGlzdC5wdXNoKG5ldyBOb2RlRmlsdGVyKGdyb3VwLCB0KSk7XG5cdFx0XHRcdHRoaXMuZmlsdGVyX2luZGV4LnNldCh0LCBpZHgrKyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmVnaXN0ZXJPYnNlcnZlcihvYnNlcnZlcjogTm9kZUZpbHRlck9ic2VydmVyKSB7XG5cdFx0dGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG5cdH1cblx0cmVtb3ZlT2JzZXJ2ZXIob2JzZXJ2ZXI6IE5vZGVGaWx0ZXJPYnNlcnZlcikge1xuXHRcdHRoaXMub2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnMuZmlsdGVyKCh2YWwpID0+IHZhbCAhPSBvYnNlcnZlcik7XG5cdH1cblx0bm90aWZ5T2JzZXJ2ZXIoKSB7XG5cdFx0Zm9yIChjb25zdCBvYnMgb2YgdGhpcy5vYnNlcnZlcnMpIHtcblx0XHRcdG9icy51cGRhdGUodGhpcy5maWx0ZXJfbGlzdCk7XG5cdFx0fVxuXHR9XG5cblx0YWRkRmlsdGVyKGZpbHRlcjogRklMRV9UWVBFKSB7XG5cdFx0Y29uc3QgaWR4ID0gdGhpcy5maWx0ZXJfaW5kZXguZ2V0KGZpbHRlcik7XG5cdFx0aWYgKCFpZHgpIHJldHVybjtcblx0XHRpZiAodGhpcy5maWx0ZXJfbGlzdFtpZHhdLmlzQWN0aXZlKSByZXR1cm47XG5cdFx0dGhpcy5maWx0ZXJfbGlzdFtpZHhdLmVuYWJsZSgpO1xuXHRcdHRoaXMubm90aWZ5T2JzZXJ2ZXIoKTtcblx0fVxuXG5cdHJlbW92ZUZpbHRlcihmaWx0ZXI6IEZJTEVfVFlQRSkge1xuXHRcdGNvbnN0IGlkeCA9IHRoaXMuZmlsdGVyX2luZGV4LmdldChmaWx0ZXIpO1xuXHRcdGlmICghaWR4KSByZXR1cm47XG5cdFx0aWYgKCF0aGlzLmZpbHRlcl9saXN0W2lkeF0uaXNBY3RpdmUpIHJldHVybjtcblx0XHR0aGlzLmZpbHRlcl9saXN0W2lkeF0uZGlzYWJsZSgpO1xuXHRcdHRoaXMubm90aWZ5T2JzZXJ2ZXIoKTtcblx0fVxuXG5cdGdldEZpbHRlckJ5R3JvdXAoZ3JvdXA6IHN0cmluZykge1xuXHRcdHJldHVybiB0aGlzLmZpbHRlcl9saXN0LmZpbHRlcigodmFsKSA9PiB2YWwuZ3JvdXAgPT0gZ3JvdXApO1xuXHR9XG5cblx0Z2V0IGFjdGl2ZUZpbHRlcnMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyX2xpc3QuZmlsdGVyKCh2YWwpID0+IHZhbC5pc0FjdGl2ZSk7XG5cdH1cblxuXHRnZXQgYWxsRmlsdGVycygpIHtcblx0XHRyZXR1cm4gdGhpcy5maWx0ZXJfbGlzdDtcblx0fVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQ01BLElBR01BLElBQVNDO0FBSGYsSUFRYUMsSUFDWEYsRUFBT0csZUFBQUEsV0FDTkgsRUFBT0ksWUFBMEJKLEVBQU9JLFNBQVNDLGlCQUNsRCx3QkFBd0JDLFNBQVNDLGFBQ2pDLGFBQWFDLGNBQWNEO0FBWjdCLElBOEJNRSxJQUFvQkMsT0FBQUE7QUE5QjFCLElBZ0NNQyxJQUFjLG9CQUFJQztBQUFBQSxJQVNYQyxJQVRXRCxNQVNYQztFQU9YLFlBQ0VDLElBQ0FDLEtBQ0FDLEtBQUFBO0FBRUEsUUFWRkMsS0FBZSxlQUFBLE1BVVRELFFBQWNQO0FBQ2hCLFlBQVVTLE1BQ1IsbUVBQUE7QUFHSkQsU0FBS0gsVUFBVUEsSUFDZkcsS0FBS0UsSUFBV0o7RUFDakI7RUFJRCxJQUFBLGFBQUlLO0FBR0YsUUFBSUEsS0FBYUgsS0FBS0k7QUFDdEIsVUFBTU4sS0FBVUUsS0FBS0U7QUFDckIsUUFBSWpCLEtBQUFBLFdBQStCa0IsSUFBMEI7QUFDM0QsWUFBTUUsTUFBQUEsV0FBWVAsTUFBNEMsTUFBbkJBLEdBQVFRO0FBQy9DRCxNQUFBQSxRQUNGRixLQUFhVCxFQUFZYSxJQUFJVCxFQUFBQSxJQUFBQSxXQUUzQkssUUFDREgsS0FBS0ksSUFBY0QsS0FBYSxJQUFJWixpQkFBaUJpQixZQUNwRFIsS0FBS0gsT0FBQUEsR0FFSFEsT0FDRlgsRUFBWWUsSUFBSVgsSUFBU0ssRUFBQUE7SUFHOUI7QUFDRCxXQUFPQTtFQUNSO0VBRUQsV0FBQU87QUFDRSxXQUFPVixLQUFL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QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7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O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFB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QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7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YUFBYSxXQUFXLEtBQUssUUFBUTtBQUFBLE1BQ2pELGVBQWUsYUFBYSxXQUFXLEtBQUssUUFBUTtBQUFBLE1BQ3BELFVBQVU7QUFBQSxNQUNWLFdBQVc7QUFBQSxJQUNaLENBQUM7QUFBQSxFQUNGO0FBQ0EsU0FBTztBQUNSO0FBVUE7QUFBQSxpQkFBWSxTQUNYLE1BQ0EsTUFDQSxPQUNBLEtBQ0M7QUFDRCxNQUFJLFFBQVE7QUFBVyxZQUFPLDZCQUFNLE1BQU0sS0FBSyxVQUFTO0FBQ3hELFNBQU8sUUFBUSxTQUFTLE9BQU87QUFDaEM7IiwKICAibmFtZXMiOiBbImdsb2JhbCIsICJnbG9iYWxUaGlzIiwgInN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyIsICJTaGFkb3dSb290IiwgIlNoYWR5Q1NTIiwgIm5hdGl2ZVNoYWRvdyIsICJEb2N1bWVudCIsICJwcm90b3R5cGUiLCAiQ1NTU3R5bGVTaGVldCIsICJjb25zdHJ1Y3Rpb25Ub2tlbiIsICJTeW1ib2wiLCAiY3NzVGFnQ2FjaGUiLCAiV2Vha01hcCIsICJDU1NSZXN1bHQiLCAiY3NzVGV4dCIsICJzdHJpbmdzIiwgInNhZmVUb2tlbiIsICJ0aGlzIiwgIkVycm9yIiwgIl9zdHJpbmdzIiwgInN0eWxlU2hlZXQiLCAiX3N0eWxlU2hlZXQiLCAiY2FjaGVhYmxlIiwgImxlbmd0aCIsICJnZXQiLCAicmVwbGFjZVN5bmMiLCAic2V0IiwgInRvU3RyaW5nIiwgInVuc2FmZUNTUyIsICJ2YWx1ZSIsICJTdHJpbmciLCAiY3NzIiwgInZhbHVlcyIsICJyZWR1Y2UiLCAiYWNjIiwgInYiLCAiaWR4IiwgImFkb3B0U3R5bGVzIiwgInJlbmRlclJvb3QiLCAic3R5bGVzIiwgImFkb3B0ZWRTdHlsZVNoZWV0cyIsICJtYXAiLCAicyIsICJzdHlsZSIsICJkb2N1bWVudCIsICJjcmVhdGVFbGVtZW50IiwgIm5vbmNlIiwgInNldEF0dHJpYnV0ZSIsICJ0ZXh0Q29udGVudCIsICJhcHBlbmRDaGlsZCIsICJnZXRDb21wYXRpYmxlU3R5bGUiLCAic2hlZXQiLCAicnVsZSIsICJjc3NSdWxlcyIsICJpcyIsICJkZWZpbmVQcm9wZXJ0eSIsICJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCAiZ2V0T3duUHJvcGVydHlOYW1lcyIsICJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCAiZ2V0UHJvdG90eXBlT2YiLCAiT2JqZWN0IiwgImdsb2JhbCIsICJnbG9iYWxUaGlzIiwgInRydXN0ZWRUeXBlcyIsICJlbXB0eVN0cmluZ0ZvckJvb2xlYW5BdHRyaWJ1dGUiLCAiZW1wdHlTY3JpcHQiLCAicG9seWZpbGxTdXBwb3J0IiwgInJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydCIsICJKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5IiwgInByb3AiLCAiX29iaiIsICJkZWZhdWx0Q29udmVydGVyIiwgInZhbHVlIiwgInR5cGUiLCAiQm9vbGVhbiIsICJBcnJheSIsICJKU09OIiwgInN0cmluZ2lmeSIsICJmcm9tVmFsdWUiLCAiTnVtYmVyIiwgInBhcnNlIiwgImUiLCAibm90RXF1YWwiLCAib2xkIiwgImRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uIiwgImF0dHJpYnV0ZSIsICJTdHJpbmciLCAiY29udmVydGVyIiwgInJlZmxlY3QiLCAiaGFzQ2hhbmdlZCIsICJTeW1ib2wiLCAibWV0YWRhdGEiLCAibGl0UHJvcGVydHlNZXRhZGF0YSIsICJXZWFrTWFwIiwgIlJlYWN0aXZlRWxlbWVudCIsICJIVE1MRWxlbWVudCIsICJpbml0aWFsaXplciIsICJ0aGlzIiwgIl9fcHJlcGFyZSIsICJfaW5pdGlhbGl6ZXJzIiwgInB1c2giLCAib2JzZXJ2ZWRBdHRyaWJ1dGVzIiwgImZpbmFsaXplIiwgIl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCIsICJrZXlzIiwgIm5hbWUiLCAib3B0aW9ucyIsICJzdGF0ZSIsICJlbGVtZW50UHJvcGVydGllcyIsICJzZXQiLCAibm9BY2Nlc3NvciIsICJrZXkiLCAiZGVzY3JpcHRvciIsICJnZXRQcm9wZXJ0eURlc2NyaXB0b3IiLCAicHJvdG90eXBlIiwgImdldCIsICJ2IiwgImNhbGwiLCAib2xkVmFsdWUiLCAicmVxdWVzdFVwZGF0ZSIsICJjb25maWd1cmFibGUiLCAiZW51bWVyYWJsZSIsICJoYXNPd25Qcm9wZXJ0eSIsICJzdXBlckN0b3IiLCAiTWFwIiwgImZpbmFsaXplZCIsICJwcm9wcyIsICJwcm9wZXJ0aWVzIiwgInByb3BLZXlzIiwgInAiLCAiY3JlYXRlUHJvcGVydHkiLCAiYXR0ciIsICJfX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eSIsICJlbGVtZW50U3R5bGVzIiwgImZpbmFsaXplU3R5bGVzIiwgInN0eWxlcyIsICJpc0FycmF5IiwgIlNldCIsICJmbGF0IiwgIkluZmluaXR5IiwgInJldmVyc2UiLCAicyIsICJ1bnNoaWZ0IiwgImdldENvbXBhdGlibGVTdHlsZSIsICJ0b0xvd2VyQ2FzZSIsICJjb25zdHJ1Y3RvciIsICJzdXBlciIsICJfX2luc3RhbmNlUHJvcGVydGllcyIsICJpc1VwZGF0ZVBlbmRpbmciLCAiaGFzVXBkYXRlZCIsICJfX3JlZmxlY3RpbmdQcm9wZXJ0eSIsICJfX2luaXRpYWxpemUiLCAiX191cGRhdGVQcm9taXNlIiwgIlByb21pc2UiLCAicmVzIiwgImVuYWJsZVVwZGF0aW5nIiwgIl8kY2hhbmdlZFByb3BlcnRpZXMiLCAiX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzIiwgImZvckVhY2giLCAiaSIsICJjb250cm9sbGVyIiwgIl9fY29udHJvbGxlcnMiLCAiYWRkIiwgInJlbmRlclJvb3QiLCAiaXNDb25uZWN0ZWQiLCAiaG9zdENvbm5lY3RlZCIsICJkZWxldGUiLCAiaW5zdGFuY2VQcm9wZXJ0aWVzIiwgInNpemUiLCAiY3JlYXRlUmVuZGVyUm9vdCIsICJzaGFkb3dSb290IiwgImF0dGFjaFNoYWRvdyIsICJzaGFkb3dSb290T3B0aW9ucyIsICJhZG9wdFN0eWxlcyIsICJjb25uZWN0ZWRDYWxsYmFjayIsICJjIiwgIl9yZXF1ZXN0ZWRVcGRhdGUiLCAiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCAiaG9zdERpc2Nvbm5lY3RlZCIsICJfb2xkIiwgIl8kYXR0cmlidXRlVG9Qcm9wZXJ0eSIsICJhdHRyVmFsdWUiLCAidG9BdHRyaWJ1dGUiLCAicmVtb3ZlQXR0cmlidXRlIiwgInNldEF0dHJpYnV0ZSIsICJjdG9yIiwgInByb3BOYW1lIiwgImdldFByb3BlcnR5T3B0aW9ucyIsICJmcm9tQXR0cmlidXRlIiwgIl8kY2hhbmdlUHJvcGVydHkiLCAiX19lbnF1ZXVlVXBkYXRlIiwgImhhcyIsICJfX3JlZmxlY3RpbmdQcm9wZXJ0aWVzIiwgInJlamVjdCIsICJyZXN1bHQiLCAic2NoZWR1bGVVcGRhdGUiLCAicGVyZm9ybVVwZGF0ZSIsICJ3cmFwcGVkIiwgInNob3VsZFVwZGF0ZSIsICJjaGFuZ2VkUHJvcGVydGllcyIsICJ3aWxsVXBkYXRlIiwgImhvc3RVcGRhdGUiLCAidXBkYXRlIiwgIl9fbWFya1VwZGF0ZWQiLCAiXyRkaWRVcGRhdGUiLCAiX2NoYW5nZWRQcm9wZXJ0aWVzIiwgImhvc3RVcGRhdGVkIiwgImZpcnN0VXBkYXRlZCIsICJ1cGRhdGVkIiwgInVwZGF0ZUNvbXBsZXRlIiwgImdldFVwZGF0ZUNvbXBsZXRlIiwgIl9fcHJvcGVydHlUb0F0dHJpYnV0ZSIsICJtb2RlIiwgInJlYWN0aXZlRWxlbWVudFZlcnNpb25zIiwgImdsb2JhbCIsICJnbG9iYWxUaGlzIiwgInRydXN0ZWRUeXBlcyIsICJwb2xpY3kiLCAiY3JlYXRlUG9saWN5IiwgImNyZWF0ZUhUTUwiLCAicyIsICJib3VuZEF0dHJpYnV0ZVN1ZmZpeCIsICJtYXJrZXIiLCAiTWF0aCIsICJyYW5kb20iLCAiU3RyaW5nIiwgInNsaWNlIiwgIm1hcmtlck1hdGNoIiwgIm5vZGVNYXJrZXIiLCAiZCIsICJkb2N1bWVudCIsICJjcmVhdGVNYXJrZXIiLCAiY3JlYXRlQ29tbWVudCIsICJpc1ByaW1pdGl2ZSIsICJ2YWx1ZSIsICJpc0FycmF5IiwgIkFycmF5IiwgImlzSXRlcmFibGUiLCAiU3ltYm9sIiwgIml0ZXJhdG9yIiwgIlNQQUNFX0NIQVIiLCAidGV4dEVuZFJlZ2V4IiwgImNvbW1lbnRFbmRSZWdleCIsICJjb21tZW50MkVuZFJlZ2V4IiwgInRhZ0VuZFJlZ2V4IiwgIlJlZ0V4cCIsICJzaW5nbGVRdW90ZUF0dHJFbmRSZWdleCIsICJkb3VibGVRdW90ZUF0dHJFbmRSZWdleCIsICJyYXdUZXh0RWxlbWVudCIsICJ0YWciLCAidHlwZSIsICJzdHJpbmdzIiwgInZhbHVlcyIsICJfJGxpdFR5cGUkIiwgImh0bWwiLCAic3ZnIiwgIm5vQ2hhbmdlIiwgImZvciIsICJub3RoaW5nIiwgInRlbXBsYXRlQ2FjaGUiLCAiV2Vha01hcCIsICJ3YWxrZXIiLCAiY3JlYXRlVHJlZVdhbGtlciIsICJ0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyIsICJ0c2EiLCAic3RyaW5nRnJvbVRTQSIsICJoYXNPd25Qcm9wZXJ0eSIsICJFcnJvciIsICJnZXRUZW1wbGF0ZUh0bWwiLCAibCIsICJsZW5ndGgiLCAiYXR0ck5hbWVzIiwgInJhd1RleHRFbmRSZWdleCIsICJyZWdleCIsICJpIiwgImF0dHJOYW1lIiwgIm1hdGNoIiwgImF0dHJOYW1lRW5kSW5kZXgiLCAibGFzdEluZGV4IiwgImV4ZWMiLCAidGVzdCIsICJlbmQiLCAic3RhcnRzV2l0aCIsICJwdXNoIiwgIlRlbXBsYXRlIiwgImNvbnN0cnVjdG9yIiwgIm9wdGlvbnMiLCAibm9kZSIsICJ0aGlzIiwgInBhcnRzIiwgIm5vZGVJbmRleCIsICJhdHRyTmFtZUluZGV4IiwgInBhcnRDb3VudCIsICJlbCIsICJjcmVhdGVFbGVtZW50IiwgImN1cnJlbnROb2RlIiwgImNvbnRlbnQiLCAic3ZnRWxlbWVudCIsICJmaXJzdENoaWxkIiwgInJlcGxhY2VXaXRoIiwgImNoaWxkTm9kZXMiLCAibmV4dE5vZGUiLCAibm9kZVR5cGUiLCAiaGFzQXR0cmlidXRlcyIsICJuYW1lIiwgImdldEF0dHJpYnV0ZU5hbWVzIiwgImVuZHNXaXRoIiwgInJlYWxOYW1lIiwgInN0YXRpY3MiLCAiZ2V0QXR0cmlidXRlIiwgInNwbGl0IiwgIm0iLCAiaW5kZXgiLCAiY3RvciIsICJQcm9wZXJ0eVBhcnQiLCAiQm9vbGVhbkF0dHJpYnV0ZVBhcnQiLCAiRXZlbnRQYXJ0IiwgIkF0dHJpYnV0ZVBhcnQiLCAicmVtb3ZlQXR0cmlidXRlIiwgInRhZ05hbWUiLCAidGV4dENvbnRlbnQiLCAiZW1wdHlTY3JpcHQiLCAiYXBwZW5kIiwgImRhdGEiLCAiaW5kZXhPZiIsICJfb3B0aW9ucyIsICJpbm5lckhUTUwiLCAicmVzb2x2ZURpcmVjdGl2ZSIsICJwYXJ0IiwgInBhcmVudCIsICJhdHRyaWJ1dGVJbmRleCIsICJjdXJyZW50RGlyZWN0aXZlIiwgIl9fZGlyZWN0aXZlcyIsICJfX2RpcmVjdGl2ZSIsICJuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IiLCAiXyRpbml0aWFsaXplIiwgIl8kcmVzb2x2ZSIsICJUZW1wbGF0ZUluc3RhbmNlIiwgInRlbXBsYXRlIiwgIl8kcGFydHMiLCAiXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuIiwgIl8kdGVtcGxhdGUiLCAiXyRwYXJlbnQiLCAicGFyZW50Tm9kZSIsICJfJGlzQ29ubmVjdGVkIiwgImZyYWdtZW50IiwgImNyZWF0aW9uU2NvcGUiLCAiaW1wb3J0Tm9kZSIsICJwYXJ0SW5kZXgiLCAidGVtcGxhdGVQYXJ0IiwgIkNoaWxkUGFydCIsICJuZXh0U2libGluZyIsICJFbGVtZW50UGFydCIsICJfJHNldFZhbHVlIiwgIl9faXNDb25uZWN0ZWQiLCAic3RhcnROb2RlIiwgImVuZE5vZGUiLCAiXyRjb21taXR0ZWRWYWx1ZSIsICJfJHN0YXJ0Tm9kZSIsICJfJGVuZE5vZGUiLCAiaXNDb25uZWN0ZWQiLCAiZGlyZWN0aXZlUGFyZW50IiwgIl8kY2xlYXIiLCAiX2NvbW1pdFRleHQiLCAiX2NvbW1pdFRlbXBsYXRlUmVzdWx0IiwgIl9jb21taXROb2RlIiwgIl9jb21taXRJdGVyYWJsZSIsICJpbnNlcnRCZWZvcmUiLCAiX2luc2VydCIsICJjcmVhdGVUZXh0Tm9kZSIsICJyZXN1bHQiLCAiXyRnZXRUZW1wbGF0ZSIsICJoIiwgIl91cGRhdGUiLCAiaW5zdGFuY2UiLCAiX2Nsb25lIiwgImdldCIsICJzZXQiLCAiaXRlbVBhcnRzIiwgIml0ZW1QYXJ0IiwgIml0ZW0iLCAic3RhcnQiLCAiZnJvbSIsICJfJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkIiwgIm4iLCAicmVtb3ZlIiwgImVsZW1lbnQiLCAiZmlsbCIsICJ2YWx1ZUluZGV4IiwgIm5vQ29tbWl0IiwgImNoYW5nZSIsICJ2IiwgIl9jb21taXRWYWx1ZSIsICJzZXRBdHRyaWJ1dGUiLCAidG9nZ2xlQXR0cmlidXRlIiwgInN1cGVyIiwgIm5ld0xpc3RlbmVyIiwgIm9sZExpc3RlbmVyIiwgInNob3VsZFJlbW92ZUxpc3RlbmVyIiwgImNhcHR1cmUiLCAib25jZSIsICJwYXNzaXZlIiwgInNob3VsZEFkZExpc3RlbmVyIiwgInJlbW92ZUV2ZW50TGlzdGVuZXIiLCAiYWRkRXZlbnRMaXN0ZW5lciIsICJldmVudCIsICJjYWxsIiwgImhvc3QiLCAiaGFuZGxlRXZlbnQiLCAiXyRMSCIsICJfYm91bmRBdHRyaWJ1dGVTdWZmaXgiLCAiX21hcmtlciIsICJfbWFya2VyTWF0Y2giLCAiX0hUTUxfUkVTVUxUIiwgIl9nZXRUZW1wbGF0ZUh0bWwiLCAiX1RlbXBsYXRlSW5zdGFuY2UiLCAiX2lzSXRlcmFibGUiLCAiX3Jlc29sdmVEaXJlY3RpdmUiLCAiX0NoaWxkUGFydCIsICJfQXR0cmlidXRlUGFydCIsICJfQm9vbGVhbkF0dHJpYnV0ZVBhcnQiLCAiX0V2ZW50UGFydCIsICJfUHJvcGVydHlQYXJ0IiwgIl9FbGVtZW50UGFydCIsICJwb2x5ZmlsbFN1cHBvcnQiLCAibGl0SHRtbFBvbHlmaWxsU3VwcG9ydCIsICJsaXRIdG1sVmVyc2lvbnMiLCAicmVuZGVyIiwgImNvbnRhaW5lciIsICJwYXJ0T3duZXJOb2RlIiwgInJlbmRlckJlZm9yZSIsICJMaXRFbGVtZW50IiwgIlJlYWN0aXZlRWxlbWVudCIsICJjb25zdHJ1Y3RvciIsICJ0aGlzIiwgInJlbmRlck9wdGlvbnMiLCAiaG9zdCIsICJfX2NoaWxkUGFydCIsICJjcmVhdGVSZW5kZXJSb290IiwgInJlbmRlclJvb3QiLCAic3VwZXIiLCAicmVuZGVyQmVmb3JlIiwgImZpcnN0Q2hpbGQiLCAiY2hhbmdlZFByb3BlcnRpZXMiLCAidmFsdWUiLCAicmVuZGVyIiwgImhhc1VwZGF0ZWQiLCAiaXNDb25uZWN0ZWQiLCAidXBkYXRlIiwgImNvbm5lY3RlZENhbGxiYWNrIiwgInNldENvbm5lY3RlZCIsICJkaXNjb25uZWN0ZWRDYWxsYmFjayIsICJub0NoYW5nZSIsICJnbG9iYWxUaGlzIiwgImxpdEVsZW1lbnRIeWRyYXRlU3VwcG9ydCIsICJwb2x5ZmlsbFN1cHBvcnQiLCAibGl0RWxlbWVudFBvbHlmaWxsU3VwcG9ydCIsICJnbG9iYWxUaGlzIiwgImxpdEVsZW1lbnRWZXJzaW9ucyIsICJwdXNoIiwgInRyYW5zbGF0aW9uIiwgInQiLCAiX2EiLCAiX2IiLCAiTG9jYWxpemVDb250cm9sbGVyIiwgIl9fZGVmUHJvcCIsICJfX2dldE93blByb3BEZXNjIiwgIl9faGFzT3duUHJvcCIsICJfX2RlZlByb3AiLCAiYSIsICJiIiwgIl9faGFzT3duUHJvcCIsICJfX2dldE93blByb3BEZXNjIiwgImkiLCAiZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24iLCAiYXR0cmlidXRlIiwgInR5cGUiLCAiU3RyaW5nIiwgImNvbnZlcnRlciIsICJkZWZhdWx0Q29udmVydGVyIiwgInJlZmxlY3QiLCAiaGFzQ2hhbmdlZCIsICJub3RFcXVhbCIsICJzdGFuZGFyZFByb3BlcnR5IiwgIm9wdGlvbnMiLCAidGFyZ2V0IiwgImNvbnRleHQiLCAia2luZCIsICJtZXRhZGF0YSIsICJwcm9wZXJ0aWVzIiwgImdsb2JhbFRoaXMiLCAibGl0UHJvcGVydHlNZXRhZGF0YSIsICJnZXQiLCAic2V0IiwgIk1hcCIsICJuYW1lIiwgInYiLCAib2xkVmFsdWUiLCAiY2FsbCIsICJ0aGlzIiwgInJlcXVlc3RVcGRhdGUiLCAiXyRjaGFuZ2VQcm9wZXJ0eSIsICJ2YWx1ZSIsICJFcnJvciIsICJwcm9wZXJ0eSIsICJwcm90b09yVGFyZ2V0IiwgIm5hbWVPckNvbnRleHQiLCAicHJvdG8iLCAiaGFzT3duUHJvcGVydHkiLCAiY29uc3RydWN0b3IiLCAiY3JlYXRlUHJvcGVydHkiLCAid3JhcHBlZCIsICJPYmplY3QiLCAiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwgInN0YXRlIiwgIm9wdGlvbnMiLCAicHJvcGVydHkiLCAiYXR0cmlidXRlIiwgImV2ZW50T3B0aW9ucyIsICJvcHRpb25zIiwgInByb3RvT3JWYWx1ZSIsICJuYW1lT3JDb250ZXh0IiwgIm1ldGhvZCIsICJPYmplY3QiLCAiYXNzaWduIiwgImRlc2MiLCAib2JqIiwgIm5hbWUiLCAiZGVzY3JpcHRvciIsICJjb25maWd1cmFibGUiLCAiZW51bWVyYWJsZSIsICJSZWZsZWN0IiwgImRlY29yYXRlIiwgIk9iamVjdCIsICJkZWZpbmVQcm9wZXJ0eSIsICJxdWVyeSIsICJzZWxlY3RvciIsICJjYWNoZSIsICJwcm90b09yVGFyZ2V0IiwgIm5hbWVPckNvbnRleHQiLCAiZGVzY3JpcHRvciIsICJkb1F1ZXJ5IiwgImVsIiwgInJlbmRlclJvb3QiLCAicXVlcnlTZWxlY3RvciIsICJnZXQiLCAic2V0IiwgImtleSIsICJTeW1ib2wiLCAidGhpcyIsICJ2IiwgImRlc2MiLCAicmVzdWx0IiwgImNhbGwiLCAiaGFzVXBkYXRlZCIsICJzIiwgIm4iLCAiTG9jYWxpemVDb250cm9sbGVyIiwgIl9hIiwgInMiLCAidXBkYXRlIiwgIl9DaGlsZFBhcnQiLCAiQ2hpbGRQYXJ0IiwgIl8kTEgiLCAiaXNUZW1wbGF0ZVJlc3VsdCIsICJ2YWx1ZSIsICJ0eXBlIiwgImlzU2luZ2xlRXhwcmVzc2lvbiIsICJwYXJ0IiwgInN0cmluZ3MiLCAiUkVTRVRfVkFMVUUiLCAic2V0Q29tbWl0dGVkVmFsdWUiLCAicGFydCIsICJ2YWx1ZSIsICJfJGNvbW1pdHRlZFZhbHVlIiwgImxpYnJhcnkiLCAiX2EiLCAiZSIsICJyIiwgIm4iLCAiUGFydFR5cGUiLCAiQVRUUklCVVRFIiwgIkNISUxEIiwgIlBST1BFUlRZIiwgIkJPT0xFQU5fQVRUUklCVVRFIiwgIkVWRU5UIiwgIkVMRU1FTlQiLCAiZGlyZWN0aXZlIiwgImMiLCAidmFsdWVzIiwgIl8kbGl0RGlyZWN0aXZlJCIsICJEaXJlY3RpdmUiLCAiX3BhcnRJbmZvIiwgIl8kaXNDb25uZWN0ZWQiLCAidGhpcyIsICJfJHBhcmVudCIsICJwYXJ0IiwgInBhcmVudCIsICJhdHRyaWJ1dGVJbmRleCIsICJfX3BhcnQiLCAiX19hdHRyaWJ1dGVJbmRleCIsICJwcm9wcyIsICJ1cGRhdGUiLCAiX3BhcnQiLCAicmVuZGVyIiwgImNsYXNzTWFwIiwgImRpcmVjdGl2ZSIsICJEaXJlY3RpdmUiLCAicGFydEluZm8iLCAic3VwZXIiLCAidHlwZSIsICJQYXJ0VHlwZSIsICJBVFRSSUJVVEUiLCAibmFtZSIsICJzdHJpbmdzIiwgImxlbmd0aCIsICJFcnJvciIsICJjbGFzc0luZm8iLCAiT2JqZWN0IiwgImtleXMiLCAiZmlsdGVyIiwgImtleSIsICJqb2luIiwgInBhcnQiLCAidGhpcyIsICJfcHJldmlvdXNDbGFzc2VzIiwgIlNldCIsICJfc3RhdGljQ2xhc3NlcyIsICJzcGxpdCIsICJzIiwgImhhcyIsICJhZGQiLCAicmVuZGVyIiwgImNsYXNzTGlzdCIsICJlbGVtZW50IiwgInJlbW92ZSIsICJkZWxldGUiLCAidmFsdWUiLCAibm9DaGFuZ2UiLCAiYnJhbmQiLCAiU3ltYm9sIiwgImZvciIsICJ1bndyYXBTdGF0aWNWYWx1ZSIsICJ2YWx1ZSIsICJyIiwgImxpdGVyYWwiLCAic3RyaW5ncyIsICJ2YWx1ZXMiLCAiXyRsaXRTdGF0aWMkIiwgInJlZHVjZSIsICJhY2MiLCAidiIsICJpZHgiLCAidmFsdWUiLCAiRXJyb3IiLCAiciIsICJicmFuZCIsICJzdHJpbmdzQ2FjaGUiLCAiTWFwIiwgIndpdGhTdGF0aWMiLCAiY29yZVRhZyIsICJsIiwgImxlbmd0aCIsICJzdGF0aWNWYWx1ZSIsICJkeW5hbWljVmFsdWUiLCAic3RhdGljU3RyaW5ncyIsICJkeW5hbWljVmFsdWVzIiwgInMiLCAiaSIsICJoYXNTdGF0aWNzIiwgInVud3JhcFN0YXRpY1ZhbHVlIiwgInB1c2giLCAia2V5IiwgImpvaW4iLCAiZ2V0IiwgInJhdyIsICJzZXQiLCAiaHRtbCIsICJjb3JlSHRtbCIsICJzdmciLCAiY29yZVN2ZyIsICJpZkRlZmluZWQiLCAidmFsdWUiLCAibm90aGluZyIsICJMb2NhbGl6ZUNvbnRyb2xsZXIiLCAicyIsICJuIiwgImUiLCAibyIsICJyIiwgIl9hIiwgIl9iIiwgImUiLCAiYSIsICJiIiwgInYiLCAicGxhdGZvcm0iLCAieCIsICJ5IiwgImkiLCAibWF4IiwgIm9mZnNldCIsICJwbGF0Zm9ybSIsICJwbGFjZW1lbnRzIiwgInNpZGVzIiwgInNpZGUiLCAiZCIsICJhIiwgImIiLCAicGxhY2VtZW50IiwgIm92ZXJmbG93IiwgInBsYXRmb3JtIiwgIngiLCAieSIsICJtaW4iLCAibWF4IiwgInBsYXRmb3JtIiwgImdldENvbXB1dGVkU3R5bGUiLCAiZ2V0Q29tcHV0ZWRTdHlsZSIsICIkIiwgIngiLCAieSIsICJlIiwgIndpbmRvdyIsICJ1cGRhdGUiLCAic2hpZnQiLCAiZmxpcCIsICJzaXplIiwgImFycm93IiwgImNvbXB1dGVQb3NpdGlvbiIsICJ0IiwgInIiLCAibyIsICJ0IiwgInIiLCAiZSIsICJlIiwgInNpemUiLCAiZmxpcCIsICJzaGlmdCIsICJhcnJvdyIsICJnZXRPZmZzZXRQYXJlbnQiLCAidCIsICJjb21wdXRlUG9zaXRpb24iLCAieCIsICJ5IiwgIm4iLCAicCIsICJMb2NhbGl6ZUNvbnRyb2xsZXIiLCAiX2EiLCAiX2EyIiwgIl9iIiwgIm8iLCAiZSIsICJuIiwgIl9hIiwgImxpdmUiLCAiZGlyZWN0aXZlIiwgIkRpcmVjdGl2ZSIsICJwYXJ0SW5mbyIsICJzdXBlciIsICJ0eXBlIiwgIlBhcnRUeXBlIiwgIlBST1BFUlRZIiwgIkFUVFJJQlVURSIsICJCT09MRUFOX0FUVFJJQlVURSIsICJFcnJvciIsICJpc1NpbmdsZUV4cHJlc3Npb24iLCAidmFsdWUiLCAicGFydCIsICJub0NoYW5nZSIsICJub3RoaW5nIiwgImVsZW1lbnQiLCAibmFtZSIsICJoYXNBdHRyaWJ1dGUiLCAiZ2V0QXR0cmlidXRlIiwgIlN0cmluZyIsICJzZXRDb21taXR0ZWRWYWx1ZSIsICJMb2NhbGl6ZUNvbnRyb2xsZXIiLCAiX2EiLCAiZSIsICJvIiwgImwiLCAiciIsICJuIiwgImNsYW1wIiwgIm1pbiIsICJtYXgiLCAibiIsICJpbXBvcnRhbnQiLCAiaW1wb3J0YW50RmxhZyIsICJzdHlsZU1hcCIsICJkaXJlY3RpdmUiLCAiRGlyZWN0aXZlIiwgInBhcnRJbmZvIiwgInN1cGVyIiwgInR5cGUiLCAiUGFydFR5cGUiLCAiQVRUUklCVVRFIiwgIm5hbWUiLCAic3RyaW5ncyIsICJsZW5ndGgiLCAiRXJyb3IiLCAic3R5bGVJbmZvIiwgIk9iamVjdCIsICJrZXlzIiwgInJlZHVjZSIsICJzdHlsZSIsICJwcm9wIiwgInZhbHVlIiwgImluY2x1ZGVzIiwgInJlcGxhY2UiLCAidG9Mb3dlckNhc2UiLCAicGFydCIsICJlbGVtZW50IiwgInRoaXMiLCAiX3ByZXZpb3VzU3R5bGVQcm9wZXJ0aWVzIiwgIlNldCIsICJyZW5kZXIiLCAiZGVsZXRlIiwgInJlbW92ZVByb3BlcnR5IiwgImFkZCIsICJpc0ltcG9ydGFudCIsICJlbmRzV2l0aCIsICJzZXRQcm9wZXJ0eSIsICJzbGljZSIsICJub0NoYW5nZSIsICJVbnNhZmVIVE1MRGlyZWN0aXZlIiwgIkRpcmVjdGl2ZSIsICJwYXJ0SW5mbyIsICJzdXBlciIsICJ0aGlzIiwgIl92YWx1ZSIsICJub3RoaW5nIiwgInR5cGUiLCAiUGFydFR5cGUiLCAiQ0hJTEQiLCAiRXJyb3IiLCAiY29uc3RydWN0b3IiLCAiZGlyZWN0aXZlTmFtZSIsICJ2YWx1ZSIsICJfdGVtcGxhdGVSZXN1bHQiLCAibm9DaGFuZ2UiLCAic3RyaW5ncyIsICJyYXciLCAiXyRsaXRUeXBlJCIsICJyZXN1bHRUeXBlIiwgInZhbHVlcyIsICJ1bnNhZmVIVE1MIiwgImRpcmVjdGl2ZSIsICJMb2NhbGl6ZUNvbnRyb2xsZXIiLCAiY2xhbXAiLCAiZSIsICJvIiwgInIiLCAibiIsICJ0IiwgIm9mZnNldCIsICJzIiwgIm4iLCAiZSIsICJvIiwgInIiLCAiTG9jYWxpemVDb250cm9sbGVyIiwgIm0iLCAiX2EiLCAidCIsICJvZmZzZXQiLCAiZSIsICJyIiwgIm4iLCAiZSIsICJuIiwgImlkIiwgIkxvY2FsaXplQ29udHJvbGxlciIsICJlIiwgIm4iLCAiaW1wb3J0X29ic2lkaWFuIiwgIl9hIiwgInQiLCAiZG9jdW1lbnQiLCAibiIsICJhIiwgImIiLCAiaSIsICJpZCIsICJrZXlzIiwgIm1pbiIsICJzMiIsICJtIiwgImoiLCAidDIiLCAiaWQiLCAibiIsICJuZXh0X25vZGUiLCAiaSIsICJ0IiwgIl9hIiwgImxlYWYiLCAidmlld19zdGF0ZSJdCn0K
